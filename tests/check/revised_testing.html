<!DOCTYPE html>
<html>
    <head>
		<meta http-equiv="Content-type" content="text/html;charset=UTF-8">
        <title>3Dmol.js Tests</title>
        

        <style>
        body{
        	margin:0px;
        }
        #right,#left{
        	border:1px solid black;
        }
        #right img{
        	display: block;
    		margin-left: auto;
    		margin-right: auto;
        }
        #right li{
        	width:100%;
        	list-style:none;
        }
        #right li:hover{
        	background-color:black;
        	opacity:.5;
        }
        #left{
        	position:fixed;
        	width:50%;
        	height:100vh;
        	top:0%;
        	left:0%;
        }
        </style>
    </head>
    <body>

        <script src="../../build/3Dmol.js"></script> 
    	<table width=100% height=100%><tr><td width=50%>
			<div id="left">
              	<script id="script"></script>
              	<div id="test" style="width: 400px; height: 400px; position: relative;">
        	</div>
        	</td><td width=50%>
        		<div id="right">
        		</div>
        	</td></tr></table>
         <script>
         var test_count=60;
         var previous_script="test";
         var right = document.getElementById("right");
         for(var i=1;i<=test_count;i++){
         	//creates the list element
         	var li = document.createElement("li");


         	//loads the title
         	var title = document.createElement("h4");

         	title.align="center";

         	var text= document.createTextNode("Test "+i);

         	title.appendChild(text);

         	li.appendChild(title)
         	//loads the image
         	var img = document.createElement("img");
         	img.id = "test"+i;
         	img.src = "imgs/test"+i+".png";
         	img.ondragstart = function() { return false;}
         	li.appendChild(img);

         	li.addEventListener("click",function(e){

         		var script="";
				$("#divId").load(e.currentTarget.childNodes[1].id+".html");
				var scripts=$("#divId script");

				for(var i=0;i<scripts.length;i++){
					script+=scripts[i].text;
				}

				var new_script= document.getElementById("script");

				new_script.innerHTML=script;

				document.getElementById(previous_script).id=e.currentTarget.childNodes[1].id;

         		previous_script=e.currentTarget.childNodes[1].id;


         	});
         	right.appendChild(li);
				
         }
         

         </script>
        <div id="divId" style="display:none;"></div>
    </body>
</html>
