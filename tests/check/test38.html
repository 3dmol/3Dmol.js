<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-type" content="text/html;charset=UTF-8">
    <script src="../../build/3Dmol.js"></script>
    <style>
      table td { text-align: center; }
      table th {padding-top: 1em;}
    </style>
  </head>

  <body>
    <script>
      $(document).ready(function() {
          //install a right-click handler on every canvas to export png
          $('canvas').bind('contextmenu',function(e) {
              var dt = e.currentTarget.toDataURL('image/png');
              window.location = dt;
          });
        });
    </script>

    <table width="100%">
      <tr>
        <td colspan=2 height=200px>
          38 addModelsAsFrames from pdb and animate <code>pdb, click button to start/stop</code>
        </td>
      </tr>
      <tr>
        <td width="50%"> 
    <input onclick="toggleAnimation()" type ="button" value ="Stop Animation" id="button"></input>
<div id="test38" style="width: 400px; height: 400px; position: relative;"></div>
        </td>
        <script>
        
          var viewer = $3Dmol.createViewer($("#test38"));
          
          function test(callback) {
              
              $3Dmol.download("pdb:1MO8",viewer,{multimodel:true, frames:true},function(){
                  viewer.setBackgroundColor(0xffffffff);
                  viewer.setStyle({}, {cartoon:{color:"spectrum"}});
                  viewer.animate({loop:"backward"});
                  viewer.render(callback);  
                  
              });
          }
          
          function toggleAnimation() {
                var button = document.getElementById("button");
                if (button.value == "Stop Animation") {
                    button.value = "Start Animation";
                    viewer.stopAnimate();
                } else {
                    button.value = "Stop Animation";
                    viewer.animate({loop:"backward"});
                }
           }
          test();
        </script>
        <td width="50%"><img src="imgs/test38.png"></td>
      </tr>
    </table>

  </body>
</html>