(function(a,c){function e(b){var h=b.length,a=d.type(b);return d.isWindow(b)?!1:1===b.nodeType&&h?!0:"array"===a||"function"!==a&&(0===h||"number"===typeof h&&0<h&&h-1 in b)}function f(b){var h=Za[b]={};d.each(b.match(aa)||[],function(b,d){h[d]=!0});return h}function l(b,h,a,g){if(d.acceptData(b)){var r=d.expando,m="string"===typeof h,D=b.nodeType,e=D?d.cache:b,f=D?b[r]:b[r]&&r;if(f&&e[f]&&(g||e[f].data)||!m||a!==c){f||(D?b[r]=f=z.pop()||d.guid++:f=r);e[f]||(e[f]={},D||(e[f].toJSON=d.noop));if("object"===
typeof h||"function"===typeof h)g?e[f]=d.extend(e[f],h):e[f].data=d.extend(e[f].data,h);b=e[f];g||(b.data||(b.data={}),b=b.data);a!==c&&(b[d.camelCase(h)]=a);m?(a=b[h],null==a&&(a=b[d.camelCase(h)])):a=b;return a}}}function q(b,h,a){if(d.acceptData(b)){var g,c,m,D=b.nodeType,e=D?d.cache:b,f=D?b[d.expando]:d.expando;if(e[f]){if(h&&(m=a?e[f]:e[f].data)){d.isArray(h)?h=h.concat(d.map(h,d.camelCase)):h in m?h=[h]:(h=d.camelCase(h),h=h in m?[h]:h.split(" "));g=0;for(c=h.length;g<c;g++)delete m[h[g]];if(!(a?
n:d.isEmptyObject)(m))return}if(!a&&(delete e[f].data,!n(e[f])))return;D?d.cleanData([b],!0):d.support.deleteExpando||e!=e.window?delete e[f]:e[f]=null}}}function p(b,h,a){if(a===c&&1===b.nodeType)if(a="data-"+h.replace(xb,"-$1").toLowerCase(),a=b.getAttribute(a),"string"===typeof a){try{a="true"===a?!0:"false"===a?!1:"null"===a?null:+a+""===a?+a:yb.test(a)?d.parseJSON(a):a}catch(g){}d.data(b,h,a)}else a=c;return a}function n(b){for(var h in b)if(("data"!==h||!d.isEmptyObject(b[h]))&&"toJSON"!==h)return!1;
return!0}function v(){return!0}function x(){return!1}function A(b,h){do b=b[h];while(b&&1!==b.nodeType);return b}function J(b,h,a){h=h||0;if(d.isFunction(h))return d.grep(b,function(b,d){return!!h.call(b,d,b)===a});if(h.nodeType)return d.grep(b,function(b){return b===h===a});if("string"===typeof h){var g=d.grep(b,function(b){return 1===b.nodeType});if(zb.test(h))return d.filter(h,g,!a);h=d.filter(h,g)}return d.grep(b,function(b){return 0<=d.inArray(b,h)===a})}function F(b){var h=$a.split("|");b=b.createDocumentFragment();
if(b.createElement)for(;h.length;)b.createElement(h.pop());return b}function C(b,h){return b.getElementsByTagName(h)[0]||b.appendChild(b.ownerDocument.createElement(h))}function G(b){var h=b.getAttributeNode("type");b.type=(h&&h.specified)+"/"+b.type;return b}function y(b){var h=Ab.exec(b.type);h?b.type=h[1]:b.removeAttribute("type");return b}function t(b,h){for(var a,g=0;null!=(a=b[g]);g++)d._data(a,"globalEval",!h||d._data(h[g],"globalEval"))}function B(b,h){if(1===h.nodeType&&d.hasData(b)){var a,
g,c;g=d._data(b);var m=d._data(h,g),D=g.events;if(D)for(a in delete m.handle,m.events={},D)for(g=0,c=D[a].length;g<c;g++)d.event.add(h,a,D[a][g]);m.data&&(m.data=d.extend({},m.data))}}function u(b,h){var a,g,r=0,m=typeof b.getElementsByTagName!==k?b.getElementsByTagName(h||"*"):typeof b.querySelectorAll!==k?b.querySelectorAll(h||"*"):c;if(!m)for(m=[],a=b.childNodes||b;null!=(g=a[r]);r++)!h||d.nodeName(g,h)?m.push(g):d.merge(m,u(g,h));return h===c||h&&d.nodeName(b,h)?d.merge([b],m):m}function K(b){Ma.test(b.type)&&
(b.defaultChecked=b.checked)}function S(b,h){if(h in b)return h;for(var a=h.charAt(0).toUpperCase()+h.slice(1),d=h,c=ab.length;c--;)if(h=ab[c]+a,h in b)return h;return d}function N(b,h){b=h||b;return"none"===d.css(b,"display")||!d.contains(b.ownerDocument,b)}function O(b,h){for(var a,g,c,m=[],D=0,e=b.length;D<e;D++)g=b[D],g.style&&(m[D]=d._data(g,"olddisplay"),a=g.style.display,h?(m[D]||"none"!==a||(g.style.display=""),""===g.style.display&&N(g)&&(m[D]=d._data(g,"olddisplay",P(g.nodeName)))):m[D]||
(c=N(g),(a&&"none"!==a||!c)&&d._data(g,"olddisplay",c?a:d.css(g,"display"))));for(D=0;D<e;D++)g=b[D],!g.style||h&&"none"!==g.style.display&&""!==g.style.display||(g.style.display=h?m[D]||"":"none");return b}function H(b,h,a){return(b=Bb.exec(h))?Math.max(0,b[1]-(a||0))+(b[2]||"px"):h}function w(b,h,a,g,c){h=a===(g?"border":"content")?4:"width"===h?1:0;for(var m=0;4>h;h+=2)"margin"===a&&(m+=d.css(b,a+ha[h],!0,c)),g?("content"===a&&(m-=d.css(b,"padding"+ha[h],!0,c)),"margin"!==a&&(m-=d.css(b,"border"+
ha[h]+"Width",!0,c))):(m+=d.css(b,"padding"+ha[h],!0,c),"padding"!==a&&(m+=d.css(b,"border"+ha[h]+"Width",!0,c)));return m}function L(b,h,a){var g=!0,c="width"===h?b.offsetWidth:b.offsetHeight,m=ia(b),D=d.support.boxSizing&&"border-box"===d.css(b,"boxSizing",!1,m);if(0>=c||null==c){c=na(b,h,m);if(0>c||null==c)c=b.style[h];if(Ea.test(c))return c;g=D&&(d.support.boxSizingReliable||c===b.style[h]);c=parseFloat(c)||0}return c+w(b,h,a||(D?"border":"content"),g,m)+"px"}function P(b){var h=E,a=bb[b];a||
(a=$(b,h),"none"!==a&&a||(Aa=(Aa||d("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(h.documentElement),h=(Aa[0].contentWindow||Aa[0].contentDocument).document,h.write("<!doctype html><html><body>"),h.close(),a=$(b,h),Aa.detach()),bb[b]=a);return a}function $(b,h){var a=d(h.createElement(b)).appendTo(h.body),g=d.css(a[0],"display");a.remove();return g}function V(b,h,a,g){var c;if(d.isArray(h))d.each(h,function(h,d){a||Cb.test(b)?g(b,d):V(b+"["+
("object"===typeof d?h:"")+"]",d,a,g)});else if(a||"object"!==d.type(h))g(b,h);else for(c in h)V(b+"["+c+"]",h[c],a,g)}function M(b){return function(h,a){"string"!==typeof h&&(a=h,h="*");var c,r=0,m=h.toLowerCase().match(aa)||[];if(d.isFunction(a))for(;c=m[r++];)"+"===c[0]?(c=c.slice(1)||"*",(b[c]=b[c]||[]).unshift(a)):(b[c]=b[c]||[]).push(a)}}function W(b,h,a,c){function r(e){var f;m[e]=!0;d.each(b[e]||[],function(b,d){var e=d(h,a,c);if("string"===typeof e&&!D&&!m[e])return h.dataTypes.unshift(e),
r(e),!1;if(D)return!(f=e)});return f}var m={},D=b===Na;return r(h.dataTypes[0])||!m["*"]&&r("*")}function ea(b,h){var a,g,r=d.ajaxSettings.flatOptions||{};for(g in h)h[g]!==c&&((r[g]?b:a||(a={}))[g]=h[g]);a&&d.extend(!0,b,a);return b}function ga(){try{return new a.XMLHttpRequest}catch(b){}}function fa(){setTimeout(function(){wa=c});return wa=d.now()}function ba(b,h){d.each(h,function(h,a){for(var d=(Ba[h]||[]).concat(Ba["*"]),c=0,D=d.length;c<D&&!d[c].call(b,h,a);c++);})}function Fa(b,h,a){var c,
r=0,m=Ga.length,D=d.Deferred().always(function(){delete e.elem}),e=function(){if(c)return!1;for(var h=wa||fa(),h=Math.max(0,f.startTime+f.duration-h),a=1-(h/f.duration||0),d=0,s=f.tweens.length;d<s;d++)f.tweens[d].run(a);D.notifyWith(b,[f,a,h]);if(1>a&&s)return h;D.resolveWith(b,[f]);return!1},f=D.promise({elem:b,props:d.extend({},h),opts:d.extend(!0,{specialEasing:{}},a),originalProperties:h,originalOptions:a,startTime:wa||fa(),duration:a.duration,tweens:[],createTween:function(h,a){var s=d.Tween(b,
f.opts,h,a,f.opts.specialEasing[h]||f.opts.easing);f.tweens.push(s);return s},stop:function(h){var a=0,d=h?f.tweens.length:0;if(c)return this;for(c=!0;a<d;a++)f.tweens[a].run(1);h?D.resolveWith(b,[f,h]):D.rejectWith(b,[f,h]);return this}});a=f.props;for(Ha(a,f.opts.specialEasing);r<m;r++)if(h=Ga[r].call(f,b,a,f.opts))return h;ba(f,a);d.isFunction(f.opts.start)&&f.opts.start.call(b,f);d.fx.timer(d.extend(e,{elem:b,anim:f,queue:f.opts.queue}));return f.progress(f.opts.progress).done(f.opts.done,f.opts.complete).fail(f.opts.fail).always(f.opts.always)}
function Ha(b,h){var a,c,r,m,D;for(r in b)if(c=d.camelCase(r),m=h[c],a=b[r],d.isArray(a)&&(m=a[1],a=b[r]=a[0]),r!==c&&(b[c]=a,delete b[r]),(D=d.cssHooks[c])&&"expand"in D)for(r in a=D.expand(a),delete b[c],a)r in b||(b[r]=a[r],h[r]=m);else h[c]=m}function T(b,h,a,d,c){return new T.prototype.init(b,h,a,d,c)}function ja(b,h){var a,d={height:b},c=0;for(h=h?1:0;4>c;c+=2-h)a=ha[c],d["margin"+a]=d["padding"+a]=b;h&&(d.opacity=d.width=b);return d}function oa(b){return d.isWindow(b)?b:9===b.nodeType?b.defaultView||
b.parentWindow:!1}var ka,pa,k=typeof c,E=a.document,Ia=a.location,Ja=a.jQuery,Ka=a.$,qa={},z=[],Q=z.concat,ca=z.push,I=z.slice,U=z.indexOf,Z=qa.toString,X=qa.hasOwnProperty,ta="1.9.1".trim,d=function(b,h){return new d.fn.init(b,h,pa)},R=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,aa=/\S+/g,Ca=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,Db=/^(?:(<[\w\W]+>)[^>]*|#([\w-]*))$/,cb=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,xa=/^[\],:{}\s]*$/,Eb=/(?:^|:|,)(?:\s*\[)+/g,Fb=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,Gb=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,
Hb=/^-ms-/,Ib=/-([\da-z])/gi,Jb=function(b,h){return h.toUpperCase()},la=function(b){if(E.addEventListener||"load"===b.type||"complete"===E.readyState)db(),d.ready()},db=function(){E.addEventListener?(E.removeEventListener("DOMContentLoaded",la,!1),a.removeEventListener("load",la,!1)):(E.detachEvent("onreadystatechange",la),a.detachEvent("onload",la))};d.fn=d.prototype={jquery:"1.9.1",constructor:d,init:function(b,h,a){var g;if(!b)return this;if("string"===typeof b){g="<"===b.charAt(0)&&">"===b.charAt(b.length-
1)&&3<=b.length?[null,b,null]:Db.exec(b);if(!g||!g[1]&&h)return!h||h.jquery?(h||a).find(b):this.constructor(h).find(b);if(g[1]){if(h=h instanceof d?h[0]:h,d.merge(this,d.parseHTML(g[1],h&&h.nodeType?h.ownerDocument||h:E,!0)),cb.test(g[1])&&d.isPlainObject(h))for(g in h)if(d.isFunction(this[g]))this[g](h[g]);else this.attr(g,h[g])}else{if((h=E.getElementById(g[2]))&&h.parentNode){if(h.id!==g[2])return a.find(b);this.length=1;this[0]=h}this.context=E;this.selector=b}return this}if(b.nodeType)return this.context=
this[0]=b,this.length=1,this;if(d.isFunction(b))return a.ready(b);b.selector!==c&&(this.selector=b.selector,this.context=b.context);return d.makeArray(b,this)},selector:"",length:0,size:function(){return this.length},toArray:function(){return I.call(this)},get:function(b){return null==b?this.toArray():0>b?this[this.length+b]:this[b]},pushStack:function(b){b=d.merge(this.constructor(),b);b.prevObject=this;b.context=this.context;return b},each:function(b,h){return d.each(this,b,h)},ready:function(b){d.ready.promise().done(b);
return this},slice:function(){return this.pushStack(I.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(b){var h=this.length;b=+b+(0>b?h:0);return this.pushStack(0<=b&&b<h?[this[b]]:[])},map:function(b){return this.pushStack(d.map(this,function(h,a){return b.call(h,a,h)}))},end:function(){return this.prevObject||this.constructor(null)},push:ca,sort:[].sort,splice:[].splice};d.fn.init.prototype=d.fn;d.extend=d.fn.extend=function(){var b,h,a,
g,r,m=arguments[0]||{},D=1,e=arguments.length,f=!1;"boolean"===typeof m&&(f=m,m=arguments[1]||{},D=2);"object"===typeof m||d.isFunction(m)||(m={});e===D&&(m=this,--D);for(;D<e;D++)if(null!=(r=arguments[D]))for(g in r)b=m[g],a=r[g],m!==a&&(f&&a&&(d.isPlainObject(a)||(h=d.isArray(a)))?(h?(h=!1,b=b&&d.isArray(b)?b:[]):b=b&&d.isPlainObject(b)?b:{},m[g]=d.extend(f,b,a)):a!==c&&(m[g]=a));return m};d.extend({noConflict:function(b){a.$===d&&(a.$=Ka);b&&a.jQuery===d&&(a.jQuery=Ja);return d},isReady:!1,readyWait:1,
holdReady:function(b){b?d.readyWait++:d.ready(!0)},ready:function(b){if(!0===b?!--d.readyWait:!d.isReady){if(!E.body)return setTimeout(d.ready);d.isReady=!0;!0!==b&&0<--d.readyWait||(ka.resolveWith(E,[d]),d.fn.trigger&&d(E).trigger("ready").off("ready"))}},isFunction:function(b){return"function"===d.type(b)},isArray:Array.isArray||function(b){return"array"===d.type(b)},isWindow:function(b){return null!=b&&b==b.window},isNumeric:function(b){return!isNaN(parseFloat(b))&&isFinite(b)},type:function(b){return null==
b?String(b):"object"===typeof b||"function"===typeof b?qa[Z.call(b)]||"object":typeof b},isPlainObject:function(b){if(!b||"object"!==d.type(b)||b.nodeType||d.isWindow(b))return!1;try{if(b.constructor&&!X.call(b,"constructor")&&!X.call(b.constructor.prototype,"isPrototypeOf"))return!1}catch(h){return!1}for(var a in b);return a===c||X.call(b,a)},isEmptyObject:function(b){for(var h in b)return!1;return!0},error:function(b){throw Error(b);},parseHTML:function(b,h,a){if(!b||"string"!==typeof b)return null;
"boolean"===typeof h&&(a=h,h=!1);h=h||E;var c=cb.exec(b);a=!a&&[];if(c)return[h.createElement(c[1])];c=d.buildFragment([b],h,a);a&&d(a).remove();return d.merge([],c.childNodes)},parseJSON:function(b){if(a.JSON&&a.JSON.parse)return a.JSON.parse(b);if(null===b)return b;if("string"===typeof b&&(b=d.trim(b))&&xa.test(b.replace(Fb,"@").replace(Gb,"]").replace(Eb,"")))return(new Function("return "+b))();d.error("Invalid JSON: "+b)},parseXML:function(b){var h,s;if(!b||"string"!==typeof b)return null;try{a.DOMParser?
(s=new DOMParser,h=s.parseFromString(b,"text/xml")):(h=new ActiveXObject("Microsoft.XMLDOM"),h.async="false",h.loadXML(b))}catch(g){h=c}h&&h.documentElement&&!h.getElementsByTagName("parsererror").length||d.error("Invalid XML: "+b);return h},noop:function(){},globalEval:function(b){b&&d.trim(b)&&(a.execScript||function(b){a.eval.call(a,b)})(b)},camelCase:function(b){return b.replace(Hb,"ms-").replace(Ib,Jb)},nodeName:function(b,h){return b.nodeName&&b.nodeName.toLowerCase()===h.toLowerCase()},each:function(b,
h,a){var d,c=0,m=b.length;d=e(b);if(a)if(d)for(;c<m&&(d=h.apply(b[c],a),!1!==d);c++);else for(c in b){if(d=h.apply(b[c],a),!1===d)break}else if(d)for(;c<m&&(d=h.call(b[c],c,b[c]),!1!==d);c++);else for(c in b)if(d=h.call(b[c],c,b[c]),!1===d)break;return b},trim:ta&&!ta.call("\ufeff\u00a0")?function(b){return null==b?"":ta.call(b)}:function(b){return null==b?"":(b+"").replace(Ca,"")},makeArray:function(b,h){var a=h||[];null!=b&&(e(Object(b))?d.merge(a,"string"===typeof b?[b]:b):ca.call(a,b));return a},
inArray:function(b,h,a){var d;if(h){if(U)return U.call(h,b,a);d=h.length;for(a=a?0>a?Math.max(0,d+a):a:0;a<d;a++)if(a in h&&h[a]===b)return a}return-1},merge:function(b,a){var d=a.length,g=b.length,r=0;if("number"===typeof d)for(;r<d;r++)b[g++]=a[r];else for(;a[r]!==c;)b[g++]=a[r++];b.length=g;return b},grep:function(b,a,d){var c,r=[],m=0,D=b.length;for(d=!!d;m<D;m++)c=!!a(b[m],m),d!==c&&r.push(b[m]);return r},map:function(b,a,d){var c,r=0,m=b.length,D=[];if(e(b))for(;r<m;r++)c=a(b[r],r,d),null!=
c&&(D[D.length]=c);else for(r in b)c=a(b[r],r,d),null!=c&&(D[D.length]=c);return Q.apply([],D)},guid:1,proxy:function(b,a){var s,g;"string"===typeof a&&(g=b[a],a=b,b=g);if(!d.isFunction(b))return c;s=I.call(arguments,2);g=function(){return b.apply(a||this,s.concat(I.call(arguments)))};g.guid=b.guid=b.guid||d.guid++;return g},access:function(b,a,s,g,r,m,D){var e=0,f=b.length,k=null==s;if("object"===d.type(s))for(e in r=!0,s)d.access(b,a,e,s[e],!0,m,D);else if(g!==c&&(r=!0,d.isFunction(g)||(D=!0),k&&
(D?(a.call(b,g),a=null):(k=a,a=function(b,a,h){return k.call(d(b),h)})),a))for(;e<f;e++)a(b[e],s,D?g:g.call(b[e],e,a(b[e],s)));return r?b:k?a.call(b):f?a(b[0],s):m},now:function(){return(new Date).getTime()}});d.ready.promise=function(b){if(!ka)if(ka=d.Deferred(),"complete"===E.readyState)setTimeout(d.ready);else if(E.addEventListener)E.addEventListener("DOMContentLoaded",la,!1),a.addEventListener("load",la,!1);else{E.attachEvent("onreadystatechange",la);a.attachEvent("onload",la);var h=!1;try{h=
null==a.frameElement&&E.documentElement}catch(c){}h&&h.doScroll&&function r(){if(!d.isReady){try{h.doScroll("left")}catch(b){return setTimeout(r,50)}db();d.ready()}}()}return ka.promise(b)};d.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(b,a){qa["[object "+a+"]"]=a.toLowerCase()});pa=d(E);var Za={};d.Callbacks=function(b){b="string"===typeof b?Za[b]||f(b):d.extend({},b);var a,s,g,r,m,e,Y=[],k=!b.once&&[],l=function(d){s=b.memory&&d;g=!0;m=e||0;e=0;r=Y.length;
for(a=!0;Y&&m<r;m++)if(!1===Y[m].apply(d[0],d[1])&&b.stopOnFalse){s=!1;break}a=!1;Y&&(k?k.length&&l(k.shift()):s?Y=[]:z.disable())},z={add:function(){if(Y){var c=Y.length;(function Kb(a){d.each(a,function(a,h){var c=d.type(h);"function"===c?b.unique&&z.has(h)||Y.push(h):h&&h.length&&"string"!==c&&Kb(h)})})(arguments);a?r=Y.length:s&&(e=c,l(s))}return this},remove:function(){Y&&d.each(arguments,function(b,c){for(var s;-1<(s=d.inArray(c,Y,s));)Y.splice(s,1),a&&(s<=r&&r--,s<=m&&m--)});return this},has:function(b){return b?
-1<d.inArray(b,Y):!(!Y||!Y.length)},empty:function(){Y=[];return this},disable:function(){Y=k=s=c;return this},disabled:function(){return!Y},lock:function(){k=c;s||z.disable();return this},locked:function(){return!k},fireWith:function(b,d){d=d||[];d=[b,d.slice?d.slice():d];!Y||g&&!k||(a?k.push(d):l(d));return this},fire:function(){z.fireWith(this,arguments);return this},fired:function(){return!!g}};return z};d.extend({Deferred:function(b){var a=[["resolve","done",d.Callbacks("once memory"),"resolved"],
["reject","fail",d.Callbacks("once memory"),"rejected"],["notify","progress",d.Callbacks("memory")]],c="pending",g={state:function(){return c},always:function(){r.done(arguments).fail(arguments);return this},then:function(){var b=arguments;return d.Deferred(function(c){d.each(a,function(a,h){var s=h[0],e=d.isFunction(b[a])&&b[a];r[h[1]](function(){var b=e&&e.apply(this,arguments);if(b&&d.isFunction(b.promise))b.promise().done(c.resolve).fail(c.reject).progress(c.notify);else c[s+"With"](this===g?
c.promise():this,e?[b]:arguments)})});b=null}).promise()},promise:function(b){return null!=b?d.extend(b,g):g}},r={};g.pipe=g.then;d.each(a,function(b,d){var e=d[2],f=d[3];g[d[1]]=e.add;f&&e.add(function(){c=f},a[b^1][2].disable,a[2][2].lock);r[d[0]]=function(){r[d[0]+"With"](this===r?g:this,arguments);return this};r[d[0]+"With"]=e.fireWith});g.promise(r);b&&b.call(r,r);return r},when:function(b){var a=0,c=I.call(arguments),g=c.length,r=1!==g||b&&d.isFunction(b.promise)?g:0,m=1===r?b:d.Deferred(),
e=function(b,a,h){return function(d){a[b]=this;h[b]=1<arguments.length?I.call(arguments):d;h===f?m.notifyWith(a,h):--r||m.resolveWith(a,h)}},f,k,l;if(1<g)for(f=Array(g),k=Array(g),l=Array(g);a<g;a++)c[a]&&d.isFunction(c[a].promise)?c[a].promise().done(e(a,l,c)).fail(m.reject).progress(e(a,k,f)):--r;r||m.resolveWith(l,c);return m.promise()}});d.support=function(){var b,h,c,g,r,m,e,f=E.createElement("div");f.setAttribute("className","t");f.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>";
h=f.getElementsByTagName("*");c=f.getElementsByTagName("a")[0];if(!h||!c||!h.length)return{};g=E.createElement("select");r=g.appendChild(E.createElement("option"));h=f.getElementsByTagName("input")[0];c.style.cssText="top:1px;float:left;opacity:.5";b={getSetAttribute:"t"!==f.className,leadingWhitespace:3===f.firstChild.nodeType,tbody:!f.getElementsByTagName("tbody").length,htmlSerialize:!!f.getElementsByTagName("link").length,style:/top/.test(c.getAttribute("style")),hrefNormalized:"/a"===c.getAttribute("href"),
opacity:/^0.5/.test(c.style.opacity),cssFloat:!!c.style.cssFloat,checkOn:!!h.value,optSelected:r.selected,enctype:!!E.createElement("form").enctype,html5Clone:"<:nav></:nav>"!==E.createElement("nav").cloneNode(!0).outerHTML,boxModel:"CSS1Compat"===E.compatMode,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,boxSizingReliable:!0,pixelPosition:!1};h.checked=!0;b.noCloneChecked=h.cloneNode(!0).checked;g.disabled=!0;b.optDisabled=!r.disabled;try{delete f.test}catch(l){b.deleteExpando=
!1}h=E.createElement("input");h.setAttribute("value","");b.input=""===h.getAttribute("value");h.value="t";h.setAttribute("type","radio");b.radioValue="t"===h.value;h.setAttribute("checked","t");h.setAttribute("name","t");c=E.createDocumentFragment();c.appendChild(h);b.appendChecked=h.checked;b.checkClone=c.cloneNode(!0).cloneNode(!0).lastChild.checked;f.attachEvent&&(f.attachEvent("onclick",function(){b.noCloneEvent=!1}),f.cloneNode(!0).click());for(e in{submit:!0,change:!0,focusin:!0})f.setAttribute(c=
"on"+e,"t"),b[e+"Bubbles"]=c in a||!1===f.attributes[c].expando;f.style.backgroundClip="content-box";f.cloneNode(!0).style.backgroundClip="";b.clearCloneStyle="content-box"===f.style.backgroundClip;d(function(){var h,d,c=E.getElementsByTagName("body")[0];c&&(h=E.createElement("div"),h.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",c.appendChild(h).appendChild(f),f.innerHTML="<table><tr><td></td><td>t</td></tr></table>",d=f.getElementsByTagName("td"),
d[0].style.cssText="padding:0;margin:0;border:0;display:none",m=0===d[0].offsetHeight,d[0].style.display="",d[1].style.display="none",b.reliableHiddenOffsets=m&&0===d[0].offsetHeight,f.innerHTML="",f.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",b.boxSizing=4===f.offsetWidth,b.doesNotIncludeMarginInBodyOffset=1!==c.offsetTop,a.getComputedStyle&&(b.pixelPosition="1%"!==
(a.getComputedStyle(f,null)||{}).top,b.boxSizingReliable="4px"===(a.getComputedStyle(f,null)||{width:"4px"}).width,d=f.appendChild(E.createElement("div")),d.style.cssText=f.style.cssText="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",d.style.marginRight=d.style.width="0",f.style.width="1px",b.reliableMarginRight=!parseFloat((a.getComputedStyle(d,null)||{}).marginRight)),typeof f.style.zoom!==k&&(f.innerHTML="",f.style.cssText=
"padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;width:1px;padding:1px;display:inline;zoom:1",b.inlineBlockNeedsLayout=3===f.offsetWidth,f.style.display="block",f.innerHTML="<div></div>",f.firstChild.style.width="5px",b.shrinkWrapBlocks=3!==f.offsetWidth,b.inlineBlockNeedsLayout&&(c.style.zoom=1)),c.removeChild(h),f=null)});h=g=c=r=c=h=null;return b}();var yb=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,xb=/([A-Z])/g;d.extend({cache:{},
expando:"jQuery"+("1.9.1"+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(b){b=b.nodeType?d.cache[b[d.expando]]:b[d.expando];return!!b&&!n(b)},data:function(b,a,d){return l(b,a,d)},removeData:function(b,a){return q(b,a)},_data:function(b,a,d){return l(b,a,d,!0)},_removeData:function(b,a){return q(b,a,!0)},acceptData:function(b){if(b.nodeType&&1!==b.nodeType&&9!==b.nodeType)return!1;var a=b.nodeName&&d.noData[b.nodeName.toLowerCase()];
return!a||!0!==a&&b.getAttribute("classid")===a}});d.fn.extend({data:function(b,a){var s,g,r=this[0],m=0,e=null;if(b===c){if(this.length&&(e=d.data(r),1===r.nodeType&&!d._data(r,"parsedAttrs"))){for(s=r.attributes;m<s.length;m++)g=s[m].name,g.indexOf("data-")||(g=d.camelCase(g.slice(5)),p(r,g,e[g]));d._data(r,"parsedAttrs",!0)}return e}return"object"===typeof b?this.each(function(){d.data(this,b)}):d.access(this,function(a){if(a===c)return r?p(r,b,d.data(r,b)):null;this.each(function(){d.data(this,
b,a)})},null,a,1<arguments.length,null,!0)},removeData:function(b){return this.each(function(){d.removeData(this,b)})}});d.extend({queue:function(b,a,c){var g;if(b)return a=(a||"fx")+"queue",g=d._data(b,a),c&&(!g||d.isArray(c)?g=d._data(b,a,d.makeArray(c)):g.push(c)),g||[]},dequeue:function(b,a){a=a||"fx";var c=d.queue(b,a),g=c.length,r=c.shift(),m=d._queueHooks(b,a),e=function(){d.dequeue(b,a)};"inprogress"===r&&(r=c.shift(),g--);if(m.cur=r)"fx"===a&&c.unshift("inprogress"),delete m.stop,r.call(b,
e,m);!g&&m&&m.empty.fire()},_queueHooks:function(b,a){var c=a+"queueHooks";return d._data(b,c)||d._data(b,c,{empty:d.Callbacks("once memory").add(function(){d._removeData(b,a+"queue");d._removeData(b,c)})})}});d.fn.extend({queue:function(b,a){var s=2;"string"!==typeof b&&(a=b,b="fx",s--);return arguments.length<s?d.queue(this[0],b):a===c?this:this.each(function(){var c=d.queue(this,b,a);d._queueHooks(this,b);"fx"===b&&"inprogress"!==c[0]&&d.dequeue(this,b)})},dequeue:function(b){return this.each(function(){d.dequeue(this,
b)})},delay:function(b,a){b=d.fx?d.fx.speeds[b]||b:b;return this.queue(a||"fx",function(a,d){var h=setTimeout(a,b);d.stop=function(){clearTimeout(h)}})},clearQueue:function(b){return this.queue(b||"fx",[])},promise:function(b,a){var s,g=1,r=d.Deferred(),m=this,e=this.length,f=function(){--g||r.resolveWith(m,[m])};"string"!==typeof b&&(a=b,b=c);for(b=b||"fx";e--;)(s=d._data(m[e],b+"queueHooks"))&&s.empty&&(g++,s.empty.add(f));f();return r.promise(a)}});var ya,eb,Oa=/[\t\r\n]/g,Lb=/\r/g,Mb=/^(?:input|select|textarea|button|object)$/i,
Nb=/^(?:a|area)$/i,fb=/^(?:checked|selected|autofocus|autoplay|async|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped)$/i,Pa=/^(?:checked|selected)$/i,ra=d.support.getSetAttribute,Qa=d.support.input;d.fn.extend({attr:function(b,a){return d.access(this,d.attr,b,a,1<arguments.length)},removeAttr:function(b){return this.each(function(){d.removeAttr(this,b)})},prop:function(b,a){return d.access(this,d.prop,b,a,1<arguments.length)},removeProp:function(b){b=d.propFix[b]||b;return this.each(function(){try{this[b]=
c,delete this[b]}catch(a){}})},addClass:function(b){var a,c,g,r,m,e=0,f=this.length;a="string"===typeof b&&b;if(d.isFunction(b))return this.each(function(a){d(this).addClass(b.call(this,a,this.className))});if(a)for(a=(b||"").match(aa)||[];e<f;e++)if(c=this[e],g=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(Oa," "):" ")){for(m=0;r=a[m++];)0>g.indexOf(" "+r+" ")&&(g+=r+" ");c.className=d.trim(g)}return this},removeClass:function(b){var a,c,g,r,m,e=0,f=this.length;a=0===arguments.length||
"string"===typeof b&&b;if(d.isFunction(b))return this.each(function(a){d(this).removeClass(b.call(this,a,this.className))});if(a)for(a=(b||"").match(aa)||[];e<f;e++)if(c=this[e],g=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(Oa," "):"")){for(m=0;r=a[m++];)for(;0<=g.indexOf(" "+r+" ");)g=g.replace(" "+r+" "," ");c.className=b?d.trim(g):""}return this},toggleClass:function(b,a){var c=typeof b,g="boolean"===typeof a;return d.isFunction(b)?this.each(function(c){d(this).toggleClass(b.call(this,
c,this.className,a),a)}):this.each(function(){if("string"===c)for(var r,m=0,e=d(this),f=a,l=b.match(aa)||[];r=l[m++];)f=g?f:!e.hasClass(r),e[f?"addClass":"removeClass"](r);else if(c===k||"boolean"===c)this.className&&d._data(this,"__className__",this.className),this.className=this.className||!1===b?"":d._data(this,"__className__")||""})},hasClass:function(b){b=" "+b+" ";for(var a=0,d=this.length;a<d;a++)if(1===this[a].nodeType&&0<=(" "+this[a].className+" ").replace(Oa," ").indexOf(b))return!0;return!1},
val:function(b){var a,s,g,r=this[0];if(arguments.length)return g=d.isFunction(b),this.each(function(a){var h=d(this);1===this.nodeType&&(a=g?b.call(this,a,h.val()):b,null==a?a="":"number"===typeof a?a+="":d.isArray(a)&&(a=d.map(a,function(b){return null==b?"":b+""})),s=d.valHooks[this.type]||d.valHooks[this.nodeName.toLowerCase()],s&&"set"in s&&s.set(this,a,"value")!==c||(this.value=a))});if(r){if((s=d.valHooks[r.type]||d.valHooks[r.nodeName.toLowerCase()])&&"get"in s&&(a=s.get(r,"value"))!==c)return a;
a=r.value;return"string"===typeof a?a.replace(Lb,""):null==a?"":a}}});d.extend({valHooks:{option:{get:function(b){var a=b.attributes.value;return!a||a.specified?b.value:b.text}},select:{get:function(b){for(var a,c=b.options,g=b.selectedIndex,r=(b="select-one"===b.type||0>g)?null:[],m=b?g+1:c.length,e=0>g?m:b?g:0;e<m;e++)if(a=c[e],!(!a.selected&&e!==g||(d.support.optDisabled?a.disabled:null!==a.getAttribute("disabled"))||a.parentNode.disabled&&d.nodeName(a.parentNode,"optgroup"))){a=d(a).val();if(b)return a;
r.push(a)}return r},set:function(b,a){var c=d.makeArray(a);d(b).find("option").each(function(){this.selected=0<=d.inArray(d(this).val(),c)});c.length||(b.selectedIndex=-1);return c}}},attr:function(b,a,s){var g,r,m;r=b.nodeType;if(b&&3!==r&&8!==r&&2!==r){if(typeof b.getAttribute===k)return d.prop(b,a,s);if(r=1!==r||!d.isXMLDoc(b))a=a.toLowerCase(),g=d.attrHooks[a]||(fb.test(a)?eb:ya);if(s!==c)if(null===s)d.removeAttr(b,a);else{if(g&&r&&"set"in g&&(m=g.set(b,s,a))!==c)return m;b.setAttribute(a,s+"");
return s}else{if(g&&r&&"get"in g&&null!==(m=g.get(b,a)))return m;typeof b.getAttribute!==k&&(m=b.getAttribute(a));return null==m?c:m}}},removeAttr:function(b,a){var c,g,r=0,m=a&&a.match(aa);if(m&&1===b.nodeType)for(;c=m[r++];)g=d.propFix[c]||c,fb.test(c)?!ra&&Pa.test(c)?b[d.camelCase("default-"+c)]=b[g]=!1:b[g]=!1:d.attr(b,c,""),b.removeAttribute(ra?c:g)},attrHooks:{type:{set:function(b,a){if(!d.support.radioValue&&"radio"===a&&d.nodeName(b,"input")){var c=b.value;b.setAttribute("type",a);c&&(b.value=
c);return a}}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(b,a,s){var g,r,m;m=b.nodeType;if(b&&3!==m&&8!==m&&2!==m){if(m=1!==m||!d.isXMLDoc(b))a=d.propFix[a]||a,r=d.propHooks[a];return s!==c?r&&"set"in r&&(g=r.set(b,s,a))!==c?g:b[a]=s:r&&"get"in r&&null!==(g=
r.get(b,a))?g:b[a]}},propHooks:{tabIndex:{get:function(b){var a=b.getAttributeNode("tabindex");return a&&a.specified?parseInt(a.value,10):Mb.test(b.nodeName)||Nb.test(b.nodeName)&&b.href?0:c}}}});eb={get:function(b,a){var s=d.prop(b,a),g="boolean"===typeof s&&b.getAttribute(a);return(s="boolean"===typeof s?Qa&&ra?null!=g:Pa.test(a)?b[d.camelCase("default-"+a)]:!!g:b.getAttributeNode(a))&&!1!==s.value?a.toLowerCase():c},set:function(b,a,c){!1===a?d.removeAttr(b,c):Qa&&ra||!Pa.test(c)?b.setAttribute(!ra&&
d.propFix[c]||c,c):b[d.camelCase("default-"+c)]=b[c]=!0;return c}};Qa&&ra||(d.attrHooks.value={get:function(b,a){var s=b.getAttributeNode(a);return d.nodeName(b,"input")?b.defaultValue:s&&s.specified?s.value:c},set:function(b,a,c){if(d.nodeName(b,"input"))b.defaultValue=a;else return ya&&ya.set(b,a,c)}});ra||(ya=d.valHooks.button={get:function(b,a){var d=b.getAttributeNode(a);return d&&("id"===a||"name"===a||"coords"===a?""!==d.value:d.specified)?d.value:c},set:function(b,a,d){var g=b.getAttributeNode(d);
g||b.setAttributeNode(g=b.ownerDocument.createAttribute(d));g.value=a+="";return"value"===d||a===b.getAttribute(d)?a:c}},d.attrHooks.contenteditable={get:ya.get,set:function(b,a,d){ya.set(b,""===a?!1:a,d)}},d.each(["width","height"],function(b,a){d.attrHooks[a]=d.extend(d.attrHooks[a],{set:function(b,d){if(""===d)return b.setAttribute(a,"auto"),d}})}));d.support.hrefNormalized||(d.each(["href","src","width","height"],function(b,a){d.attrHooks[a]=d.extend(d.attrHooks[a],{get:function(b){b=b.getAttribute(a,
2);return null==b?c:b}})}),d.each(["href","src"],function(b,a){d.propHooks[a]={get:function(b){return b.getAttribute(a,4)}}}));d.support.style||(d.attrHooks.style={get:function(b){return b.style.cssText||c},set:function(b,a){return b.style.cssText=a+""}});d.support.optSelected||(d.propHooks.selected=d.extend(d.propHooks.selected,{get:function(b){if(b=b.parentNode)b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex;return null}}));d.support.enctype||(d.propFix.enctype="encoding");d.support.checkOn||
d.each(["radio","checkbox"],function(){d.valHooks[this]={get:function(b){return null===b.getAttribute("value")?"on":b.value}}});d.each(["radio","checkbox"],function(){d.valHooks[this]=d.extend(d.valHooks[this],{set:function(b,a){if(d.isArray(a))return b.checked=0<=d.inArray(d(b).val(),a)}})});var Ra=/^(?:input|select|textarea)$/i,Ob=/^key/,Pb=/^(?:mouse|contextmenu)|click/,gb=/^(?:focusinfocus|focusoutblur)$/,hb=/^([^.]*)(?:\.(.+)|)$/;d.event={global:{},add:function(b,a,s,g,r){var m,e,f,l,z,p,q,n,
I;if(f=d._data(b)){s.handler&&(l=s,s=l.handler,r=l.selector);s.guid||(s.guid=d.guid++);(e=f.events)||(e=f.events={});(z=f.handle)||(z=f.handle=function(b){return typeof d===k||b&&d.event.triggered===b.type?c:d.event.dispatch.apply(z.elem,arguments)},z.elem=b);a=(a||"").match(aa)||[""];for(f=a.length;f--;)m=hb.exec(a[f])||[],n=p=m[1],I=(m[2]||"").split(".").sort(),m=d.event.special[n]||{},n=(r?m.delegateType:m.bindType)||n,m=d.event.special[n]||{},p=d.extend({type:n,origType:p,data:g,handler:s,guid:s.guid,
selector:r,needsContext:r&&d.expr.match.needsContext.test(r),namespace:I.join(".")},l),(q=e[n])||(q=e[n]=[],q.delegateCount=0,m.setup&&!1!==m.setup.call(b,g,I,z)||(b.addEventListener?b.addEventListener(n,z,!1):b.attachEvent&&b.attachEvent("on"+n,z))),m.add&&(m.add.call(b,p),p.handler.guid||(p.handler.guid=s.guid)),r?q.splice(q.delegateCount++,0,p):q.push(p),d.event.global[n]=!0;b=null}},remove:function(b,a,c,g,r){var m,e,f,k,l,z,p,q,n,I,Q,v=d.hasData(b)&&d._data(b);if(v&&(z=v.events)){a=(a||"").match(aa)||
[""];for(l=a.length;l--;)if(f=hb.exec(a[l])||[],n=Q=f[1],I=(f[2]||"").split(".").sort(),n){p=d.event.special[n]||{};n=(g?p.delegateType:p.bindType)||n;q=z[n]||[];f=f[2]&&new RegExp("(^|\\.)"+I.join("\\.(?:.*\\.|)")+"(\\.|$)");for(k=m=q.length;m--;)e=q[m],!r&&Q!==e.origType||c&&c.guid!==e.guid||f&&!f.test(e.namespace)||g&&g!==e.selector&&("**"!==g||!e.selector)||(q.splice(m,1),e.selector&&q.delegateCount--,p.remove&&p.remove.call(b,e));k&&!q.length&&(p.teardown&&!1!==p.teardown.call(b,I,v.handle)||
d.removeEvent(b,n,v.handle),delete z[n])}else for(n in z)d.event.remove(b,n+a[l],c,g,!0);d.isEmptyObject(z)&&(delete v.handle,d._removeData(b,"events"))}},trigger:function(b,h,s,g){var r,m,e,f,k,l,z=[s||E],p=X.call(b,"type")?b.type:b;k=X.call(b,"namespace")?b.namespace.split("."):[];e=r=s=s||E;if(3!==s.nodeType&&8!==s.nodeType&&!gb.test(p+d.event.triggered)&&(0<=p.indexOf(".")&&(k=p.split("."),p=k.shift(),k.sort()),m=0>p.indexOf(":")&&"on"+p,b=b[d.expando]?b:new d.Event(p,"object"===typeof b&&b),
b.isTrigger=!0,b.namespace=k.join("."),b.namespace_re=b.namespace?new RegExp("(^|\\.)"+k.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=c,b.target||(b.target=s),h=null==h?[b]:d.makeArray(h,[b]),k=d.event.special[p]||{},g||!k.trigger||!1!==k.trigger.apply(s,h))){if(!g&&!k.noBubble&&!d.isWindow(s)){f=k.delegateType||p;gb.test(f+p)||(e=e.parentNode);for(;e;e=e.parentNode)z.push(e),r=e;r===(s.ownerDocument||E)&&z.push(r.defaultView||r.parentWindow||a)}for(l=0;(e=z[l++])&&!b.isPropagationStopped();)b.type=
1<l?f:k.bindType||p,(r=(d._data(e,"events")||{})[b.type]&&d._data(e,"handle"))&&r.apply(e,h),(r=m&&e[m])&&d.acceptData(e)&&r.apply&&!1===r.apply(e,h)&&b.preventDefault();b.type=p;if(!(g||b.isDefaultPrevented()||k._default&&!1!==k._default.apply(s.ownerDocument,h)||"click"===p&&d.nodeName(s,"a"))&&d.acceptData(s)&&m&&s[p]&&!d.isWindow(s)){(r=s[m])&&(s[m]=null);d.event.triggered=p;try{s[p]()}catch(q){}d.event.triggered=c;r&&(s[m]=r)}return b.result}},dispatch:function(b){b=d.event.fix(b);var a,s,g,
r,e=[],f=I.call(arguments);a=(d._data(this,"events")||{})[b.type]||[];var k=d.event.special[b.type]||{};f[0]=b;b.delegateTarget=this;if(!k.preDispatch||!1!==k.preDispatch.call(this,b)){e=d.event.handlers.call(this,b,a);for(a=0;(g=e[a++])&&!b.isPropagationStopped();)for(b.currentTarget=g.elem,r=0;(s=g.handlers[r++])&&!b.isImmediatePropagationStopped();)if(!b.namespace_re||b.namespace_re.test(s.namespace))b.handleObj=s,b.data=s.data,s=((d.event.special[s.origType]||{}).handle||s.handler).apply(g.elem,
f),s!==c&&!1===(b.result=s)&&(b.preventDefault(),b.stopPropagation());k.postDispatch&&k.postDispatch.call(this,b);return b.result}},handlers:function(b,a){var s,g,e,m,f=[],k=a.delegateCount,l=b.target;if(k&&l.nodeType&&(!b.button||"click"!==b.type))for(;l!=this;l=l.parentNode||this)if(1===l.nodeType&&(!0!==l.disabled||"click"!==b.type)){e=[];for(m=0;m<k;m++)g=a[m],s=g.selector+" ",e[s]===c&&(e[s]=g.needsContext?0<=d(s,this).index(l):d.find(s,this,null,[l]).length),e[s]&&e.push(g);e.length&&f.push({elem:l,
handlers:e})}k<a.length&&f.push({elem:this,handlers:a.slice(k)});return f},fix:function(b){if(b[d.expando])return b;var a,c,g;a=b.type;var e=b,m=this.fixHooks[a];m||(this.fixHooks[a]=m=Pb.test(a)?this.mouseHooks:Ob.test(a)?this.keyHooks:{});g=m.props?this.props.concat(m.props):this.props;b=new d.Event(e);for(a=g.length;a--;)c=g[a],b[c]=e[c];b.target||(b.target=e.srcElement||E);3===b.target.nodeType&&(b.target=b.target.parentNode);b.metaKey=!!b.metaKey;return m.filter?m.filter(b,e):b},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),
fixHooks:{},keyHooks:{props:["char","charCode","key","keyCode"],filter:function(b,a){null==b.which&&(b.which=null!=a.charCode?a.charCode:a.keyCode);return b}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(b,a){var d,g,e=a.button,m=a.fromElement;null==b.pageX&&null!=a.clientX&&(d=b.target.ownerDocument||E,g=d.documentElement,d=d.body,b.pageX=a.clientX+(g&&g.scrollLeft||d&&d.scrollLeft||0)-(g&&g.clientLeft||
d&&d.clientLeft||0),b.pageY=a.clientY+(g&&g.scrollTop||d&&d.scrollTop||0)-(g&&g.clientTop||d&&d.clientTop||0));!b.relatedTarget&&m&&(b.relatedTarget=m===b.target?a.toElement:m);b.which||e===c||(b.which=e&1?1:e&2?3:e&4?2:0);return b}},special:{load:{noBubble:!0},click:{trigger:function(){if(d.nodeName(this,"input")&&"checkbox"===this.type&&this.click)return this.click(),!1}},focus:{trigger:function(){if(this!==E.activeElement&&this.focus)try{return this.focus(),!1}catch(b){}},delegateType:"focusin"},
blur:{trigger:function(){if(this===E.activeElement&&this.blur)return this.blur(),!1},delegateType:"focusout"},beforeunload:{postDispatch:function(b){b.result!==c&&(b.originalEvent.returnValue=b.result)}}},simulate:function(b,a,c,g){b=d.extend(new d.Event,c,{type:b,isSimulated:!0,originalEvent:{}});g?d.event.trigger(b,null,a):d.event.dispatch.call(a,b);b.isDefaultPrevented()&&c.preventDefault()}};d.removeEvent=E.removeEventListener?function(b,a,d){b.removeEventListener&&b.removeEventListener(a,d,!1)}:
function(b,a,d){a="on"+a;b.detachEvent&&(typeof b[a]===k&&(b[a]=null),b.detachEvent(a,d))};d.Event=function(b,a){if(!(this instanceof d.Event))return new d.Event(b,a);b&&b.type?(this.originalEvent=b,this.type=b.type,this.isDefaultPrevented=b.defaultPrevented||!1===b.returnValue||b.getPreventDefault&&b.getPreventDefault()?v:x):this.type=b;a&&d.extend(this,a);this.timeStamp=b&&b.timeStamp||d.now();this[d.expando]=!0};d.Event.prototype={isDefaultPrevented:x,isPropagationStopped:x,isImmediatePropagationStopped:x,
preventDefault:function(){var b=this.originalEvent;this.isDefaultPrevented=v;b&&(b.preventDefault?b.preventDefault():b.returnValue=!1)},stopPropagation:function(){var b=this.originalEvent;this.isPropagationStopped=v;b&&(b.stopPropagation&&b.stopPropagation(),b.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=v;this.stopPropagation()}};d.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(b,a){d.event.special[b]={delegateType:a,bindType:a,handle:function(b){var c,
e=b.relatedTarget,m=b.handleObj;if(!e||e!==this&&!d.contains(this,e))b.type=m.origType,c=m.handler.apply(this,arguments),b.type=a;return c}}});d.support.submitBubbles||(d.event.special.submit={setup:function(){if(d.nodeName(this,"form"))return!1;d.event.add(this,"click._submit keypress._submit",function(b){b=b.target;(b=d.nodeName(b,"input")||d.nodeName(b,"button")?b.form:c)&&!d._data(b,"submitBubbles")&&(d.event.add(b,"submit._submit",function(b){b._submit_bubble=!0}),d._data(b,"submitBubbles",!0))})},
postDispatch:function(b){b._submit_bubble&&(delete b._submit_bubble,this.parentNode&&!b.isTrigger&&d.event.simulate("submit",this.parentNode,b,!0))},teardown:function(){if(d.nodeName(this,"form"))return!1;d.event.remove(this,"._submit")}});d.support.changeBubbles||(d.event.special.change={setup:function(){if(Ra.test(this.nodeName)){if("checkbox"===this.type||"radio"===this.type)d.event.add(this,"propertychange._change",function(b){"checked"===b.originalEvent.propertyName&&(this._just_changed=!0)}),
d.event.add(this,"click._change",function(b){this._just_changed&&!b.isTrigger&&(this._just_changed=!1);d.event.simulate("change",this,b,!0)});return!1}d.event.add(this,"beforeactivate._change",function(b){b=b.target;Ra.test(b.nodeName)&&!d._data(b,"changeBubbles")&&(d.event.add(b,"change._change",function(b){!this.parentNode||b.isSimulated||b.isTrigger||d.event.simulate("change",this.parentNode,b,!0)}),d._data(b,"changeBubbles",!0))})},handle:function(b){var a=b.target;if(this!==a||b.isSimulated||
b.isTrigger||"radio"!==a.type&&"checkbox"!==a.type)return b.handleObj.handler.apply(this,arguments)},teardown:function(){d.event.remove(this,"._change");return!Ra.test(this.nodeName)}});d.support.focusinBubbles||d.each({focus:"focusin",blur:"focusout"},function(b,a){var c=0,g=function(b){d.event.simulate(a,b.target,d.event.fix(b),!0)};d.event.special[a]={setup:function(){0===c++&&E.addEventListener(b,g,!0)},teardown:function(){0===--c&&E.removeEventListener(b,g,!0)}}});d.fn.extend({on:function(b,
a,s,g,e){var m,f;if("object"===typeof b){"string"!==typeof a&&(s=s||a,a=c);for(m in b)this.on(m,a,s,b[m],e);return this}null==s&&null==g?(g=a,s=a=c):null==g&&("string"===typeof a?(g=s,s=c):(g=s,s=a,a=c));if(!1===g)g=x;else if(!g)return this;1===e&&(f=g,g=function(b){d().off(b);return f.apply(this,arguments)},g.guid=f.guid||(f.guid=d.guid++));return this.each(function(){d.event.add(this,b,g,s,a)})},one:function(b,a,d,c){return this.on(b,a,d,c,1)},off:function(b,a,s){var g;if(b&&b.preventDefault&&b.handleObj)return g=
b.handleObj,d(b.delegateTarget).off(g.namespace?g.origType+"."+g.namespace:g.origType,g.selector,g.handler),this;if("object"===typeof b){for(g in b)this.off(g,a,b[g]);return this}if(!1===a||"function"===typeof a)s=a,a=c;!1===s&&(s=x);return this.each(function(){d.event.remove(this,b,s,a)})},bind:function(b,a,d){return this.on(b,null,a,d)},unbind:function(b,a){return this.off(b,null,a)},delegate:function(b,a,d,c){return this.on(a,b,d,c)},undelegate:function(b,a,d){return 1===arguments.length?this.off(b,
"**"):this.off(a,b||"**",d)},trigger:function(b,a){return this.each(function(){d.event.trigger(b,a,this)})},triggerHandler:function(b,a){var c=this[0];if(c)return d.event.trigger(b,a,c,!0)}});(function(b,a){function c(b){return na.test(b+"")}function g(){var b,a=[];return b=function(d,c){a.push(d+=" ")>w.cacheLength&&delete b[a.shift()];return b[d]=c}}function e(b){b[R]=!0;return b}function m(b){var a=C.createElement("div");try{return b(a)}catch(d){return!1}finally{}}function f(b,a,d,c){var h,g,e,
s,m;(a?a.ownerDocument||a:O)!==C&&Z(a);a=a||C;d=d||[];if(!b||"string"!==typeof b)return d;if(1!==(s=a.nodeType)&&9!==s)return[];if(!E&&!c){if(h=oa.exec(b))if(e=h[1])if(9===s)if((g=a.getElementById(e))&&g.parentNode){if(g.id===e)return d.push(g),d}else return d;else{if(a.ownerDocument&&(g=a.ownerDocument.getElementById(e))&&L(a,g)&&g.id===e)return d.push(g),d}else{if(h[2])return ba.apply(d,da.call(a.getElementsByTagName(b),0)),d;if((e=h[3])&&M.getByClassName&&a.getElementsByClassName)return ba.apply(d,
da.call(a.getElementsByClassName(e),0)),d}if(M.qsa&&!G.test(b)){h=!0;g=R;e=a;m=9===s&&b;if(1===s&&"object"!==a.nodeName.toLowerCase()){s=q(b);(h=a.getAttribute("id"))?g=h.replace(ra,"\\$&"):a.setAttribute("id",g);g="[id='"+g+"'] ";for(e=s.length;e--;)s[e]=g+n(s[e]);e=ia.test(b)&&a.parentNode||a;m=s.join(",")}if(m)try{return ba.apply(d,da.call(e.querySelectorAll(m),0)),d}catch(r){}finally{h||a.removeAttribute("id")}}}var k;a:{b=b.replace(xa,"$1");g=q(b);if(!c&&1===g.length){h=g[0]=g[0].slice(0);if(2<
h.length&&"ID"===(k=h[0]).type&&9===a.nodeType&&!E&&w.relative[h[1].type]){a=w.find.ID(k.matches[0].replace(ua,va),a)[0];if(!a){k=d;break a}b=b.slice(h.shift().value.length)}for(s=ha.needsContext.test(b)?0:h.length;s--;){k=h[s];if(w.relative[e=k.type])break;if(e=w.find[e])if(c=e(k.matches[0].replace(ua,va),ia.test(h[0].type)&&a.parentNode||a)){h.splice(s,1);b=c.length&&n(h);if(!b){ba.apply(d,da.call(c,0));k=d;break a}break}}}A(b,g)(c,a,E,d,ia.test(b));k=d}return k}function k(b,a){var d=a&&b,c=d&&
(~a.sourceIndex||-2147483648)-(~b.sourceIndex||-2147483648);if(c)return c;if(d)for(;d=d.nextSibling;)if(d===a)return-1;return b?1:-1}function l(b){return function(a){return"input"===a.nodeName.toLowerCase()&&a.type===b}}function z(b){return function(a){var d=a.nodeName.toLowerCase();return("input"===d||"button"===d)&&a.type===b}}function p(b){return e(function(a){a=+a;return e(function(d,c){for(var h,g=b([],d.length,a),e=g.length;e--;)d[h=g[e]]&&(d[h]=!(c[h]=d[h]))})})}function q(b,a){var d,c,h,g,
e,s,m;if(e=V[b+" "])return a?0:e.slice(0);e=b;s=[];for(m=w.preFilter;e;){if(!d||(c=ja.exec(e)))c&&(e=e.slice(c[0].length)||e),s.push(h=[]);d=!1;if(c=ka.exec(e))d=c.shift(),h.push({value:d,type:c[0].replace(xa," ")}),e=e.slice(d.length);for(g in w.filter)!(c=ha[g].exec(e))||m[g]&&!(c=m[g](c))||(d=c.shift(),h.push({value:d,type:g,matches:c}),e=e.slice(d.length));if(!d)break}return a?e.length:e?f.error(b):V(b,s).slice(0)}function n(b){for(var a=0,d=b.length,c="";a<d;a++)c+=b[a].value;return c}function I(b,
a,d){var c=a.dir,h=d&&"parentNode"===c,g=T++;return a.first?function(a,d,g){for(;a=a[c];)if(1===a.nodeType||h)return b(a,d,g)}:function(a,d,e){var s,f,m,r=P+" "+g;if(e)for(;a=a[c];){if((1===a.nodeType||h)&&b(a,d,e))return!0}else for(;a=a[c];)if(1===a.nodeType||h)if(m=a[R]||(a[R]={}),(f=m[c])&&f[0]===r){if(!0===(s=f[1])||s===u)return!0===s}else if(f=m[c]=[r],f[1]=b(a,d,e)||u,!0===f[1])return!0}}function Q(b){return 1<b.length?function(a,d,c){for(var h=b.length;h--;)if(!b[h](a,d,c))return!1;return!0}:
b[0]}function v(b,a,d,c,h){for(var g,e=[],s=0,f=b.length,m=null!=a;s<f;s++)if(g=b[s])if(!d||d(g,c,h))e.push(g),m&&a.push(s);return e}function J(b,a,d,c,h,g){c&&!c[R]&&(c=J(c));h&&!h[R]&&(h=J(h,g));return e(function(g,e,s,m){var r,k,l=[],z=[],p=e.length,q;if(!(q=g)){q=a||"*";for(var n=s.nodeType?[s]:s,I=[],Q=0,Y=n.length;Q<Y;Q++)f(q,n[Q],I);q=I}q=!b||!g&&a?q:v(q,l,b,s,m);n=d?h||(g?b:p||c)?[]:e:q;d&&d(q,n,s,m);if(c)for(r=v(n,z),c(r,[],s,m),s=r.length;s--;)if(k=r[s])n[z[s]]=!(q[z[s]]=k);if(g){if(h||
b){if(h){r=[];for(s=n.length;s--;)(k=n[s])&&r.push(q[s]=k);h(null,n=[],r,m)}for(s=n.length;s--;)(k=n[s])&&-1<(r=h?Ca.call(g,k):l[s])&&(g[r]=!(e[r]=k))}}else n=v(n===e?n.splice(p,n.length):n),h?h(null,e,n,m):ba.apply(e,n)})}function t(b){var a,d,c,h=b.length,g=w.relative[b[0].type];d=g||w.relative[" "];for(var e=g?1:0,s=I(function(b){return b===a},d,!0),f=I(function(b){return-1<Ca.call(a,b)},d,!0),m=[function(b,d,c){return!g&&(c||d!==ta)||((a=d).nodeType?s(b,d,c):f(b,d,c))}];e<h;e++)if(d=w.relative[b[e].type])m=
[I(Q(m),d)];else{d=w.filter[b[e].type].apply(null,b[e].matches);if(d[R]){for(c=++e;c<h&&!w.relative[b[c].type];c++);return J(1<e&&Q(m),1<e&&n(b.slice(0,e-1)).replace(xa,"$1"),d,e<c&&t(b.slice(e,c)),c<h&&t(b=b.slice(c)),c<h&&n(b))}m.push(d)}return Q(m)}function x(b,a){var d=0,c=0<a.length,h=0<b.length,g=function(g,e,s,m,r){var k,l,z=[],p=0,q="0",n=g&&[],I=null!=r,Q=ta,Y=g||h&&w.find.TAG("*",r&&e.parentNode||e),J=P+=null==Q?1:Math.random()||.1;I&&(ta=e!==C&&e,u=d);for(;null!=(r=Y[q]);q++){if(h&&r){for(k=
0;l=b[k++];)if(l(r,e,s)){m.push(r);break}I&&(P=J,u=++d)}c&&((r=!l&&r)&&p--,g&&n.push(r))}p+=q;if(c&&q!==p){for(k=0;l=a[k++];)l(n,z,e,s);if(g){if(0<p)for(;q--;)n[q]||z[q]||(z[q]=ea.call(m));z=v(z)}ba.apply(m,z);I&&!g&&0<z.length&&1<p+a.length&&f.uniqueSort(m)}I&&(P=J,ta=Q);return n};return c?e(g):g}function ca(){}var X,u,w,U,F,A,y,ta,Z,C,B,E,G,H,K,L,N,R="sizzle"+-new Date,O=b.document,M={},P=0,T=0,S=g(),V=g(),$=g(),aa=typeof a,W=[],ea=W.pop,ba=W.push,da=W.slice,Ca=W.indexOf||function(b){for(var a=
0,d=this.length;a<d;a++)if(this[a]===b)return a;return-1},W="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+".replace("w","w#"),ga="\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)[\\x20\\t\\r\\n\\f]*(?:([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+W+")|)|)[\\x20\\t\\r\\n\\f]*\\]",fa=":((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+ga.replace(3,8)+")*)|.*)\\)|)",xa=/^[\x20\t\r\n\f]+|((?:^|[^\\])(?:\\.)*)[\x20\t\r\n\f]+$/g,ja=/^[\x20\t\r\n\f]*,[\x20\t\r\n\f]*/,
ka=/^[\x20\t\r\n\f]*([\x20\t\r\n\f>+~])[\x20\t\r\n\f]*/,la=new RegExp(fa),ma=new RegExp("^"+W+"$"),ha={ID:/^#((?:\\.|[\w-]|[^\x00-\xa0])+)/,CLASS:/^\.((?:\\.|[\w-]|[^\x00-\xa0])+)/,NAME:/^\[name=['"]?((?:\\.|[\w-]|[^\x00-\xa0])+)['"]?\]/,TAG:new RegExp("^("+"(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+".replace("w","w*")+")"),ATTR:new RegExp("^"+ga),PSEUDO:new RegExp("^"+fa),CHILD:/^:(only|first|last|nth|nth-last)-(child|of-type)(?:\([\x20\t\r\n\f]*(even|odd|(([+-]|)(\d*)n|)[\x20\t\r\n\f]*(?:([+-]|)[\x20\t\r\n\f]*(\d+)|))[\x20\t\r\n\f]*\)|)/i,
needsContext:/^[\x20\t\r\n\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\([\x20\t\r\n\f]*((?:-\d)?\d*)[\x20\t\r\n\f]*\)|)(?=[^-]|$)/i},ia=/[\x20\t\r\n\f]*[+~]/,na=/^[^{]+\{\s*\[native code/,oa=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,pa=/^(?:input|select|textarea|button)$/i,qa=/^h\d$/i,ra=/'|\\/g,sa=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,ua=/\\([\da-fA-F]{1,6}[\x20\t\r\n\f]?|.)/g,va=function(b,a){var d="0x"+a-65536;return d!==d?a:0>d?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,
d&1023|56320)};try{da.call(O.documentElement.childNodes,0)[0].nodeType}catch(wa){da=function(b){for(var a,d=[];a=this[b++];)d.push(a);return d}}F=f.isXML=function(b){return(b=b&&(b.ownerDocument||b).documentElement)?"HTML"!==b.nodeName:!1};Z=f.setDocument=function(b){var d=b?b.ownerDocument||b:O;if(d===C||9!==d.nodeType||!d.documentElement)return C;C=d;B=d.documentElement;E=F(d);M.tagNameNoComments=m(function(b){b.appendChild(d.createComment(""));return!b.getElementsByTagName("*").length});M.attributes=
m(function(b){b.innerHTML="<select></select>";b=typeof b.lastChild.getAttribute("multiple");return"boolean"!==b&&"string"!==b});M.getByClassName=m(function(b){b.innerHTML="<div class='hidden e'></div><div class='hidden'></div>";if(!b.getElementsByClassName||!b.getElementsByClassName("e").length)return!1;b.lastChild.className="e";return 2===b.getElementsByClassName("e").length});M.getByName=m(function(b){b.id=R+0;b.innerHTML="<a name='"+R+"'></a><div name='"+R+"'></div>";B.insertBefore(b,B.firstChild);
var a=d.getElementsByName&&d.getElementsByName(R).length===2+d.getElementsByName(R+0).length;M.getIdNotName=!d.getElementById(R);B.removeChild(b);return a});w.attrHandle=m(function(b){b.innerHTML="<a href='#'></a>";return b.firstChild&&typeof b.firstChild.getAttribute!==aa&&"#"===b.firstChild.getAttribute("href")})?{}:{href:function(b){return b.getAttribute("href",2)},type:function(b){return b.getAttribute("type")}};M.getIdNotName?(w.find.ID=function(b,a){if(typeof a.getElementById!==aa&&!E){var d=
a.getElementById(b);return d&&d.parentNode?[d]:[]}},w.filter.ID=function(b){var a=b.replace(ua,va);return function(b){return b.getAttribute("id")===a}}):(w.find.ID=function(b,d){if(typeof d.getElementById!==aa&&!E){var c=d.getElementById(b);return c?c.id===b||typeof c.getAttributeNode!==aa&&c.getAttributeNode("id").value===b?[c]:a:[]}},w.filter.ID=function(b){var a=b.replace(ua,va);return function(b){return(b=typeof b.getAttributeNode!==aa&&b.getAttributeNode("id"))&&b.value===a}});w.find.TAG=M.tagNameNoComments?
function(b,a){if(typeof a.getElementsByTagName!==aa)return a.getElementsByTagName(b)}:function(b,a){var d,c=[],h=0,g=a.getElementsByTagName(b);if("*"===b){for(;d=g[h++];)1===d.nodeType&&c.push(d);return c}return g};w.find.NAME=M.getByName&&function(b,a){if(typeof a.getElementsByName!==aa)return a.getElementsByName(name)};w.find.CLASS=M.getByClassName&&function(b,a){if(typeof a.getElementsByClassName!==aa&&!E)return a.getElementsByClassName(b)};H=[];G=[":focus"];if(M.qsa=c(d.querySelectorAll))m(function(b){b.innerHTML=
"<select><option selected=''></option></select>";b.querySelectorAll("[selected]").length||G.push("\\[[\\x20\\t\\r\\n\\f]*(?:checked|disabled|ismap|multiple|readonly|selected|value)");b.querySelectorAll(":checked").length||G.push(":checked")}),m(function(b){b.innerHTML="<input type='hidden' i=''/>";b.querySelectorAll("[i^='']").length&&G.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:\"\"|'')");b.querySelectorAll(":enabled").length||G.push(":enabled",":disabled");b.querySelectorAll("*,:x");G.push(",.*:")});(M.matchesSelector=
c(K=B.matchesSelector||B.mozMatchesSelector||B.webkitMatchesSelector||B.oMatchesSelector||B.msMatchesSelector))&&m(function(b){M.disconnectedMatch=K.call(b,"div");K.call(b,"[s!='']:x");H.push("!=",fa)});G=new RegExp(G.join("|"));H=new RegExp(H.join("|"));L=c(B.contains)||B.compareDocumentPosition?function(b,a){var d=9===b.nodeType?b.documentElement:b,c=a&&a.parentNode;return b===c||!!(c&&1===c.nodeType&&(d.contains?d.contains(c):b.compareDocumentPosition&&b.compareDocumentPosition(c)&16))}:function(b,
a){if(a)for(;a=a.parentNode;)if(a===b)return!0;return!1};N=B.compareDocumentPosition?function(b,a){var c;return b===a?(y=!0,0):(c=a.compareDocumentPosition&&b.compareDocumentPosition&&b.compareDocumentPosition(a))?c&1||b.parentNode&&11===b.parentNode.nodeType?b===d||L(O,b)?-1:a===d||L(O,a)?1:0:c&4?-1:1:b.compareDocumentPosition?-1:1}:function(b,a){var c,h=0;c=b.parentNode;var g=a.parentNode,e=[b],s=[a];if(b===a)return y=!0,0;if(!c||!g)return b===d?-1:a===d?1:c?-1:g?1:0;if(c===g)return k(b,a);for(c=
b;c=c.parentNode;)e.unshift(c);for(c=a;c=c.parentNode;)s.unshift(c);for(;e[h]===s[h];)h++;return h?k(e[h],s[h]):e[h]===O?-1:s[h]===O?1:0};y=!1;[0,0].sort(N);M.detectDuplicates=y;return C};f.matches=function(b,a){return f(b,null,null,a)};f.matchesSelector=function(b,a){(b.ownerDocument||b)!==C&&Z(b);a=a.replace(sa,"='$1']");if(!(!M.matchesSelector||E||H&&H.test(a)||G.test(a)))try{var d=K.call(b,a);if(d||M.disconnectedMatch||b.document&&11!==b.document.nodeType)return d}catch(c){}return 0<f(a,C,null,
[b]).length};f.contains=function(b,a){(b.ownerDocument||b)!==C&&Z(b);return L(b,a)};f.attr=function(b,a){var d;(b.ownerDocument||b)!==C&&Z(b);E||(a=a.toLowerCase());return(d=w.attrHandle[a])?d(b):E||M.attributes?b.getAttribute(a):((d=b.getAttributeNode(a))||b.getAttribute(a))&&!0===b[a]?a:d&&d.specified?d.value:null};f.error=function(b){throw Error("Syntax error, unrecognized expression: "+b);};f.uniqueSort=function(b){var a,d=[],c=1,h=0;y=!M.detectDuplicates;b.sort(N);if(y){for(;a=b[c];c++)a===b[c-
1]&&(h=d.push(c));for(;h--;)b.splice(d[h],1)}return b};U=f.getText=function(b){var a,d="",c=0;a=b.nodeType;if(!a)for(;a=b[c];c++)d+=U(a);else if(1===a||9===a||11===a){if("string"===typeof b.textContent)return b.textContent;for(b=b.firstChild;b;b=b.nextSibling)d+=U(b)}else if(3===a||4===a)return b.nodeValue;return d};w=f.selectors={cacheLength:50,createPseudo:e,match:ha,find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},
preFilter:{ATTR:function(b){b[1]=b[1].replace(ua,va);b[3]=(b[4]||b[5]||"").replace(ua,va);"~="===b[2]&&(b[3]=" "+b[3]+" ");return b.slice(0,4)},CHILD:function(b){b[1]=b[1].toLowerCase();"nth"===b[1].slice(0,3)?(b[3]||f.error(b[0]),b[4]=+(b[4]?b[5]+(b[6]||1):2*("even"===b[3]||"odd"===b[3])),b[5]=+(b[7]+b[8]||"odd"===b[3])):b[3]&&f.error(b[0]);return b},PSEUDO:function(b){var a,d=!b[5]&&b[2];if(ha.CHILD.test(b[0]))return null;b[4]?b[2]=b[4]:d&&la.test(d)&&(a=q(d,!0))&&(a=d.indexOf(")",d.length-a)-d.length)&&
(b[0]=b[0].slice(0,a),b[2]=d.slice(0,a));return b.slice(0,3)}},filter:{TAG:function(b){if("*"===b)return function(){return!0};b=b.replace(ua,va).toLowerCase();return function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(b){var a=S[b+" "];return a||(a=new RegExp("(^|[\\x20\\t\\r\\n\\f])"+b+"([\\x20\\t\\r\\n\\f]|$)"))&&S(b,function(b){return a.test(b.className||typeof b.getAttribute!==aa&&b.getAttribute("class")||"")})},ATTR:function(b,a,d){return function(c){c=f.attr(c,b);if(null==
c)return"!="===a;if(!a)return!0;c+="";return"="===a?c===d:"!="===a?c!==d:"^="===a?d&&0===c.indexOf(d):"*="===a?d&&-1<c.indexOf(d):"$="===a?d&&c.slice(-d.length)===d:"~="===a?-1<(" "+c+" ").indexOf(d):"|="===a?c===d||c.slice(0,d.length+1)===d+"-":!1}},CHILD:function(b,a,d,c,h){var g="nth"!==b.slice(0,3),e="last"!==b.slice(-4),s="of-type"===a;return 1===c&&0===h?function(b){return!!b.parentNode}:function(a,d,m){var f,r,k,l,z;d=g!==e?"nextSibling":"previousSibling";var D=a.parentNode,p=s&&a.nodeName.toLowerCase();
m=!m&&!s;if(D){if(g){for(;d;){for(r=a;r=r[d];)if(s?r.nodeName.toLowerCase()===p:1===r.nodeType)return!1;z=d="only"===b&&!z&&"nextSibling"}return!0}z=[e?D.firstChild:D.lastChild];if(e&&m)for(m=D[R]||(D[R]={}),f=m[b]||[],l=f[0]===P&&f[1],k=f[0]===P&&f[2],r=l&&D.childNodes[l];r=++l&&r&&r[d]||(k=l=0)||z.pop();){if(1===r.nodeType&&++k&&r===a){m[b]=[P,l,k];break}}else if(m&&(f=(a[R]||(a[R]={}))[b])&&f[0]===P)k=f[1];else for(;(r=++l&&r&&r[d]||(k=l=0)||z.pop())&&((s?r.nodeName.toLowerCase()!==p:1!==r.nodeType)||
!++k||(m&&((r[R]||(r[R]={}))[b]=[P,k]),r!==a)););k-=h;return k===c||0===k%c&&0<=k/c}}},PSEUDO:function(b,a){var d,c=w.pseudos[b]||w.setFilters[b.toLowerCase()]||f.error("unsupported pseudo: "+b);return c[R]?c(a):1<c.length?(d=[b,b,"",a],w.setFilters.hasOwnProperty(b.toLowerCase())?e(function(b,d){for(var h,g=c(b,a),e=g.length;e--;)h=Ca.call(b,g[e]),b[h]=!(d[h]=g[e])}):function(b){return c(b,0,d)}):c}},pseudos:{not:e(function(b){var a=[],d=[],c=A(b.replace(xa,"$1"));return c[R]?e(function(b,a,d,h){h=
c(b,null,h,[]);for(var g=b.length;g--;)if(d=h[g])b[g]=!(a[g]=d)}):function(b,h,g){a[0]=b;c(a,null,g,d);return!d.pop()}}),has:e(function(b){return function(a){return 0<f(b,a).length}}),contains:e(function(b){return function(a){return-1<(a.textContent||a.innerText||U(a)).indexOf(b)}}),lang:e(function(b){ma.test(b||"")||f.error("unsupported lang: "+b);b=b.replace(ua,va).toLowerCase();return function(a){var d;do if(d=E?a.getAttribute("xml:lang")||a.getAttribute("lang"):a.lang)return d=d.toLowerCase(),
d===b||0===d.indexOf(b+"-");while((a=a.parentNode)&&1===a.nodeType);return!1}}),target:function(a){var d=b.location&&b.location.hash;return d&&d.slice(1)===a.id},root:function(b){return b===B},focus:function(b){return b===C.activeElement&&(!C.hasFocus||C.hasFocus())&&!!(b.type||b.href||~b.tabIndex)},enabled:function(b){return!1===b.disabled},disabled:function(b){return!0===b.disabled},checked:function(b){var a=b.nodeName.toLowerCase();return"input"===a&&!!b.checked||"option"===a&&!!b.selected},selected:function(b){b.parentNode&&
b.parentNode.selectedIndex;return!0===b.selected},empty:function(b){for(b=b.firstChild;b;b=b.nextSibling)if("@"<b.nodeName||3===b.nodeType||4===b.nodeType)return!1;return!0},parent:function(b){return!w.pseudos.empty(b)},header:function(b){return qa.test(b.nodeName)},input:function(b){return pa.test(b.nodeName)},button:function(b){var a=b.nodeName.toLowerCase();return"input"===a&&"button"===b.type||"button"===a},text:function(b){var a;return"input"===b.nodeName.toLowerCase()&&"text"===b.type&&(null==
(a=b.getAttribute("type"))||a.toLowerCase()===b.type)},first:p(function(){return[0]}),last:p(function(b,a){return[a-1]}),eq:p(function(b,a,d){return[0>d?d+a:d]}),even:p(function(b,a){for(var d=0;d<a;d+=2)b.push(d);return b}),odd:p(function(b,a){for(var d=1;d<a;d+=2)b.push(d);return b}),lt:p(function(b,a,d){for(a=0>d?d+a:d;0<=--a;)b.push(a);return b}),gt:p(function(b,a,d){for(d=0>d?d+a:d;++d<a;)b.push(d);return b})}};for(X in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})w.pseudos[X]=l(X);for(X in{submit:!0,
reset:!0})w.pseudos[X]=z(X);A=f.compile=function(b,a){var d,c=[],h=[],g=$[b+" "];if(!g){a||(a=q(b));for(d=a.length;d--;)g=t(a[d]),g[R]?c.push(g):h.push(g);g=$(b,x(h,c))}return g};w.pseudos.nth=w.pseudos.eq;w.filters=ca.prototype=w.pseudos;w.setFilters=new ca;Z();f.attr=d.attr;d.find=f;d.expr=f.selectors;d.expr[":"]=d.expr.pseudos;d.unique=f.uniqueSort;d.text=f.getText;d.isXMLDoc=f.isXML;d.contains=f.contains})(a);var Qb=/Until$/,Rb=/^(?:parents|prev(?:Until|All))/,zb=/^.[^:#\[\.,]*$/,ib=d.expr.match.needsContext,
Sb={children:!0,contents:!0,next:!0,prev:!0};d.fn.extend({find:function(b){var a,c,g,e=this.length;if("string"!==typeof b)return g=this,this.pushStack(d(b).filter(function(){for(a=0;a<e;a++)if(d.contains(g[a],this))return!0}));c=[];for(a=0;a<e;a++)d.find(b,this[a],c);c=this.pushStack(1<e?d.unique(c):c);c.selector=(this.selector?this.selector+" ":"")+b;return c},has:function(b){var a,c=d(b,this),g=c.length;return this.filter(function(){for(a=0;a<g;a++)if(d.contains(this,c[a]))return!0})},not:function(b){return this.pushStack(J(this,
b,!1))},filter:function(b){return this.pushStack(J(this,b,!0))},is:function(b){return!!b&&("string"===typeof b?ib.test(b)?0<=d(b,this.context).index(this[0]):0<d.filter(b,this).length:0<this.filter(b).length)},closest:function(b,a){for(var c,g=0,e=this.length,m=[],f=ib.test(b)||"string"!==typeof b?d(b,a||this.context):0;g<e;g++)for(c=this[g];c&&c.ownerDocument&&c!==a&&11!==c.nodeType;){if(f?-1<f.index(c):d.find.matchesSelector(c,b)){m.push(c);break}c=c.parentNode}return this.pushStack(1<m.length?
d.unique(m):m)},index:function(b){return b?"string"===typeof b?d.inArray(this[0],d(b)):d.inArray(b.jquery?b[0]:b,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(b,a){var c="string"===typeof b?d(b,a):d.makeArray(b&&b.nodeType?[b]:b),c=d.merge(this.get(),c);return this.pushStack(d.unique(c))},addBack:function(b){return this.add(null==b?this.prevObject:this.prevObject.filter(b))}});d.fn.andSelf=d.fn.addBack;d.each({parent:function(b){return(b=b.parentNode)&&11!==b.nodeType?
b:null},parents:function(b){return d.dir(b,"parentNode")},parentsUntil:function(b,a,c){return d.dir(b,"parentNode",c)},next:function(b){return A(b,"nextSibling")},prev:function(b){return A(b,"previousSibling")},nextAll:function(b){return d.dir(b,"nextSibling")},prevAll:function(b){return d.dir(b,"previousSibling")},nextUntil:function(b,a,c){return d.dir(b,"nextSibling",c)},prevUntil:function(b,a,c){return d.dir(b,"previousSibling",c)},siblings:function(b){return d.sibling((b.parentNode||{}).firstChild,
b)},children:function(b){return d.sibling(b.firstChild)},contents:function(b){return d.nodeName(b,"iframe")?b.contentDocument||b.contentWindow.document:d.merge([],b.childNodes)}},function(b,a){d.fn[b]=function(c,g){var e=d.map(this,a,c);Qb.test(b)||(g=c);g&&"string"===typeof g&&(e=d.filter(g,e));e=1<this.length&&!Sb[b]?d.unique(e):e;1<this.length&&Rb.test(b)&&(e=e.reverse());return this.pushStack(e)}});d.extend({filter:function(b,a,c){c&&(b=":not("+b+")");return 1===a.length?d.find.matchesSelector(a[0],
b)?[a[0]]:[]:d.find.matches(b,a)},dir:function(b,a,e){var g=[];for(b=b[a];b&&9!==b.nodeType&&(e===c||1!==b.nodeType||!d(b).is(e));)1===b.nodeType&&g.push(b),b=b[a];return g},sibling:function(b,a){for(var d=[];b;b=b.nextSibling)1===b.nodeType&&b!==a&&d.push(b);return d}});var $a="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Tb=/ jQuery\d+="(?:null|\d+)"/g,jb=new RegExp("<(?:"+$a+")[\\s/>]",
"i"),Sa=/^\s+/,kb=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,lb=/<([\w:]+)/,mb=/<tbody/i,Ub=/<|&#?\w+;/,Vb=/<(?:script|style|link)/i,Ma=/^(?:checkbox|radio)$/i,Wb=/checked\s*(?:[^=]|=\s*.checked.)/i,nb=/^$|\/(?:java|ecma)script/i,Ab=/^true\/(.*)/,Xb=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,da={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],
tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:d.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},Ta=F(E).appendChild(E.createElement("div"));da.optgroup=da.option;da.tbody=da.tfoot=da.colgroup=da.caption=da.thead;da.th=da.td;d.fn.extend({text:function(b){return d.access(this,function(b){return b===c?d.text(this):this.empty().append((this[0]&&this[0].ownerDocument||E).createTextNode(b))},
null,b,arguments.length)},wrapAll:function(b){if(d.isFunction(b))return this.each(function(a){d(this).wrapAll(b.call(this,a))});if(this[0]){var a=d(b,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&a.insertBefore(this[0]);a.map(function(){for(var b=this;b.firstChild&&1===b.firstChild.nodeType;)b=b.firstChild;return b}).append(this)}return this},wrapInner:function(b){return d.isFunction(b)?this.each(function(a){d(this).wrapInner(b.call(this,a))}):this.each(function(){var a=d(this),c=a.contents();
c.length?c.wrapAll(b):a.append(b)})},wrap:function(b){var a=d.isFunction(b);return this.each(function(c){d(this).wrapAll(a?b.call(this,c):b)})},unwrap:function(){return this.parent().each(function(){d.nodeName(this,"body")||d(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(b){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||this.appendChild(b)})},prepend:function(){return this.domManip(arguments,!0,function(b){1!==this.nodeType&&11!==
this.nodeType&&9!==this.nodeType||this.insertBefore(b,this.firstChild)})},before:function(){return this.domManip(arguments,!1,function(b){this.parentNode&&this.parentNode.insertBefore(b,this)})},after:function(){return this.domManip(arguments,!1,function(b){this.parentNode&&this.parentNode.insertBefore(b,this.nextSibling)})},remove:function(b,a){for(var c,g=0;null!=(c=this[g]);g++)if(!b||0<d.filter(b,[c]).length)a||1!==c.nodeType||d.cleanData(u(c)),c.parentNode&&(a&&d.contains(c.ownerDocument,c)&&
t(u(c,"script")),c.parentNode.removeChild(c));return this},empty:function(){for(var b,a=0;null!=(b=this[a]);a++){for(1===b.nodeType&&d.cleanData(u(b,!1));b.firstChild;)b.removeChild(b.firstChild);b.options&&d.nodeName(b,"select")&&(b.options.length=0)}return this},clone:function(b,a){b=null==b?!1:b;a=null==a?b:a;return this.map(function(){return d.clone(this,b,a)})},html:function(b){return d.access(this,function(b){var a=this[0]||{},g=0,e=this.length;if(b===c)return 1===a.nodeType?a.innerHTML.replace(Tb,
""):c;if(!("string"!==typeof b||Vb.test(b)||!d.support.htmlSerialize&&jb.test(b)||!d.support.leadingWhitespace&&Sa.test(b)||da[(lb.exec(b)||["",""])[1].toLowerCase()])){b=b.replace(kb,"<$1></$2>");try{for(;g<e;g++)a=this[g]||{},1===a.nodeType&&(d.cleanData(u(a,!1)),a.innerHTML=b);a=0}catch(f){}}a&&this.empty().append(b)},null,b,arguments.length)},replaceWith:function(b){d.isFunction(b)||"string"===typeof b||(b=d(b).not(this).detach());return this.domManip([b],!0,function(b){var a=this.nextSibling,
c=this.parentNode;c&&(d(this).remove(),c.insertBefore(b,a))})},detach:function(b){return this.remove(b,!0)},domManip:function(b,a,e){b=Q.apply([],b);var g,f,m,k,l=0,z=this.length,p=this,q=z-1,n=b[0],I=d.isFunction(n);if(I||!(1>=z||"string"!==typeof n||d.support.checkClone)&&Wb.test(n))return this.each(function(d){var g=p.eq(d);I&&(b[0]=n.call(this,d,a?g.html():c));g.domManip(b,a,e)});if(z&&(k=d.buildFragment(b,this[0].ownerDocument,!1,this),g=k.firstChild,1===k.childNodes.length&&(k=g),g)){a=a&&d.nodeName(g,
"tr");m=d.map(u(k,"script"),G);for(f=m.length;l<z;l++)g=k,l!==q&&(g=d.clone(g,!0,!0),f&&d.merge(m,u(g,"script"))),e.call(a&&d.nodeName(this[l],"table")?C(this[l],"tbody"):this[l],g,l);if(f)for(k=m[m.length-1].ownerDocument,d.map(m,y),l=0;l<f;l++)g=m[l],nb.test(g.type||"")&&!d._data(g,"globalEval")&&d.contains(k,g)&&(g.src?d.ajax({url:g.src,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0}):d.globalEval((g.text||g.textContent||g.innerHTML||"").replace(Xb,"")));k=g=null}return this}});d.each({appendTo:"append",
prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(b,a){d.fn[b]=function(b){for(var c=0,e=[],f=d(b),k=f.length-1;c<=k;c++)b=c===k?this:this.clone(!0),d(f[c])[a](b),ca.apply(e,b.get());return this.pushStack(e)}});d.extend({clone:function(b,a,c){var g,e,f,k,l,z=d.contains(b.ownerDocument,b);d.support.html5Clone||d.isXMLDoc(b)||!jb.test("<"+b.nodeName+">")?f=b.cloneNode(!0):(Ta.innerHTML=b.outerHTML,Ta.removeChild(f=Ta.firstChild));if(!(d.support.noCloneEvent&&
d.support.noCloneChecked||1!==b.nodeType&&11!==b.nodeType||d.isXMLDoc(b)))for(g=u(f),l=u(b),k=0;null!=(e=l[k]);++k)if(g[k]){var p=g[k],q=void 0,n=void 0,I=void 0;if(1===p.nodeType){q=p.nodeName.toLowerCase();if(!d.support.noCloneEvent&&p[d.expando]){I=d._data(p);for(n in I.events)d.removeEvent(p,n,I.handle);p.removeAttribute(d.expando)}if("script"===q&&p.text!==e.text)G(p).text=e.text,y(p);else if("object"===q)p.parentNode&&(p.outerHTML=e.outerHTML),d.support.html5Clone&&e.innerHTML&&!d.trim(p.innerHTML)&&
(p.innerHTML=e.innerHTML);else if("input"===q&&Ma.test(e.type))p.defaultChecked=p.checked=e.checked,p.value!==e.value&&(p.value=e.value);else if("option"===q)p.defaultSelected=p.selected=e.defaultSelected;else if("input"===q||"textarea"===q)p.defaultValue=e.defaultValue}}if(a)if(c)for(l=l||u(b),g=g||u(f),k=0;null!=(e=l[k]);k++)B(e,g[k]);else B(b,f);g=u(f,"script");0<g.length&&t(g,!z&&u(b,"script"));return f},buildFragment:function(b,a,c,g){for(var e,f,k,l,p,z,q=b.length,n=F(a),I=[],Q=0;Q<q;Q++)if((f=
b[Q])||0===f)if("object"===d.type(f))d.merge(I,f.nodeType?[f]:f);else if(Ub.test(f)){k=k||n.appendChild(a.createElement("div"));l=(lb.exec(f)||["",""])[1].toLowerCase();z=da[l]||da._default;k.innerHTML=z[1]+f.replace(kb,"<$1></$2>")+z[2];for(e=z[0];e--;)k=k.lastChild;!d.support.leadingWhitespace&&Sa.test(f)&&I.push(a.createTextNode(Sa.exec(f)[0]));if(!d.support.tbody)for(e=(f="table"!==l||mb.test(f)?"<table>"!==z[1]||mb.test(f)?0:k:k.firstChild)&&f.childNodes.length;e--;)d.nodeName(p=f.childNodes[e],
"tbody")&&!p.childNodes.length&&f.removeChild(p);d.merge(I,k.childNodes);for(k.textContent="";k.firstChild;)k.removeChild(k.firstChild);k=n.lastChild}else I.push(a.createTextNode(f));k&&n.removeChild(k);d.support.appendChecked||d.grep(u(I,"input"),K);for(Q=0;f=I[Q++];)if(!g||-1===d.inArray(f,g))if(b=d.contains(f.ownerDocument,f),k=u(n.appendChild(f),"script"),b&&t(k),c)for(e=0;f=k[e++];)nb.test(f.type||"")&&c.push(f);return n},cleanData:function(b,a){for(var c,g,e,f,l=0,p=d.expando,q=d.cache,n=d.support.deleteExpando,
I=d.event.special;null!=(c=b[l]);l++)if(a||d.acceptData(c))if(f=(e=c[p])&&q[e]){if(f.events)for(g in f.events)I[g]?d.event.remove(c,g):d.removeEvent(c,g,f.handle);q[e]&&(delete q[e],n?delete c[p]:typeof c.removeAttribute!==k?c.removeAttribute(p):c[p]=null,z.push(e))}}});var Aa,ia,na,Ua=/alpha\([^)]*\)/i,Yb=/opacity\s*=\s*([^)]*)/,Zb=/^(top|right|bottom|left)$/,$b=/^(none|table(?!-c[ea]).+)/,ob=/^margin/,Bb=new RegExp("^("+R+")(.*)$","i"),Ea=new RegExp("^("+R+")(?!px)[a-z%]+$","i"),ac=new RegExp("^([+-])=("+
R+")","i"),bb={BODY:"block"},bc={position:"absolute",visibility:"hidden",display:"block"},pb={letterSpacing:0,fontWeight:400},ha=["Top","Right","Bottom","Left"],ab=["Webkit","O","Moz","ms"];d.fn.extend({css:function(b,a){return d.access(this,function(b,a,h){var e,f={},k=0;if(d.isArray(a)){e=ia(b);for(h=a.length;k<h;k++)f[a[k]]=d.css(b,a[k],!1,e);return f}return h!==c?d.style(b,a,h):d.css(b,a)},b,a,1<arguments.length)},show:function(){return O(this,!0)},hide:function(){return O(this)},toggle:function(b){var a=
"boolean"===typeof b;return this.each(function(){(a?b:N(this))?d(this).show():d(this).hide()})}});d.extend({cssHooks:{opacity:{get:function(b,a){if(a){var d=na(b,"opacity");return""===d?"1":d}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":d.support.cssFloat?"cssFloat":"styleFloat"},style:function(b,a,e,g){if(b&&3!==b.nodeType&&8!==b.nodeType&&b.style){var f,m,k,l=d.camelCase(a),p=b.style;a=d.cssProps[l]||
(d.cssProps[l]=S(p,l));k=d.cssHooks[a]||d.cssHooks[l];if(e!==c){if(m=typeof e,"string"===m&&(f=ac.exec(e))&&(e=(f[1]+1)*f[2]+parseFloat(d.css(b,a)),m="number"),!(null==e||"number"===m&&isNaN(e)||("number"!==m||d.cssNumber[l]||(e+="px"),d.support.clearCloneStyle||""!==e||0!==a.indexOf("background")||(p[a]="inherit"),k&&"set"in k&&(e=k.set(b,e,g))===c)))try{p[a]=e}catch(z){}}else return k&&"get"in k&&(f=k.get(b,!1,g))!==c?f:p[a]}},css:function(b,a,e,g){var f,m;m=d.camelCase(a);a=d.cssProps[m]||(d.cssProps[m]=
S(b.style,m));(m=d.cssHooks[a]||d.cssHooks[m])&&"get"in m&&(f=m.get(b,!0,e));f===c&&(f=na(b,a,g));"normal"===f&&a in pb&&(f=pb[a]);return""===e||e?(b=parseFloat(f),!0===e||d.isNumeric(b)?b||0:f):f},swap:function(b,a,d,c){var e,f={};for(e in a)f[e]=b.style[e],b.style[e]=a[e];d=d.apply(b,c||[]);for(e in a)b.style[e]=f[e];return d}});a.getComputedStyle?(ia=function(b){return a.getComputedStyle(b,null)},na=function(b,a,e){var g,f=(e=e||ia(b))?e.getPropertyValue(a)||e[a]:c,m=b.style;e&&(""!==f||d.contains(b.ownerDocument,
b)||(f=d.style(b,a)),Ea.test(f)&&ob.test(a)&&(b=m.width,a=m.minWidth,g=m.maxWidth,m.minWidth=m.maxWidth=m.width=f,f=e.width,m.width=b,m.minWidth=a,m.maxWidth=g));return f}):E.documentElement.currentStyle&&(ia=function(b){return b.currentStyle},na=function(b,a,d){var e,f,m=(d=d||ia(b))?d[a]:c,k=b.style;null==m&&k&&k[a]&&(m=k[a]);if(Ea.test(m)&&!Zb.test(a)){d=k.left;if(f=(e=b.runtimeStyle)&&e.left)e.left=b.currentStyle.left;k.left="fontSize"===a?"1em":m;m=k.pixelLeft+"px";k.left=d;f&&(e.left=f)}return""===
m?"auto":m});d.each(["height","width"],function(b,a){d.cssHooks[a]={get:function(b,c,e){if(c)return 0===b.offsetWidth&&$b.test(d.css(b,"display"))?d.swap(b,bc,function(){return L(b,a,e)}):L(b,a,e)},set:function(b,c,e){var f=e&&ia(b);return H(b,c,e?w(b,a,e,d.support.boxSizing&&"border-box"===d.css(b,"boxSizing",!1,f),f):0)}}});d.support.opacity||(d.cssHooks.opacity={get:function(b,a){return Yb.test((a&&b.currentStyle?b.currentStyle.filter:b.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":a?"1":""},
set:function(b,a){var c=b.style,e=b.currentStyle,f=d.isNumeric(a)?"alpha(opacity="+100*a+")":"",m=e&&e.filter||c.filter||"";c.zoom=1;if((1<=a||""===a)&&""===d.trim(m.replace(Ua,""))&&c.removeAttribute&&(c.removeAttribute("filter"),""===a||e&&!e.filter))return;c.filter=Ua.test(m)?m.replace(Ua,f):m+" "+f}});d(function(){d.support.reliableMarginRight||(d.cssHooks.marginRight={get:function(b,a){if(a)return d.swap(b,{display:"inline-block"},na,[b,"marginRight"])}});!d.support.pixelPosition&&d.fn.position&&
d.each(["top","left"],function(b,a){d.cssHooks[a]={get:function(b,c){if(c)return c=na(b,a),Ea.test(c)?d(b).position()[a]+"px":c}}})});d.expr&&d.expr.filters&&(d.expr.filters.hidden=function(b){return 0>=b.offsetWidth&&0>=b.offsetHeight||!d.support.reliableHiddenOffsets&&"none"===(b.style&&b.style.display||d.css(b,"display"))},d.expr.filters.visible=function(b){return!d.expr.filters.hidden(b)});d.each({margin:"",padding:"",border:"Width"},function(b,a){d.cssHooks[b+a]={expand:function(d){var c=0,e=
{};for(d="string"===typeof d?d.split(" "):[d];4>c;c++)e[b+ha[c]+a]=d[c]||d[c-2]||d[0];return e}};ob.test(b)||(d.cssHooks[b+a].set=H)});var cc=/%20/g,Cb=/\[\]$/,qb=/\r?\n/g,dc=/^(?:submit|button|image|reset|file)$/i,ec=/^(?:input|select|textarea|keygen)/i;d.fn.extend({serialize:function(){return d.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var b=d.prop(this,"elements");return b?d.makeArray(b):this}).filter(function(){var b=this.type;return this.name&&!d(this).is(":disabled")&&
ec.test(this.nodeName)&&!dc.test(b)&&(this.checked||!Ma.test(b))}).map(function(b,a){var c=d(this).val();return null==c?null:d.isArray(c)?d.map(c,function(b){return{name:a.name,value:b.replace(qb,"\r\n")}}):{name:a.name,value:c.replace(qb,"\r\n")}}).get()}});d.param=function(b,a){var e,g=[],f=function(b,a){a=d.isFunction(a)?a():null==a?"":a;g[g.length]=encodeURIComponent(b)+"="+encodeURIComponent(a)};a===c&&(a=d.ajaxSettings&&d.ajaxSettings.traditional);if(d.isArray(b)||b.jquery&&!d.isPlainObject(b))d.each(b,
function(){f(this.name,this.value)});else for(e in b)V(e,b[e],a,f);return g.join("&").replace(cc,"+")};d.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(b,a){d.fn[a]=function(b,d){return 0<arguments.length?this.on(a,null,b,d):this.trigger(a)}});d.fn.hover=function(b,a){return this.mouseenter(b).mouseleave(a||b)};var sa,ma,
Va=d.now(),Wa=/\?/,fc=/#.*$/,rb=/([?&])_=[^&]*/,gc=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,hc=/^(?:GET|HEAD)$/,ic=/^\/\//,sb=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,tb=d.fn.load,ub={},Na={},vb="*/".concat("*");try{ma=Ia.href}catch(nc){ma=E.createElement("a"),ma.href="",ma=ma.href}sa=sb.exec(ma.toLowerCase())||[];d.fn.load=function(b,a,e){if("string"!==typeof b&&tb)return tb.apply(this,arguments);var g,f,m,k=this,l=b.indexOf(" ");0<=l&&(g=b.slice(l,b.length),b=b.slice(0,l));d.isFunction(a)?(e=a,a=c):
a&&"object"===typeof a&&(m="POST");0<k.length&&d.ajax({url:b,type:m,dataType:"html",data:a}).done(function(b){f=arguments;k.html(g?d("<div>").append(d.parseHTML(b)).find(g):b)}).complete(e&&function(b,a){k.each(e,f||[b.responseText,a,b])});return this};d.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(b,a){d.fn[a]=function(b){return this.on(a,b)}});d.each(["get","post"],function(b,a){d[a]=function(b,e,f,m){d.isFunction(e)&&(m=m||f,f=e,e=c);return d.ajax({url:b,
type:a,dataType:m,data:e,success:f})}});d.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ma,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(sa[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":vb,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},
converters:{"* text":a.String,"text html":!0,"text json":d.parseJSON,"text xml":d.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(b,a){return a?ea(ea(b,d.ajaxSettings),a):ea(d.ajaxSettings,b)},ajaxPrefilter:M(ub),ajaxTransport:M(Na),ajax:function(b,a){function e(b,a,f,h){var g,s,r,q,t=a;if(2!==X){X=2;l&&clearTimeout(l);z=c;k=h||"";u.readyState=0<b?4:0;if(f){q=n;h=u;var x,ca,U,y,A=q.contents,F=q.dataTypes,C=q.responseFields;for(y in C)y in f&&(h[C[y]]=f[y]);for(;"*"===F[0];)F.shift(),
ca===c&&(ca=q.mimeType||h.getResponseHeader("Content-Type"));if(ca)for(y in A)if(A[y]&&A[y].test(ca)){F.unshift(y);break}if(F[0]in f)U=F[0];else{for(y in f){if(!F[0]||q.converters[y+" "+F[0]]){U=y;break}x||(x=y)}U=U||x}U?(U!==F[0]&&F.unshift(U),q=f[U]):q=void 0}if(200<=b&&300>b||304===b)if(n.ifModified&&((f=u.getResponseHeader("Last-Modified"))&&(d.lastModified[m]=f),(f=u.getResponseHeader("etag"))&&(d.etag[m]=f)),204===b)g=!0,t="nocontent";else if(304===b)g=!0,t="notmodified";else{a:{s=n;r=q;var B,
Z,t={};x=0;ca=s.dataTypes.slice();U=ca[0];s.dataFilter&&(r=s.dataFilter(r,s.dataType));if(ca[1])for(Z in s.converters)t[Z.toLowerCase()]=s.converters[Z];for(;f=ca[++x];)if("*"!==f){if("*"!==U&&U!==f){Z=t[U+" "+f]||t["* "+f];if(!Z)for(B in t)if(g=B.split(" "),g[1]===f&&(Z=t[U+" "+g[0]]||t["* "+g[0]])){!0===Z?Z=t[B]:!0!==t[B]&&(f=g[0],ca.splice(x--,0,f));break}if(!0!==Z)if(Z&&s["throws"])r=Z(r);else try{r=Z(r)}catch(E){g={state:"parsererror",error:Z?E:"No conversion from "+U+" to "+f};break a}}U=f}g=
{state:"success",data:r}}t=g.state;s=g.data;r=g.error;g=!r}else if(r=t,b||!t)t="error",0>b&&(b=0);u.status=b;u.statusText=(a||t)+"";g?v.resolveWith(I,[s,t,u]):v.rejectWith(I,[u,t,r]);u.statusCode(J);J=c;p&&Q.trigger(g?"ajaxSuccess":"ajaxError",[u,n,g?s:r]);w.fireWith(I,[u,t]);p&&(Q.trigger("ajaxComplete",[u,n]),--d.active||d.event.trigger("ajaxStop"))}}"object"===typeof b&&(a=b,b=c);a=a||{};var g,f,m,k,l,p,z,q,n=d.ajaxSetup({},a),I=n.context||n,Q=n.context&&(I.nodeType||I.jquery)?d(I):d.event,v=d.Deferred(),
w=d.Callbacks("once memory"),J=n.statusCode||{},t={},x={},X=0,ca="canceled",u={readyState:0,getResponseHeader:function(b){var a;if(2===X){if(!q)for(q={};a=gc.exec(k);)q[a[1].toLowerCase()]=a[2];a=q[b.toLowerCase()]}return null==a?null:a},getAllResponseHeaders:function(){return 2===X?k:null},setRequestHeader:function(b,a){var d=b.toLowerCase();X||(b=x[d]=x[d]||b,t[b]=a);return this},overrideMimeType:function(b){X||(n.mimeType=b);return this},statusCode:function(b){var a;if(b)if(2>X)for(a in b)J[a]=
[J[a],b[a]];else u.always(b[u.status]);return this},abort:function(b){b=b||ca;z&&z.abort(b);e(0,b);return this}};v.promise(u).complete=w.add;u.success=u.done;u.error=u.fail;n.url=((b||n.url||ma)+"").replace(fc,"").replace(ic,sa[1]+"//");n.type=a.method||a.type||n.method||n.type;n.dataTypes=d.trim(n.dataType||"*").toLowerCase().match(aa)||[""];null==n.crossDomain&&(g=sb.exec(n.url.toLowerCase()),n.crossDomain=!(!g||g[1]===sa[1]&&g[2]===sa[2]&&(g[3]||("http:"===g[1]?80:443))==(sa[3]||("http:"===sa[1]?
80:443))));n.data&&n.processData&&"string"!==typeof n.data&&(n.data=d.param(n.data,n.traditional));W(ub,n,a,u);if(2===X)return u;(p=n.global)&&0===d.active++&&d.event.trigger("ajaxStart");n.type=n.type.toUpperCase();n.hasContent=!hc.test(n.type);m=n.url;n.hasContent||(n.data&&(m=n.url+=(Wa.test(m)?"&":"?")+n.data,delete n.data),!1===n.cache&&(n.url=rb.test(m)?m.replace(rb,"$1_="+Va++):m+(Wa.test(m)?"&":"?")+"_="+Va++));n.ifModified&&(d.lastModified[m]&&u.setRequestHeader("If-Modified-Since",d.lastModified[m]),
d.etag[m]&&u.setRequestHeader("If-None-Match",d.etag[m]));(n.data&&n.hasContent&&!1!==n.contentType||a.contentType)&&u.setRequestHeader("Content-Type",n.contentType);u.setRequestHeader("Accept",n.dataTypes[0]&&n.accepts[n.dataTypes[0]]?n.accepts[n.dataTypes[0]]+("*"!==n.dataTypes[0]?", "+vb+"; q=0.01":""):n.accepts["*"]);for(f in n.headers)u.setRequestHeader(f,n.headers[f]);if(n.beforeSend&&(!1===n.beforeSend.call(I,u,n)||2===X))return u.abort();ca="abort";for(f in{success:1,error:1,complete:1})u[f](n[f]);
if(z=W(Na,n,a,u)){u.readyState=1;p&&Q.trigger("ajaxSend",[u,n]);n.async&&0<n.timeout&&(l=setTimeout(function(){u.abort("timeout")},n.timeout));try{X=1,z.send(t,e)}catch(U){if(2>X)e(-1,U);else throw U;}}else e(-1,"No Transport");return u},getScript:function(b,a){return d.get(b,c,a,"script")},getJSON:function(b,a,c){return d.get(b,a,c,"json")}});d.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},
converters:{"text script":function(b){d.globalEval(b);return b}}});d.ajaxPrefilter("script",function(b){b.cache===c&&(b.cache=!1);b.crossDomain&&(b.type="GET",b.global=!1)});d.ajaxTransport("script",function(b){if(b.crossDomain){var a,e=E.head||d("head")[0]||E.documentElement;return{send:function(d,c){a=E.createElement("script");a.async=!0;b.scriptCharset&&(a.charset=b.scriptCharset);a.src=b.url;a.onload=a.onreadystatechange=function(b,d){if(d||!a.readyState||/loaded|complete/.test(a.readyState))a.onload=
a.onreadystatechange=null,a.parentNode&&a.parentNode.removeChild(a),a=null,d||c(200,"success")};e.insertBefore(a,e.firstChild)},abort:function(){if(a)a.onload(c,!0)}}}});var wb=[],Xa=/(=)\?(?=&|$)|\?\?/;d.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var b=wb.pop()||d.expando+"_"+Va++;this[b]=!0;return b}});d.ajaxPrefilter("json jsonp",function(b,e,f){var g,k,m,l=!1!==b.jsonp&&(Xa.test(b.url)?"url":"string"===typeof b.data&&!(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&
Xa.test(b.data)&&"data");if(l||"jsonp"===b.dataTypes[0])return g=b.jsonpCallback=d.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,l?b[l]=b[l].replace(Xa,"$1"+g):!1!==b.jsonp&&(b.url+=(Wa.test(b.url)?"&":"?")+b.jsonp+"="+g),b.converters["script json"]=function(){m||d.error(g+" was not called");return m[0]},b.dataTypes[0]="json",k=a[g],a[g]=function(){m=arguments},f.always(function(){a[g]=k;b[g]&&(b.jsonpCallback=e.jsonpCallback,wb.push(g));m&&d.isFunction(k)&&k(m[0]);m=k=c}),"script"});
var za,Da,jc=0,Ya=a.ActiveXObject&&function(){for(var b in za)za[b](c,!0)};d.ajaxSettings.xhr=a.ActiveXObject?function(){var b;if(!(b=!this.isLocal&&ga()))a:{try{b=new a.ActiveXObject("Microsoft.XMLHTTP");break a}catch(d){}b=void 0}return b}:ga;Da=d.ajaxSettings.xhr();d.support.cors=!!Da&&"withCredentials"in Da;(Da=d.support.ajax=!!Da)&&d.ajaxTransport(function(b){if(!b.crossDomain||d.support.cors){var e;return{send:function(f,g){var k,m,l=b.xhr();b.username?l.open(b.type,b.url,b.async,b.username,
b.password):l.open(b.type,b.url,b.async);if(b.xhrFields)for(m in b.xhrFields)l[m]=b.xhrFields[m];b.mimeType&&l.overrideMimeType&&l.overrideMimeType(b.mimeType);b.crossDomain||f["X-Requested-With"]||(f["X-Requested-With"]="XMLHttpRequest");try{for(m in f)l.setRequestHeader(m,f[m])}catch(p){}l.send(b.hasContent&&b.data||null);e=function(a,f){var m,s,p,n;try{if(e&&(f||4===l.readyState))if(e=c,k&&(l.onreadystatechange=d.noop,Ya&&delete za[k]),f)4!==l.readyState&&l.abort();else{n={};m=l.status;s=l.getAllResponseHeaders();
"string"===typeof l.responseText&&(n.text=l.responseText);try{p=l.statusText}catch(z){p=""}m||!b.isLocal||b.crossDomain?1223===m&&(m=204):m=n.text?200:404}}catch(q){f||g(-1,q)}n&&g(m,p,n,s)};b.async?4===l.readyState?setTimeout(e):(k=++jc,Ya&&(za||(za={},d(a).unload(Ya)),za[k]=e),l.onreadystatechange=e):e()},abort:function(){e&&e(c,!0)}}}});var wa,La,kc=/^(?:toggle|show|hide)$/,lc=new RegExp("^(?:([+-])=|)("+R+")([a-z%]*)$","i"),mc=/queueHooks$/,Ga=[function(b,a,c){var e,f,m,k,l,p,n=this,z=b.style,
q={},I=[],Q=b.nodeType&&N(b);c.queue||(l=d._queueHooks(b,"fx"),null==l.unqueued&&(l.unqueued=0,p=l.empty.fire,l.empty.fire=function(){l.unqueued||p()}),l.unqueued++,n.always(function(){n.always(function(){l.unqueued--;d.queue(b,"fx").length||l.empty.fire()})}));1===b.nodeType&&("height"in a||"width"in a)&&(c.overflow=[z.overflow,z.overflowX,z.overflowY],"inline"===d.css(b,"display")&&"none"===d.css(b,"float")&&(d.support.inlineBlockNeedsLayout&&"inline"!==P(b.nodeName)?z.zoom=1:z.display="inline-block"));
c.overflow&&(z.overflow="hidden",d.support.shrinkWrapBlocks||n.always(function(){z.overflow=c.overflow[0];z.overflowX=c.overflow[1];z.overflowY=c.overflow[2]}));for(f in a)m=a[f],kc.exec(m)&&(delete a[f],e=e||"toggle"===m,m!==(Q?"hide":"show")&&I.push(f));if(a=I.length)for(m=d._data(b,"fxshow")||d._data(b,"fxshow",{}),("hidden"in m)&&(Q=m.hidden),e&&(m.hidden=!Q),Q?d(b).show():n.done(function(){d(b).hide()}),n.done(function(){var a;d._removeData(b,"fxshow");for(a in q)d.style(b,a,q[a])}),f=0;f<a;f++)e=
I[f],k=n.createTween(e,Q?m[e]:0),q[e]=m[e]||d.style(b,e),e in m||(m[e]=k.start,Q&&(k.end=k.start,k.start="width"===e||"height"===e?1:0))}],Ba={"*":[function(b,a){var c,e,f=this.createTween(b,a),m=lc.exec(a),k=f.cur(),l=+k||0,n=1,p=20;if(m){c=+m[2];e=m[3]||(d.cssNumber[b]?"":"px");if("px"!==e&&l){l=d.css(f.elem,b,!0)||c||1;do n=n||".5",l/=n,d.style(f.elem,b,l+e);while(n!==(n=f.cur()/k)&&1!==n&&--p)}f.unit=e;f.start=l;f.end=m[1]?l+(m[1]+1)*c:c}return f}]};d.Animation=d.extend(Fa,{tweener:function(b,
a){d.isFunction(b)?(a=b,b=["*"]):b=b.split(" ");for(var c,e=0,f=b.length;e<f;e++)c=b[e],Ba[c]=Ba[c]||[],Ba[c].unshift(a)},prefilter:function(b,a){a?Ga.unshift(b):Ga.push(b)}});d.Tween=T;T.prototype={constructor:T,init:function(b,a,c,e,f,m){this.elem=b;this.prop=c;this.easing=f||"swing";this.options=a;this.start=this.now=this.cur();this.end=e;this.unit=m||(d.cssNumber[c]?"":"px")},cur:function(){var b=T.propHooks[this.prop];return b&&b.get?b.get(this):T.propHooks._default.get(this)},run:function(b){var a,
c=T.propHooks[this.prop];this.pos=this.options.duration?a=d.easing[this.easing](b,this.options.duration*b,0,1,this.options.duration):a=b;this.now=(this.end-this.start)*a+this.start;this.options.step&&this.options.step.call(this.elem,this.now,this);c&&c.set?c.set(this):T.propHooks._default.set(this);return this}};T.prototype.init.prototype=T.prototype;T.propHooks={_default:{get:function(b){return null==b.elem[b.prop]||b.elem.style&&null!=b.elem.style[b.prop]?(b=d.css(b.elem,b.prop,""))&&"auto"!==b?
b:0:b.elem[b.prop]},set:function(b){if(d.fx.step[b.prop])d.fx.step[b.prop](b);else b.elem.style&&(null!=b.elem.style[d.cssProps[b.prop]]||d.cssHooks[b.prop])?d.style(b.elem,b.prop,b.now+b.unit):b.elem[b.prop]=b.now}}};T.propHooks.scrollTop=T.propHooks.scrollLeft={set:function(b){b.elem.nodeType&&b.elem.parentNode&&(b.elem[b.prop]=b.now)}};d.each(["toggle","show","hide"],function(b,a){var c=d.fn[a];d.fn[a]=function(b,d,e){return null==b||"boolean"===typeof b?c.apply(this,arguments):this.animate(ja(a,
!0),b,d,e)}});d.fn.extend({fadeTo:function(b,a,d,c){return this.filter(N).css("opacity",0).show().end().animate({opacity:a},b,d,c)},animate:function(b,a,c,e){var f=d.isEmptyObject(b),m=d.speed(a,c,e),k=function(){var a=Fa(this,d.extend({},b),m);k.finish=function(){a.stop(!0)};(f||d._data(this,"finish"))&&a.stop(!0)};k.finish=k;return f||!1===m.queue?this.each(k):this.queue(m.queue,k)},stop:function(b,a,e){var f=function(b){var a=b.stop;delete b.stop;a(e)};"string"!==typeof b&&(e=a,a=b,b=c);a&&!1!==
b&&this.queue(b||"fx",[]);return this.each(function(){var a=!0,c=null!=b&&b+"queueHooks",h=d.timers,k=d._data(this);if(c)k[c]&&k[c].stop&&f(k[c]);else for(c in k)k[c]&&k[c].stop&&mc.test(c)&&f(k[c]);for(c=h.length;c--;)h[c].elem!==this||null!=b&&h[c].queue!==b||(h[c].anim.stop(e),a=!1,h.splice(c,1));!a&&e||d.dequeue(this,b)})},finish:function(b){!1!==b&&(b=b||"fx");return this.each(function(){var a,c=d._data(this),e=c[b+"queue"];a=c[b+"queueHooks"];var f=d.timers,k=e?e.length:0;c.finish=!0;d.queue(this,
b,[]);a&&a.cur&&a.cur.finish&&a.cur.finish.call(this);for(a=f.length;a--;)f[a].elem===this&&f[a].queue===b&&(f[a].anim.stop(!0),f.splice(a,1));for(a=0;a<k;a++)e[a]&&e[a].finish&&e[a].finish.call(this);delete c.finish})}});d.each({slideDown:ja("show"),slideUp:ja("hide"),slideToggle:ja("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(b,a){d.fn[b]=function(b,d,c){return this.animate(a,b,d,c)}});d.speed=function(b,a,c){var e=b&&"object"===typeof b?d.extend({},
b):{complete:c||!c&&a||d.isFunction(b)&&b,duration:b,easing:c&&a||a&&!d.isFunction(a)&&a};e.duration=d.fx.off?0:"number"===typeof e.duration?e.duration:e.duration in d.fx.speeds?d.fx.speeds[e.duration]:d.fx.speeds._default;if(null==e.queue||!0===e.queue)e.queue="fx";e.old=e.complete;e.complete=function(){d.isFunction(e.old)&&e.old.call(this);e.queue&&d.dequeue(this,e.queue)};return e};d.easing={linear:function(b){return b},swing:function(b){return.5-Math.cos(b*Math.PI)/2}};d.timers=[];d.fx=T.prototype.init;
d.fx.tick=function(){var b,a=d.timers,e=0;for(wa=d.now();e<a.length;e++)b=a[e],b()||a[e]!==b||a.splice(e--,1);a.length||d.fx.stop();wa=c};d.fx.timer=function(b){b()&&d.timers.push(b)&&d.fx.start()};d.fx.interval=13;d.fx.start=function(){La||(La=setInterval(d.fx.tick,d.fx.interval))};d.fx.stop=function(){clearInterval(La);La=null};d.fx.speeds={slow:600,fast:200,_default:400};d.fx.step={};d.expr&&d.expr.filters&&(d.expr.filters.animated=function(b){return d.grep(d.timers,function(a){return b===a.elem}).length});
d.fn.offset=function(b){if(arguments.length)return b===c?this:this.each(function(a){d.offset.setOffset(this,b,a)});var a,e,f={top:0,left:0},l=(e=this[0])&&e.ownerDocument;if(l){a=l.documentElement;if(!d.contains(a,e))return f;typeof e.getBoundingClientRect!==k&&(f=e.getBoundingClientRect());e=oa(l);return{top:f.top+(e.pageYOffset||a.scrollTop)-(a.clientTop||0),left:f.left+(e.pageXOffset||a.scrollLeft)-(a.clientLeft||0)}}};d.offset={setOffset:function(b,a,c){var e=d.css(b,"position");"static"===e&&
(b.style.position="relative");var f=d(b),k=f.offset(),l=d.css(b,"top"),n=d.css(b,"left"),p={},z={};("absolute"===e||"fixed"===e)&&-1<d.inArray("auto",[l,n])?(z=f.position(),e=z.top,n=z.left):(e=parseFloat(l)||0,n=parseFloat(n)||0);d.isFunction(a)&&(a=a.call(b,c,k));null!=a.top&&(p.top=a.top-k.top+e);null!=a.left&&(p.left=a.left-k.left+n);"using"in a?a.using.call(b,p):f.css(p)}};d.fn.extend({position:function(){if(this[0]){var b,a,c={top:0,left:0},e=this[0];"fixed"===d.css(e,"position")?a=e.getBoundingClientRect():
(b=this.offsetParent(),a=this.offset(),d.nodeName(b[0],"html")||(c=b.offset()),c.top+=d.css(b[0],"borderTopWidth",!0),c.left+=d.css(b[0],"borderLeftWidth",!0));return{top:a.top-c.top-d.css(e,"marginTop",!0),left:a.left-c.left-d.css(e,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var b=this.offsetParent||E.documentElement;b&&!d.nodeName(b,"html")&&"static"===d.css(b,"position");)b=b.offsetParent;return b||E.documentElement})}});d.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},
function(b,a){var e=/Y/.test(a);d.fn[b]=function(f){return d.access(this,function(b,f,g){var k=oa(b);if(g===c)return k?a in k?k[a]:k.document.documentElement[f]:b[f];k?k.scrollTo(e?d(k).scrollLeft():g,e?g:d(k).scrollTop()):b[f]=g},b,f,arguments.length,null)}});d.each({Height:"height",Width:"width"},function(b,a){d.each({padding:"inner"+b,content:a,"":"outer"+b},function(e,f){d.fn[f]=function(f,g){var k=arguments.length&&(e||"boolean"!==typeof f),l=e||(!0===f||!0===g?"margin":"border");return d.access(this,
function(a,e,f){return d.isWindow(a)?a.document.documentElement["client"+b]:9===a.nodeType?(e=a.documentElement,Math.max(a.body["scroll"+b],e["scroll"+b],a.body["offset"+b],e["offset"+b],e["client"+b])):f===c?d.css(a,e,l):d.style(a,e,f,l)},a,k?f:c,k,null)}})});a.jQuery=a.$=d;"function"===typeof define&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return d})})(window);var WebMol=WebMol||{};
WebMol.Math={clamp:function(a,c,e){return Math.min(Math.max(a,c),e)},degToRad:function(){var a=Math.PI/180;return function(c){return c*a}}()};WebMol.Quaternion=function(a,c,e,f){this.x=a||0;this.y=c||0;this.z=e||0;this.w=void 0!==f?f:1};
WebMol.Quaternion.prototype={constructor:WebMol.Quaternion,set:function(a,c,e,f){this.x=a;this.y=c;this.z=e;this.w=f;return this},copy:function(a){this.x=a.x;this.y=a.y;this.z=a.z;this.w=a.w;return this},conjugate:function(){this.x*=-1;this.y*=-1;this.z*=-1;return this},inverse:function(){return this.conjugate().normalize()},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},normalize:function(){var a=this.length();0===a?(this.z=this.y=this.x=0,this.w=1):
(a=1/a,this.x*=a,this.y*=a,this.z*=a,this.w*=a);return this},multiply:function(a){return this.multiplyQuaternions(this,a)},multiplyQuaternions:function(a,c){var e=a.x,f=a.y,l=a.z,q=a.w,p=c.x,n=c.y,v=c.z,x=c.w;this.x=e*x+q*p+f*v-l*n;this.y=f*x+q*n+l*p-e*v;this.z=l*x+q*v+e*n-f*p;this.w=q*x-e*p-f*n-l*v}};WebMol.Vector2=function(a,c){this.x=a||0;this.y=c||0};
WebMol.Vector2.prototype={constructor:WebMol.Vector2,set:function(a,c){this.x=a;this.y=c;return this},subVectors:function(a,c){this.x=a.x-c.x;this.y=a.y-c.y;return this},copy:function(a){this.x=a.x;this.y=a.y;return this},clone:function(){return new WebMol.Vector2(this.x,this.y)}};WebMol.Vector3=function(a,c,e){this.x=a||0;this.y=c||0;this.z=e||0};
WebMol.Vector3.prototype={constructor:WebMol.Vector3,set:function(a,c,e){this.x=a;this.y=c;this.z=e;return this},copy:function(a){this.x=a.x;this.y=a.y;this.z=a.z;return this},add:function(a){this.x+=a.x;this.y+=a.y;this.z+=a.z;return this},addVectors:function(a,c){this.x=a.x+c.x;this.y=a.y+c.y;this.z=a.z+c.z;return this},sub:function(a){this.x-=a.x;this.y-=a.y;this.z-=a.z;return this},subVectors:function(a,c){this.x=a.x-c.x;this.y=a.y-c.y;this.z=a.z-c.z;return this},multiplyScalar:function(a){this.x*=
a;this.y*=a;this.z*=a;return this},divideScalar:function(a){0!==a?(this.x/=a,this.y/=a,this.z/=a):this.z=this.y=this.x=0;return this},distanceTo:function(a){return Math.sqrt(this.distanceToSquared(a))},distanceToSquared:function(a){var c=this.x-a.x,e=this.y-a.y;a=this.z-a.z;return c*c+e*e+a*a},applyMatrix4:function(a){var c=this.x,e=this.y,f=this.z;a=a.elements;this.x=a[0]*c+a[4]*e+a[8]*f+a[12];this.y=a[1]*c+a[5]*e+a[9]*f+a[13];this.z=a[2]*c+a[6]*e+a[10]*f+a[14];return this},applyProjection:function(a){var c=
this.x,e=this.y,f=this.z;a=a.elements;var l=a[3]*c+a[7]*e+a[11]*f+a[15];this.x=(a[0]*c+a[4]*e+a[8]*f+a[12])/l;this.y=(a[1]*c+a[5]*e+a[9]*f+a[13])/l;this.z=(a[2]*c+a[6]*e+a[10]*f+a[14])/l;return this},applyQuaternion:function(a){var c=this.x,e=this.y,f=this.z,l=a.x,q=a.y,p=a.z;a=a.w;var n=a*c+q*f-p*e,v=a*e+p*c-l*f,x=a*f+l*e-q*c,c=-a*c-q*e-p*f;this.x=n*a+c*-l+v*-p-x*-q;this.y=v*a+c*-q+x*-l-n*-p;this.z=x*a+c*-p+n*-q-v*-l;return this},negate:function(){return this.multiplyScalar(-1)},dot:function(a){return this.x*
a.x+this.y*a.y+this.z*a.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},normalize:function(){return this.divideScalar(this.length())},cross:function(a){var c=this.x,e=this.y,f=this.z;this.x=e*a.z-f*a.y;this.y=f*a.x-c*a.z;this.z=c*a.y-e*a.x;return this},crossVectors:function(a,c){this.x=a.y*c.z-a.z*c.y;this.y=a.z*c.x-a.x*c.z;this.z=a.x*c.y-a.y*c.x;return this},getPositionFromMatrix:function(a){this.x=
a.elements[12];this.y=a.elements[13];this.z=a.elements[14];return this},setEulerFromRotationMatrix:function(a,c){var e=a.elements,f=e[0],l=e[4],q=e[8],p=e[5],n=e[9],v=e[6],e=e[10];void 0===c||"XYZ"===c?(this.y=Math.asin(WebMol.Math.clamp(q,-1,1)),.99999>Math.abs(q)?(this.x=Math.atan2(-n,e),this.z=Math.atan2(-l,f)):(this.x=Math.atan2(v,p),this.z=0)):console.error("Error with vector's setEulerFromRotationMatrix: Unknown order: "+c);return this},clone:function(){return new WebMol.Vector3(this.x,this.y,
this.z)}};WebMol.Matrix3=function(a,c,e,f,l,q,p,n,v){this.elements=new Float32Array(9);this.set(void 0!==a?a:1,c||0,e||0,f||0,void 0!==l?l:1,q||0,p||0,n||0,void 0!==v?v:1)};
WebMol.Matrix3.prototype={constructor:WebMol.Matrix3,set:function(a,c,e,f,l,q,p,n,v){var x=this.elements;x[0]=a;x[3]=c;x[6]=e;x[1]=f;x[4]=l;x[7]=q;x[2]=p;x[5]=n;x[8]=v;return this},identity:function(){this.set(1,0,0,0,1,0,0,0,1);return this},copy:function(a){a=a.elements;this.set(a[0],a[3],a[6],a[1],a[4],a[7],a[2],a[5],a[8])},multiplyScalar:function(a){var c=this.elements;c[0]*=a;c[3]*=a;c[6]*=a;c[1]*=a;c[4]*=a;c[7]*=a;c[2]*=a;c[5]*=a;c[8]*=a;return this},getInverse:function(a,c){var e=a.elements,
f=this.elements;f[0]=e[10]*e[5]-e[6]*e[9];f[1]=-e[10]*e[1]+e[2]*e[9];f[2]=e[6]*e[1]-e[2]*e[5];f[3]=-e[10]*e[4]+e[6]*e[8];f[4]=e[10]*e[0]-e[2]*e[8];f[5]=-e[6]*e[0]+e[2]*e[4];f[6]=e[9]*e[4]-e[5]*e[8];f[7]=-e[9]*e[0]+e[1]*e[8];f[8]=e[5]*e[0]-e[1]*e[4];e=e[0]*f[0]+e[1]*f[3]+e[2]*f[6];if(0===e){if(c)throw Error("Matrix3.getInverse(): can't invert matrix, determinant is 0");console.warn("Matrix3.getInverse(): can't invert matrix, determinant is 0");this.identity();return this}this.multiplyScalar(1/e);return this},
transpose:function(){var a,c=this.elements;a=c[1];c[1]=c[3];c[3]=a;a=c[2];c[2]=c[6];c[6]=a;a=c[5];c[5]=c[7];c[7]=a;return this},clone:function(){var a=this.elements;return new WebMol.Matrix3(a[0],a[3],a[6],a[1],a[4],a[7],a[2],a[5],a[8])}};
WebMol.Matrix4=function(a,c,e,f,l,q,p,n,v,x,A,J,F,C,G,y){var t=this.elements=new Float32Array(16);t[0]=void 0!==a?a:1;t[4]=c||0;t[8]=e||0;t[12]=f||0;t[1]=l||0;t[5]=void 0!==q?q:1;t[9]=p||0;t[13]=n||0;t[2]=v||0;t[6]=x||0;t[10]=void 0!==A?A:1;t[14]=J||0;t[3]=F||0;t[7]=C||0;t[11]=G||0;t[15]=void 0!==y?y:1};
WebMol.Matrix4.prototype={constructor:WebMol.Matrix4,set:function(a,c,e,f,l,q,p,n,v,x,A,J,F,C,G,y){var t=this.elements;t[0]=a;t[4]=c;t[8]=e;t[12]=f;t[1]=l;t[5]=q;t[9]=p;t[13]=n;t[2]=v;t[6]=x;t[10]=A;t[14]=J;t[3]=F;t[7]=C;t[11]=G;t[15]=y;return this},identity:function(){this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1);return this},copy:function(a){a=a.elements;this.set(a[0],a[4],a[8],a[12],a[1],a[5],a[9],a[13],a[2],a[6],a[10],a[14],a[3],a[7],a[11],a[15]);return this},setRotationFromEuler:function(a,c){var e=
this.elements,f=a.x,l=a.y,q=a.z,p=Math.cos(f),f=Math.sin(f),n=Math.cos(l),l=Math.sin(l),v=Math.cos(q),q=Math.sin(q);if(void 0===c||"XYZ"===c){var x=p*v,A=p*q,J=f*v,F=f*q;e[0]=n*v;e[4]=-n*q;e[8]=l;e[1]=A+J*l;e[5]=x-F*l;e[9]=-f*n;e[2]=F-x*l;e[6]=J+A*l;e[10]=p*n}else console.error("Error with matrix4 setRotationFromEuler. Order: "+c);return this},setRotationFromQuaternion:function(a){var c=this.elements,e=a.x,f=a.y,l=a.z,q=a.w,p=e+e,n=f+f,v=l+l;a=e*p;var x=e*n,e=e*v,A=f*n,f=f*v,l=l*v,p=q*p,n=q*n,q=q*
v;c[0]=1-(A+l);c[4]=x-q;c[8]=e+n;c[1]=x+q;c[5]=1-(a+l);c[9]=f-p;c[2]=e-n;c[6]=f+p;c[10]=1-(a+A);return this},lookAt:function(){var a=new WebMol.Vector3,c=new WebMol.Vector3,e=new WebMol.Vector3;return function(f,l,q){var p=this.elements;e.subVectors(f,l).normalize();0===e.length()&&(e.z=1);a.crossVectors(q,e).normalize();0===a.length()&&(e.x+=1E-4,a.crossVectors(q,e).normalize());c.crossVectors(e,a);p[0]=a.x;p[4]=c.x;p[8]=e.x;p[1]=a.y;p[5]=c.y;p[9]=e.y;p[2]=a.z;p[6]=c.z;p[10]=e.z;return this}}(),
multiplyMatrices:function(a,c){var e=a.elements,f=c.elements,l=this.elements,q=e[0],p=e[4],n=e[8],v=e[12],x=e[1],A=e[5],J=e[9],F=e[13],C=e[2],G=e[6],y=e[10],t=e[14],B=e[3],u=e[7],K=e[11],e=e[15],S=f[0],N=f[4],O=f[8],H=f[12],w=f[1],L=f[5],P=f[9],$=f[13],V=f[2],M=f[6],W=f[10],ea=f[14],ga=f[3],fa=f[7],ba=f[11],f=f[15];l[0]=q*S+p*w+n*V+v*ga;l[4]=q*N+p*L+n*M+v*fa;l[8]=q*O+p*P+n*W+v*ba;l[12]=q*H+p*$+n*ea+v*f;l[1]=x*S+A*w+J*V+F*ga;l[5]=x*N+A*L+J*M+F*fa;l[9]=x*O+A*P+J*W+F*ba;l[13]=x*H+A*$+J*ea+F*f;l[2]=C*
S+G*w+y*V+t*ga;l[6]=C*N+G*L+y*M+t*fa;l[10]=C*O+G*P+y*W+t*ba;l[14]=C*H+G*$+y*ea+t*f;l[3]=B*S+u*w+K*V+e*ga;l[7]=B*N+u*L+K*M+e*fa;l[11]=B*O+u*P+K*W+e*ba;l[15]=B*H+u*$+K*ea+e*f;return this},multiplyScalar:function(a){var c=this.elements;c[0]*=a;c[4]*=a;c[8]*=a;c[12]*=a;c[1]*=a;c[5]*=a;c[9]*=a;c[13]*=a;c[2]*=a;c[6]*=a;c[10]*=a;c[14]*=a;c[3]*=a;c[7]*=a;c[11]*=a;c[15]*=a;return this},transpose:function(){var a=this.elements,c;c=a[1];a[1]=a[4];a[4]=c;c=a[2];a[2]=a[8];a[8]=c;c=a[6];a[6]=a[9];a[9]=c;c=a[3];
a[3]=a[12];a[12]=c;c=a[7];a[7]=a[13];a[13]=c;c=a[11];a[11]=a[14];a[14]=c;return this},getPosition:function(){var a=new WebMol.Vector3;return function(){console.warn("DEPRECATED: Matrix4's .getPosition() has been removed. Use Vector3.getPositionFromMatrix( matrix ) instead.");var c=this.elements;return a.set(c[12],c[13],c[14])}}(),setPosition:function(a){var c=this.elements;c[12]=a.x;c[13]=a.y;c[14]=a.z;return this},getInverse:function(a,c){var e=this.elements,f=a.elements,l=f[0],q=f[4],p=f[8],n=f[12],
v=f[1],x=f[5],A=f[9],J=f[13],F=f[2],C=f[6],G=f[10],y=f[14],t=f[3],B=f[7],u=f[11],K=f[15];e[0]=A*y*B-J*G*B+J*C*u-x*y*u-A*C*K+x*G*K;e[4]=n*G*B-p*y*B-n*C*u+q*y*u+p*C*K-q*G*K;e[8]=p*J*B-n*A*B+n*x*u-q*J*u-p*x*K+q*A*K;e[12]=n*A*C-p*J*C-n*x*G+q*J*G+p*x*y-q*A*y;e[1]=J*G*t-A*y*t-J*F*u+v*y*u+A*F*K-v*G*K;e[5]=p*y*t-n*G*t+n*F*u-l*y*u-p*F*K+l*G*K;e[9]=n*A*t-p*J*t-n*v*u+l*J*u+p*v*K-l*A*K;e[13]=p*J*F-n*A*F+n*v*G-l*J*G-p*v*y+l*A*y;e[2]=x*y*t-J*C*t+J*F*B-v*y*B-x*F*K+v*C*K;e[6]=n*C*t-q*y*t-n*F*B+l*y*B+q*F*K-l*C*K;
e[10]=q*J*t-n*x*t+n*v*B-l*J*B-q*v*K+l*x*K;e[14]=n*x*F-q*J*F-n*v*C+l*J*C+q*v*y-l*x*y;e[3]=A*C*t-x*G*t-A*F*B+v*G*B+x*F*u-v*C*u;e[7]=q*G*t-p*C*t+p*F*B-l*G*B-q*F*u+l*C*u;e[11]=p*x*t-q*A*t-p*v*B+l*A*B+q*v*u-l*x*u;e[15]=q*A*F-p*x*F+p*v*C-l*A*C-q*v*G+l*x*G;e=f[0]*e[0]+f[1]*e[4]+f[2]*e[8]+f[3]*e[12];if(0===e){if(c)throw Error("Matrix4.getInverse(): can't invert matrix, determinant is 0");console.warn("Matrix4.getInverse(): can't invert matrix, determinant is 0");this.identity();return this}this.multiplyScalar(1/
e);return this},compose:function(){var a=new WebMol.Matrix4,c=new WebMol.Matrix4;return function(e,f,l){var q=this.elements;a.identity();a.setRotationFromQuaternion(f);c.makeScale(l.x,l.y,l.z);this.multiplyMatrices(a,c);q[12]=e.x;q[13]=e.y;q[14]=e.z;return this}}(),decompose:function(){var a=new WebMol.Vector3,c=new WebMol.Vector3,e=new WebMol.Vector3,f=new WebMol.Matrix4;return function(l,q,p){var n=this.elements;a.set(n[0],n[1],n[2]);c.set(n[4],n[5],n[6]);e.set(n[8],n[9],n[10]);l=l instanceof WebMol.Vector3?
l:new WebMol.Vector3;q=q instanceof WebMol.Quaternion?q:new WebMol.Quaternion;p=p instanceof Webmol.Vector3?p:new WebMol.Vector3;p.x=a.length();p.y=c.length();p.z=e.length();l.x=n[12];l.y=n[13];l.z=n[14];f.copy(this);f.elements[0]/=p.x;f.elements[1]/=p.x;f.elements[2]/=p.x;f.elements[4]/=p.y;f.elements[5]/=p.y;f.elements[6]/=p.y;f.elements[8]/=p.z;f.elements[9]/=p.z;f.elements[10]/=p.z;q.setFromRotationMatrix(f);return[l,q,p]}}(),scale:function(a){var c=this.elements,e=a.x,f=a.y;a=a.z;c[0]*=e;c[4]*=
f;c[8]*=a;c[1]*=e;c[5]*=f;c[9]*=a;c[2]*=e;c[6]*=f;c[10]*=a;c[3]*=e;c[7]*=f;c[11]*=a;return this},getMaxScaleOnAxis:function(){var a=this.elements;return Math.sqrt(Math.max(a[0]*a[0]+a[1]*a[1]+a[2]*a[2],Math.max(a[4]*a[4]+a[5]*a[5]+a[6]*a[6],a[8]*a[8]+a[9]*a[9]+a[10]*a[10])))},makeFrustum:function(a,c,e,f,l,q){var p=this.elements;p[0]=2*l/(c-a);p[4]=0;p[8]=(c+a)/(c-a);p[12]=0;p[1]=0;p[5]=2*l/(f-e);p[9]=(f+e)/(f-e);p[13]=0;p[2]=0;p[6]=0;p[10]=-(q+l)/(q-l);p[14]=-2*q*l/(q-l);p[3]=0;p[7]=0;p[11]=-1;p[15]=
0;return this},makePerspective:function(a,c,e,f){a=e*Math.tan(WebMol.Math.degToRad(.5*a));var l=-a;return this.makeFrustum(l*c,a*c,l,a,e,f)},clone:function(){var a=this.elements;return new WebMol.Matrix4(a[0],a[4],a[8],a[12],a[1],a[5],a[9],a[13],a[2],a[6],a[10],a[14],a[3],a[7],a[11],a[15])}};WebMol.Ray=function(a,c){this.origin=void 0!==a?a:new WebMol.Vector3;this.direction=void 0!==c?c:new WebMol.Vector3};
WebMol.Ray.prototype={constructor:WebMol.Ray,set:function(a,c){this.origin.copy(a);this.direction.copy(c);return this},copy:function(a){this.origin.copy(a.origin);this.direction.copy(a.direction);return this},at:function(a,c){return(c||new WebMol.Vector3).copy(this.direction).multiplyScalar(a).add(this.origin)},recast:function(){var a=new WebMol.Vector3;return function(c){this.origin.copy(this.at(c,a));return this}}(),closestPointToPoint:function(a,c){var e=c||new WebMol.Vector3;e.subVectors(a,this.origin);
var f=e.dot(this.direction);return e.copy(this.direction).multiplyScalar(f).add(this.origin)},distanceToPoint:function(){var a=new WebMol.Vector3;return function(c){var e=a.subVectors(c,this.origin).dot(this.direction);a.copy(this.direction).multiplyScalar(e).add(this.origin);return a.distanceTo(c)}}(),isIntersectionCylinder:function(){},isIntersectionSphere:function(a){return this.distanceToPoint(a.center)<=a.radius},isIntersectionPlane:function(a){return 0!==a.normal.dot(this.direction)||0===a.distanceToPoint(this.origin)?
!0:!1},distanceToPlane:function(a){var c=a.normal.dot(this.direction);if(0===c){if(0===a.distanceToPoint(this.origin))return 0}else return-(this.origin.dot(a.normal)+a.constant)/c},intersectPlane:function(a,c){var e=this.distanceToPlane(a);return void 0===e?void 0:this.at(e,c)},applyMatrix4:function(a){this.direction.add(this.origin).applyMatrix4(a);this.origin.applyMatrix4(a);this.direction.sub(this.origin);return this},equals:function(a){return a.origin.equals(this.origin)&&a.direction.equals(this.direction)},
clone:function(){return(new WebMol.Ray).copy(this)}};WebMol.Sphere=function(a,c){this.center=void 0!==a?a:new WebMol.Vector3;this.radius=void 0!==c?c:0};
WebMol.Sphere.prototype={constructor:WebMol.Sphere,set:function(a,c){this.center.copy(a);this.radius=c;return this},copy:function(a){this.center.copy(a.center);this.radius=a.radius;return this},applyMatrix4:function(a){this.center.applyMatrix4(a);this.radius*=a.getMaxScaleOnAxis();return this},translate:function(a){this.center.add(a);return this},equals:function(a){return a.center.equals(this.center)&&a.radius===this.radius},clone:function(){return(new WebMol.Sphere).copy(this)}};
WebMol.Cylinder=function(a,c,e){this.c1=void 0!==a?a:new WebMol.Vector3;this.c2=void 0!==c?c:new WebMol.Vector3;this.direction=(new WebMol.Vector3).subVectors(this.c2,this.c1).normalize();this.radius=void 0!==e?e:0};
WebMol.Cylinder.prototype={constructor:WebMol.Cylinder,copy:function(a){this.c1.copy(a.c1);this.c2.copy(a.c2);this.direction.copy(a.direction);this.radius=a.radius;return this},lengthSq:function(){var a=new WebMol.Vector3;return function(){return a.subVectors(this.c2,this.c1).lengthSq()}}(),applyMatrix4:function(a){this.direction.add(this.c1).applyMatrix4(a);this.c1.applyMatrix4(a);this.c2.applyMatrix4(a);this.direction.sub(this.c1).normalize();this.radius*=a.getMaxScaleOnAxis();return this}};
WebMol.Triangle=function(a,c,e){this.a=void 0!==a?a:new WebMol.Vector3;this.b=void 0!==c?c:new WebMol.Vector3;this.c=void 0!==e?e:new WebMol.Vector3};
WebMol.Triangle.prototype={constructor:WebMol.Triangle,copy:function(a){this.a.copy(a.a);this.b.copy(a.b);this.c.copy(a.c);return this},applyMatrix4:function(a){this.a.applyMatrix4(a);this.b.applyMatrix4(a);this.c.applyMatrix4(a);return this},getNormal:function(){var a=new WebMol.Vector3;return function(){var c=this.a.clone();c.sub(this.b);a.subVectors(this.c,this.b);c.cross(a);c.normalize();return c}}()};
WebMol.EventDispatcher=function(){var a={};this.addEventListener=function(c,e){void 0===a[c]&&(a[c]=[]);-1===a[c].indexOf(e)&&a[c].push(e)};this.removeEventListener=function(c,e){var f=a[c].indexOf(e);-1!==f&&a[c].splice(f,1)};this.dispatchEvent=function(c){var e=a[c.type];if(void 0!==e){c.target=this;for(var f=0,l=e.length;f<l;f++)e[f].call(this,c)}}};WebMol.Color=function(a){return 1<arguments.length?(this.r=arguments[0]||0,this.g=arguments[1]||0,this.b=arguments[2]||0,this):this.set(a)};
WebMol.Color.prototype={constructor:WebMol.Color,r:0,g:0,b:0,set:function(a){if(a instanceof WebMol.Color)return a.clone();"number"===typeof a&&this.setHex(a)},setHex:function(a){a=Math.floor(a);this.r=(a>>16&255)/255;this.g=(a>>8&255)/255;this.b=(a&255)/255;return this},clone:function(){return new WebMol.Color(this.r,this.g,this.b)},copy:function(a){this.r=a.r;this.g=a.g;this.b=a.b;return this}};
WebMol.Object3D=function(){this.id=WebMol.Object3DIDCount++;this.name="";this.parent=void 0;this.children=[];this.position=new WebMol.Vector3;this.rotation=new WebMol.Vector3;this.matrix=new WebMol.Matrix4;this.matrixWorld=new WebMol.Matrix4;this.quaternion=new WebMol.Quaternion;this.eulerOrder="XYZ";this.up=new WebMol.Vector3(0,1,0);this.scale=new WebMol.Vector3(1,1,1);this.rotationAutoUpdate=this.matrixWorldNeedsUpdate=this.matrixAutoUpdate=!0;this.useQuaternion=!1;this.visible=!0};
WebMol.Object3D.prototype={constructor:WebMol.Object3D,lookAt:function(a){this.matrix.lookAt(a,this.position,this.up);this.rotationAutoUpdate&&(!0===this.useQuaternion?this.quaternion.copy(this.matrix.decompose()[1]):this.rotation.setEulerFromRotationMatrix(this.matrix,this.eulerOrder))},add:function(a){if(a===this)console.error("Can't add WebMol.Object3D to itself");else{a.parent=this;this.children.push(a);for(var c=this;void 0!==c.parent;)c=c.parent;void 0!==c&&c instanceof WebMol.Scene&&c.__addObject(a)}},
remove:function(a){var c=this.children.indexOf(a);if(-1!==c){a.parent=void 0;this.children.splice(c,1);for(c=this;void 0!==c.parent;)c=c.parent;void 0!==c&&c instanceof WebMol.Scene&&c.__removeObject(a)}},updateMatrix:function(){this.matrix.setPosition(this.position);!1===this.useQuaternion?this.matrix.setRotationFromEuler(this.rotation,this.eulerOrder):this.matrix.setRotationFromQuaternion(this.quaternion);1===this.scale.x&&1===this.scale.y&&1===this.scale.z||this.matrix.scale(this.scale);this.matrixWorldNeedsUpdate=
!0},updateMatrixWorld:function(a){!0===this.matrixAutoUpdate&&this.updateMatrix();if(!0===this.matrixWorldNeedsUpdate||!0===a)void 0===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix);this.matrixWorldNeedsUpdate=!1;for(a=0;a<this.children.length;a++)this.children[a].updateMatrixWorld(!0)},clone:function(a){void 0===a&&(a=new WebMol.Object3D);a.name=this.name;a.up.copy(this.up);a.position.copy(this.position);a.rotation.copy(this.rotation);
a.eulerOrder=this.eulerOrder;a.scale.copy(this.scale);a.rotationAutoUpdate=this.rotationAutoUpdate;a.matrix.copy(this.matrix);a.matrixWorld.copy(this.matrixWorld);a.quaternion.copy(this.quaternion);a.useQuaternion=this.useQuaternion;a.visible=this.visible;for(var c=0;c<this.children.length;c++)a.add(this.children[c].clone());return a}};WebMol.Object3DIDCount=0;
WebMol.Geometry=function(){var a=function(a){this.id=a||0;this.lineArray=this.faceArray=this.normalArray=this.colorArray=this.vertexArray=null;this.lineidx=this.faceidx=this.vertices=0};a.prototype.getNumVertices=function(){return this.vertices};a.prototype.getVertices=function(){return this.vertexArray};a.prototype.getCentroid=function(){for(var a=new WebMol.Vector3,c,e,p,n=0;n<this.vertices;++n)c=3*n,e=this.vertexArray[c],p=this.vertexArray[c+1],c=this.vertexArray[c+2],a.x+=e,a.y+=p,a.z+=c;a.divideScalar(this.vertices);
return a};a.prototype.setNormals=function(){var a=this.faceArray,c=this.vertexArray,e=this.normalArray;if(this.vertices&&this.faceidx)for(var p,n,v,x,A,J,F=0;F<a.length/3;++F)p=3*a[3*F],n=3*a[3*F+1],v=3*a[3*F+2],x=new WebMol.Vector3(c[p],c[p+1],c[p+2]),A=new WebMol.Vector3(c[n],c[n+1],c[n+2]),J=new WebMol.Vector3(c[v],c[v+1],c[v+2]),x.subVectors(x,A),J.subVectors(J,A),J.cross(x),x=J,x.normalize(),e[p]+=x.x,e[n]+=x.x,e[v]+=x.x,e[p+1]+=x.y,e[n+1]+=x.y,e[v+1]+=x.y,e[p+2]+=x.z,e[n+2]+=x.z,e[v+2]+=x.z};
a.prototype.setLineIndices=function(){if(this.faceidx){var a=this.faceArray,c=this.lineArray=new Uint16Array(2*this.faceidx);this.lineidx=2*this.faceidx;for(var e,p=0;p<this.faceidx/3;++p){e=3*p;lineoffset=2*e;var n=a[e],v=a[e+1];e=a[e+2];c[lineoffset]=n;c[lineoffset+1]=v;c[lineoffset+2]=n;c[lineoffset+3]=e;c[lineoffset+4]=v;c[lineoffset+5]=e}}};a.prototype.truncateArrayBuffers=function(a){a=!0===a?!0:!1;var c=this.colorArray,e=this.normalArray,p=this.faceArray,n=this.lineArray;this.vertexArray=this.vertexArray.subarray(0,
3*this.vertices);this.colorArray=c.subarray(0,3*this.vertices);a?(this.normalArray=e.subarray(0,3*this.vertices),this.faceArray=p.subarray(0,this.faceidx),this.lineArray=0<this.lineidx?n.subarray(0,this.lineidx):new Uint16Array):(this.normalArray=new Float32Array,this.faceArray=new Uint16Array,this.lineArray=new Uint16Array);this.__inittedArrays=!0};var c=function(c){var e=new a(c.geometryGroups.length);c.geometryGroups.push(e);c.groups=c.geometryGroups.length;e.vertexArray=new Float32Array(196605);
e.colorArray=new Float32Array(196605);c.mesh&&(e.normalArray=new Float32Array(196605),e.faceArray=new Uint16Array(393210),e.lineArray=new Uint16Array(393210));return e},e=function(a){WebMol.EventDispatcher.call(this);this.id=WebMol.GeometryIDCount++;this.name="";this.hasTangents=!1;this.dynamic=!0;this.mesh=!0===a?!0:!1;this.buffersNeedUpdate=this.colorsNeedUpdate=this.normalsNeedUpdate=this.elementsNeedUpdate=this.verticesNeedUpdate=!1;this.geometryGroups=[];this.groups=0};e.prototype={constructor:e,
updateGeoGroup:function(a){var e=0<this.groups?this.geometryGroups[this.groups-1]:null;if(!e||65535<e.vertices+(a||0))e=c(this);return e},addGeoGroup:function(){return c(this)},setUpNormals:function(a){a=a||!1;for(var c=0;c<this.groups;c++)this.geometryGroups[c].setNormals(a)},setUpWireframe:function(){for(var a=0;a<this.groups;a++)this.geometryGroups[a].setLineIndices()},initTypedArrays:function(){for(var a=0;a<this.groups;a++){var c=this.geometryGroups[a];!0!==c.__inittedArrays&&c.truncateArrayBuffers(this.mesh)}},
dispose:function(){this.dispatchEvent({type:"dispose"})}};return e}();Object.defineProperty(WebMol.Geometry.prototype,"vertices",{get:function(){for(var a=0,c=0;c<this.groups;c++)a+=this.geometryGroups[c].vertices;return a}});WebMol.GeometryIDCount=0;
WebMol.Raycaster=function(){var a=function(a,c,e,f){this.ray=new WebMol.Ray(a,c);0<this.ray.direction.lengthSq()&&this.ray.direction.normalize();this.near=f||0;this.far=e||Infinity},c=new WebMol.Sphere,e=new WebMol.Cylinder,f=new WebMol.Triangle,l=new WebMol.Vector3,q=new WebMol.Vector3,p=new WebMol.Vector3,n=new WebMol.Vector3;new WebMol.Ray;new WebMol.Vector3;var v=new WebMol.Vector3;new WebMol.Matrix4;var x=function(a,c){return a.distance-c.distance},A=function(a){return Math.min(Math.max(a,-1),
1)};a.prototype.precision=1E-4;a.prototype.linePrecision=.2;a.prototype.set=function(a,c){this.ray.set(a,c)};a.prototype.intersectObjects=function(a,F){for(var C=[],G=0,y=F.length;G<y;G++)a:{var t=a,B=F[G],u=C;v.getPositionFromMatrix(t.matrixWorld);if(!0===B.clickable&&void 0!==B.intersectionShape){var K=B.intersectionShape,S=this.linePrecision,S=S*t.matrixWorld.getMaxScaleOnAxis(),S=S*S;if(void 0!==B.boundingSphere&&B.boundingSphere instanceof WebMol.Sphere&&(c.copy(B.boundingSphere),c.applyMatrix4(t.matrixWorld),
!this.ray.isIntersectionSphere(c)))break a;for(var N=void 0,O=void 0,H=void 0,w=void 0,L=H=void 0,P=void 0,$=void 0,V=void 0,M=void 0,W=M=L=w=void 0,N=0,O=K.triangle.length;N<O;N++)K.triangle[N]instanceof WebMol.Triangle&&(f.copy(K.triangle[N]),f.applyMatrix4(t.matrixWorld),H=f.getNormal(),w=this.ray.direction.dot(H),0<=w||(l.subVectors(f.a,this.ray.origin),P=H.dot(l)/w,0>P||(q.copy(this.ray.direction).multiplyScalar(P).add(this.ray.origin),q.sub(f.a),p.copy(f.b).sub(f.a),n.copy(f.c).sub(f.a),w=p.dot(n),
H=p.lengthSq(),L=n.lengthSq(),L=(H*q.dot(n)-w*q.dot(p))/(H*L-w*w),0>L||1<L||(w=(q.dot(p)-L*w)/H,0>w||1<w||1<w+L||u.push({clickable:B,distance:P})))));N=0;for(O=K.cylinder.length;N<O;N++)K.cylinder[N]instanceof WebMol.Cylinder&&(e.copy(K.cylinder[N]),e.applyMatrix4(t.matrixWorld),l.subVectors(e.c1,this.ray.origin),H=l.dot(e.direction),L=l.dot(this.ray.direction),w=A(this.ray.direction.dot(e.direction)),V=1-w*w,0!==V&&(M=(w*L-H)/V,W=(L-w*H)/V,q.copy(e.direction).multiplyScalar(M).add(e.c1),p.copy(this.ray.direction).multiplyScalar(W).add(this.ray.origin),
$=n.subVectors(q,p).lengthSq(),M=e.radius*e.radius,$<=M&&(M=(w*H-L)*(w*H-L)-V*(l.lengthSq()-H*H-M),L=0>=M?P=Math.sqrt($):P=(L-w*H-Math.sqrt(M))/V,w=w*L-H,0>w||w*w>e.lengthSq()||0>L||u.push({clickable:B,distance:P}))));N=0;for(O=K.line.length;N<O;N+=2)q.copy(K.line[N]),q.applyMatrix4(t.matrixWorld),p.copy(K.line[N+1]),p.applyMatrix4(t.matrixWorld),n.subVectors(p,q),P=n.lengthSq(),n.normalize(),l.subVectors(q,this.ray.origin),lineProj=l.dot(n),L=l.dot(this.ray.direction),w=A(this.ray.direction.dot(n)),
V=1-w*w,0!==V&&(M=(w*L-lineProj)/V,W=(L-w*lineProj)/V,q.add(n.multiplyScalar(M)),p.copy(this.ray.direction).multiplyScalar(W).add(this.ray.origin),$=n.subVectors(p,q).lengthSq(),$<S&&M*M<P&&u.push({clickable:B,distance:W}));N=0;for(O=K.sphere.length;N<O;N++)if(K.sphere[N]instanceof WebMol.Sphere&&(c.copy(K.sphere[N]),c.applyMatrix4(t.matrixWorld),this.ray.isIntersectionSphere(c))){q.subVectors(c.center,this.ray.origin);t=q.dot(this.ray.direction);M=t*t-(q.lengthSq()-c.radius*c.radius);if(0>t)break a;
P=0>=M?t:t-Math.sqrt(M);u.push({clickable:B,distance:P});break a}}}C.sort(x);return C};return a}();WebMol.Projector=function(){new WebMol.Matrix4;var a=new WebMol.Matrix4;this.projectVector=function(c,e){e.matrixWorldInverse.getInverse(e.matrixWorld);a.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse);return c.applyProjection(a)};this.unprojectVector=function(c,e){e.projectionMatrixInverse.getInverse(e.projectionMatrix);a.multiplyMatrices(e.matrixWorld,e.projectionMatrixInverse);return c.applyProjection(a)}};
WebMol.Camera=function(a,c,e,f){WebMol.Object3D.call(this);this.fov=void 0!==a?a:50;this.aspect=void 0!==c?c:1;this.near=void 0!==e?e:.1;this.far=void 0!==f?f:2E3;this.projectionMatrix=new WebMol.Matrix4;this.projectionMatrixInverse=new WebMol.Matrix4;this.matrixWorldInverse=new WebMol.Matrix4;this.updateProjectionMatrix()};WebMol.Camera.prototype=Object.create(WebMol.Object3D.prototype);
WebMol.Camera.prototype.lookAt=function(a){this.matrix.lookAt(this.position,a,this.up);this.rotationAutoUpdate&&(!1===this.useQuaternion?this.rotation.setEulerFromRotationMatrix(this.matrix,this.eulerOrder):this.quaternion.copy(this.matrix.decompose()[1]))};WebMol.Camera.prototype.updateProjectionMatrix=function(){this.projectionMatrix.makePerspective(this.fov,this.aspect,this.near,this.far)};
WebMol.SpritePlugin=function(){function a(a,c){return a.z!==c.z?c.z-a.z:c.id-a.id}var c,e,f,l,q,p,n,v,x,A;this.init=function(a){c=a.context;e=a;f=a.getPrecision();l=new Float32Array(16);q=new Uint16Array(6);a=0;l[a++]=-1;l[a++]=-1;l[a++]=0;l[a++]=0;l[a++]=1;l[a++]=-1;l[a++]=1;l[a++]=0;l[a++]=1;l[a++]=1;l[a++]=1;l[a++]=1;l[a++]=-1;l[a++]=1;l[a++]=0;l[a++]=1;a=0;q[a++]=0;q[a++]=1;q[a++]=2;q[a++]=0;q[a++]=2;q[a++]=3;p=c.createBuffer();n=c.createBuffer();c.bindBuffer(c.ARRAY_BUFFER,p);c.bufferData(c.ARRAY_BUFFER,
l,c.STATIC_DRAW);c.bindBuffer(c.ELEMENT_ARRAY_BUFFER,n);c.bufferData(c.ELEMENT_ARRAY_BUFFER,q,c.STATIC_DRAW);a=WebMol.ShaderLib.sprite;var F=f,C=c.createProgram(),G=c.createShader(c.FRAGMENT_SHADER),y=c.createShader(c.VERTEX_SHADER),F="precision "+F+" float;\n";c.shaderSource(G,F+a.fragmentShader);c.shaderSource(y,F+a.vertexShader);c.compileShader(G);c.compileShader(y);c.getShaderParameter(G,c.COMPILE_STATUS)&&c.getShaderParameter(y,c.COMPILE_STATUS)?(c.attachShader(C,G),c.attachShader(C,y),c.linkProgram(C),
c.getProgramParameter(C,c.LINK_STATUS)||console.error("Could not initialize shader"),a=C):(console.error(c.getShaderInfoLog(G)),console.error("could not initialize shader"),a=null);v=a;x={};A={};x.position=c.getAttribLocation(v,"position");x.uv=c.getAttribLocation(v,"uv");A.uvOffset=c.getUniformLocation(v,"uvOffset");A.uvScale=c.getUniformLocation(v,"uvScale");A.rotation=c.getUniformLocation(v,"rotation");A.scale=c.getUniformLocation(v,"scale");A.alignment=c.getUniformLocation(v,"alignment");A.color=
c.getUniformLocation(v,"color");A.map=c.getUniformLocation(v,"map");A.opacity=c.getUniformLocation(v,"opacity");A.useScreenCoordinates=c.getUniformLocation(v,"useScreenCoordinates");A.sizeAttenuation=c.getUniformLocation(v,"sizeAttenuation");A.screenPosition=c.getUniformLocation(v,"screenPosition");A.modelViewMatrix=c.getUniformLocation(v,"modelViewMatrix");A.projectionMatrix=c.getUniformLocation(v,"projectionMatrix");A.fogType=c.getUniformLocation(v,"fogType");A.fogDensity=c.getUniformLocation(v,
"fogDensity");A.fogNear=c.getUniformLocation(v,"fogNear");A.fogFar=c.getUniformLocation(v,"fogFar");A.fogColor=c.getUniformLocation(v,"fogColor");A.alphaTest=c.getUniformLocation(v,"alphaTest")};this.render=function(f,l,q,G){var y=f.__webglSprites,t=y.length;if(t){var B=x,u=A,K=G/q;q*=.5;var S=.5*G;c.useProgram(v);c.enableVertexAttribArray(B.position);c.enableVertexAttribArray(B.uv);c.disable(c.CULL_FACE);c.enable(c.BLEND);c.bindBuffer(c.ARRAY_BUFFER,p);c.vertexAttribPointer(B.position,2,c.FLOAT,
!1,16,0);c.vertexAttribPointer(B.uv,2,c.FLOAT,!1,16,8);c.bindBuffer(c.ELEMENT_ARRAY_BUFFER,n);c.uniformMatrix4fv(u.projectionMatrix,!1,l.projectionMatrix.elements);c.activeTexture(c.TEXTURE0);c.uniform1i(u.map,0);var N=B=0;(B=f.fog)?(c.uniform3f(u.fogColor,B.color.r,B.color.g,B.color.b),c.uniform1f(u.fogNear,B.near),c.uniform1f(u.fogFar,B.far),c.uniform1i(u.fogType,1),N=B=1):(c.uniform1i(u.fogType,0),N=B=0);var O,H,w,L=[];for(O=0;O<t;O++)H=y[O],w=H.material,H.visible&&0!==w.opacity&&(w.useScreenCoordinates?
H.z=-H.position.z:(H._modelViewMatrix.multiplyMatrices(l.matrixWorldInverse,H.matrixWorld),H.z=-H._modelViewMatrix.elements[14]));y.sort(a);for(O=0;O<t;O++)H=y[O],w=H.material,H.visible&&0!==w.opacity&&w.map&&w.map.image&&w.map.image.width&&(c.uniform1f(u.alphaTest,w.alphaTest),!0===w.useScreenCoordinates?(c.uniform1i(u.useScreenCoordinates,1),c.uniform3f(u.screenPosition,(H.position.x*e.devicePixelRatio-q)/q,(S-H.position.y*e.devicePixelRatio)/S,Math.max(0,Math.min(1,H.position.z))),L[0]=e.devicePixelRatio,
L[1]=e.devicePixelRatio):(c.uniform1i(u.useScreenCoordinates,0),c.uniform1i(u.sizeAttenuation,w.sizeAttenuation?1:0),c.uniformMatrix4fv(u.modelViewMatrix,!1,H._modelViewMatrix.elements),L[0]=1,L[1]=1),l=f.fog&&w.fog?N:0,B!==l&&(c.uniform1i(u.fogType,l),B=l),l=1/(w.scaleByViewport?G:1),L[0]=L[0]*l*K*H.scale.x,L[1]=L[1]*l*H.scale.y,c.uniform2f(u.uvScale,w.uvScale.x,w.uvScale.y),c.uniform2f(u.uvOffset,w.uvOffset.x,w.uvOffset.y),c.uniform2f(u.alignment,w.alignment.x,w.alignment.y),c.uniform1f(u.opacity,
w.opacity),c.uniform3f(u.color,w.color.r,w.color.g,w.color.b),c.uniform1f(u.rotation,H.rotation),c.uniform2fv(u.scale,L),e.setDepthTest(w.depthTest),e.setDepthWrite(w.depthWrite),e.setTexture(w.map,0),c.drawElements(c.TRIANGLES,6,c.UNSIGNED_SHORT,0));c.enable(c.CULL_FACE)}}};WebMol.Light=function(a,c){WebMol.Object3D.call(this);this.color=new WebMol.Color(a);this.position=new WebMol.Vector3(0,1,0);this.target=new WebMol.Object3D;this.intensity=void 0!==c?c:1;this.onlyShadow=this.castShadow=!1};
WebMol.Light.prototype=Object.create(WebMol.Object3D.prototype);WebMol.Material=function(){WebMol.EventDispatcher.call(this);this.id=WebMol.MaterialIdCount++;this.name="";this.side=WebMol.FrontSide;this.opacity=1;this.transparent=!1;this.blending=WebMol.NormalBlending;this.depthWrite=this.depthTest=!0;this.polygonOffset=!1;this.alphaTest=this.polygonOffsetUnits=this.polygonOffsetFactor=0;this.needsUpdate=this.visible=!0};
WebMol.Material.prototype.setValues=function(a){if(void 0!==a)for(var c in a){var e=a[c];if(void 0===e)console.warn("WebMol.Material: '"+c+"' parameter is undefined.");else if(c in this){var f=this[c];f instanceof WebMol.Color&&e instanceof WebMol.Color?f.copy(e):f instanceof WebMol.Color?f.set(e):f instanceof WebMol.Vector3&&e instanceof WebMol.Vector3?f.copy(e):this[c]=e}}};
WebMol.Material.prototype.clone=function(a){void 0===a&&(a=new WebMol.Material);a.name=this.name;a.side=this.side;a.opacity=this.opacity;a.transparent=this.transparent;a.blending=this.blending;a.depthTest=this.depthTest;a.depthWrite=this.depthWrite;a.polygonOffset=this.polygonOffset;a.polygonOffsetFactor=this.polygonOffsetFactor;a.polygonOffsetUnits=this.polygonOffsetUnits;a.alphaTest=this.alphaTest;a.overdraw=this.overdraw;a.visible=this.visible;return a};WebMol.Material.prototype.dispose=function(){this.dispatchEvent({type:"dispose"})};
WebMol.MaterialIdCount=0;WebMol.LineBasicMaterial=function(a){WebMol.Material.call(this);this.color=new WebMol.Color(16777215);this.linewidth=1;this.linejoin=this.linecap="round";this.vertexColors=!1;this.fog=!0;this.shaderID="basic";this.setValues(a)};WebMol.LineBasicMaterial.prototype=Object.create(WebMol.Material.prototype);WebMol.LineBasicMaterial.prototype.clone=function(){var a=new WebMol.LineBasicMaterial;WebMol.Material.prototype.clone.call(this,a);a.color.copy();return a};
WebMol.MeshLambertMaterial=function(a){WebMol.Material.call(this);this.color=new WebMol.Color(16777215);this.ambient=new WebMol.Color(1048575);this.emissive=new WebMol.Color(0);this.wrapAround=!1;this.wrapRGB=new WebMol.Vector3(1,1,1);this.envMap=this.specularMap=this.lightMap=this.map=null;this.reflectivity=1;this.refractionRatio=.98;this.fog=!0;this.wireframe=!1;this.wireframeLinewidth=1;this.wireframeLinejoin=this.wireframeLinecap="round";this.shading=WebMol.SmoothShading;this.shaderID="lambert";
this.vertexColors=WebMol.NoColors;this.skinning=!1;this.setValues(a)};WebMol.MeshLambertMaterial.prototype=Object.create(WebMol.Material.prototype);
WebMol.MeshLambertMaterial.prototype.clone=function(a){"undefined"===typeof a&&(a=new WebMol.MeshLambertMaterial);WebMol.Material.prototype.clone.call(this,a);a.color.copy(this.color);a.ambient.copy(this.ambient);a.emissive.copy(this.emissive);a.wrapAround=this.wrapAround;a.wrapRGB.copy(this.wrapRGB);a.map=this.map;a.lightMap=this.lightMap;a.specularMap=this.specularMap;a.envMap=this.envMap;a.combine=this.combine;a.reflectivity=this.reflectivity;a.refractionRatio=this.refractionRatio;a.fog=this.fog;
a.shading=this.shading;a.shaderID=this.shaderID;a.vertexColors=this.vertexColors;a.skinning=this.skinning;a.morphTargets=this.morphTargets;a.morphNormals=this.morphNormals;return a};WebMol.MeshDoubleLambertMaterial=function(a){WebMol.MeshLambertMaterial.call(this);this.shaderID="lambertdouble";this.side=WebMol.DoubleSide};WebMol.MeshDoubleLambertMaterial.prototype=Object.create(WebMol.MeshLambertMaterial.prototype);
WebMol.MeshDoubleLambertMaterial.prototype.clone=function(){var a=new WebMol.MeshDoubleLambertMaterial;WebMol.MeshLambertMaterial.prototype.clone.call(this,a);return a};
WebMol.ImposterMaterial=function(a){WebMol.Material.call(this);this.color=new WebMol.Color(16777215);this.ambient=new WebMol.Color(1048575);this.emissive=new WebMol.Color(0);this.wrapAround=!1;this.wrapRGB=new WebMol.Vector3(1,1,1);this.envMap=this.specularMap=this.lightMap=this.map=null;this.reflectivity=1;this.refractionRatio=.98;this.fog=!0;this.wireframe=!1;this.wireframeLinewidth=1;this.wireframeLinejoin=this.wireframeLinecap="round";this.shading=WebMol.SmoothShading;this.shaderID="sphereimposter";
this.vertexColors=WebMol.NoColors;this.skinning=!1;this.setValues(a)};WebMol.ImposterMaterial.prototype=Object.create(WebMol.Material.prototype);
WebMol.ImposterMaterial.prototype.clone=function(){var a=new WebMol.ImposterMaterial;WebMol.Material.prototype.clone.call(this,a);a.color.copy(this.color);a.ambient.copy(this.ambient);a.emissive.copy(this.emissive);a.wrapAround=this.wrapAround;a.wrapRGB.copy(this.wrapRGB);a.map=this.map;a.lightMap=this.lightMap;a.specularMap=this.specularMap;a.envMap=this.envMap;a.combine=this.combine;a.reflectivity=this.reflectivity;a.refractionRatio=this.refractionRatio;a.fog=this.fog;a.shading=this.shading;a.shaderID=
this.shaderID;a.vertexColors=this.vertexColors;a.skinning=this.skinning;a.morphTargets=this.morphTargets;a.morphNormals=this.morphNormals;return a};
WebMol.SpriteMaterial=function(a){WebMol.Material.call(this);this.color=new WebMol.Color(16777215);this.map=new WebMol.Texture;this.useScreenCoordinates=!0;this.depthTest=!this.useScreenCoordinates;this.sizeAttenuation=!this.useScreenCoordinates;this.scaleByViewPort=!this.sizeAttenuation;this.alignment=WebMol.SpriteAlignment.center.clone();this.fog=!1;this.uvOffset=new WebMol.Vector2(0,0);this.uvScale=new WebMol.Vector2(1,1);this.setValues(a);a=a||{};void 0===a.depthTest&&(this.depthTest=!this.useScreenCoordinates);
void 0===a.sizeAttenuation&&(this.sizeAttenuation=!this.useScreenCoordinates);void 0===a.scaleByViewPort&&(this.scaleByViewPort=!this.sizeAttenuation)};WebMol.SpriteMaterial.prototype=Object.create(WebMol.Material.prototype);
WebMol.SpriteMaterial.prototype.clone=function(){var a=new WebMol.SpriteMaterial;WebMol.Material.prototype.clone.call(this,a);a.color.copy(this.color);a.map=this.map;a.useScreenCoordinates=useScreenCoordinates;a.sizeAttenuation=this.sizeAttenuation;a.scaleByViewport=this.scaleByViewPort;a.alignment.copy(this.alignment);a.uvOffset.copy(this.uvOffset);return a};WebMol.SpriteAlignment={};WebMol.SpriteAlignment.topLeft=new WebMol.Vector2(1,-1);WebMol.SpriteAlignment.topCenter=new WebMol.Vector2(0,-1);
WebMol.SpriteAlignment.topRight=new WebMol.Vector2(-1,-1);WebMol.SpriteAlignment.centerLeft=new WebMol.Vector2(1,0);WebMol.SpriteAlignment.center=new WebMol.Vector2(0,0);WebMol.SpriteAlignment.centerRight=new WebMol.Vector2(-1,0);WebMol.SpriteAlignment.bottomLeft=new WebMol.Vector2(1,1);WebMol.SpriteAlignment.bottomCenter=new WebMol.Vector2(0,1);WebMol.SpriteAlignment.bottomRight=new WebMol.Vector2(-1,1);
WebMol.Texture=function(a){WebMol.EventDispatcher.call(this);this.id=WebMol.TextureIdCount++;this.name="";this.image=a;this.mipmaps=[];this.mapping=new WebMol.UVMapping;this.wrapT=this.wrapS=WebMol.ClampToEdgeWrapping;this.magFilter=WebMol.LinearFilter;this.minFilter=WebMol.LinearMipMapLinearFilter;this.anisotropy=1;this.format=WebMol.RGBAFormat;this.type=WebMol.UnsignedByteType;this.offset=new WebMol.Vector2(0,0);this.repeat=new WebMol.Vector2(1,1);this.generateMipmaps=!0;this.premultiplyAlpha=!1;
this.flipY=!0;this.unpackAlignment=4;this.needsUpdate=!1;this.onUpdate=null};
WebMol.Texture.prototype={constructor:WebMol.Texture,clone:function(a){void 0===a&&(a=new WebMol.Texture);a.image=this.image;a.mipmaps=this.mipmaps.slice(0);a.mapping=this.mapping;a.wrapS=this.wrapS;a.wrapT=this.wrapT;a.magFilter=this.magFilter;a.minFilter=this.minFilter;a.anisotropy=this.anisotropy;a.format=this.format;a.type=this.type;a.offset.copy(this.offset);a.repeat.copy(this.repeat);a.generateMipmaps=this.generateMipmaps;a.premultiplyAlpha=this.premultiplyAlpha;a.flipY=this.flipY;a.unpackAlignment=
this.unpackAlignment;return a},dispose:function(){this.dispatchEvent({type:"dispose"})}};WebMol.TextureIdCount=0;WebMol.FrontSide=0;WebMol.BackSide=1;WebMol.DoubleSide=2;WebMol.NoBlending=0;WebMol.NormalBlending=1;WebMol.AdditiveBlending=2;WebMol.SubtractiveBlending=3;WebMol.MultiplyBlending=4;WebMol.CustomBlending=5;WebMol.NoShading=0;WebMol.FlatShading=1;WebMol.SmoothShading=2;WebMol.NoColors=0;WebMol.FaceColors=1;WebMol.VertexColors=2;WebMol.MultiplyOperation=0;WebMol.MixOperation=1;
WebMol.AddOperation=2;WebMol.UVMapping=function(){};WebMol.ClampToEdgeWrapping=1001;WebMol.LinearFilter=1006;WebMol.LinearMipMapLinearFilter=1008;WebMol.UnsignedByteType=1009;WebMol.RGBAFormat=1021;WebMol.Line=function(a,c,e){WebMol.Object3D.call(this);this.geometry=a;this.material=void 0!==c?c:new WebMol.LineBasicMaterial({color:16777215*Math.random()});this.type=void 0!==e?e:WebMol.LineStrip};WebMol.LineStrip=0;WebMol.LinePieces=1;WebMol.Line.prototype=Object.create(WebMol.Object3D.prototype);
WebMol.Line.prototype.clone=function(a){void 0===a&&(a=new WebMol.Line(this.geometry,this.material,this.type));WebMol.Object3D.prototype.clone.call(this,a);return a};WebMol.Mesh=function(a,c){WebMol.Object3D.call(this);this.geometry=a;this.material=void 0!==c?c:new WebMol.MeshBasicMaterial({color:16777215*Math.random(),wireframe:!0})};WebMol.Mesh.prototype=Object.create(WebMol.Object3D.prototype);
WebMol.Mesh.prototype.clone=function(a){void 0===a&&(a=new WebMol.Mesh(this.geometry,this.material));WebMol.Object3D.prototype.clone.call(this,a);return a};WebMol.Sprite=function(a){WebMol.Object3D.call(this);this.material=void 0!==a?a:new WebMol.SpriteMaterial;this.rotation3d=this.rotation;this.rotation=0};WebMol.Sprite.prototype=Object.create(WebMol.Object3D.prototype);
WebMol.Sprite.prototype.updateMatrix=function(){this.matrix.setPosition(this.position);this.rotation3d.set(0,0,this.rotation);this.matrix.setRotationFromEuler(this.rotation3d);1===this.scale.x&&1===this.scale.y||this.matrix.scale(this.scale);this.matrixWorldNeedsUpdate=!0};WebMol.Sprite.prototype.clone=function(a){void 0===a&&(a=new WebMol.Sprite(this.material));WebMol.Object3D.prototype.clone.call(this,a);return a};
WebMol.Renderer=function(a){function c(a){ba[a]||(k.enableVertexAttribArray(a),ba[a]=!0)}function e(a,c){var e;"fragment"===a?e=k.createShader(k.FRAGMENT_SHADER):"vertex"===a&&(e=k.createShader(k.VERTEX_SHADER));k.shaderSource(e,c);k.compileShader(e);return k.getShaderParameter(e,k.COMPILE_STATUS)?e:(console.error(k.getShaderInfoLog(e)),console.error("could not initialize shader"),null)}function f(a,c,e,f,l,n,p,q){var d,t,v;c?(t=a.length-1,q=c=-1):(t=0,c=a.length,q=1);for(var u=t;u!==c;u+=q)if(d=
a[u],d.render&&(t=d.object,v=d.buffer,d=d[e])){p&&y.setBlending(d.blending);y.setDepthTest(d.depthTest);y.setDepthWrite(d.depthWrite);var w=d.polygonOffset;null!==w&&(w?k.enable(k.POLYGON_OFFSET_FILL):k.disable(k.POLYGON_OFFSET_FILL));y.setMaterialFaces(d);y.renderBuffer(f,l,n,d,v,t)}}function l(a){return 0===(a&a-1)}function q(a){return a===WebMol.UnsignedByteType?k.UNSIGNED_BYTE:a===WebMol.RGBAFormat?k.RGBA:0}a=a||{};var p=void 0!==a.canvas?a.canvas:document.createElement("canvas"),n=void 0!==a.precision?
a.precision:"highp",v=void 0!==a.alpha?a.alpha:!0,x=void 0!==a.premultipliedAlpha?a.premultipliedAlpha:!0,A=void 0!==a.antialias?a.antialias:!1,J=void 0!==a.stencil?a.stencil:!0,F=void 0!==a.preserveDrawingBuffer?a.preserveDrawingBuffer:!1,C=void 0!==a.clearColor?new WebMol.Color(a.clearColor):new WebMol.Color(0),G=void 0!==a.clearAlpha?a.clearAlpha:0;this.domElement=p;this.context=null;this.devicePixelRatio=void 0!==a.devicePixelRatio?a.devicePixelRatio:void 0!==self.devicePixelRatio?self.devicePixelRatio:
1;this.autoUpdateScene=this.autoUpdateObjects=this.sortObjects=this.autoClearStencil=this.autoClearDepth=this.autoClearColor=this.autoClear=!0;this.renderPluginsPost=[];this.info={memory:{programs:0,geometries:0,textures:0},render:{calls:0,vertices:0,faces:0,points:0}};var y=this,t=[],B=0,u=null,K=-1,S=null,N=null,O=0,H=-1,w=-1,L=-1,P=-1,$=null,V=0,M=0,W=0,ea=0,ga=0,fa=0,ba={},Fa=new WebMol.Matrix4,Ha=new WebMol.Vector3,T=new WebMol.Vector3,ja=!0,oa=[0,0,0],ka=[],pa=[],k;try{if(!(k=p.getContext("experimental-webgl",
{alpha:v,premultipliedAlpha:x,antialias:A,stencil:J,preserveDrawingBuffer:F})))throw"Error creating WebGL context.";}catch(E){console.error(E)}k.getExtension("EXT_frag_depth");k.clearColor(0,0,0,1);k.clearDepth(1);k.clearStencil(0);k.enable(k.DEPTH_TEST);k.depthFunc(k.LEQUAL);k.frontFace(k.CCW);k.cullFace(k.BACK);k.enable(k.CULL_FACE);k.enable(k.BLEND);k.blendEquation(k.FUNC_ADD);k.blendFunc(k.SRC_ALPHA,k.ONE_MINUS_SRC_ALPHA);k.clearColor(C.r,C.g,C.b,G);k.getExtension("EXT_frag_depth");this.context=
k;this.getContext=function(){return k};this.getPrecision=function(){return n};this.setClearColorHex=function(a,c){C.setHex(a);G=c;k.clearColor(C.r,C.g,C.b,G)};this.setSize=function(a,c){p.width=a*this.devicePixelRatio;p.height=c*this.devicePixelRatio;p.style.width=a+"px";p.style.height=c+"px";this.setViewport(0,0,p.width,p.height)};this.setViewport=function(a,c,e,f){V=void 0!==a?a:0;M=void 0!==c?c:0;W=void 0!==e?e:p.width;ea=void 0!==f?f:p.height;k.viewport(V,M,W,ea)};this.clear=function(a,c,e){var f=
0;if(void 0===a||a)f|=k.COLOR_BUFFER_BIT;if(void 0===c||c)f|=k.DEPTH_BUFFER_BIT;if(void 0===e||e)f|=k.STENCIL_BUFFER_BIT;k.clear(f)};this.clearTarget=function(a,c,e){this.clear(a,c,e)};this.setMaterialFaces=function(a){var c=a.side===WebMol.DoubleSide;a=a.side===WebMol.BackSide;H!==c&&(c?k.disable(k.CULL_FACE):k.enable(k.CULL_FACE),H=c);w!==a&&(a?k.frontFace(k.CW):k.frontFace(k.CCW),w=a)};this.setDepthTest=function(a){L!==a&&(a?k.enable(k.DEPTH_TEST):k.disable(k.DEPTH_TEST),L=a)};this.setDepthWrite=
function(a){P!==a&&(k.depthMask(a),P=a)};this.setBlending=function(a){a===WebMol.NoBlending?k.disable(k.BLEND):(k.enable(k.BLEND),k.blendEquationSeparate(k.FUNC_ADD,k.FUNC_ADD),k.blendFuncSeparate(k.SRC_ALPHA,k.ONE_MINUS_SRC_ALPHA,k.ONE,k.ONE_MINUS_SRC_ALPHA))};this.addPostPlugin=function(a){a.init(this);this.renderPluginsPost.push(a)};var Ia=function(a){a=a.target;a.removeEventListener("dispose",Ia);a.__webglInit=void 0;void 0!==a.__webglVertexBuffer&&k.deleteBuffer(a.__webglVertexBuffer);void 0!==
a.__webglColorBuffer&&k.deleteBuffer(a.__webglColorBuffer);if(void 0!==a.geometryGroups)for(var c=0,e=a.groups;c<e;c++){var f=a.geometryGroups[c];void 0!==f.__webglVertexBuffer&&k.deleteBuffer(f.__webglVertexBuffer);void 0!==f.__webglColorBuffer&&k.deleteBuffer(f.__webglColorBuffer);void 0!==f.__webglNormalBuffer&&k.deleteBuffer(f.__webglNormalBuffer);void 0!==f.__webglFaceBuffer&&k.deleteBuffer(f.__webglFaceBuffer);void 0!==f.__webglLineBuffer&&k.deleteBuffer(f.__webglLineBuffer)}y.info.memory.geometries--},
Ja=function(a){a=a.target;a.removeEventListener("dispose",Ja);a.image&&a.image.__webglTextureCube?k.deleteTexture(a.image.__webglTextureCube):a.__webglInit&&(a.__webglInit=!1,k.deleteTexture(a.__webglTexture));y.info.memory.textures--},Ka=function(a){a=a.target;a.removeEventListener("dispose",Ka);qa(a)},qa=function(a){var c=a.program;if(void 0!==c){a.program=void 0;var e,f,l=!1;a=0;for(e=t.length;a<e;a++)if(f=t[a],f.program===c){f.usedTimes--;0===f.usedTimes&&(l=!0);break}if(!0===l){l=[];a=0;for(e=
t.length;a<e;a++)f=t[a],f.program!==c&&l.push(f);t=l;k.deleteProgram(c);y.info.memory.programs--}}};this.initMaterial=function(a,c,f,l){a.addEventListener("dispose",Ka);if(c=a.shaderID)c=WebMol.ShaderLib[c],a.vertexShader=c.vertexShader,a.fragmentShader=c.fragmentShader,a.uniforms=WebMol.ShaderUtils.clone(c.uniforms);var p;a:{var q=a.fragmentShader;l=a.vertexShader;f=a.uniforms;var v={wireframe:a.wireframe},u,d;c=[];c.push(q);c.push(l);for(u in v)c.push(u),c.push(v[u]);c=c.join();u=0;for(d=t.length;u<
d;u++){var w=t[u];if(w.code===c){w.usedTimes++;p=w.program;break a}}u=k.createProgram();w="precision "+n+" float;";d=""+w;v=[v.wireframe?"#define WIREFRAME 1":"",w].join("\n");q=e("fragment",v+q);l=e("vertex",d+l);k.attachShader(u,l);k.attachShader(u,q);k.linkProgram(u);k.getProgramParameter(u,k.LINK_STATUS)||console.error("Could not initialize shader");u.uniforms={};u.attributes={};l="viewMatrix modelViewMatrix projectionMatrix normalMatrix modelMatrix cameraPosition".split(" ");for(p in f)l.push(p);
for(p=0;p<l.length;p++)f=l[p],u.uniforms[f]=k.getUniformLocation(u,f);l=["position","normal","color","lineDistance"];for(p=0;p<l.length;p++)f=l[p],u.attributes[f]=k.getAttribLocation(u,f);u.id=B++;t.push({program:u,code:c,usedTimes:1});y.info.memory.programs=t.length;p=u}a.program=p};this.renderBuffer=function(a,e,f,l,p,n){if(l.visible){var q;l.needsUpdate&&(l.program&&qa(l),y.initMaterial(l,e,f,n),l.needsUpdate=!1);var v=!1,d=l.program,t=d.uniforms;q=l.uniforms;d!=u&&(k.useProgram(d),u=d,v=!0);l.id!=
K&&(K=l.id,v=!0);a!=N&&(N=a,v=!0);if(v){k.uniformMatrix4fv(t.projectionMatrix,!1,a.projectionMatrix.elements);k.uniformMatrix4fv(t.modelViewMatrix,!1,n._modelViewMatrix.elements);q.fogColor.value=f.color;q.fogNear.value=f.near;q.fogFar.value=f.far;if(0===l.shaderID.lastIndexOf("lambert",0)){k.uniformMatrix4fv(t.viewMatrix,!1,a.matrixWorldInverse.elements);k.uniformMatrix3fv(t.normalMatrix,!1,n._normalMatrix.elements);if(ja){var w,x,A=0,B=0,C=0;a=0;for(f=e.length;a<f;a++)if(v=e[a],w=v.color,x=v.intensity,
v instanceof WebMol.Light&&(A++,T.getPositionFromMatrix(v.matrixWorld),Ha.getPositionFromMatrix(v.target.matrixWorld),T.sub(Ha),T.normalize(),0!==T.x||0!==T.y||0!==T.z))pa[C]=T.x,pa[C+1]=T.y,pa[C+2]=T.z,ka[C]=w.r*x,ka[C+1]=w.g*x,ka[C+2]=w.b*x,C+=3,B++;oa[0]=0;oa[1]=0;oa[2]=0;ja=!1}q.ambientLightColor.value=oa;q.directionalLightColor.value=ka;q.directionalLightDirection.value=pa;q.ambient.value=l.ambient;q.emissive.value=l.emissive}else"sphereimposter"===l.shaderID&&(k.uniformMatrix4fv(t.viewMatrix,
!1,a.matrixWorldInverse.elements),k.uniformMatrix3fv(t.normalMatrix,!1,n._normalMatrix.elements));q.opacity.value=l.opacity;q.diffuse.value=l.color;for(var E in q)t[E]&&(e=q[E].type,a=q[E].value,f=t[E],"f"===e?k.uniform1f(f,a):"fv"===e?k.uniform3fv(f,a):"c"===e&&k.uniform3f(f,a.r,a.g,a.b))}q=d.attributes;t=!1;d=16777215*p.id+2*d.id+(l.wireframe?1:0);d!==S&&(S=d,t=!0);if(t){for(var F in ba)ba[F]&&(k.disableVertexAttribArray(F),ba[F]=!1);0<=q.position&&(k.bindBuffer(k.ARRAY_BUFFER,p.__webglVertexBuffer),
c(q.position),k.vertexAttribPointer(q.position,3,k.FLOAT,!1,0,0));0<=q.color&&(k.bindBuffer(k.ARRAY_BUFFER,p.__webglColorBuffer),c(q.color),k.vertexAttribPointer(q.color,3,k.FLOAT,!1,0,0));0<=q.normal&&(k.bindBuffer(k.ARRAY_BUFFER,p.__webglNormalBuffer),c(q.normal),k.vertexAttribPointer(q.normal,3,k.FLOAT,!1,0,0))}var G;n instanceof WebMol.Mesh?(l.wireframe?(n=p.lineidx,l=l.wireframeLinewidth,l!==$&&(k.lineWidth(l),$=l),t&&k.bindBuffer(k.ELEMENT_ARRAY_BUFFER,p.__webglLineBuffer),k.drawElements(k.LINES,
n,k.UNSIGNED_SHORT,0)):(G=p.faceidx,t&&k.bindBuffer(k.ELEMENT_ARRAY_BUFFER,p.__webglFaceBuffer),k.drawElements(k.TRIANGLES,G,k.UNSIGNED_SHORT,0)),y.info.render.calls++,y.info.render.vertices+=G,y.info.render.faces+=G/3):n instanceof WebMol.Line&&(n=p.vertices,p=l.linewidth,p!==$&&(k.lineWidth(p),$=p),k.drawArrays(k.LINES,0,n),y.info.render.calls++)}};this.render=function(a,c,e){if(!1===c instanceof WebMol.Camera)console.error("WebMol.Renderer.render: camera is not an instance of WebMol.Camera.");
else{var k,l,p,n,q=a.__lights,d=a.fog;K=-1;ja=!0;this.autoUpdateScene&&a.updateMatrixWorld();void 0===c.parent&&c.updateMatrixWorld();c.matrixWorldInverse.getInverse(c.matrixWorld);Fa.multiplyMatrices(c.projectionMatrix,c.matrixWorldInverse);this.autoUpdateObjects&&this.initWebGLObjects(a);y.info.render.calls=0;y.info.render.vertices=0;y.info.render.faces=0;y.info.render.points=0;ga=W;fa=ea;(this.autoClear||e)&&this.clear(this.autoClearColor,this.autoClearDepth,this.autoClearStencil);n=a.__webglObjects;
e=0;for(k=n.length;e<k;e++)if(l=n[e],p=l.object,l.render=!1,p.visible){p._modelViewMatrix.multiplyMatrices(c.matrixWorldInverse,p.matrixWorld);p._normalMatrix.getInverse(p._modelViewMatrix);p._normalMatrix.transpose();p=l;var t=p.object.material;t.transparent?(p.opaque=null,p.transparent=t,t=t.clone(),t.opacity=0,p.blank=t):(p.opaque=t,p.transparent=null);l.render=!0}this.setBlending(WebMol.NoBlending);f(a.__webglObjects,!0,"opaque",c,q,d,!1,null);f(a.__webglObjects,!0,"blank",c,q,d,!0,null);f(a.__webglObjects,
!1,"transparent",c,q,d,!0,null);q=this.renderPluginsPost;S=-1;N=u=null;w=K=H=L=P=-1;if(q.length)for(d=0,e=q.length;d<e;d++)ja=!0,q[d].render(a,c,ga,fa),S=-1,N=u=null,w=K=H=L=P=-1;this.setDepthTest(!0);this.setDepthWrite(!0)}};this.initWebGLObjects=function(a){a.__webglObjects||(a.__webglObjects=[],a.__webglObjectsImmediate=[],a.__webglSprites=[],a.__webglFlares=[]);if(a.__objectsAdded.length){for(;a.__objectsAdded.length;){var c=a.__objectsAdded[0],e=a,f=void 0,l=void 0,p=void 0,n=void 0;if(!c.__webglInit&&
(c.__webglInit=!0,c._modelViewMatrix=new WebMol.Matrix4,c._normalMatrix=new WebMol.Matrix3,void 0!==c.geometry&&void 0===c.geometry.__webglInit&&(c.geometry.__webglInit=!0,c.geometry.addEventListener("dispose",Ia)),c instanceof WebMol.Mesh||c instanceof WebMol.Line))for(p=c.geometry,f=0,l=p.geometryGroups.length;f<l;f++)n=p.geometryGroups[f],n.id=O++,n.__webglVertexBuffer||(c instanceof WebMol.Mesh?(n.__webglVertexBuffer=k.createBuffer(),n.__webglNormalBuffer=k.createBuffer(),n.__webglColorBuffer=
k.createBuffer(),n.__webglFaceBuffer=k.createBuffer(),n.__webglLineBuffer=k.createBuffer(),y.info.memory.geometries++,p.elementsNeedUpdate=!0,p.normalsNeedUpdate=!0):c instanceof WebMol.Line&&(n.__webglVertexBuffer=k.createBuffer(),n.__webglColorBuffer=k.createBuffer(),y.info.memory.geometries++),p.verticesNeedUpdate=!0,p.colorsNeedUpdate=!0);if(!c.__webglActive){if(c instanceof WebMol.Mesh||c instanceof WebMol.Line)for(p=c.geometry,f=0,l=p.geometryGroups.length;f<l;f++)n=p.geometryGroups[f],e.__webglObjects.push({buffer:n,
object:c,opaque:null,transparent:null});else c instanceof WebMol.Sprite&&e.__webglSprites.push(c);c.__webglActive=!0}a.__objectsAdded.splice(0,1)}S=-1}for(;a.__objectsRemoved.length;){c=a.__objectsRemoved[0];e=a;if(c instanceof WebMol.Mesh||c instanceof WebMol.Line)for(e=e.__webglObjects,f=c,l=e.length-1;0<=l;--l)e[l].object===f&&e.splice(l,1);else if(c instanceof WebMol.Sprite)for(e=e.__webglSprites,f=c,l=e.length-1;0<=l;--l)e[l]===f&&e.splice(l,1);c.__webglActive=!1;a.__objectsRemoved.splice(0,
1)}c=0;for(e=a.__webglObjects.length;c<e;c++)if(l=a.__webglObjects[c].object,f=l.geometry,n=void 0,l instanceof WebMol.Mesh||l instanceof WebMol.Line){l=0;for(p=f.geometryGroups.length;l<p;l++)if(n=f.geometryGroups[l],f.verticesNeedUpdate||f.elementsNeedUpdate||f.colorsNeedUpdate||f.normalsNeedUpdate){var q=k.STATIC_DRAW,d=n.vertexArray,t=n.colorArray;k.bindBuffer(k.ARRAY_BUFFER,n.__webglVertexBuffer);k.bufferData(k.ARRAY_BUFFER,d,q);k.bindBuffer(k.ARRAY_BUFFER,n.__webglColorBuffer);k.bufferData(k.ARRAY_BUFFER,
t,q);void 0!==n.normalArray&&void 0!==n.__webglNormalBuffer&&(d=n.normalArray,k.bindBuffer(k.ARRAY_BUFFER,n.__webglNormalBuffer),k.bufferData(k.ARRAY_BUFFER,d,q));void 0!==n.faceArray&&void 0!==n.__webglFaceBuffer&&(d=n.faceArray,k.bindBuffer(k.ELEMENT_ARRAY_BUFFER,n.__webglFaceBuffer),k.bufferData(k.ELEMENT_ARRAY_BUFFER,d,q));void 0!==n.lineArray&&void 0!==n.__webglLineBuffer&&(d=n.lineArray,k.bindBuffer(k.ELEMENT_ARRAY_BUFFER,n.__webglLineBuffer),k.bufferData(k.ELEMENT_ARRAY_BUFFER,d,q))}f.verticesNeedUpdate=
!1;f.elementsNeedUpdate=!1;f.normalsNeedUpdate=!1;f.colorsNeedUpdate=!1;f.buffersNeedUpdate=!1}};this.setTexture=function(a,c){if(a.needsUpdate){a.__webglInit||(a.__webglInit=!0,a.addEventListener("dispose",Ja),a.__webglTexture=k.createTexture(),y.info.memory.textures++);k.activeTexture(k.TEXTURE0+c);k.bindTexture(k.TEXTURE_2D,a.__webglTexture);k.pixelStorei(k.UNPACK_FLIP_Y_WEBGL,a.flipY);k.pixelStorei(k.UNPACK_PREMULTIPLY_ALPHA_WEBGL,a.premultiplyAlpha);k.pixelStorei(k.UNPACK_ALIGNMENT,a.unpackAlignment);
var e=a.image,e=l(e.width)&&l(e.height),f=q(a.format),p=q(a.type),n=k.TEXTURE_2D;e?(k.texParameteri(n,k.TEXTURE_WRAP_S,q(a.wrapS)),k.texParameteri(n,k.TEXTURE_WRAP_T,q(a.wrapT)),k.texParameteri(n,k.TEXTURE_MAG_FILTER,q(a.magFilter)),k.texParameteri(n,k.TEXTURE_MIN_FILTER,q(a.minFilter))):(k.texParameteri(n,k.TEXTURE_WRAP_S,k.CLAMP_TO_EDGE),k.texParameteri(n,k.TEXTURE_WRAP_T,k.CLAMP_TO_EDGE),k.texParameteri(n,k.TEXTURE_MAG_FILTER,k.LINEAR),k.texParameteri(n,k.TEXTURE_MIN_FILTER,k.LINEAR));var t=a.mipmaps;
if(0<t.length&&e){for(var u=0,d=t.length;u<d;u++)n=t[u],k.texImage2D(k.TEXTURE_2D,u,f,f,p,n);a.generateMipmaps=!1}else k.texImage2D(k.TEXTURE_2D,0,f,f,p,a.image);a.generateMipmaps&&e&&k.generateMipmap(k.TEXTURE_2D);a.needsUpdate=!1;if(a.onUpdate)a.onUpdate()}else k.activeTexture(k.TEXTURE0+c),k.bindTexture(k.TEXTURE_2D,a.__webglTexture)};this.addPostPlugin(new WebMol.SpritePlugin)};
WebMol.Scene=function(){WebMol.Object3D.call(this);this.overrideMaterial=this.fog=null;this.matrixAutoUpdate=!1;this.__objects=[];this.__lights=[];this.__objectsAdded=[];this.__objectsRemoved=[]};WebMol.Scene.prototype=Object.create(WebMol.Object3D.prototype);
WebMol.Scene.prototype.__addObject=function(a){a instanceof WebMol.Light?(-1===this.__lights.indexOf(a)&&this.__lights.push(a),a.target&&void 0===a.target.parent&&this.add(a.target)):-1===this.__objects.indexOf(a)&&(this.__objects.push(a),this.__objectsAdded.push(a),-1!==this.__objectsRemoved.indexOf(a)&&this.__objectsRemoved.splice(c,1));for(var c=0;c<a.children.length;c++)this.__addObject(a.children[c])};
WebMol.Scene.prototype.__removeObject=function(a){var c;a instanceof WebMol.Light?(c=this.__lights.indexOf(a),-1!==c&&this.__lights.splice(c,1)):(c=this.__objects.indexOf(a),-1!==c&&(this.__objects.splice(c,1),this.__objectsRemoved.push(a),-1!==this.__objectsAdded.indexOf(a)&&this.__objectsAdded.splice(c,1)));for(c=0;c<a.children.length;c++)this.__removeObject(a.children[c])};WebMol.Fog=function(a,c,e){this.name="";this.color=new WebMol.Color(a);this.near=void 0!==c?c:1;this.far=void 0!==e?e:1E3};
WebMol.Fog.prototype.clone=function(){return new WebMol.Fog(this.color.getHex(),this.near,this.far)};WebMol.ShaderUtils={clone:function(a){var c,e={};for(c in a){e[c]={};e[c].type=a[c].type;var f=a[c].value;f instanceof WebMol.Color?e[c].value=f.clone():"number"===typeof f?e[c].value=f:f instanceof Array?e[c].value=[]:console.error("Error copying shader uniforms from ShaderLib: unknown type for uniform")}return e}};
WebMol.ShaderLib={basic:{fragmentShader:"uniform mat4 viewMatrix;\nuniform vec3 cameraPosition;\nuniform vec3 diffuse;\nuniform float opacity;\nuniform vec3 fogColor;\nuniform float fogNear;\nuniform float fogFar;\nvarying vec3 vColor;\nvoid main() {\n    gl_FragColor = vec4( diffuse, opacity );\n    gl_FragColor = gl_FragColor * vec4( vColor, opacity );\n    float depth = gl_FragCoord.z / gl_FragCoord.w;\n    float fogFactor = smoothstep( fogNear, fogFar, depth );\n    gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );\n}",vertexShader:"uniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\nuniform mat4 viewMatrix;\nuniform mat3 normalMatrix;\nuniform vec3 cameraPosition;\nattribute vec3 position;\nattribute vec3 color;\nvarying vec3 vColor;\nvoid main() {\n    vColor = color;\n    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n    gl_Position = projectionMatrix * mvPosition;\n}",
uniforms:{opacity:{type:"f",value:1},diffuse:{type:"c",value:new WebMol.Color(1,1,1)},fogColor:{type:"c",value:new WebMol.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2E3}}},sphereimposter:{fragmentShader:"uniform mat4 viewMatrix;\nuniform vec3 cameraPosition;\nuniform vec3 diffuse;\nuniform float opacity;\nuniform vec3 fogColor;\nuniform float fogNear;\nuniform float fogFar;\nvarying vec3 vColor;\nvarying vec2 mapping;\nvoid main() {\n\t float lensqr = dot(mapping,mapping);\n\t if(lensqr > 2.0)\n\t    discard;\n\t float w = sqrt(2.0 - lensqr);\n\t float z = sqrt(sqrt(2.0)-lensqr);\n\t gl_FragDepthEXT = -.1*z;\n    gl_FragColor = vec4( w*vColor, 1 );\n}",
vertexShader:"uniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\nuniform mat4 viewMatrix;\nuniform mat3 normalMatrix;\nuniform vec3 cameraPosition;\nattribute vec3 position;\nattribute vec3 normal;\nattribute vec3 color;\nvarying vec2 mapping;\nvarying vec3 vColor;\nvoid main() {\n    vColor = color;\n    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n    vec4 projPosition = projectionMatrix * mvPosition;\n\t vec4 adjust = projectionMatrix*vec4(normal, 1.0);  adjust.y *= -1.0; adjust.z = 0.0; adjust.w = 0.0;\n\t mapping = normal.xy;\n\t gl_Position = projPosition+adjust;\n}",
uniforms:{opacity:{type:"f",value:1},diffuse:{type:"c",value:new WebMol.Color(1,1,1)},fogColor:{type:"c",value:new WebMol.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2E3}}},lambert:{fragmentShader:"uniform mat4 viewMatrix;\nuniform vec3 cameraPosition;\nuniform float opacity;\nuniform vec3 fogColor;\nuniform float fogNear;\nuniform float fogFar;\nvarying vec3 vLightFront;\nvarying vec3 vColor;\nvoid main() {\n    gl_FragColor = vec4( vec3 ( 1.0 ), opacity );\n    #ifndef WIREFRAME\n    gl_FragColor.xyz *= vLightFront;\n    #endif\n    gl_FragColor = gl_FragColor * vec4( vColor, opacity );\n    float depth = gl_FragCoord.z / gl_FragCoord.w;\n    float fogFactor = smoothstep( fogNear, fogFar, depth );\n    gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );\n}",
vertexShader:"uniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\nuniform mat4 viewMatrix;\nuniform mat3 normalMatrix;\nuniform vec3 cameraPosition;\nuniform vec3 ambient;\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 ambientLightColor;\nuniform vec3 directionalLightColor[ 1 ];\nuniform vec3 directionalLightDirection[ 1 ];\nattribute vec3 position;\nattribute vec3 normal;\nattribute vec3 color;\nvarying vec3 vColor;\nvarying vec3 vLightFront;\nvoid main() {\n    vColor = color;\n    vec3 objectNormal = normal;\n    vec3 transformedNormal = normalMatrix * objectNormal;\n    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n    vLightFront = vec3( 0.0 );\n    transformedNormal = normalize( transformedNormal );\n    vec4 lDirection = viewMatrix * vec4( directionalLightDirection[ 0 ], 0.0 );\n    vec3 dirVector = normalize( lDirection.xyz );\n    float dotProduct = dot( transformedNormal, dirVector );\n    vec3 directionalLightWeighting = vec3( max( dotProduct, 0.0 ) );\n    vLightFront += directionalLightColor[ 0 ] * directionalLightWeighting;\n    vLightFront = vLightFront * diffuse + ambient * ambientLightColor + emissive;\n    gl_Position = projectionMatrix * mvPosition;\n}",
uniforms:{opacity:{type:"f",value:1},diffuse:{type:"c",value:new WebMol.Color(1,1,1)},fogColor:{type:"c",value:new WebMol.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2E3},ambient:{type:"c",value:new WebMol.Color(1,1,1)},emissive:{type:"c",value:new WebMol.Color(1,1,1)},ambientLightColor:{type:"fv",value:[]},directionalLightColor:{type:"fv",value:[]},directionalLightDirection:{type:"fv",value:[]}}},lambertdouble:{fragmentShader:"uniform mat4 viewMatrix;\nuniform vec3 cameraPosition;\nuniform float opacity;\nuniform vec3 fogColor;\nuniform float fogNear;\nuniform float fogFar;\nvarying vec3 vLightFront;\nvarying vec3 vLightBack;\nvarying vec3 vColor;\nvoid main() {\n    gl_FragColor = vec4( vec3 ( 1.0 ), opacity );\n    #ifndef WIREFRAME\n\t if ( gl_FrontFacing )\n\t\tgl_FragColor.xyz *= vLightFront;\n\t else\n\t\tgl_FragColor.xyz *= vLightBack;\n    #endif\n    gl_FragColor = gl_FragColor * vec4( vColor, opacity );\n    float depth = gl_FragCoord.z / gl_FragCoord.w;\n    float fogFactor = smoothstep( fogNear, fogFar, depth );\n    gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );\n}",
vertexShader:"uniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\nuniform mat4 viewMatrix;\nuniform mat3 normalMatrix;\nuniform vec3 cameraPosition;\nuniform vec3 ambient;\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 ambientLightColor;\nuniform vec3 directionalLightColor[ 1 ];\nuniform vec3 directionalLightDirection[ 1 ];\nattribute vec3 position;\nattribute vec3 normal;\nattribute vec3 color;\nvarying vec3 vColor;\nvarying vec3 vLightFront;\nvarying vec3 vLightBack;\nvoid main() {\n    vColor = color;\n    vec3 objectNormal = normal;\n    vec3 transformedNormal = normalMatrix * objectNormal;\n    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n    vLightFront = vec3( 0.0 );\n    vLightBack = vec3( 0.0 );\n    transformedNormal = normalize( transformedNormal );\n    vec4 lDirection = viewMatrix * vec4( directionalLightDirection[ 0 ], 0.0 );\n    vec3 dirVector = normalize( lDirection.xyz );\n    float dotProduct = dot( transformedNormal, dirVector );\n    vec3 directionalLightWeighting = vec3( max( dotProduct, 0.0 ) );\n\t vec3 directionalLightWeightingBack = vec3( max( -dotProduct, 0.0 ) );\n    vLightFront += directionalLightColor[ 0 ] * directionalLightWeighting;\n\t vLightBack += directionalLightColor[ 0 ] * directionalLightWeightingBack;\n    vLightFront = vLightFront * diffuse + ambient * ambientLightColor + emissive;\n\t vLightBack = vLightBack * diffuse + ambient * ambientLightColor + emissive;\n    gl_Position = projectionMatrix * mvPosition;\n}",
uniforms:{opacity:{type:"f",value:1},diffuse:{type:"c",value:new WebMol.Color(1,1,1)},fogColor:{type:"c",value:new WebMol.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2E3},ambient:{type:"c",value:new WebMol.Color(1,1,1)},emissive:{type:"c",value:new WebMol.Color(1,1,1)},ambientLightColor:{type:"fv",value:[]},directionalLightColor:{type:"fv",value:[]},directionalLightDirection:{type:"fv",value:[]}}},sprite:{fragmentShader:"uniform vec3 color;\nuniform sampler2D map;\nuniform float opacity;\nuniform int fogType;\nuniform vec3 fogColor;\nuniform float fogDensity;\nuniform float fogNear;\nuniform float fogFar;\nuniform float alphaTest;\nvarying vec2 vUV;\nvoid main() {\n    vec4 texture = texture2D(map, vUV);\n    if (texture.a < alphaTest) discard;\n    gl_FragColor = vec4(color * texture.xyz, texture.a * opacity);\n    if (fogType > 0) {\n        float depth = gl_FragCoord.z / gl_FragCoord.w;\n        float fogFactor = 0.0;\n        if (fogType == 1) {\n            fogFactor = smoothstep(fogNear, fogFar, depth);\n        }\n        else {\n            const float LOG2 = 1.442695;\n            float fogFactor = exp2(- fogDensity * fogDensity * depth * depth * LOG2);\n            fogFactor = 1.0 - clamp(fogFactor, 0.0, 1.0);\n        }\n        gl_FragColor = mix(gl_FragColor, vec4(fogColor, gl_FragColor.w), fogFactor);\n    }\n}",
vertexShader:"uniform int useScreenCoordinates;\nuniform int sizeAttenuation;\nuniform vec3 screenPosition;\nuniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\nuniform float rotation;\nuniform vec2 scale;\nuniform vec2 alignment;\nuniform vec2 uvOffset;\nuniform vec2 uvScale;\nattribute vec2 position;\nattribute vec2 uv;\nvarying vec2 vUV;\nvoid main() {\n    vUV = uvOffset + uv * uvScale;\n    vec2 alignedPosition = position + alignment;\n    vec2 rotatedPosition;\n    rotatedPosition.x = ( cos(rotation) * alignedPosition.x - sin(rotation) * alignedPosition.y ) * scale.x;\n    rotatedPosition.y = ( sin(rotation) * alignedPosition.x + cos(rotation) * alignedPosition.y ) * scale.y;\n    vec4 finalPosition;\n    if(useScreenCoordinates != 0) {\n        finalPosition = vec4(screenPosition.xy + rotatedPosition, screenPosition.z, 1.0);\n    }\n    else {\n        finalPosition = projectionMatrix * modelViewMatrix * vec4(0.0, 0.0, 0.0, 1.0);\n        finalPosition.xy += rotatedPosition * (sizeAttenuation == 1 ? 1.0 : finalPosition.z);\n    }\n    gl_Position = finalPosition;\n}",
uniforms:{}}};WebMol=WebMol||{};
WebMol.partialCharges=[{resn:"ALA",atom:"N",props:{partialCharge:-.15}},{resn:"ALA",atom:"CA",props:{partialCharge:.1}},{resn:"ALA",atom:"CB",props:{partialCharge:0}},{resn:"ALA",atom:"C",props:{partialCharge:.6}},{resn:"ALA",atom:"O",props:{partialCharge:-.55}},{resn:"ARG",atom:"N",props:{partialCharge:-.15}},{resn:"ARG",atom:"CA",props:{partialCharge:.1}},{resn:"ARG",atom:"CB",props:{partialCharge:0}},{resn:"ARG",atom:"CG",props:{partialCharge:0}},{resn:"ARG",atom:"CD",props:{partialCharge:.1}},
{resn:"ARG",atom:"NE",props:{partialCharge:-.1}},{resn:"ARG",atom:"CZ",props:{partialCharge:.5}},{resn:"ARG",atom:"NH1",props:{partialCharge:.25}},{resn:"ARG",atom:"NH2",props:{partialCharge:.25}},{resn:"ARG",atom:"C",props:{partialCharge:.6}},{resn:"ARG",atom:"O",props:{partialCharge:-.55}},{resn:"ASN",atom:"N",props:{partialCharge:-.15}},{resn:"ASN",atom:"CA",props:{partialCharge:.1}},{resn:"ASN",atom:"CB",props:{partialCharge:0}},{resn:"ASN",atom:"CG",props:{partialCharge:.55}},{resn:"ASN",atom:"OD1",
props:{partialCharge:-.55}},{resn:"ASN",atom:"ND2",props:{partialCharge:0}},{resn:"ASN",atom:"C",props:{partialCharge:.6}},{resn:"ASN",atom:"O",props:{partialCharge:-.55}},{resn:"ASP",atom:"N",props:{partialCharge:-.15}},{resn:"ASP",atom:"CA",props:{partialCharge:.1}},{resn:"ASP",atom:"CB",props:{partialCharge:0}},{resn:"ASP",atom:"CG",props:{partialCharge:.14}},{resn:"ASP",atom:"OD1",props:{partialCharge:-.57}},{resn:"ASP",atom:"OD2",props:{partialCharge:-.57}},{resn:"ASP",atom:"C",props:{partialCharge:.6}},
{resn:"ASP",atom:"O",props:{partialCharge:-.55}},{resn:"CYS",atom:"N",props:{partialCharge:-.15}},{resn:"CYS",atom:"CA",props:{partialCharge:.1}},{resn:"CYS",atom:"CB",props:{partialCharge:.19}},{resn:"CYS",atom:"SG",props:{partialCharge:-.19}},{resn:"CYS",atom:"C",props:{partialCharge:.6}},{resn:"CYS",atom:"O",props:{partialCharge:-.55}},{resn:"GLN",atom:"N",props:{partialCharge:-.15}},{resn:"GLN",atom:"CA",props:{partialCharge:.1}},{resn:"GLN",atom:"CB",props:{partialCharge:0}},{resn:"GLN",atom:"CG",
props:{partialCharge:0}},{resn:"GLN",atom:"CD",props:{partialCharge:.55}},{resn:"GLN",atom:"OE1",props:{partialCharge:-.55}},{resn:"GLN",atom:"NE2",props:{partialCharge:0}},{resn:"GLN",atom:"C",props:{partialCharge:.6}},{resn:"GLN",atom:"O",props:{partialCharge:-.55}},{resn:"GLU",atom:"N",props:{partialCharge:-.15}},{resn:"GLU",atom:"CA",props:{partialCharge:.1}},{resn:"GLU",atom:"CB",props:{partialCharge:0}},{resn:"GLU",atom:"CG",props:{partialCharge:0}},{resn:"GLU",atom:"CD",props:{partialCharge:.14}},
{resn:"GLU",atom:"OE1",props:{partialCharge:-.57}},{resn:"GLU",atom:"OE2",props:{partialCharge:-.57}},{resn:"GLU",atom:"C",props:{partialCharge:.6}},{resn:"GLU",atom:"O",props:{partialCharge:-.55}},{resn:"GLY",atom:"N",props:{partialCharge:-.15}},{resn:"GLY",atom:"CA",props:{partialCharge:.1}},{resn:"GLY",atom:"C",props:{partialCharge:.6}},{resn:"GLY",atom:"O",props:{partialCharge:-.55}},{resn:"HIS",atom:"N",props:{partialCharge:-.15}},{resn:"HIS",atom:"CA",props:{partialCharge:.1}},{resn:"HIS",atom:"CB",
props:{partialCharge:0}},{resn:"HIS",atom:"CG",props:{partialCharge:.1}},{resn:"HIS",atom:"ND1",props:{partialCharge:-.1}},{resn:"HIS",atom:"CD2",props:{partialCharge:.1}},{resn:"HIS",atom:"NE2",props:{partialCharge:-.4}},{resn:"HIS",atom:"CE1",props:{partialCharge:.3}},{resn:"HIS",atom:"C",props:{partialCharge:.6}},{resn:"HIS",atom:"O",props:{partialCharge:-.55}},{resn:"ILE",atom:"N",props:{partialCharge:-.15}},{resn:"ILE",atom:"CA",props:{partialCharge:.1}},{resn:"ILE",atom:"CB",props:{partialCharge:0}},
{resn:"ILE",atom:"CG2",props:{partialCharge:0}},{resn:"ILE",atom:"CG1",props:{partialCharge:0}},{resn:"ILE",atom:"CD",props:{partialCharge:0}},{resn:"ILE",atom:"C",props:{partialCharge:.6}},{resn:"ILE",atom:"O",props:{partialCharge:-.55}},{resn:"LEU",atom:"N",props:{partialCharge:-.15}},{resn:"LEU",atom:"CA",props:{partialCharge:.1}},{resn:"LEU",atom:"CB",props:{partialCharge:0}},{resn:"LEU",atom:"CG",props:{partialCharge:0}},{resn:"LEU",atom:"CD1",props:{partialCharge:0}},{resn:"LEU",atom:"CD2",
props:{partialCharge:0}},{resn:"LEU",atom:"C",props:{partialCharge:.6}},{resn:"LEU",atom:"O",props:{partialCharge:-.55}},{resn:"LYS",atom:"N",props:{partialCharge:-.15}},{resn:"LYS",atom:"CA",props:{partialCharge:.1}},{resn:"LYS",atom:"CB",props:{partialCharge:0}},{resn:"LYS",atom:"CG",props:{partialCharge:0}},{resn:"LYS",atom:"CD",props:{partialCharge:0}},{resn:"LYS",atom:"CE",props:{partialCharge:.25}},{resn:"LYS",atom:"NZ",props:{partialCharge:.75}},{resn:"LYS",atom:"C",props:{partialCharge:.6}},
{resn:"LYS",atom:"O",props:{partialCharge:-.55}},{resn:"MET",atom:"N",props:{partialCharge:-.15}},{resn:"MET",atom:"CA",props:{partialCharge:.1}},{resn:"MET",atom:"CB",props:{partialCharge:0}},{resn:"MET",atom:"CG",props:{partialCharge:.06}},{resn:"MET",atom:"SD",props:{partialCharge:-.12}},{resn:"MET",atom:"CE",props:{partialCharge:.06}},{resn:"MET",atom:"C",props:{partialCharge:.6}},{resn:"MET",atom:"O",props:{partialCharge:-.55}},{resn:"PHE",atom:"N",props:{partialCharge:-.15}},{resn:"PHE",atom:"CA",
props:{partialCharge:.1}},{resn:"PHE",atom:"CB",props:{partialCharge:0}},{resn:"PHE",atom:"CG",props:{partialCharge:0}},{resn:"PHE",atom:"CD1",props:{partialCharge:0}},{resn:"PHE",atom:"CD2",props:{partialCharge:0}},{resn:"PHE",atom:"CE1",props:{partialCharge:0}},{resn:"PHE",atom:"CE2",props:{partialCharge:0}},{resn:"PHE",atom:"CZ",props:{partialCharge:0}},{resn:"PHE",atom:"C",props:{partialCharge:.6}},{resn:"PHE",atom:"O",props:{partialCharge:-.55}},{resn:"PRO",atom:"N",props:{partialCharge:-.25}},
{resn:"PRO",atom:"CD",props:{partialCharge:.1}},{resn:"PRO",atom:"CA",props:{partialCharge:.1}},{resn:"PRO",atom:"CB",props:{partialCharge:0}},{resn:"PRO",atom:"CG",props:{partialCharge:0}},{resn:"PRO",atom:"C",props:{partialCharge:.6}},{resn:"PRO",atom:"O",props:{partialCharge:-.55}},{resn:"SER",atom:"N",props:{partialCharge:-.15}},{resn:"SER",atom:"CA",props:{partialCharge:.1}},{resn:"SER",atom:"CB",props:{partialCharge:.25}},{resn:"SER",atom:"OG",props:{partialCharge:-.25}},{resn:"SER",atom:"C",
props:{partialCharge:.6}},{resn:"SER",atom:"O",props:{partialCharge:-.55}},{resn:"THR",atom:"N",props:{partialCharge:-.15}},{resn:"THR",atom:"CA",props:{partialCharge:.1}},{resn:"THR",atom:"CB",props:{partialCharge:.25}},{resn:"THR",atom:"OG1",props:{partialCharge:-.25}},{resn:"THR",atom:"CG2",props:{partialCharge:0}},{resn:"THR",atom:"C",props:{partialCharge:.6}},{resn:"THR",atom:"O",props:{partialCharge:-.55}},{resn:"TRP",atom:"N",props:{partialCharge:-.15}},{resn:"TRP",atom:"CA",props:{partialCharge:.1}},
{resn:"TRP",atom:"CB",props:{partialCharge:0}},{resn:"TRP",atom:"CG",props:{partialCharge:-.03}},{resn:"TRP",atom:"CD2",props:{partialCharge:.1}},{resn:"TRP",atom:"CE2",props:{partialCharge:-.04}},{resn:"TRP",atom:"CE3",props:{partialCharge:-.03}},{resn:"TRP",atom:"CD1",props:{partialCharge:.06}},{resn:"TRP",atom:"NE1",props:{partialCharge:-.06}},{resn:"TRP",atom:"CZ2",props:{partialCharge:0}},{resn:"TRP",atom:"CZ3",props:{partialCharge:0}},{resn:"TRP",atom:"CH2",props:{partialCharge:0}},{resn:"TRP",
atom:"C",props:{partialCharge:.6}},{resn:"TRP",atom:"O",props:{partialCharge:-.55}},{resn:"TYR",atom:"N",props:{partialCharge:-.15}},{resn:"TYR",atom:"CA",props:{partialCharge:.1}},{resn:"TYR",atom:"CB",props:{partialCharge:0}},{resn:"TYR",atom:"CG",props:{partialCharge:0}},{resn:"TYR",atom:"CD1",props:{partialCharge:0}},{resn:"TYR",atom:"CE1",props:{partialCharge:0}},{resn:"TYR",atom:"CD2",props:{partialCharge:0}},{resn:"TYR",atom:"CE2",props:{partialCharge:0}},{resn:"TYR",atom:"CZ",props:{partialCharge:.25}},
{resn:"TYR",atom:"OH",props:{partialCharge:-.25}},{resn:"TYR",atom:"C",props:{partialCharge:.6}},{resn:"TYR",atom:"O",props:{partialCharge:-.55}},{resn:"VAL",atom:"N",props:{partialCharge:-.15}},{resn:"VAL",atom:"CA",props:{partialCharge:.1}},{resn:"VAL",atom:"CB",props:{partialCharge:0}},{resn:"VAL",atom:"CG1",props:{partialCharge:0}},{resn:"VAL",atom:"CG2",props:{partialCharge:0}},{resn:"VAL",atom:"C",props:{partialCharge:.6}},{resn:"VAL",atom:"O",props:{partialCharge:-.55}}];
WebMol.partialCharges=WebMol.partialCharges;
WebMol=window.WebMol||{};WebMol.createViewer=function(A,B){"string"===$.type(A)&&(A=$("#"+A));if(A){B=B||{};B.order||(B.order=["glmol","jmol"]);B.defaultcolors||(B.defaultcolors=WebMol.elementColors.defaultColors);for(var z=0;z<B.order.length;z++){var C=B.order[z],t=C+"Viewer";if("function"===typeof this[t])try{return new this[t](A,B.callback,B.defaultcolors,B.Pa)}catch(u){console.log("error with "+C+":"+u)}}alert("Unable to instantiate webmol viewer: "+B.order);return null}};
WebMol.download=function(A,B){var z="";if("pdb:"===A.substr(0,4)){z="pdb";A=A.substr(4).toUpperCase();if(!A.match(/^[1-9][A-Za-z0-9]{3}$/)){alert("Wrong PDB ID");return}uri="http://www.pdb.org/pdb/files/"+A+".pdb"}else if("cid:"==A.substr(0,4)){z="sdf";A=A.substr(4);if(!A.match(/^[1-9]+$/)){alert("Wrong Compound ID");return}uri="http://pubchem.ncbi.nlm.nih.gov/rest/pug/compound/cid/"+A+"/SDF?record_type=3d"}$.get(uri,function(C){B.addModel(C,z);B.zoomTo();B.render()});return null};
WebMol.SurfaceType={VDW:1,MS:2,SAS:3,SES:4};
WebMol.f={h:{},color:function(A){if("undefined"!==typeof this.h[A])return this.h[A];A=this.ua(A);var B=new WebMol.Color(A);return this.h[A]=B},ka:{white:16777215,silver:12632256,gray:8421504,grey:8421504,black:0,red:16711680,maroon:8388608,yellow:16776960,orange:16737792,olive:8421376,lime:65280,green:32768,aqua:65535,cyan:65535,teal:32896,blue:255,navy:128,fuchsia:16711935,magenta:16711935,purple:8388736},ua:function(A){if(parseInt(A))return A;if("string"===typeof A)return this.ka[A.trim().toLowerCase()]||
0}};WebMol.CC=WebMol.f;WebMol.CC.color=WebMol.f.color;WebMol.W=function(A,B){var z=B.geometry;void 0!==z&&A.geometryGroups.push(z.geometryGroups[0])};WebMol.Oa=function(A){return A.toString().replace(/^[^\/]+\/\*!?/,"").replace(/\*\/[^\/]+$/,"")};WebMol.syncSurface=!1;if(0<=window.navigator.userAgent.indexOf("MSIE ")||0<=window.navigator.userAgent.indexOf("Trident/"))WebMol.syncSurface=!0;WebMol=WebMol||{};
WebMol.s=function(){var A={V:function(u,e,f,d){function a(n,p,a,c,M,K){var b=new WebMol.Vector3;b.copy(h);var d=M;c&1<<M||!(c&1<<K)||(d=K);d&1&&a++;d&2&&p++;d&4&&n++;b.x+=r.x*n;b.y+=r.y*p;b.z+=r.z*a;n=(D*n+p)*g+a;if(x)return e.push(b),e.length-1;0>l[n]&&(l[n]=e.length,e.push(b));return l[n]}var c=!!d.sa,h=d.hasOwnProperty("origin")&&d.origin.hasOwnProperty("x")?d.origin:{x:0,y:0,z:0},x=!!d.voxel,b=d.Y||0,D=d.Z||0,g=d.aa||0;d=d.scale||1;var r=(new WebMol.Vector3(1,1,1)).multiplyScalar(d),l=new Int32Array(b*
D*g),s;d=0;for(s=l.length;d<s;++d)l[d]=-1;s=new Int32Array(12);var q=c?C:B,c=c?t:z;for(d=0;d<b-1;++d)for(var w=0;w<D-1;++w)for(var H=0;H<g-1;++H){for(var y=0,p=0;8>p;++p)y|=!!(u[(D*(d+((p&4)>>2))+w+((p&2)>>1))*g+H+(p&1)]&2)<<p;if(0!==y&&255!==y){var G=q[y];if(0!==G)for(p=c[y],G&1&&(s[0]=a(d,w,H,y,0,1)),G&2&&(s[1]=a(d,w,H,y,1,3)),G&4&&(s[2]=a(d,w,H,y,3,2)),G&8&&(s[3]=a(d,w,H,y,2,0)),G&16&&(s[4]=a(d,w,H,y,4,5)),G&32&&(s[5]=a(d,w,H,y,5,7)),G&64&&(s[6]=a(d,w,H,y,7,6)),G&128&&(s[7]=a(d,w,H,y,6,4)),G&256&&
(s[8]=a(d,w,H,y,0,4)),G&512&&(s[9]=a(d,w,H,y,1,5)),G&1024&&(s[10]=a(d,w,H,y,3,7)),G&2048&&(s[11]=a(d,w,H,y,2,6)),y=0;y<p.length;y+=3){var G=s[p[y]],M=s[p[y+1]],K=s[p[y+2]];x&&3<=y&&(e.push(e[G]),G=e.length-1,e.push(e[M]),M=e.length-1,e.push(e[K]),K=e.length-1);f.push(G);f.push(M);f.push(K)}}}},U:function(u,e,f){var d=Array(e.length),a,c,h,x;a=0;for(c=e.length;a<c;a++)d[a]={x:0,y:0,z:0};var b=Array(20),D;for(a=0;20>a;a++)b[a]=Array(e.length);a=0;for(c=e.length;a<c;a++)b[0][a]=0;a=0;for(c=f.length/
3;a<c;a++){var g=3*a,r=3*a+1,l=3*a+2;D=!0;h=0;for(x=b[0][f[g]];h<x;h++)if(f[r]==b[h+1][f[g]]){D=!1;break}D&&(b[0][f[g]]++,b[b[0][f[g]]][f[g]]=f[r]);D=!0;h=0;for(x=b[0][f[g]];h<x;h++)if(f[l]==b[h+1][f[g]]){D=!1;break}D&&(b[0][f[g]]++,b[b[0][f[g]]][f[g]]=f[l]);D=!0;h=0;for(x=b[0][f[r]];h<x;h++)if(f[g]==b[h+1][f[r]]){D=!1;break}D&&(b[0][f[r]]++,b[b[0][f[r]]][f[r]]=f[g]);D=!0;h=0;for(x=b[0][f[r]];h<x;h++)if(f[l]==b[h+1][f[r]]){D=!1;break}D&&(b[0][f[r]]++,b[b[0][f[r]]][f[r]]=f[l]);D=!0;for(h=0;h<b[0][f[l]];h++)if(f[g]==
b[h+1][f[l]]){D=!1;break}D&&(b[0][f[l]]++,b[b[0][f[l]]][f[l]]=f[g]);D=!0;h=0;for(x=b[0][f[l]];h<x;h++)if(f[r]==b[h+1][f[l]]){D=!1;break}D&&(b[0][f[l]]++,b[b[0][f[l]]][f[l]]=f[r])}for(f=0;f<u;f++){a=0;for(c=e.length;a<c;a++)if(3>b[0][a])d[a].x=e[a].x,d[a].y=e[a].y,d[a].z=e[a].z;else if(3==b[0][a]||4==b[0][a]){d[a].x=0;d[a].y=0;h=d[a].z=0;for(x=b[0][a];h<x;h++)d[a].x+=e[b[h+1][a]].x,d[a].y+=e[b[h+1][a]].y,d[a].z+=e[b[h+1][a]].z;d[a].x+=.5*e[a].x;d[a].y+=.5*e[a].y;d[a].z+=.5*e[a].z;d[a].x/=.5+b[0][a];
d[a].y/=.5+b[0][a];d[a].z/=.5+b[0][a]}else{d[a].x=0;d[a].y=0;h=d[a].z=0;for(x=b[0][a];h<x;h++)d[a].x+=e[b[h+1][a]].x,d[a].y+=e[b[h+1][a]].y,d[a].z+=e[b[h+1][a]].z;d[a].x+=1*e[a].x;d[a].y+=1*e[a].y;d[a].z+=1*e[a].z;d[a].x/=1+b[0][a];d[a].y/=1+b[0][a];d[a].z/=1+b[0][a]}a=0;for(c=e.length;a<c;a++)e[a].x=d[a].x,e[a].y=d[a].y,e[a].z=d[a].z}},la:[0,0,0,0,0,0,0,2816,0,0,0,1792,0,3328,3584,3840,0,0,0,138,0,21,0,134,0,0,0,652,0,2067,3865,3600,0,0,0,42,0,0,0,294,0,0,21,28,0,3875,1049,3360,0,168,162,170,0,645,
2475,2210,0,687,293,172,4010,3747,3497,3232,0,0,0,0,0,69,0,900,0,0,0,1792,138,131,1608,1920,0,81,0,2074,84,85,84,86,0,81,0,3676,330,1105,1881,1616,0,0,0,42,0,69,0,502,0,0,21,3580,138,2035,1273,1520,2816,104,2337,106,840,581,367,102,2816,3695,3429,3180,1898,1635,1385,1120,0,0,0,0,0,0,0,3910,0,0,69,588,42,2083,41,2880,0,0,0,1722,0,2293,4095,3830,0,255,757,764,2538,2291,3065,2800,0,0,81,338,0,3925,1119,3414,84,855,85,340,2130,2899,89,2384,1792,712,194,1162,4036,3781,3535,3270,708,719,197,204,3018,2755,
2505,2240,0,0,0,0,168,420,168,1958,162,162,676,2988,170,163,680,928,3328,3096,3328,3642,52,53,1855,1590,2340,2111,2869,2620,298,51,825,560,3584,3584,3090,3482,1668,1941,1183,1430,146,2975,2069,2460,154,915,153,400,3840,3592,3329,3082,1796,1541,1295,1030,2818,2575,2309,2060,778,515,265,0]},B=new Uint32Array(A.la),z=A.Sa=[[],[],[],[],[],[],[],[11,9,8],[],[],[],[8,10,9],[],[10,8,11],[9,11,10],[8,10,9,8,11,10],[],[],[],[1,7,3],[],[4,2,0],[],[2,1,7],[],[],[],[2,7,3,2,9,7],[],[1,4,11,1,0,4],[3,8,0,11,9,
4,11,10,9],[4,11,9,11,10,9],[],[],[],[5,3,1],[],[],[],[2,5,8,2,1,5],[],[],[2,4,0],[3,2,4],[],[0,9,1,8,10,5,8,11,10],[3,4,0,3,10,4],[5,8,10,8,11,10],[],[3,5,7],[7,1,5],[1,7,3,1,5,7],[],[9,2,0,9,7,2],[0,3,8,1,7,11,1,5,7],[11,1,7,1,5,7],[],[9,1,0,5,3,2,5,7,3],[8,2,5,8,0,2],[2,5,3,5,7,3],[3,9,1,3,8,9,7,11,10,7,10,5],[9,1,0,10,7,11,10,5,7],[3,8,0,7,10,5,7,11,10],[11,5,7,11,10,5],[],[],[],[],[],[0,6,2],[],[7,2,9,7,9,8],[],[],[],[8,10,9],[7,1,3],[7,1,0],[6,9,3,6,10,9],[7,10,8,10,9,8],[],[6,0,4],[],[11,1,
4,11,3,1],[2,4,6],[2,0,4,2,4,6],[2,4,6],[1,4,2,4,6,2],[],[6,0,4],[],[2,11,3,6,9,4,6,10,9],[8,6,1,8,1,3],[10,0,6,0,4,6],[8,0,3,9,6,10,9,4,6],[10,4,6,10,9,4],[],[],[],[5,3,1],[],[0,6,2],[],[7,4,8,5,2,1,5,6,2],[],[],[2,4,0],[7,4,8,2,11,3,10,5,6],[7,1,3],[5,6,10,0,9,1,8,7,4],[5,6,10,7,0,3,7,4,0],[10,5,6,4,8,7],[9,11,8],[3,5,6],[0,5,11,0,11,8],[6,3,5,3,1,5],[3,9,6,3,8,9],[9,6,0,6,2,0],[0,3,8,2,5,6,2,1,5],[1,6,2,1,5,6],[9,11,8],[1,0,9,6,10,5,11,3,2],[6,10,5,2,8,0,2,11,8],[3,2,11,10,5,6],[10,5,6,9,3,8,9,
1,3],[0,9,1,5,6,10],[8,0,3,10,5,6],[10,5,6],[],[],[],[],[],[],[],[1,10,2,9,11,6,9,8,11],[],[],[6,0,2],[3,6,9,3,2,6],[3,5,1],[0,5,1,0,11,5],[0,3,5],[6,9,11,9,8,11],[],[],[],[4,5,9,7,1,10,7,3,1],[],[11,6,7,2,4,5,2,0,4],[11,6,7,8,0,3,1,10,2,9,4,5],[6,7,11,1,10,2,9,4,5],[],[4,1,0,4,5,1,6,7,3,6,3,2],[9,4,5,0,6,7,0,2,6],[4,5,9,6,3,2,6,7,3],[6,7,11,5,3,8,5,1,3],[6,7,11,4,1,0,4,5,1],[4,5,9,3,8,0,11,6,7],[9,4,5,7,11,6],[],[],[0,6,4],[8,6,4,8,1,6],[],[0,10,2,0,9,10,4,8,11,4,11,6],[10,2,1,6,0,3,6,4,0],[10,2,
1,11,4,8,11,6,4],[4,2,6],[1,0,9,2,4,8,2,6,4],[2,4,0,2,6,4],[8,2,4,2,6,4],[11,4,1,11,6,4],[0,9,1,4,11,6,4,8,11],[3,6,0,6,4,0],[8,6,4,8,11,6],[10,8,9],[6,3,9,6,7,3],[6,7,1],[10,7,1,7,3,1],[7,11,6,8,10,2,8,9,10],[11,6,7,10,0,9,10,2,0],[2,1,10,7,11,6,8,0,3],[1,10,2,6,7,11],[7,2,6,7,9,2],[1,0,9,3,6,7,3,2,6],[7,0,6,0,2,6],[2,7,3,2,6,7],[7,11,6,3,9,1,3,8,9],[9,1,0,11,6,7],[0,3,8,11,6,7],[11,6,7],[],[],[],[],[5,3,7],[8,5,2,8,7,5],[5,3,7],[1,10,2,5,8,7,5,9,8],[1,7,5],[1,7,5],[9,2,7,9,7,5],[11,3,2,8,5,9,8,
7,5],[1,3,7,1,7,5],[0,7,1,7,5,1],[9,3,5,3,7,5],[9,7,5,9,8,7],[8,10,11],[3,4,10,3,10,11],[8,10,11],[5,9,4,1,11,3,1,10,11],[2,4,5],[5,2,4,2,0,4],[0,3,8,5,9,4,10,2,1],[2,1,10,9,4,5],[2,8,5,2,11,8],[3,2,11,1,4,5,1,0,4],[9,4,5,8,2,11,8,0,2],[11,3,2,9,4,5],[8,5,3,5,1,3],[5,0,4,5,1,0],[3,8,0,4,5,9],[9,4,5],[11,9,10],[11,9,10],[1,11,4,1,10,11],[8,7,4,11,1,10,11,3,1],[2,7,9,2,9,10],[4,8,7,0,10,2,0,9,10],[2,1,10,0,7,4,0,3,7],[10,2,1,8,7,4],[1,7,4],[3,2,11,4,8,7,9,1,0],[11,4,2,4,0,2],[2,11,3,7,4,8],[4,1,7,1,
3,7],[1,0,9,8,7,4],[3,4,0,3,7,4],[8,7,4],[8,9,10,8,10,11],[3,9,11,9,10,11],[0,10,8,10,11,8],[10,3,1,10,11,3],[2,8,10,8,9,10],[9,2,0,9,10,2],[8,0,3,1,10,2],[10,2,1],[1,11,9,11,8,9],[11,3,2,0,9,1],[11,0,2,11,8,0],[11,3,2],[8,1,3,8,9,1],[9,1,0],[8,0,3],[]],C=[0,265,515,778,2060,2309,2575,2822,1030,1295,1541,1804,3082,3331,3593,3840,400,153,915,666,2460,2197,2975,2710,1430,1183,1941,1692,3482,3219,3993,3728,560,825,51,314,2620,2869,2111,2358,1590,1855,1077,1340,3642,3891,3129,3376,928,681,419,170,2988,
2725,2479,2214,1958,1711,1445,1196,4010,3747,3497,3232,2240,2505,2755,3018,204,453,719,966,3270,3535,3781,4044,1226,1475,1737,1984,2384,2137,2899,2650,348,85,863,598,3414,3167,3925,3676,1370,1107,1881,1616,2800,3065,2291,2554,764,1013,255,502,3830,4095,3317,3580,1786,2035,1273,1520,2912,2665,2403,2154,876,613,367,102,3942,3695,3429,3180,1898,1635,1385,1120,1120,1385,1635,1898,3180,3429,3695,3942,102,367,613,876,2154,2403,2665,2912,1520,1273,2035,1786,3580,3317,4095,3830,502,255,1013,764,2554,2291,
3065,2800,1616,1881,1107,1370,3676,3925,3167,3414,598,863,85,348,2650,2899,2137,2384,1984,1737,1475,1226,4044,3781,3535,3270,966,719,453,204,3018,2755,2505,2240,3232,3497,3747,4010,1196,1445,1711,1958,2214,2479,2725,2988,170,419,681,928,3376,3129,3891,3642,1340,1077,1855,1590,2358,2111,2869,2620,314,51,825,560,3728,3993,3219,3482,1692,1941,1183,1430,2710,2975,2197,2460,666,915,153,400,3840,3593,3331,3082,1804,1541,1295,1030,2822,2575,2309,2060,778,515,265,0],t=[[],[8,3,0],[9,0,1],[8,3,1,8,1,9],[11,
2,3],[11,2,0,11,0,8],[11,2,3,0,1,9],[2,1,11,1,9,11,11,9,8],[10,1,2],[8,3,0,1,2,10],[9,0,2,9,2,10],[3,2,8,2,10,8,8,10,9],[10,1,3,10,3,11],[1,0,10,0,8,10,10,8,11],[0,3,9,3,11,9,9,11,10],[8,10,9,8,11,10],[8,4,7],[3,0,4,3,4,7],[1,9,0,8,4,7],[9,4,1,4,7,1,1,7,3],[2,3,11,7,8,4],[7,11,4,11,2,4,4,2,0],[3,11,2,4,7,8,9,0,1],[2,7,11,2,1,7,1,4,7,1,9,4],[10,1,2,8,4,7],[2,10,1,0,4,7,0,7,3],[4,7,8,0,2,10,0,10,9],[2,7,3,2,9,7,7,9,4,2,10,9],[8,4,7,11,10,1,11,1,3],[11,4,7,1,4,11,1,11,10,1,0,4],[3,8,0,7,11,4,11,9,4,
11,10,9],[7,11,4,4,11,9,11,10,9],[9,5,4],[3,0,8,4,9,5],[5,4,0,5,0,1],[4,8,5,8,3,5,5,3,1],[11,2,3,9,5,4],[9,5,4,8,11,2,8,2,0],[3,11,2,1,5,4,1,4,0],[8,5,4,2,5,8,2,8,11,2,1,5],[2,10,1,9,5,4],[0,8,3,5,4,9,10,1,2],[10,5,2,5,4,2,2,4,0],[3,4,8,3,2,4,2,5,4,2,10,5],[5,4,9,1,3,11,1,11,10],[0,9,1,4,8,5,8,10,5,8,11,10],[3,4,0,3,10,4,4,10,5,3,11,10],[4,8,5,5,8,10,8,11,10],[9,5,7,9,7,8],[0,9,3,9,5,3,3,5,7],[8,0,7,0,1,7,7,1,5],[1,7,3,1,5,7],[11,2,3,8,9,5,8,5,7],[9,2,0,9,7,2,2,7,11,9,5,7],[0,3,8,2,1,11,1,7,11,1,
5,7],[2,1,11,11,1,7,1,5,7],[1,2,10,5,7,8,5,8,9],[9,1,0,10,5,2,5,3,2,5,7,3],[5,2,10,8,2,5,8,5,7,8,0,2],[10,5,2,2,5,3,5,7,3],[3,9,1,3,8,9,7,11,10,7,10,5],[9,1,0,10,7,11,10,5,7],[3,8,0,7,10,5,7,11,10],[11,5,7,11,10,5],[11,7,6],[0,8,3,11,7,6],[9,0,1,11,7,6],[7,6,11,3,1,9,3,9,8],[2,3,7,2,7,6],[8,7,0,7,6,0,0,6,2],[1,9,0,3,7,6,3,6,2],[7,6,2,7,2,9,2,1,9,7,9,8],[1,2,10,6,11,7],[2,10,1,7,6,11,8,3,0],[11,7,6,10,9,0,10,0,2],[7,6,11,3,2,8,8,2,10,8,10,9],[6,10,7,10,1,7,7,1,3],[6,10,1,6,1,7,7,1,0,7,0,8],[9,0,3,
6,9,3,6,10,9,6,3,7],[6,10,7,7,10,8,10,9,8],[8,4,6,8,6,11],[11,3,6,3,0,6,6,0,4],[0,1,9,4,6,11,4,11,8],[1,9,4,11,1,4,11,3,1,11,4,6],[3,8,2,8,4,2,2,4,6],[2,0,4,2,4,6],[1,9,0,3,8,2,2,8,4,2,4,6],[9,4,1,1,4,2,4,6,2],[10,1,2,11,8,4,11,4,6],[10,1,2,11,3,6,6,3,0,6,0,4],[0,2,10,0,10,9,4,11,8,4,6,11],[2,11,3,6,9,4,6,10,9],[8,4,6,8,6,1,6,10,1,8,1,3],[1,0,10,10,0,6,0,4,6],[8,0,3,9,6,10,9,4,6],[10,4,6,10,9,4],[9,5,4,7,6,11],[4,9,5,3,0,8,11,7,6],[6,11,7,4,0,1,4,1,5],[6,11,7,4,8,5,5,8,3,5,3,1],[4,9,5,6,2,3,6,3,7],
[9,5,4,8,7,0,0,7,6,0,6,2],[4,0,1,4,1,5,6,3,7,6,2,3],[7,4,8,5,2,1,5,6,2],[6,11,7,1,2,10,9,5,4],[11,7,6,8,3,0,1,2,10,9,5,4],[11,7,6,10,5,2,2,5,4,2,4,0],[7,4,8,2,11,3,10,5,6],[4,9,5,6,10,7,7,10,1,7,1,3],[5,6,10,0,9,1,8,7,4],[5,6,10,7,0,3,7,4,0],[10,5,6,4,8,7],[5,6,9,6,11,9,9,11,8],[0,9,5,0,5,3,3,5,6,3,6,11],[0,1,5,0,5,11,5,6,11,0,11,8],[11,3,6,6,3,5,3,1,5],[9,5,6,3,9,6,3,8,9,3,6,2],[5,6,9,9,6,0,6,2,0],[0,3,8,2,5,6,2,1,5],[1,6,2,1,5,6],[1,2,10,5,6,9,9,6,11,9,11,8],[1,0,9,6,10,5,11,3,2],[6,10,5,2,8,0,
2,11,8],[3,2,11,10,5,6],[10,5,6,9,3,8,9,1,3],[0,9,1,5,6,10],[8,0,3,10,5,6],[10,5,6],[10,6,5],[8,3,0,10,6,5],[0,1,9,5,10,6],[10,6,5,9,8,3,9,3,1],[3,11,2,10,6,5],[6,5,10,2,0,8,2,8,11],[1,9,0,6,5,10,11,2,3],[1,10,2,5,9,6,9,11,6,9,8,11],[1,2,6,1,6,5],[0,8,3,2,6,5,2,5,1],[5,9,6,9,0,6,6,0,2],[9,6,5,3,6,9,3,9,8,3,2,6],[11,6,3,6,5,3,3,5,1],[0,5,1,0,11,5,5,11,6,0,8,11],[0,5,9,0,3,5,3,6,5,3,11,6],[5,9,6,6,9,11,9,8,11],[10,6,5,4,7,8],[5,10,6,7,3,0,7,0,4],[5,10,6,0,1,9,8,4,7],[4,5,9,6,7,10,7,1,10,7,3,1],[7,8,
4,2,3,11,10,6,5],[11,6,7,10,2,5,2,4,5,2,0,4],[11,6,7,8,0,3,1,10,2,9,4,5],[6,7,11,1,10,2,9,4,5],[7,8,4,5,1,2,5,2,6],[4,1,0,4,5,1,6,7,3,6,3,2],[9,4,5,8,0,7,0,6,7,0,2,6],[4,5,9,6,3,2,6,7,3],[6,7,11,4,5,8,5,3,8,5,1,3],[6,7,11,4,1,0,4,5,1],[4,5,9,3,8,0,11,6,7],[9,4,5,7,11,6],[10,6,4,10,4,9],[8,3,0,9,10,6,9,6,4],[1,10,0,10,6,0,0,6,4],[8,6,4,8,1,6,6,1,10,8,3,1],[2,3,11,6,4,9,6,9,10],[0,10,2,0,9,10,4,8,11,4,11,6],[10,2,1,11,6,3,6,0,3,6,4,0],[10,2,1,11,4,8,11,6,4],[9,1,4,1,2,4,4,2,6],[1,0,9,3,2,8,2,4,8,2,
6,4],[2,4,0,2,6,4],[3,2,8,8,2,4,2,6,4],[1,4,9,11,4,1,11,1,3,11,6,4],[0,9,1,4,11,6,4,8,11],[11,6,3,3,6,0,6,4,0],[8,6,4,8,11,6],[6,7,10,7,8,10,10,8,9],[9,3,0,6,3,9,6,9,10,6,7,3],[6,1,10,6,7,1,7,0,1,7,8,0],[6,7,10,10,7,1,7,3,1],[7,11,6,3,8,2,8,10,2,8,9,10],[11,6,7,10,0,9,10,2,0],[2,1,10,7,11,6,8,0,3],[1,10,2,6,7,11],[7,2,6,7,9,2,2,9,1,7,8,9],[1,0,9,3,6,7,3,2,6],[8,0,7,7,0,6,0,2,6],[2,7,3,2,6,7],[7,11,6,3,9,1,3,8,9],[9,1,0,11,6,7],[0,3,8,11,6,7],[11,6,7],[11,7,5,11,5,10],[3,0,8,7,5,10,7,10,11],[9,0,1,
10,11,7,10,7,5],[3,1,9,3,9,8,7,10,11,7,5,10],[10,2,5,2,3,5,5,3,7],[5,10,2,8,5,2,8,7,5,8,2,0],[9,0,1,10,2,5,5,2,3,5,3,7],[1,10,2,5,8,7,5,9,8],[2,11,1,11,7,1,1,7,5],[0,8,3,2,11,1,1,11,7,1,7,5],[9,0,2,9,2,7,2,11,7,9,7,5],[11,3,2,8,5,9,8,7,5],[1,3,7,1,7,5],[8,7,0,0,7,1,7,5,1],[0,3,9,9,3,5,3,7,5],[9,7,5,9,8,7],[4,5,8,5,10,8,8,10,11],[3,0,4,3,4,10,4,5,10,3,10,11],[0,1,9,4,5,8,8,5,10,8,10,11],[5,9,4,1,11,3,1,10,11],[3,8,4,3,4,2,2,4,5,2,5,10],[10,2,5,5,2,4,2,0,4],[0,3,8,5,9,4,10,2,1],[2,1,10,9,4,5],[8,4,
5,2,8,5,2,11,8,2,5,1],[3,2,11,1,4,5,1,0,4],[9,4,5,8,2,11,8,0,2],[11,3,2,9,4,5],[4,5,8,8,5,3,5,1,3],[5,0,4,5,1,0],[3,8,0,4,5,9],[9,4,5],[7,4,11,4,9,11,11,9,10],[3,0,8,7,4,11,11,4,9,11,9,10],[11,7,4,1,11,4,1,10,11,1,4,0],[8,7,4,11,1,10,11,3,1],[2,3,7,2,7,9,7,4,9,2,9,10],[4,8,7,0,10,2,0,9,10],[2,1,10,0,7,4,0,3,7],[10,2,1,8,7,4],[2,11,7,2,7,1,1,7,4,1,4,9],[3,2,11,4,8,7,9,1,0],[7,4,11,11,4,2,4,0,2],[2,11,3,7,4,8],[9,1,4,4,1,7,1,3,7],[1,0,9,8,7,4],[3,4,0,3,7,4],[8,7,4],[8,9,10,8,10,11],[0,9,3,3,9,11,9,
10,11],[1,10,0,0,10,8,10,11,8],[10,3,1,10,11,3],[3,8,2,2,8,10,8,9,10],[9,2,0,9,10,2],[8,0,3,1,10,2],[10,2,1],[2,11,1,1,11,9,11,8,9],[11,3,2,0,9,1],[11,0,2,11,8,0],[11,3,2],[8,1,3,8,9,1],[9,1,0],[8,0,3],[]];return A}();"undefined"===typeof console&&(console={log:function(){}});
WebMol.ga=function(){function A(p,a,n){var c=new Int32Array(p*a*n*3);this.set=function(p,M,m,b){p=3*((p*a+M)*n+m);c[p]=b.c;c[p+1]=b.d;c[p+2]=b.e};this.get=function(p,M,m){p=3*((p*a+M)*n+m);return{c:c[p],d:c[p+1],e:c[p+2]}}}function B(p){return p.elem&&"undefined"!=typeof q[p.elem]?p.elem:"X"}var z=0,C=0,t=0,u=2,e=0,f=0,d=0,a=0,c=null,h=null,x=null,b=0,D=0,g=0,r=0,l=0,s=0,q={H:1.2,Li:1.82,Na:2.27,K:2.75,C:1.7,N:1.55,O:1.52,F:1.47,P:1.8,S:1.8,CL:1.75,BR:1.85,SE:1.9,ZN:1.39,CU:1.4,NI:1.63,X:2},w={},
H={},y,p,G=[new Int32Array([1,0,0]),new Int32Array([-1,0,0]),new Int32Array([0,1,0]),new Int32Array([0,-1,0]),new Int32Array([0,0,1]),new Int32Array([0,0,-1]),new Int32Array([1,1,0]),new Int32Array([1,-1,0]),new Int32Array([-1,1,0]),new Int32Array([-1,-1,0]),new Int32Array([1,0,1]),new Int32Array([1,0,-1]),new Int32Array([-1,0,1]),new Int32Array([-1,0,-1]),new Int32Array([0,1,1]),new Int32Array([0,1,-1]),new Int32Array([0,-1,1]),new Int32Array([0,-1,-1]),new Int32Array([1,1,1]),new Int32Array([1,
1,-1]),new Int32Array([1,-1,1]),new Int32Array([-1,1,1]),new Int32Array([1,-1,-1]),new Int32Array([-1,-1,1]),new Int32Array([-1,1,-1]),new Int32Array([-1,-1,-1])];this.ta=function(a){var K={},n,b;n=0;for(b=a.length;n<b;n++)K[a[n]]=!0;a=p;n=0;for(b=a.length;n<b;n++)a[n].x=a[n].x/u-z,a[n].y=a[n].y/u-C,a[n].z=a[n].z/u-t;var d=[];n=0;for(b=y.length;n<b;n+=3){var f=y[n],m=y[n+1],v=y[n+2],G=a[m].atomid,e=a[v].atomid,g=a[f].atomid;G<g&&(g=G);e<g&&(g=e);K[g]&&f!==m&&m!==v&&f!==v&&(d.push(f),d.push(m),d.push(v))}x=
h=c=null;return{vertices:a,faces:d}};this.wa=function(p,K,n){1E6<n&&(u=1);n=1/u*5.5;b=p[0][0];r=p[1][0];D=p[0][1];l=p[1][1];g=p[0][2];s=p[1][2];K?(b-=1.4+n,D-=1.4+n,g-=1.4+n,r+=1.4+n,l+=1.4+n,s+=1.4+n):(b-=n,D-=n,g-=n,r+=n,l+=n,s+=n);b=Math.floor(b*u)/u;D=Math.floor(D*u)/u;g=Math.floor(g*u)/u;r=Math.ceil(r*u)/u;l=Math.ceil(l*u)/u;s=Math.ceil(s*u)/u;z=-b;C=-D;t=-g;d=Math.ceil(u*(r-b))+1;f=Math.ceil(u*(l-D))+1;e=Math.ceil(u*(s-g))+1;this.T(K);a=1.4*u;c=new Uint8Array(d*f*e);h=new Float64Array(d*f*e);
x=new Int32Array(d*f*e);console.log("Box size: ",d,f,e,c.length)};this.T=function(p){var a=[],n,c;flagradius=p;for(var b in q)if(q.hasOwnProperty(b))for(c=q[b],a[b]=p?(c+1.4)*u+.5:c*u+.5,c=a[b]*a[b],H[b]=Math.floor(a[b])+1,w[b]=new Int32Array(H[b]*H[b]),j=indx=0;j<H[b];j++)for(k=0;k<H[b];k++)n=j*j+k*k,n>c?w[b][indx]=-1:(n=Math.sqrt(c-n),w[b][indx]=Math.floor(n)),indx++};this.qa=function(p,a){var n,b;n=0;for(b=c.length;n<b;n++)c[n]=0,h[n]=-1,x[n]=-1;for(n in a)b=p[a[n]],void 0!==b&&this.oa(b,p);n=
0;for(b=c.length;n<b;n++)c[n]&1&&(c[n]|=2)};this.oa=function(p,a){var n,b,G,E,m,v,h,g,l,q,F,s,y,r,D,A,Q;n=Math.floor(.5+u*(p.x+z));b=Math.floor(.5+u*(p.y+C));G=Math.floor(.5+u*(p.z+t));var W=B(p),R=0,Da=f*e;q=0;for(Q=H[W];q<Q;q++)for(F=0;F<Q;F++){if(-1!=w[W][R])for(r=-1;2>r;r++)for(D=-1;2>D;D++)for(A=-1;2>A;A++)if(0!==r&&0!==D&&0!==A)for(h=r*q,l=A*F,s=0;s<=w[W][R];s++)g=s*D,E=n+h,m=b+g,y=G+l,0>E||0>m||0>y||E>=d||m>=f||y>=e||(y=E*Da+m*e+y,c[y]&1?(v=a[x[y]],E=Math.floor(.5+u*(v.x+z)),m=Math.floor(.5+
u*(v.y+C)),v=Math.floor(.5+u*(v.z+t)),h*h+g*g+l*l<E*E+m*m+v*v&&(x[y]=p.serial)):(c[y]|=1,x[y]=p.serial));R++}};this.ra=function(p,a){var n,b;n=0;for(b=c.length;n<b;n++)c[n]&=-3;for(n in a)b=p[a[n]],void 0!==b&&this.pa(b,p)};this.pa=function(p,a){var n,b,G,E,m,v,h=0,g,l,q,F,y,s,r,D,A,Q,W;n=Math.floor(.5+u*(p.x+z));b=Math.floor(.5+u*(p.y+C));G=Math.floor(.5+u*(p.z+t));var R=B(p),Da=f*e;y=0;for(W=H[R];y<W;y++)for(s=0;s<W;s++){if(-1!=w[R][h])for(D=-1;2>D;D++)for(A=-1;2>A;A++)for(Q=-1;2>Q;Q++)if(0!==D&&
0!==A&&0!==Q)for(g=D*y,q=Q*s,r=0;r<=w[R][h];r++)l=r*A,E=n+g,m=b+l,F=G+q,0>E||0>m||0>F||E>=d||m>=f||F>=e||(F=E*Da+m*e+F,c[F]&2?(v=a[x[F]],E=Math.floor(.5+u*(v.x+z)),m=Math.floor(.5+u*(v.y+C)),v=Math.floor(.5+u*(v.z+t)),g*g+l*l+q*q<E*E+m*m+v*v&&(x[F]=p.serial)):(c[F]|=2,x[F]=p.serial));h++}};this.ia=function(){var p=f*e;for(i=0;i<d;i++)for(j=0;j<e;j++)for(k=0;k<f;k++){var a=i*p+k*e+j;if(c[a]&1)for(var n=0;26>n;){var b=i+G[n][0],x=j+G[n][2],E=k+G[n][1];if(-1<b&&b<d&&-1<E&&E<f&&-1<x&&x<e&&!(c[b*p+E*e+
x]&1)){c[a]|=4;break}else n++}}};this.ma=function(){var p,b,n,x=new A(d,f,e),G=f*e,E=a*a,m=[];n=[];var v;for(p=0;p<d;p++)for(b=0;b<f;b++)for(n=0;n<e;n++)if(v=p*G+b*e+n,c[v]&=-3,c[v]&1&&c[v]&4){var g={c:p,d:b,e:n};x.set(p,b,n,g);m.push(g);h[v]=0;c[v]|=2;c[v]&=-5}do for(n=this.na(m,x),m=[],p=0,b=n.length;p<b;p++)v=G*n[p].c+e*n[p].d+n[p].e,c[v]&=-5,h[v]<=1.0404*E&&m.push({c:n[p].c,d:n[p].d,e:n[p].e});while(0!==m.length);p=u-.5;0>p&&(p=0);E-=.5/(.1+p);for(p=0;p<d;p++)for(b=0;b<f;b++)for(n=0;n<e;n++)v=
p*G+b*e+n,c[v]&=-5,c[v]&1&&(!(c[v]&2)||c[v]&2&&h[v]>=E)&&(c[v]|=4)};this.na=function(p,a){var b,x,g,E,m,v,l,q,y,s,F,r=[];if(0===p.length)return r;tnv={c:-1,d:-1,e:-1};var D=f*e;l=0;for(y=p.length;l<y;l++)for(b=p[l].c,x=p[l].d,g=p[l].e,s=a.get(b,x,g),q=0;6>q;q++)tnv.c=b+G[q][0],tnv.d=x+G[q][1],tnv.e=g+G[q][2],tnv.c<d&&-1<tnv.c&&tnv.d<f&&-1<tnv.d&&tnv.e<e&&-1<tnv.e&&(F=tnv.c*D+e*tnv.d+tnv.e,c[F]&1&&!(c[F]&2)?(a.set(tnv.c,tnv.d,g+G[q][2],s),E=tnv.c-s.c,m=tnv.d-s.d,v=tnv.e-s.e,E=E*E+m*m+v*v,h[F]=E,c[F]|=
2,c[F]|=4,r.push({c:tnv.c,d:tnv.d,e:tnv.e})):c[F]&1&&c[F]&2&&(E=tnv.c-s.c,m=tnv.d-s.d,v=tnv.e-s.e,E=E*E+m*m+v*v,E<h[F]&&(a.set(tnv.c,tnv.d,tnv.e,s),h[F]=E,c[F]&4||(c[F]|=4,r.push({c:tnv.c,d:tnv.d,e:tnv.e})))));l=0;for(y=p.length;l<y;l++)for(b=p[l].c,x=p[l].d,g=p[l].e,s=a.get(b,x,g),q=6;18>q;q++)tnv.c=b+G[q][0],tnv.d=x+G[q][1],tnv.e=g+G[q][2],tnv.c<d&&-1<tnv.c&&tnv.d<f&&-1<tnv.d&&tnv.e<e&&-1<tnv.e&&(F=tnv.c*D+e*tnv.d+tnv.e,c[F]&1&&!(c[F]&2)?(a.set(tnv.c,tnv.d,g+G[q][2],s),E=tnv.c-s.c,m=tnv.d-s.d,v=
tnv.e-s.e,E=E*E+m*m+v*v,h[F]=E,c[F]|=2,c[F]|=4,r.push({c:tnv.c,d:tnv.d,e:tnv.e})):c[F]&1&&c[F]&2&&(E=tnv.c-s.c,m=tnv.d-s.d,v=tnv.e-s.e,E=E*E+m*m+v*v,E<h[F]&&(a.set(tnv.c,tnv.d,tnv.e,s),h[F]=E,c[F]&4||(c[F]|=4,r.push({c:tnv.c,d:tnv.d,e:tnv.e})))));l=0;for(y=p.length;l<y;l++)for(b=p[l].c,x=p[l].d,g=p[l].e,s=a.get(b,x,g),q=18;26>q;q++)tnv.c=b+G[q][0],tnv.d=x+G[q][1],tnv.e=g+G[q][2],tnv.c<d&&-1<tnv.c&&tnv.d<f&&-1<tnv.d&&tnv.e<e&&-1<tnv.e&&(F=tnv.c*D+e*tnv.d+tnv.e,c[F]&1&&!(c[F]&2)?(a.set(tnv.c,tnv.d,
g+G[q][2],s),E=tnv.c-s.c,m=tnv.d-s.d,v=tnv.e-s.e,E=E*E+m*m+v*v,h[F]=E,c[F]|=2,c[F]|=4,r.push({c:tnv.c,d:tnv.d,e:tnv.e})):c[F]&1&&c[F]&2&&(E=tnv.c-s.c,m=tnv.d-s.d,v=tnv.e-s.e,E=E*E+m*m+v*v,E<h[F]&&(a.set(tnv.c,tnv.d,tnv.e,s),h[F]=E,c[F]&4||(c[F]|=4,r.push({c:tnv.c,d:tnv.d,e:tnv.e})))));return r};this.za=function(p){for(var a=0,b=c.length;a<b;a++)1==p?c[a]&=-5:4==p?(c[a]&=-3,c[a]&4&&(c[a]|=2),c[a]&=-5):2==p?c[a]&4&&c[a]&2?c[a]&=-5:c[a]&4&&!(c[a]&2)&&(c[a]|=2):3==p&&(c[a]&=-5)};this.ya=function(a){this.za(a);
p=[];y=[];WebMol.s.V(c,p,y,{Ra:1,Y:d,Z:f,aa:e});a=f*e;for(var b=0,n=p.length;b<n;b++)p[b].atomid=x[p[b].x*a+e*p[b].y+p[b].z];WebMol.s.U(1,p,y)}};WebMol.fa='self.onmessage=function(oEvent){var obj=oEvent.data,type=obj.type;if(0>type)self.atomData=obj.atoms,self.volume=obj.volume,self.ps=new ProteinSurface;else{var ps=self.ps;ps.initparm(obj.expandedExtent,1==type?!1:!0,self.volume),ps.fillvoxels(self.atomData,obj.extendedAtoms),ps.buildboundary(),(4===type||2===type)&&(ps.fastdistancemap(),ps.boundingatom(!1),ps.fillvoxelswaals(self.atomData,obj.extendedAtoms)),ps.marchingcube(type);var VandF=ps.getFacesAndVertices(obj.atomsToShow);self.postMessage(VandF)}};var Vector3=function(x,y,z){this.x=x||0,this.y=y||0,this.z=z||0};Vector3.prototype={constructor:Vector3,copy:function(v){return this.x=v.x,this.y=v.y,this.z=v.z,this},multiplyScalar:function(s){return this.x*=s,this.y*=s,this.z*=s,this}};var ISDONE=2,ProteinSurface=function (){var faces,verts,origextent,INOUT=1,ISDONE=2,ISBOUND=4,ptranx=0,ptrany=0,ptranz=0,probeRadius=1.4,defaultScaleFactor=2,scaleFactor=defaultScaleFactor,pHeight=0,pWidth=0,pLength=0,cutRadius=0,vpBits=null,vpDistance=null,vpAtomID=null,pminx=0,pminy=0,pminz=0,pmaxx=0,pmaxy=0,pmaxz=0,vdwRadii={H:1.2,Li:1.82,Na:2.27,K:2.75,C:1.7,N:1.55,O:1.52,F:1.47,P:1.8,S:1.8,CL:1.75,BR:1.85,SE:1.9,ZN:1.39,CU:1.4,NI:1.63,X:2},getVDWIndex=function(atom){return atom.elem&&"undefined"!=typeof vdwRadii[atom.elem]?atom.elem:"X"},depty={},widxz={},nb=[new Int32Array([1,0,0]),new Int32Array([-1,0,0]),new Int32Array([0,1,0]),new Int32Array([0,-1,0]),new Int32Array([0,0,1]),new Int32Array([0,0,-1]),new Int32Array([1,1,0]),new Int32Array([1,-1,0]),new Int32Array([-1,1,0]),new Int32Array([-1,-1,0]),new Int32Array([1,0,1]),new Int32Array([1,0,-1]),new Int32Array([-1,0,1]),new Int32Array([-1,0,-1]),new Int32Array([0,1,1]),new Int32Array([0,1,-1]),new Int32Array([0,-1,1]),new Int32Array([0,-1,-1]),new Int32Array([1,1,1]),new Int32Array([1,1,-1]),new Int32Array([1,-1,1]),new Int32Array([-1,1,1]),new Int32Array([1,-1,-1]),new Int32Array([-1,-1,1]),new Int32Array([-1,1,-1]),new Int32Array([-1,-1,-1])];this.getFacesAndVertices=function(atomlist){var i,il,atomsToShow={};for(i=0,il=atomlist.length;il>i;i++)atomsToShow[atomlist[i]]=!0;var vertices=verts;for(i=0,il=vertices.length;il>i;i++)vertices[i].x=vertices[i].x/scaleFactor-ptranx,vertices[i].y=vertices[i].y/scaleFactor-ptrany,vertices[i].z=vertices[i].z/scaleFactor-ptranz;var finalfaces=[];for(i=0,il=faces.length;il>i;i+=3){var fa=faces[i],fb=faces[i+1],fc=faces[i+2],a=vertices[fa].atomid,b=vertices[fb].atomid,c=vertices[fc].atomid,which=a;if(which>b&&(which=b),which>c&&(which=c),atomsToShow[which]){{vertices[faces[i]],vertices[faces[i+1]],vertices[faces[i+2]]}fa!==fb&&fb!==fc&&fa!==fc&&(finalfaces.push(fa),finalfaces.push(fb),finalfaces.push(fc))}}return vpBits=null,vpDistance=null,vpAtomID=null,{vertices:vertices,faces:finalfaces}},this.initparm=function(extent,btype,volume){volume>1e6&&(scaleFactor=defaultScaleFactor/2);var margin=1/scaleFactor*5.5;origextent=extent,pminx=extent[0][0],pmaxx=extent[1][0],pminy=extent[0][1],pmaxy=extent[1][1],pminz=extent[0][2],pmaxz=extent[1][2],btype?(pminx-=probeRadius+margin,pminy-=probeRadius+margin,pminz-=probeRadius+margin,pmaxx+=probeRadius+margin,pmaxy+=probeRadius+margin,pmaxz+=probeRadius+margin):(pminx-=margin,pminy-=margin,pminz-=margin,pmaxx+=margin,pmaxy+=margin,pmaxz+=margin),pminx=Math.floor(pminx*scaleFactor)/scaleFactor,pminy=Math.floor(pminy*scaleFactor)/scaleFactor,pminz=Math.floor(pminz*scaleFactor)/scaleFactor,pmaxx=Math.ceil(pmaxx*scaleFactor)/scaleFactor,pmaxy=Math.ceil(pmaxy*scaleFactor)/scaleFactor,pmaxz=Math.ceil(pmaxz*scaleFactor)/scaleFactor,ptranx=-pminx,ptrany=-pminy,ptranz=-pminz,pLength=Math.ceil(scaleFactor*(pmaxx-pminx))+1,pWidth=Math.ceil(scaleFactor*(pmaxy-pminy))+1,pHeight=Math.ceil(scaleFactor*(pmaxz-pminz))+1,this.boundingatom(btype),cutRadius=probeRadius*scaleFactor,vpBits=new Uint8Array(pLength*pWidth*pHeight),vpDistance=new Float64Array(pLength*pWidth*pHeight),vpAtomID=new Int32Array(pLength*pWidth*pHeight)},this.boundingatom=function(btype){var txz,tdept,sradius,tradius=[];flagradius=btype;for(var i in vdwRadii)if(vdwRadii.hasOwnProperty(i)){var r=vdwRadii[i];for(tradius[i]=btype?(r+probeRadius)*scaleFactor+.5:r*scaleFactor+.5,sradius=tradius[i]*tradius[i],widxz[i]=Math.floor(tradius[i])+1,depty[i]=new Int32Array(widxz[i]*widxz[i]),indx=0,j=0;j<widxz[i];j++)for(k=0;k<widxz[i];k++)txz=j*j+k*k,txz>sradius?depty[i][indx]=-1:(tdept=Math.sqrt(sradius-txz),depty[i][indx]=Math.floor(tdept)),indx++}},this.fillvoxels=function(atoms,atomlist){var i,il;for(i=0,il=vpBits.length;il>i;i++)vpBits[i]=0,vpDistance[i]=-1,vpAtomID[i]=-1;for(i in atomlist){var atom=atoms[atomlist[i]];void 0!==atom&&this.fillAtom(atom,atoms)}for(i=0,il=vpBits.length;il>i;i++)vpBits[i]&INOUT&&(vpBits[i]|=ISDONE)},this.fillAtom=function(atom,atoms){var cx,cy,cz,ox,oy,oz,mi,mj,mk,i,j,k,si,sj,sk,ii,jj,kk,n;cx=Math.floor(.5+scaleFactor*(atom.x+ptranx)),cy=Math.floor(.5+scaleFactor*(atom.y+ptrany)),cz=Math.floor(.5+scaleFactor*(atom.z+ptranz));var at=getVDWIndex(atom),nind=0,pWH=pWidth*pHeight;for(i=0,n=widxz[at];n>i;i++)for(j=0;n>j;j++){if(-1!=depty[at][nind])for(ii=-1;2>ii;ii++)for(jj=-1;2>jj;jj++)for(kk=-1;2>kk;kk++)if(0!==ii&&0!==jj&&0!==kk)for(mi=ii*i,mk=kk*j,k=0;k<=depty[at][nind];k++)if(mj=k*jj,si=cx+mi,sj=cy+mj,sk=cz+mk,!(0>si||0>sj||0>sk||si>=pLength||sj>=pWidth||sk>=pHeight)){var index=si*pWH+sj*pHeight+sk;if(vpBits[index]&INOUT){var atom2=atoms[vpAtomID[index]];ox=Math.floor(.5+scaleFactor*(atom2.x+ptranx)),oy=Math.floor(.5+scaleFactor*(atom2.y+ptrany)),oz=Math.floor(.5+scaleFactor*(atom2.z+ptranz)),ox*ox+oy*oy+oz*oz>mi*mi+mj*mj+mk*mk&&(vpAtomID[index]=atom.serial)}else vpBits[index]|=INOUT,vpAtomID[index]=atom.serial}nind++}},this.fillvoxelswaals=function(atoms,atomlist){var i,il;for(i=0,il=vpBits.length;il>i;i++)vpBits[i]&=~ISDONE;for(i in atomlist){var atom=atoms[atomlist[i]];void 0!==atom&&this.fillAtomWaals(atom,atoms)}},this.fillAtomWaals=function(atom,atoms){var cx,cy,cz,ox,oy,oz,mi,mj,mk,si,sj,sk,i,j,k,ii,jj,kk,n,nind=0;cx=Math.floor(.5+scaleFactor*(atom.x+ptranx)),cy=Math.floor(.5+scaleFactor*(atom.y+ptrany)),cz=Math.floor(.5+scaleFactor*(atom.z+ptranz));var at=getVDWIndex(atom),pWH=pWidth*pHeight;for(i=0,n=widxz[at];n>i;i++)for(j=0;n>j;j++){if(-1!=depty[at][nind])for(ii=-1;2>ii;ii++)for(jj=-1;2>jj;jj++)for(kk=-1;2>kk;kk++)if(0!==ii&&0!==jj&&0!==kk)for(mi=ii*i,mk=kk*j,k=0;k<=depty[at][nind];k++)if(mj=k*jj,si=cx+mi,sj=cy+mj,sk=cz+mk,!(0>si||0>sj||0>sk||si>=pLength||sj>=pWidth||sk>=pHeight)){var index=si*pWH+sj*pHeight+sk;if(vpBits[index]&ISDONE){var atom2=atoms[vpAtomID[index]];ox=Math.floor(.5+scaleFactor*(atom2.x+ptranx)),oy=Math.floor(.5+scaleFactor*(atom2.y+ptrany)),oz=Math.floor(.5+scaleFactor*(atom2.z+ptranz)),ox*ox+oy*oy+oz*oz>mi*mi+mj*mj+mk*mk&&(vpAtomID[index]=atom.serial)}else vpBits[index]|=ISDONE,vpAtomID[index]=atom.serial}nind++}},this.buildboundary=function(){var pWH=pWidth*pHeight;for(i=0;pLength>i;i++)for(j=0;pHeight>j;j++)for(k=0;pWidth>k;k++){var index=i*pWH+k*pHeight+j;if(vpBits[index]&INOUT)for(var ii=0;26>ii;){var ti=i+nb[ii][0],tj=j+nb[ii][2],tk=k+nb[ii][1];if(ti>-1&&pLength>ti&&tk>-1&&pWidth>tk&&tj>-1&&pHeight>tj&&!(vpBits[ti*pWH+tk*pHeight+tj]&INOUT)){vpBits[index]|=ISBOUND;break}ii++}}};var PointGrid=function(length,width,height){var data=new Int32Array(length*width*height*3);this.set=function(x,y,z,pt){var index=3*((x*width+y)*height+z);data[index]=pt.ix,data[index+1]=pt.iy,data[index+2]=pt.iz},this.get=function(x,y,z){var index=3*((x*width+y)*height+z);return{ix:data[index],iy:data[index+1],iz:data[index+2]}}};this.fastdistancemap=function(){var i,j,k,n,index,boundPoint=new PointGrid(pLength,pWidth,pHeight),pWH=pWidth*pHeight,cutRSq=cutRadius*cutRadius,inarray=[],outarray=[];for(i=0;pLength>i;i++)for(j=0;pWidth>j;j++)for(k=0;pHeight>k;k++)if(index=i*pWH+j*pHeight+k,vpBits[index]&=~ISDONE,vpBits[index]&INOUT&&vpBits[index]&ISBOUND){var triple={ix:i,iy:j,iz:k};boundPoint.set(i,j,k,triple),inarray.push(triple),vpDistance[index]=0,vpBits[index]|=ISDONE,vpBits[index]&=~ISBOUND}do for(outarray=this.fastoneshell(inarray,boundPoint),inarray=[],i=0,n=outarray.length;n>i;i++)index=pWH*outarray[i].ix+pHeight*outarray[i].iy+outarray[i].iz,vpBits[index]&=~ISBOUND,vpDistance[index]<=1.0404*cutRSq&&inarray.push({ix:outarray[i].ix,iy:outarray[i].iy,iz:outarray[i].iz});while(0!==inarray.length);inarray=[],outarray=[],boundPoint=null;var cutsf=scaleFactor-.5;0>cutsf&&(cutsf=0);var cutoff=cutRSq-.5/(.1+cutsf);for(i=0;pLength>i;i++)for(j=0;pWidth>j;j++)for(k=0;pHeight>k;k++)index=i*pWH+j*pHeight+k,vpBits[index]&=~ISBOUND,vpBits[index]&INOUT&&(!(vpBits[index]&ISDONE)||vpBits[index]&ISDONE&&vpDistance[index]>=cutoff)&&(vpBits[index]|=ISBOUND)},this.fastoneshell=function(inarray,boundPoint){var tx,ty,tz,dx,dy,dz,i,j,n,square,bp,index,outarray=[];if(0===inarray.length)return outarray;tnv={ix:-1,iy:-1,iz:-1};var pWH=pWidth*pHeight;for(i=0,n=inarray.length;n>i;i++)for(tx=inarray[i].ix,ty=inarray[i].iy,tz=inarray[i].iz,bp=boundPoint.get(tx,ty,tz),j=0;6>j;j++)tnv.ix=tx+nb[j][0],tnv.iy=ty+nb[j][1],tnv.iz=tz+nb[j][2],tnv.ix<pLength&&tnv.ix>-1&&tnv.iy<pWidth&&tnv.iy>-1&&tnv.iz<pHeight&&tnv.iz>-1&&(index=tnv.ix*pWH+pHeight*tnv.iy+tnv.iz,vpBits[index]&INOUT&&!(vpBits[index]&ISDONE)?(boundPoint.set(tnv.ix,tnv.iy,tz+nb[j][2],bp),dx=tnv.ix-bp.ix,dy=tnv.iy-bp.iy,dz=tnv.iz-bp.iz,square=dx*dx+dy*dy+dz*dz,vpDistance[index]=square,vpBits[index]|=ISDONE,vpBits[index]|=ISBOUND,outarray.push({ix:tnv.ix,iy:tnv.iy,iz:tnv.iz})):vpBits[index]&INOUT&&vpBits[index]&ISDONE&&(dx=tnv.ix-bp.ix,dy=tnv.iy-bp.iy,dz=tnv.iz-bp.iz,square=dx*dx+dy*dy+dz*dz,square<vpDistance[index]&&(boundPoint.set(tnv.ix,tnv.iy,tnv.iz,bp),vpDistance[index]=square,vpBits[index]&ISBOUND||(vpBits[index]|=ISBOUND,outarray.push({ix:tnv.ix,iy:tnv.iy,iz:tnv.iz})))));for(i=0,n=inarray.length;n>i;i++)for(tx=inarray[i].ix,ty=inarray[i].iy,tz=inarray[i].iz,bp=boundPoint.get(tx,ty,tz),j=6;18>j;j++)tnv.ix=tx+nb[j][0],tnv.iy=ty+nb[j][1],tnv.iz=tz+nb[j][2],tnv.ix<pLength&&tnv.ix>-1&&tnv.iy<pWidth&&tnv.iy>-1&&tnv.iz<pHeight&&tnv.iz>-1&&(index=tnv.ix*pWH+pHeight*tnv.iy+tnv.iz,vpBits[index]&INOUT&&!(vpBits[index]&ISDONE)?(boundPoint.set(tnv.ix,tnv.iy,tz+nb[j][2],bp),dx=tnv.ix-bp.ix,dy=tnv.iy-bp.iy,dz=tnv.iz-bp.iz,square=dx*dx+dy*dy+dz*dz,vpDistance[index]=square,vpBits[index]|=ISDONE,vpBits[index]|=ISBOUND,outarray.push({ix:tnv.ix,iy:tnv.iy,iz:tnv.iz})):vpBits[index]&INOUT&&vpBits[index]&ISDONE&&(dx=tnv.ix-bp.ix,dy=tnv.iy-bp.iy,dz=tnv.iz-bp.iz,square=dx*dx+dy*dy+dz*dz,square<vpDistance[index]&&(boundPoint.set(tnv.ix,tnv.iy,tnv.iz,bp),vpDistance[index]=square,vpBits[index]&ISBOUND||(vpBits[index]|=ISBOUND,outarray.push({ix:tnv.ix,iy:tnv.iy,iz:tnv.iz})))));for(i=0,n=inarray.length;n>i;i++)for(tx=inarray[i].ix,ty=inarray[i].iy,tz=inarray[i].iz,bp=boundPoint.get(tx,ty,tz),j=18;26>j;j++)tnv.ix=tx+nb[j][0],tnv.iy=ty+nb[j][1],tnv.iz=tz+nb[j][2],tnv.ix<pLength&&tnv.ix>-1&&tnv.iy<pWidth&&tnv.iy>-1&&tnv.iz<pHeight&&tnv.iz>-1&&(index=tnv.ix*pWH+pHeight*tnv.iy+tnv.iz,vpBits[index]&INOUT&&!(vpBits[index]&ISDONE)?(boundPoint.set(tnv.ix,tnv.iy,tz+nb[j][2],bp),dx=tnv.ix-bp.ix,dy=tnv.iy-bp.iy,dz=tnv.iz-bp.iz,square=dx*dx+dy*dy+dz*dz,vpDistance[index]=square,vpBits[index]|=ISDONE,vpBits[index]|=ISBOUND,outarray.push({ix:tnv.ix,iy:tnv.iy,iz:tnv.iz})):vpBits[index]&INOUT&&vpBits[index]&ISDONE&&(dx=tnv.ix-bp.ix,dy=tnv.iy-bp.iy,dz=tnv.iz-bp.iz,square=dx*dx+dy*dy+dz*dz,square<vpDistance[index]&&(boundPoint.set(tnv.ix,tnv.iy,tnv.iz,bp),vpDistance[index]=square,vpBits[index]&ISBOUND||(vpBits[index]|=ISBOUND,outarray.push({ix:tnv.ix,iy:tnv.iy,iz:tnv.iz})))));return outarray},this.marchingcubeinit=function(stype){for(var i=0,lim=vpBits.length;lim>i;i++)1==stype?vpBits[i]&=~ISBOUND:4==stype?(vpBits[i]&=~ISDONE,vpBits[i]&ISBOUND&&(vpBits[i]|=ISDONE),vpBits[i]&=~ISBOUND):2==stype?vpBits[i]&ISBOUND&&vpBits[i]&ISDONE?vpBits[i]&=~ISBOUND:vpBits[i]&ISBOUND&&!(vpBits[i]&ISDONE)&&(vpBits[i]|=ISDONE):3==stype&&(vpBits[i]&=~ISBOUND)};this.marchingcube=function(stype){this.marchingcubeinit(stype),verts=[],faces=[],march(vpBits,verts,faces,{smooth:1,nX:pLength,nY:pWidth,nZ:pHeight});for(var pWH=pWidth*pHeight,i=0,vlen=verts.length;vlen>i;i++)verts[i].atomid=vpAtomID[verts[i].x*pWH+pHeight*verts[i].y+verts[i].z];laplacianSmooth(1,verts,faces)}},march=function (data,verts,faces,spec){var i,il,fulltable=!!spec.fulltable,origin=spec.hasOwnProperty("origin")&&spec.origin.hasOwnProperty("x")?spec.origin:{x:0,y:0,z:0},voxel=!!spec.voxel,nX=spec.nX||0,nY=spec.nY||0,nZ=spec.nZ||0,scale=spec.scale||1,unitCube=new Vector3(1,1,1).multiplyScalar(scale),vertnums=new Int32Array(nX*nY*nZ);for(i=0,il=vertnums.length;il>i;++i)vertnums[i]=-1;var getVertex=function(i,j,k,code,p1,p2){var pt=new Vector3;pt.copy(origin);var val1=!!(code&1<<p1),val2=!!(code&1<<p2),p=p1;!val1&&val2&&(p=p2),1&p&&k++,2&p&&j++,4&p&&i++,pt.x+=unitCube.x*i,pt.y+=unitCube.y*j,pt.z+=unitCube.z*k;var index=(nY*i+j)*nZ+k;return voxel?(verts.push(pt),verts.length-1):(vertnums[index]<0&&(vertnums[index]=verts.length,verts.push(pt)),vertnums[index])},intersects=new Int32Array(12),etable=fulltable?edgeTable2:edgeTable,tritable=fulltable?triTable2:triTable;for(i=0;nX-1>i;++i)for(var j=0;nY-1>j;++j)for(var k=0;nZ-1>k;++k){for(var code=0,p=0;8>p;++p){var index=(nY*(i+((4&p)>>2))+j+((2&p)>>1))*nZ+k+(1&p),val=!!(data[index]&ISDONE);code|=val<<p}if(0!==code&&255!==code){var ecode=etable[code];if(0!==ecode){var ttable=tritable[code];1&ecode&&(intersects[0]=getVertex(i,j,k,code,0,1)),2&ecode&&(intersects[1]=getVertex(i,j,k,code,1,3)),4&ecode&&(intersects[2]=getVertex(i,j,k,code,3,2)),8&ecode&&(intersects[3]=getVertex(i,j,k,code,2,0)),16&ecode&&(intersects[4]=getVertex(i,j,k,code,4,5)),32&ecode&&(intersects[5]=getVertex(i,j,k,code,5,7)),64&ecode&&(intersects[6]=getVertex(i,j,k,code,7,6)),128&ecode&&(intersects[7]=getVertex(i,j,k,code,6,4)),256&ecode&&(intersects[8]=getVertex(i,j,k,code,0,4)),512&ecode&&(intersects[9]=getVertex(i,j,k,code,1,5)),1024&ecode&&(intersects[10]=getVertex(i,j,k,code,3,7)),2048&ecode&&(intersects[11]=getVertex(i,j,k,code,2,6));for(var t=0;t<ttable.length;t+=3){var a=intersects[ttable[t]],b=intersects[ttable[t+1]],c=intersects[ttable[t+2]];voxel&&t>=3&&(verts.push(verts[a]),a=verts.length-1,verts.push(verts[b]),b=verts.length-1,verts.push(verts[c]),c=verts.length-1),faces.push(a),faces.push(b),faces.push(c)}}}}},laplacianSmooth=function (numiter,verts,faces){var i,il,j,jl,k,tps=new Array(verts.length);for(i=0,il=verts.length;il>i;i++)tps[i]={x:0,y:0,z:0};var flagvert,vertdeg=new Array(20);for(i=0;20>i;i++)vertdeg[i]=new Array(verts.length);for(i=0,il=verts.length;il>i;i++)vertdeg[0][i]=0;for(i=0,il=faces.length/3;il>i;i++){var aoffset=3*i,boffset=3*i+1,coffset=3*i+2;for(flagvert=!0,j=0,jl=vertdeg[0][faces[aoffset]];jl>j;j++)if(faces[boffset]==vertdeg[j+1][faces[aoffset]]){flagvert=!1;break}for(flagvert&&(vertdeg[0][faces[aoffset]]++,vertdeg[vertdeg[0][faces[aoffset]]][faces[aoffset]]=faces[boffset]),flagvert=!0,j=0,jl=vertdeg[0][faces[aoffset]];jl>j;j++)if(faces[coffset]==vertdeg[j+1][faces[aoffset]]){flagvert=!1;break}for(flagvert&&(vertdeg[0][faces[aoffset]]++,vertdeg[vertdeg[0][faces[aoffset]]][faces[aoffset]]=faces[coffset]),flagvert=!0,j=0,jl=vertdeg[0][faces[boffset]];jl>j;j++)if(faces[aoffset]==vertdeg[j+1][faces[boffset]]){flagvert=!1;break}for(flagvert&&(vertdeg[0][faces[boffset]]++,vertdeg[vertdeg[0][faces[boffset]]][faces[boffset]]=faces[aoffset]),flagvert=!0,j=0,jl=vertdeg[0][faces[boffset]];jl>j;j++)if(faces[coffset]==vertdeg[j+1][faces[boffset]]){flagvert=!1;break}for(flagvert&&(vertdeg[0][faces[boffset]]++,vertdeg[vertdeg[0][faces[boffset]]][faces[boffset]]=faces[coffset]),flagvert=!0,j=0;j<vertdeg[0][faces[coffset]];j++)if(faces[aoffset]==vertdeg[j+1][faces[coffset]]){flagvert=!1;break}for(flagvert&&(vertdeg[0][faces[coffset]]++,vertdeg[vertdeg[0][faces[coffset]]][faces[coffset]]=faces[aoffset]),flagvert=!0,j=0,jl=vertdeg[0][faces[coffset]];jl>j;j++)if(faces[boffset]==vertdeg[j+1][faces[coffset]]){flagvert=!1;break}flagvert&&(vertdeg[0][faces[coffset]]++,vertdeg[vertdeg[0][faces[coffset]]][faces[coffset]]=faces[boffset])}var wt=1,wt2=.5;for(k=0;numiter>k;k++){for(i=0,il=verts.length;il>i;i++)if(vertdeg[0][i]<3)tps[i].x=verts[i].x,tps[i].y=verts[i].y,tps[i].z=verts[i].z;else if(3==vertdeg[0][i]||4==vertdeg[0][i]){for(tps[i].x=0,tps[i].y=0,tps[i].z=0,j=0,jl=vertdeg[0][i];jl>j;j++)tps[i].x+=verts[vertdeg[j+1][i]].x,tps[i].y+=verts[vertdeg[j+1][i]].y,tps[i].z+=verts[vertdeg[j+1][i]].z;tps[i].x+=wt2*verts[i].x,tps[i].y+=wt2*verts[i].y,tps[i].z+=wt2*verts[i].z,tps[i].x/=wt2+vertdeg[0][i],tps[i].y/=wt2+vertdeg[0][i],tps[i].z/=wt2+vertdeg[0][i]}else{for(tps[i].x=0,tps[i].y=0,tps[i].z=0,j=0,jl=vertdeg[0][i];jl>j;j++)tps[i].x+=verts[vertdeg[j+1][i]].x,tps[i].y+=verts[vertdeg[j+1][i]].y,tps[i].z+=verts[vertdeg[j+1][i]].z;tps[i].x+=wt*verts[i].x,tps[i].y+=wt*verts[i].y,tps[i].z+=wt*verts[i].z,tps[i].x/=wt+vertdeg[0][i],tps[i].y/=wt+vertdeg[0][i],tps[i].z/=wt+vertdeg[0][i]}for(i=0,il=verts.length;il>i;i++)verts[i].x=tps[i].x,verts[i].y=tps[i].y,verts[i].z=tps[i].z}},edgeTable=new Uint32Array([0,0,0,0,0,0,0,2816,0,0,0,1792,0,3328,3584,3840,0,0,0,138,0,21,0,134,0,0,0,652,0,2067,3865,3600,0,0,0,42,0,0,0,294,0,0,21,28,0,3875,1049,3360,0,168,162,170,0,645,2475,2210,0,687,293,172,4010,3747,3497,3232,0,0,0,0,0,69,0,900,0,0,0,1792,138,131,1608,1920,0,81,0,2074,84,85,84,86,0,81,0,3676,330,1105,1881,1616,0,0,0,42,0,69,0,502,0,0,21,3580,138,2035,1273,1520,2816,104,2337,106,840,581,367,102,2816,3695,3429,3180,1898,1635,1385,1120,0,0,0,0,0,0,0,3910,0,0,69,588,42,2083,41,2880,0,0,0,1722,0,2293,4095,3830,0,255,757,764,2538,2291,3065,2800,0,0,81,338,0,3925,1119,3414,84,855,85,340,2130,2899,89,2384,1792,712,194,1162,4036,3781,3535,3270,708,719,197,204,3018,2755,2505,2240,0,0,0,0,168,420,168,1958,162,162,676,2988,170,163,680,928,3328,3096,3328,3642,52,53,1855,1590,2340,2111,2869,2620,298,51,825,560,3584,3584,3090,3482,1668,1941,1183,1430,146,2975,2069,2460,154,915,153,400,3840,3592,3329,3082,1796,1541,1295,1030,2818,2575,2309,2060,778,515,265,0]),triTable=[[],[],[],[],[],[],[],[11,9,8],[],[],[],[8,10,9],[],[10,8,11],[9,11,10],[8,10,9,8,11,10],[],[],[],[1,7,3],[],[4,2,0],[],[2,1,7],[],[],[],[2,7,3,2,9,7],[],[1,4,11,1,0,4],[3,8,0,11,9,4,11,10,9],[4,11,9,11,10,9],[],[],[],[5,3,1],[],[],[],[2,5,8,2,1,5],[],[],[2,4,0],[3,2,4],[],[0,9,1,8,10,5,8,11,10],[3,4,0,3,10,4],[5,8,10,8,11,10],[],[3,5,7],[7,1,5],[1,7,3,1,5,7],[],[9,2,0,9,7,2],[0,3,8,1,7,11,1,5,7],[11,1,7,1,5,7],[],[9,1,0,5,3,2,5,7,3],[8,2,5,8,0,2],[2,5,3,5,7,3],[3,9,1,3,8,9,7,11,10,7,10,5],[9,1,0,10,7,11,10,5,7],[3,8,0,7,10,5,7,11,10],[11,5,7,11,10,5],[],[],[],[],[],[0,6,2],[],[7,2,9,7,9,8],[],[],[],[8,10,9],[7,1,3],[7,1,0],[6,9,3,6,10,9],[7,10,8,10,9,8],[],[6,0,4],[],[11,1,4,11,3,1],[2,4,6],[2,0,4,2,4,6],[2,4,6],[1,4,2,4,6,2],[],[6,0,4],[],[2,11,3,6,9,4,6,10,9],[8,6,1,8,1,3],[10,0,6,0,4,6],[8,0,3,9,6,10,9,4,6],[10,4,6,10,9,4],[],[],[],[5,3,1],[],[0,6,2],[],[7,4,8,5,2,1,5,6,2],[],[],[2,4,0],[7,4,8,2,11,3,10,5,6],[7,1,3],[5,6,10,0,9,1,8,7,4],[5,6,10,7,0,3,7,4,0],[10,5,6,4,8,7],[9,11,8],[3,5,6],[0,5,11,0,11,8],[6,3,5,3,1,5],[3,9,6,3,8,9],[9,6,0,6,2,0],[0,3,8,2,5,6,2,1,5],[1,6,2,1,5,6],[9,11,8],[1,0,9,6,10,5,11,3,2],[6,10,5,2,8,0,2,11,8],[3,2,11,10,5,6],[10,5,6,9,3,8,9,1,3],[0,9,1,5,6,10],[8,0,3,10,5,6],[10,5,6],[],[],[],[],[],[],[],[1,10,2,9,11,6,9,8,11],[],[],[6,0,2],[3,6,9,3,2,6],[3,5,1],[0,5,1,0,11,5],[0,3,5],[6,9,11,9,8,11],[],[],[],[4,5,9,7,1,10,7,3,1],[],[11,6,7,2,4,5,2,0,4],[11,6,7,8,0,3,1,10,2,9,4,5],[6,7,11,1,10,2,9,4,5],[],[4,1,0,4,5,1,6,7,3,6,3,2],[9,4,5,0,6,7,0,2,6],[4,5,9,6,3,2,6,7,3],[6,7,11,5,3,8,5,1,3],[6,7,11,4,1,0,4,5,1],[4,5,9,3,8,0,11,6,7],[9,4,5,7,11,6],[],[],[0,6,4],[8,6,4,8,1,6],[],[0,10,2,0,9,10,4,8,11,4,11,6],[10,2,1,6,0,3,6,4,0],[10,2,1,11,4,8,11,6,4],[4,2,6],[1,0,9,2,4,8,2,6,4],[2,4,0,2,6,4],[8,2,4,2,6,4],[11,4,1,11,6,4],[0,9,1,4,11,6,4,8,11],[3,6,0,6,4,0],[8,6,4,8,11,6],[10,8,9],[6,3,9,6,7,3],[6,7,1],[10,7,1,7,3,1],[7,11,6,8,10,2,8,9,10],[11,6,7,10,0,9,10,2,0],[2,1,10,7,11,6,8,0,3],[1,10,2,6,7,11],[7,2,6,7,9,2],[1,0,9,3,6,7,3,2,6],[7,0,6,0,2,6],[2,7,3,2,6,7],[7,11,6,3,9,1,3,8,9],[9,1,0,11,6,7],[0,3,8,11,6,7],[11,6,7],[],[],[],[],[5,3,7],[8,5,2,8,7,5],[5,3,7],[1,10,2,5,8,7,5,9,8],[1,7,5],[1,7,5],[9,2,7,9,7,5],[11,3,2,8,5,9,8,7,5],[1,3,7,1,7,5],[0,7,1,7,5,1],[9,3,5,3,7,5],[9,7,5,9,8,7],[8,10,11],[3,4,10,3,10,11],[8,10,11],[5,9,4,1,11,3,1,10,11],[2,4,5],[5,2,4,2,0,4],[0,3,8,5,9,4,10,2,1],[2,1,10,9,4,5],[2,8,5,2,11,8],[3,2,11,1,4,5,1,0,4],[9,4,5,8,2,11,8,0,2],[11,3,2,9,4,5],[8,5,3,5,1,3],[5,0,4,5,1,0],[3,8,0,4,5,9],[9,4,5],[11,9,10],[11,9,10],[1,11,4,1,10,11],[8,7,4,11,1,10,11,3,1],[2,7,9,2,9,10],[4,8,7,0,10,2,0,9,10],[2,1,10,0,7,4,0,3,7],[10,2,1,8,7,4],[1,7,4],[3,2,11,4,8,7,9,1,0],[11,4,2,4,0,2],[2,11,3,7,4,8],[4,1,7,1,3,7],[1,0,9,8,7,4],[3,4,0,3,7,4],[8,7,4],[8,9,10,8,10,11],[3,9,11,9,10,11],[0,10,8,10,11,8],[10,3,1,10,11,3],[2,8,10,8,9,10],[9,2,0,9,10,2],[8,0,3,1,10,2],[10,2,1],[1,11,9,11,8,9],[11,3,2,0,9,1],[11,0,2,11,8,0],[11,3,2],[8,1,3,8,9,1],[9,1,0],[8,0,3],[]]';
WebMol.Q=window.URL.createObjectURL(new Blob([WebMol.fa]));WebMol.workerString=WebMol.fa;WebMol.SurfaceWorker=WebMol.Q;
$(document).ready(function(){void 0!==$(".webmoljs_viewer")[0]&&(WebMol.ha=!0);if(WebMol.ha){WebMol.viewers={};var A=0;$(".webmoljs_viewer").each(function(){var B=$(this),z=null;"undefined"===typeof $(B).css("position")&&$(B).css("position","relative");var C="function"===typeof window[B.data("callback")]?window[B.data("callback")]:null;B.data("pdb")?z="http://www.pdb.org/pdb/files/"+B.data("pdb")+".pdb":B.data("href")&&(z=B.data("href"));var t=Number(B.data("backgroundcolor"))||0,u=B.data("style")||
{line:{}},e=B.data("select")||{},f=WebMol.viewers[this.id||A++]=WebMol.createViewer(B,{defaultcolors:WebMol.Qa,callback:function(a){a.setBackgroundColor(t)}});if(z){var d=B.data("datatype")||"pdb";$.get(z,function(a){f.addModel(a,d);f.setStyle(e,u);C&&C(f);f.zoomTo();f.render()},"text")}else B.data("element")&&(z=$("#"+B.data("element")).val()||"",d=B.data("datatype"),d||(console.log("Warning: No type specified for embedded viewer with moldata from "+B.data("element")+"\n assuming type 'pdb'"),d=
"pdb"),f.addModel(z,d),f.setStyle(e,u)),C&&C(f),f.zoomTo(),f.render()})}});WebMol.elementColors=WebMol.elementColors||{};WebMol.elementColors.defaultColor=16716947;
WebMol.elementColors.Jmol={H:16777215,He:14286847,HE:14286847,Li:13402367,LI:13402367,B:16758197,C:9474192,N:3166456,O:16715021,F:9494608,Na:11230450,NA:11230450,Mg:9109248,MG:9109248,Al:12560038,AL:12560038,Si:1578E4,SI:1578E4,P:16744448,S:16777008,Cl:2093087,CL:2093087,Ca:4062976,CA:4062976,Ti:12567239,TI:12567239,Cr:9083335,CR:9083335,Mn:10255047,MN:10255047,Fe:14706227,FE:14706227,Ni:5296208,NI:5296208,Cu:13140019,CU:13140019,Zn:8224944,ZN:8224944,Br:10889513,BR:10889513,Ag:12632256,AG:12632256,
I:9699476,Ba:51456,BA:51456,Au:16765219,AU:16765219};
WebMol.elementColors.rasmol={H:16777215,He:16761035,HE:16761035,Li:11674146,LI:11674146,B:65280,C:13158600,N:9408511,O:15728640,F:14329120,Na:255,NA:255,Mg:2263842,MG:2263842,Al:8421520,AL:8421520,Si:14329120,SI:14329120,P:16753920,S:16762930,Cl:65280,CL:65280,Ca:8421520,CA:8421520,Ti:8421520,TI:8421520,Cr:8421520,CR:8421520,Mn:8421520,MN:8421520,Fe:16753920,FE:16753920,Ni:10824234,NI:10824234,Cu:10824234,CU:10824234,Zn:10824234,ZN:10824234,Br:10824234,BR:10824234,Ag:8421520,AG:8421520,I:10494192,
Ba:16753920,BA:16753920,Au:14329120,AU:14329120};WebMol.elementColors.defaultColors=WebMol.elementColors.rasmol;WebMol.elementColors.greenCarbon=$.extend({},WebMol.elementColors.defaultColors);WebMol.elementColors.greenCarbon.C=65280;WebMol.elementColors.cyanCarbon=$.extend({},WebMol.elementColors.defaultColors);WebMol.elementColors.cyanCarbon.C=65535;WebMol.elementColors.magentaCarbon=$.extend({},WebMol.elementColors.defaultColors);WebMol.elementColors.magentaCarbon.C=16711935;
WebMol.elementColors.yellowCarbon=$.extend({},WebMol.elementColors.defaultColors);WebMol.elementColors.yellowCarbon.C=16776960;WebMol.elementColors.whiteCarbon=$.extend({},WebMol.elementColors.defaultColors);WebMol.elementColors.whiteCarbon.C=16777215;WebMol.elementColors.orangeCarbon=$.extend({},WebMol.elementColors.defaultColors);WebMol.elementColors.orangeCarbon.C=16737792;WebMol.elementColors.purpleCarbon=$.extend({},WebMol.elementColors.defaultColors);WebMol.elementColors.purpleCarbon.C=8388736;
var WebMol=WebMol||{};WebMol.RWB=function(A,B){this.valueToHex=function(z,C){var t,u;C?(t=C[0],u=C[1]):(t=A,u=B);if(void 0===z)return 16777215;z<t&&(z=t);z>u&&(z=u);var e=(u+t)/2;z<=e?(t=Math.floor(255*Math.sqrt((z-t)/(e-t))),t=16711680+256*t+t):(t=Math.floor(255*Math.sqrt(1-(z-e)/(u-e))),t=65536*t+256*t+255);return t};this.jmolID=function(){return"rwb"};this.range=function(){return"undefined"!=typeof A&&"undefined"!=typeof B?[A,B]:null}};
WebMol.ROYGB=function(A,B){this.valueToHex=function(z,C){var t,u;C?(t=C[0],u=C[1]):(t=A,u=B);if("undefined"==typeof z)return 16777215;z<t&&(z=t);z>u&&(z=u);var e=(t+u)/2,f=(t+e)/2,d=(e+u)/2;z<f?(t=Math.floor(255*Math.sqrt((z-t)/(f-t))),t=256*t+16711680):z<e?(t=Math.floor(255*Math.sqrt(1-(z-f)/(e-f))),t=65536*t+65280):z<d?(t=Math.floor(255*Math.sqrt((z-e)/(d-e))),t=65280+1*t):(t=Math.floor(255*Math.sqrt(1-(z-d)/(u-d))),t=256*t+255);return t};this.jmolID=function(){return"roygb"};this.range=function(){return"undefined"!=
typeof A&&"undefined"!=typeof B?[A,B]:null}};
WebMol.Sinebow=function(A,B){this.valueToHex=function(z,C){var t,u;C?(t=C[0],u=C[1]):(t=A,u=B);if("undefined"==typeof z)return 16777215;z<t&&(z=t);z>u&&(z=u);var e=(z-t)/(u-t)*5/6+.5;t=Math.sin(Math.PI*e);u=Math.sin(Math.PI*(e+1/3));e=Math.sin(Math.PI*(e+2/3));return 65536*Math.floor(255*t*t)+256*Math.floor(255*e*e)+1*Math.floor(255*u*u)};this.jmolID=function(){return"sinebow"};this.range=function(){return"undefined"!=typeof A&&"undefined"!=typeof B?[A,B]:null}};WebMol=WebMol||{};
WebMol.drawCartoon=function(){function A(z,A,t,u,e){if(!(2>A.length)){e=e||5;A=B(A,e);t=B(t,e);var f=new WebMol.Geometry(!0),d=[],a,c,h,x,b,D=[[0,2,-6,-8],[-4,-2,6,4],[7,-1,-5,3],[-3,5,1,-7]],g,r,l,s,q,w,H,y,p,G;w=0;for(H=A.length;w<H;w++){l=WebMol.f.color(u[Math.round((w-1)/e)]);d.push(c=A[w]);d.push(c);d.push(h=t[w]);d.push(h);w<H-1&&(g=A[w+1].clone().sub(A[w]),a=t[w].clone().sub(A[w]).cross(g).normalize().multiplyScalar(.4));d.push(x=A[w].clone().add(a));d.push(x);d.push(b=t[w].clone().add(a));
d.push(b);void 0!==c.atom&&(s=c.atom);G=f.updateGeoGroup(8);y=G.vertexArray;p=G.colorArray;var M=G.faceArray;g=G.vertices;r=3*g;y[r]=c.x;y[r+1]=c.y;y[r+2]=c.z;y[r+3]=c.x;y[r+4]=c.y;y[r+5]=c.z;y[r+6]=h.x;y[r+7]=h.y;y[r+8]=h.z;y[r+9]=h.x;y[r+10]=h.y;y[r+11]=h.z;y[r+12]=x.x;y[r+13]=x.y;y[r+14]=x.z;y[r+15]=x.x;y[r+16]=x.y;y[r+17]=x.z;y[r+18]=b.x;y[r+19]=b.y;y[r+20]=b.z;y[r+21]=b.x;y[r+22]=b.y;y[r+23]=b.z;for(y=0;8>y;++y)p[r+3*y]=l.r,p[r+1+3*y]=l.g,p[r+2+3*y]=l.b;if(0<w)for(r=void 0!==q&&void 0!==s&&q.serial!==
s.serial,y=0;4>y;y++)if(p=[g+D[y][0],g+D[y][1],g+D[y][2],g+D[y][3]],h=G.faceidx,M[h]=p[0],M[h+1]=p[1],M[h+2]=p[3],M[h+3]=p[1],M[h+4]=p[2],M[h+5]=p[3],G.faceidx+=6,s.clickable||q.clickable){b=d[p[3]].clone();h=d[p[0]].clone();var K=d[p[2]].clone();x=d[p[1]].clone();b.atom=d[p[3]].atom||null;K.atom=d[p[2]].atom||null;h.atom=d[p[0]].atom||null;x.atom=d[p[1]].atom||null;if(r){var n=b.clone().add(h).multiplyScalar(.5),Z=K.clone().add(x).multiplyScalar(.5),P=b.clone().add(x).multiplyScalar(.5);0===y%2?
(q.clickable&&(p=new WebMol.Triangle(n,P,b),c=new WebMol.Triangle(Z,K,P),b=new WebMol.Triangle(P,K,b),q.intersectionShape.triangle.push(p),q.intersectionShape.triangle.push(c),q.intersectionShape.triangle.push(b)),s.clickable&&(p=new WebMol.Triangle(h,x,P),c=new WebMol.Triangle(x,Z,P),b=new WebMol.Triangle(h,P,n),s.intersectionShape.triangle.push(p),s.intersectionShape.triangle.push(c),s.intersectionShape.triangle.push(b))):(s.clickable&&(p=new WebMol.Triangle(n,P,b),c=new WebMol.Triangle(Z,K,P),
b=new WebMol.Triangle(P,K,b),s.intersectionShape.triangle.push(p),s.intersectionShape.triangle.push(c),s.intersectionShape.triangle.push(b)),q.clickable&&(p=new WebMol.Triangle(h,x,P),c=new WebMol.Triangle(x,Z,P),b=new WebMol.Triangle(h,P,n),q.intersectionShape.triangle.push(p),q.intersectionShape.triangle.push(c),q.intersectionShape.triangle.push(b)))}else s.clickable&&(p=new WebMol.Triangle(h,x,b),c=new WebMol.Triangle(x,K,b),s.intersectionShape.triangle.push(p),s.intersectionShape.triangle.push(c))}G.vertices+=
8;q=s}A=d.length-8;G=f.updateGeoGroup(8);y=G.vertexArray;p=G.colorArray;M=G.faceArray;g=G.vertices;r=3*g;h=G.faceidx;for(w=0;4>w;w++)d.push(d[2*w]),d.push(d[A+2*w]),t=d[2*w],u=d[A+2*w],y[r+6*w]=t.x,y[r+1+6*w]=t.y,y[r+2+6*w]=t.z,y[r+3+6*w]=u.x,y[r+4+6*w]=u.y,y[r+5+6*w]=u.z,p[r+6*w]=l.r,p[r+1+6*w]=l.g,p[r+2+6*w]=l.b,p[r+3+6*w]=l.r,p[r+4+6*w]=l.g,p[r+5+6*w]=l.b;p=[g,g+2,g+6,g+4];c=[g+1,g+5,g+7,g+3];M[h]=p[0];M[h+1]=p[1];M[h+2]=p[3];M[h+3]=p[1];M[h+4]=p[2];M[h+5]=p[3];M[h+6]=c[0];M[h+7]=c[1];M[h+8]=c[3];
M[h+9]=c[1];M[h+10]=c[2];M[h+11]=c[3];G.faceidx+=12;G.vertices+=8;f.initTypedArrays();f.setUpNormals();d=new WebMol.MeshLambertMaterial;d.vertexColors=WebMol.FaceColors;d.side=WebMol.DoubleSide;f=new WebMol.Mesh(f,d);z.add(f)}}function B(z,A){var t=[],u=z,u=[];u.push(z[0]);var e,f,d,a,c,h;e=1;for(f=z.length-1;e<f;e++)a=z[e],c=z[e+1],a.Ga?u.push(new WebMol.Vector3((a.x+c.x)/2,(a.y+c.y)/2,(a.z+c.z)/2)):u.push(a);u.push(z[z.length-1]);e=-1;for(f=u.length;e<=f-3;e++){d=u[-1===e?0:e];a=u[e+1];c=u[e+2];
h=u[e===f-3?f-1:e+3];d=(new WebMol.Vector3).subVectors(c,d).multiplyScalar(.5);h=(new WebMol.Vector3).subVectors(h,a).multiplyScalar(.5);for(var x=0;x<A;x++){var b=1/A*x,b=new WebMol.Vector3(a.x+b*d.x+b*b*(-3*a.x+3*c.x-2*d.x-h.x)+b*b*b*(2*a.x-2*c.x+d.x+h.x),a.y+b*d.y+b*b*(-3*a.y+3*c.y-2*d.y-h.y)+b*b*b*(2*a.y-2*c.y+d.y+h.y),a.z+b*d.z+b*b*(-3*a.z+3*c.z-2*d.z-h.z)+b*b*b*(2*a.z-2*c.z+d.z+h.z)),D=Math.floor((t.length+2)/A);void 0!==z[D]&&void 0!==z[D].atom&&(b.atom=z[D].atom);t.push(b)}}t.push(u[u.length-
1]);return t}return function(z,B,t){var u,e,f;u=2;e=5;f=!1;var d=[],a,c,h;for(h=0;h<u;h++)d[h]=[];h=[];var x,b,D,g,r,l=null,s=null;for(a in B)if(c=B[a],void 0!==c&&("O"==c.atom||"CA"==c.atom)&&!c.hetflag)if("CA"==c.atom){if(x!=c.chain||D+1!=c.resi||b!=c.ba){A(z,d[0],d[u-1],h,e);d=[];for(h=0;h<u;h++)d[h]=[];h=[];l=null}g=new WebMol.Vector3(c.x,c.y,c.z);r=c;x=c.chain;b=c.ba;D=c.resi;var s=c.ss,q=c.color;t?q=t.valueToHex(c.resi,t.range()):"undefined"!==typeof c.style.cartoon.color&&(q=c.style.cartoon.color);
h.push(q);!0!==c.clickable||void 0!==c.intersectionShape&&void 0!==c.intersectionShape.triangle||(c.intersectionShape={sphere:null,cylinder:[],line:[],triangle:[]})}else for(c=new WebMol.Vector3(c.x,c.y,c.z),c.sub(g),c.normalize(),c.multiplyScalar("c"==s?.3:1.3),null!==l&&0>c.dot(l)&&c.negate(),l=c,c=0;c<u;c++)q=-1+2/(u-1)*c,q=new WebMol.Vector3(g.x+l.x*q,g.y+l.y*q,g.z+l.z*q),q.atom=r,f||"s"!=s||(q.Ga=!0),d[c].push(q);A(z,d[0],d[u-1],h,e)}}();WebMol=WebMol||{};
WebMol.GLModel=function(){function A(f){var d=[],a,c;a=0;for(c=f.length;a<c;a++){f[a].index=a;var h=f[a];h.hetflag||"N"!==h.atom&&"O"!==h.atom||(d.push(h),h.M=null,h.q=Number.POSITIVE_INFINITY)}d.sort(function(a,b){return a.z-b.z});a=0;for(c=d.length;a<c;a++)for(h=d[a],f=a+1;f<c;f++){var x=d[f],b=x.z-h.z;if(3.2<b)break;if(x.atom!=h.atom){var e=Math.abs(x.y-h.y);if(!(3.2<e)){var g=Math.abs(x.x-h.x);3.2<g||(b=g*g+e*e+b*b,10.24<b||x.chain==h.chain&&4>Math.abs(x.resi-h.resi)||(b<h.q&&(h.M=x,h.q=b),b<
x.q&&(x.M=h,x.q=b)))}}}}function B(f){var d=[],a=[],c,h;c=0;for(h=f.length;c<h;c++){var x=f[c];x.index=c;x.hetflag?a.push(x):d.push(x)}z(a);d.sort(function(a,b){return a.chain!=b.chain?a.chain<b.chain?-1:1:a.resi-b.resi});var a=f=-1,b;c=0;for(h=d.length;c<h;c++){x=d[c];x.resi!==f&&(f=x.resi,b||a++,b=!1);x.ba=a;for(var e=c+1;e<d.length;e++){var g=d[e];if(g.chain!=x.chain)break;if(1<g.resi-x.resi)break;C(x,g)&&(-1===x.bonds.indexOf(g.index)&&(x.bonds.push(g.index),x.bondOrder.push(1),g.bonds.push(x.index),
g.bondOrder.push(1)),x.resi!==g.resi&&(b=!0))}}}function z(f){var d=f.slice(0),a,c;a=0;for(c=f.length;a<c;a++)f[a].index||(f[a].index=a);d.sort(function(a,c){return a.z-c.z});a=0;for(c=d.length;a<c;a++){var h=d[a];for(f=a+1;f<c;f++){var x=d[f];if(1.9<x.z-h.z)break;C(h,x)&&-1==h.bonds.indexOf(x.index)&&(h.bonds.push(x.index),h.bondOrder.push(1),x.bonds.push(h.index),x.bondOrder.push(1))}}}function C(f,d){var a=f.x-d.x,a=a*a;if(3.6<a)return!1;var c=f.y-d.y,c=c*c;if(3.6<c)return!1;var h=f.z-d.z,h=h*
h;if(3.6<h)return!1;a=a+c+h;return isNaN(a)||.5>a||1.3<a&&("H"==f.elem||"H"==d.elem||"D"==f.elem||"D"==d.elem)?!1:3.6>a&&("S"==f.elem||"S"==d.elem)?!0:2.78<a?!1:!0}function t(f,d){return f&&d?JSON.stringify(f)==JSON.stringify(d):f==d}var u={line:{}},e={H:1.2,Li:1.82,Na:2.27,K:2.75,C:1.7,N:1.55,O:1.52,F:1.47,P:1.8,S:1.8,CL:1.75,BR:1.85,SE:1.9,ZN:1.39,CU:1.4,NI:1.63};return function(f,d){function a(p,a,b,c,n,x,d){if(a&&b){y++;var f=x||d,m=[b.x,b.y,b.z];m[0]-=a.x;m[1]-=a.y;m[2]-=a.z;var m=H(m),v=q.p(c);
c=v.w;var h=v.va,e=f?h*c+2:2*c;p=p.updateGeoGroup(e);var g=v.vertices,l=v.l,v=v.m,s=v[h/2],r=v[h/2+1],D=p.vertices,w,u,t,z,A,B,C=p.vertexArray,I=p.normalArray,O=p.colorArray,N=p.faceArray;for(t=0;t<c;++t)u=2*t,z=m[0]*g[u].x+m[3]*g[u].y+m[6]*g[u].z,A=m[1]*g[u].x+m[4]*g[u].y+m[7]*g[u].z,B=m[5]*g[u].y+m[8]*g[u].z,w=3*(D+u),u=p.faceidx,C[w]=z+a.x,C[w+1]=A+a.y,C[w+2]=B+a.z,C[w+3]=z+b.x,C[w+4]=A+b.y,C[w+5]=B+b.z,I[w]=z,I[w+3]=z,I[w+1]=A,I[w+4]=A,I[w+2]=B,I[w+5]=B,O[w]=n.r,O[w+3]=n.r,O[w+1]=n.g,O[w+4]=n.g,
O[w+2]=n.b,O[w+5]=n.b,N[u]=r[t]+D,N[u+1]=r[t+1]+D,N[u+2]=s[t]+D,N[u+3]=s[t]+D,N[u+4]=r[t+1]+D,N[u+5]=s[t+1]+D,p.faceidx+=6;if(f){x=x?h+1:h/2+1;var qa,ra,X,Ea,va,Fa,Aa,sa,ta,Ha,Ba,Ga,aa;for(A=d?0:h/2;A<x;A++)if(A!==h/2){var Y=A<=h/2?b:a;for(z=0;z<c;z++)u=p.faceidx,d=v[A][z+1],t=3*(d+D),f=v[A][z],B=3*(f+D),s=v[A+1][z],w=3*(s+D),r=v[A+1][z+1],aa=3*(r+D),qa=m[0]*g[d].x+m[3]*g[d].y+m[6]*g[d].z,ra=m[0]*g[f].x+m[3]*g[f].y+m[6]*g[f].z,X=m[0]*g[s].x+m[3]*g[s].y+m[6]*g[s].z,Ea=m[0]*g[r].x+m[3]*g[r].y+m[6]*
g[r].z,va=m[1]*g[d].x+m[4]*g[d].y+m[7]*g[d].z,Fa=m[1]*g[f].x+m[4]*g[f].y+m[7]*g[f].z,Aa=m[1]*g[s].x+m[4]*g[s].y+m[7]*g[s].z,sa=m[1]*g[r].x+m[4]*g[r].y+m[7]*g[r].z,ta=m[5]*g[d].y+m[8]*g[d].z,Ha=m[5]*g[f].y+m[8]*g[f].z,Ba=m[5]*g[s].y+m[8]*g[s].z,Ga=m[5]*g[r].y+m[8]*g[r].z,C[t]=qa+Y.x,C[B]=ra+Y.x,C[w]=X+Y.x,C[aa]=Ea+Y.x,C[t+1]=va+Y.y,C[B+1]=Fa+Y.y,C[w+1]=Aa+Y.y,C[aa+1]=sa+Y.y,C[t+2]=ta+Y.z,C[B+2]=Ha+Y.z,C[w+2]=Ba+Y.z,C[aa+2]=Ga+Y.z,O[t]=n.r,O[B]=n.r,O[w]=n.r,O[aa]=n.r,O[t+1]=n.g,O[B+1]=n.g,O[w+1]=n.g,
O[aa+1]=n.g,O[t+2]=n.b,O[B+2]=n.b,O[w+2]=n.b,O[aa+2]=n.b,qa=m[0]*l[d].x+m[3]*l[d].y+m[6]*l[d].z,ra=m[0]*l[f].x+m[3]*l[f].y+m[6]*l[f].z,X=m[0]*l[s].x+m[3]*l[s].y+m[6]*l[s].z,Ea=m[0]*l[r].x+m[3]*l[r].y+m[6]*l[r].z,va=m[1]*l[d].x+m[4]*l[d].y+m[7]*l[d].z,Fa=m[1]*l[f].x+m[4]*l[f].y+m[7]*l[f].z,Aa=m[1]*l[s].x+m[4]*l[s].y+m[7]*l[s].z,sa=m[1]*l[r].x+m[4]*l[r].y+m[7]*l[r].z,ta=m[5]*l[d].y+m[8]*l[d].z,Ha=m[5]*l[f].y+m[8]*l[f].z,Ba=m[5]*l[s].y+m[8]*l[s].z,Ga=m[5]*l[r].y+m[8]*l[r].z,0===A?(I[t]=qa,I[w]=X,I[aa]=
Ea,I[t+1]=va,I[w+1]=Aa,I[aa+1]=sa,I[t+2]=ta,I[w+2]=Ba,I[aa+2]=Ga,N[u]=d+D,N[u+1]=s+D,N[u+2]=r+D,p.faceidx+=3):A===x-1?(I[t]=qa,I[B]=ra,I[w]=X,I[t+1]=va,I[B+1]=Fa,I[w+1]=Aa,I[t+2]=ta,I[B+2]=Ha,I[w+2]=Ba,N[u]=d+D,N[u+1]=f+D,N[u+2]=s+D,p.faceidx+=3):(I[t]=qa,I[B]=ra,I[aa]=Ea,I[t+1]=va,I[B+1]=Fa,I[aa+1]=sa,I[t+2]=ta,I[B+2]=Ha,I[aa+2]=Ga,I[B]=ra,I[w]=X,I[aa]=Ea,I[B+1]=Fa,I[w+1]=Aa,I[aa+1]=sa,I[B+2]=Ha,I[w+2]=Ba,I[aa+2]=Ga,N[u]=d+D,N[u+1]=f+D,N[u+2]=r+D,N[u+3]=f+D,N[u+4]=s+D,N[u+5]=r+D,p.faceidx+=6)}}p.vertices+=
e}}function c(p,a){if(p.style.sphere){var b=p.style.sphere;if(!b.hidden){var c=p.color;"undefined"!=typeof b.color&&(c=b.color);var n=WebMol.f.color(c),d,b=h(p,b);!0===p.clickable&&void 0!==p.intersectionShape&&(c=new WebMol.Vector3(p.x,p.y,p.z),p.intersectionShape.sphere.push(new WebMol.Sphere(c,b)));d=w.p(b);for(var c=d.vertices,x=d.l,f=a.updateGeoGroup(c.length),m=f.vertices,g=f.vertexArray,e=f.colorArray,l=0,s=c.length;l<s;++l){var q=3*(m+l),r=c[l];g[q]=r.x+p.x;g[q+1]=r.y+p.y;g[q+2]=r.z+p.z;e[q]=
n.r;e[q+1]=n.g;e[q+2]=n.b}f.vertices+=c.length;g=d.m;e=g.length-1;l=f.normalArray;s=f.faceArray;for(d=0;d<e;d++)for(q=g[d].length-1,n=0;n<q;n++){var r=f.faceidx,y=g[d][n+1]+m,D=3*y,u=g[d][n]+m,t=3*u,A=g[d+1][n]+m,z=3*A,B=g[d+1][n+1]+m,H=3*B,C=x[y-m],I=x[u-m],O=x[A-m],N=x[B-m];Math.abs(c[y-m].y)===b?(l[D]=C.x,l[z]=O.x,l[H]=N.x,l[D+1]=C.y,l[z+1]=O.y,l[H+1]=N.y,l[D+2]=C.z,l[z+2]=O.z,l[H+2]=N.z,s[r]=y,s[r+1]=A,s[r+2]=B,f.faceidx+=3):Math.abs(c[A-m].y)===b?(l[D]=C.x,l[t]=I.x,l[z]=O.x,l[D+1]=C.y,l[t+1]=
I.y,l[z+1]=O.y,l[D+2]=C.z,l[t+2]=I.z,l[z+2]=O.z,s[r]=y,s[r+1]=u,s[r+2]=A,f.faceidx+=3):(l[D]=C.x,l[t]=I.x,l[H]=N.x,l[D+1]=C.y,l[t+1]=I.y,l[H+1]=N.y,l[D+2]=C.z,l[t+2]=I.z,l[H+2]=N.z,l[t]=I.x,l[z]=O.x,l[H]=N.x,l[t+1]=I.y,l[z+1]=O.y,l[H+1]=N.y,l[t+2]=I.z,l[z+2]=O.z,l[H+2]=N.z,s[r]=y,s[r+1]=u,s[r+2]=B,s[r+3]=u,s[r+4]=A,s[r+5]=B,f.faceidx+=6)}}}}function h(p,a){var b=1.5;"undefined"!=typeof a.radius?b=a.radius:e[p.elem]&&(b=e[p.elem]);"undefined"!=typeof a.scale&&(b*=a.scale);return b}var x=[],b=null,
D=null,g=null,r=null,l=WebMol.elementColors.defaultColor,s=d?d:WebMol.elementColors.defaultColors,q={t:function(){var a=[];a[0]=new WebMol.Vector3(-1,0,0);a[4]=new WebMol.Vector3(0,0,1);a[8]=new WebMol.Vector3(1,0,0);a[12]=new WebMol.Vector3(0,0,-1);a[2]=a[0].clone().add(a[4]).normalize();a[6]=a[4].clone().add(a[8]).normalize();a[10]=a[8].clone().add(a[12]).normalize();a[14]=a[12].clone().add(a[0]).normalize();a[1]=a[0].clone().add(a[2]).normalize();a[3]=a[2].clone().add(a[4]).normalize();a[5]=a[4].clone().add(a[6]).normalize();
a[7]=a[6].clone().add(a[8]).normalize();a[9]=a[8].clone().add(a[10]).normalize();a[11]=a[10].clone().add(a[12]).normalize();a[13]=a[12].clone().add(a[14]).normalize();a[15]=a[14].clone().add(a[0]).normalize();return a}(),h:{},p:function(a){if(void 0!==this.h[a])return this.h[a];new WebMol.Vector3(0,1,0);for(var b=this.t.length,c=[],d=[],n,f=0;f<b;f++)c.push(this.t[f].clone().multiplyScalar(a)),c.push(this.t[f].clone().multiplyScalar(a)),n=this.t[f].clone().normalize(),d.push(n),d.push(n);var f=[],
x=2*Math.PI,g=Math.PI,m,l,h=!1,e=!1;for(l=0;10>=l;l++){var h=0===l||10===l?!0:!1,e=5===l?!0:!1,s=[],q=[];for(m=0;m<=b;m++)if(e){var r=m<b?2*m:0;q.push(r+1);s.push(r)}else{n=m/b;var w=l/10;h&&0!==m?h&&s.push(c.length-1):m<b?(r=new WebMol.Vector3,r.x=-a*Math.cos(0+n*x)*Math.sin(0+w*g),r.y=a*Math.cos(0+w*g),r.z=a*Math.sin(0+n*x)*Math.sin(0+w*g),1E-5>Math.abs(r.x)&&(r.x=0),1E-5>Math.abs(r.y)&&(r.y=0),1E-5>Math.abs(r.z)&&(r.z=0),n=new WebMol.Vector3(r.x,r.y,r.z),n.normalize(),c.push(r),d.push(n),s.push(c.length-
1)):s.push(c.length-b)}e&&f.push(q);f.push(s)}b={vertices:c,l:d,m:f,w:b,va:10};return this.h[a]=b}},w={h:{},p:function(a){if("undefined"!=typeof this.h[a])return this.h[a];var b={vertices:[],m:[],l:[]},c=12,d=10;1>a&&(c=10,d=8);var n=2*Math.PI,f=Math.PI,x,l;for(l=0;l<=d;l++){var g=[];for(x=0;x<=c;x++){var h=x/c,e=l/d,s={};s.x=-a*Math.cos(0+h*n)*Math.sin(0+e*f);s.y=a*Math.cos(0+e*f);s.z=a*Math.sin(0+h*n)*Math.sin(0+e*f);h=new WebMol.Vector3(s.x,s.y,s.z);h.normalize();b.vertices.push(s);b.l.push(h);
g.push(b.vertices.length-1)}b.m.push(g)}return this.h[a]=b}},H=function(){var a=new WebMol.Vector3;return function(b){a.set(b[0],b[1],b[2]);var c=a.x,d=a.y,n=a.z,f=Math.sqrt(c*c+d*d);1E-4>f?(b=0,f=1):(b=-c/f,f=d/f);d=-b*c+f*d;c=Math.sqrt(d*d+n*n);1E-4>c?(n=0,d=1):(n/=c,d/=c);c=new Float32Array(9);c[0]=f;c[1]=b;c[2]=0;c[3]=-b*d;c[4]=f*d;c[5]=n;c[6]=b*n;c[7]=-f*n;c[8]=d;return c}}(),y=0;this.getID=function(){return f};this.addMolData=function(a,b,c){c=c||{};a||console.error("Erorr with addMolData: No input data specified");
switch(b){case "xyz":var d=x;b=a.split("\n");if(!(3>b.length)){var n=parseInt(b[0].substr(0,3));if(!(isNaN(n)||0>=n||b.length<n+2)){c=2;for(var g=d.length,n=g+n;g<n;g++){var h=b[c++].replace(/^\s+/,"").replace(/\s+/g," ").split(" "),e={};e.serial=g;e.atom=e.elem=h[0];e.x=parseFloat(h[1]);e.y=parseFloat(h[2]);e.z=parseFloat(h[3]);e.hetflag=!0;e.bonds=[];e.bondOrder=[];e.properties={};d[g]=e}z(d)}}break;case "pdb":b=x;h=!c.La;c=b.length;var m,n=[],g=[],e=[];a=a.split("\n");var v,q,r;for(v=0;v<a.length;v++){r=
a[v].replace(/^\s*/,"");m=r.substr(0,6);var w;if("ATOM  "==m||"HETATM"==m){var y,D,t,H,C,Ua,ka,Q,W;m=r.substr(16,1);if(" "==m||"A"==m)if(Q=parseInt(r.substr(6,5)),m=r.substr(12,4).replace(/ /g,""),q=r.substr(17,3),w=r.substr(21,1),y=parseInt(r.substr(22,4)),D=r.substr(26,1),t=parseFloat(r.substr(30,8)),H=parseFloat(r.substr(38,8)),C=parseFloat(r.substr(46,8)),W=parseFloat(r.substr(60,8)),ka=r.substr(76,2).replace(/ /g,""),""===ka&&(ka=r.substr(12,2).replace(/ /g,"")),"H"!=ka&&"HH"!=ka&&"HD"!=ka||
!h)Ua="H"==r[0]?!0:!1,e[Q]=b.length,b.push({resn:q,x:t,y:H,z:C,elem:ka,hetflag:Ua,chain:w,resi:y,icode:D,rescode:y+(" "!=D?"^"+D:""),serial:Q,atom:m,bonds:[],ss:"c",bondOrder:[],properties:{},b:W,pdbline:r})}else if("SHEET "==m)m=r.substr(21,1),q=parseInt(r.substr(22,4)),w=r.substr(32,1),r=parseInt(r.substr(33,4)),n.push([m,q,w,r]);else if("CONECT"==m)for(m=b[e[parseInt(r.substr(6,5))]],q=0;4>q;q++)w=parseInt(r.substr([11,16,21,26][q],5)),y=b[e[w]],void 0!==m&&void 0!==y&&(m.bonds.push(e[w]),m.bondOrder.push(1));
else"HELIX "==m&&(m=r.substr(19,1),q=parseInt(r.substr(21,4)),w=r.substr(31,1),r=parseInt(r.substr(33,4)),g.push([m,q,w,r]))}h=(new Date).getTime();B(b);console.log("bond connecting "+((new Date).getTime()-h));h=(new Date).getTime();A(b);e={};v=0;for(r=b.length;v<r;v++)m=b[v],"undefined"===typeof e[m.chain]&&(e[m.chain]=[]),isFinite(m.q)&&(e[m.chain][m.resi]=4===Math.abs(m.M.resi-m.resi)?"h":"s");for(d in e){for(v=1;v<e[d].length-1;v++)r=e[d][v-1],m=e[d][v+1],a=e[d][v],r==m&&a!=r&&(e[d][v]=r);for(v=
0;v<e[d].length;v++)a=e[d][v],"h"!=a&&"s"!=a||e[d][v-1]==a||e[d][v+1]==a||delete e[d][v]}v=0;for(r=b.length;v<r;v++)m=b[v],a=e[m.chain][m.resi],"undefined"!=typeof a&&(m.ss=a,e[m.chain][m.resi-1]!=a&&(m.ca=!0),e[m.chain][m.resi+1]!=a&&(m.da=!0));console.log("secondary structure "+((new Date).getTime()-h));for(v=c;v<b.length;v++)if(m=b[v],void 0!==m){for(q=0;q<n.length;q++)m.chain!=n[q][0]||m.resi<n[q][1]||m.resi>n[q][3]||(m.ss="s",m.resi==n[q][1]&&(m.ca=!0),m.resi==n[q][3]&&(m.da=!0));for(q=0;q<g.length;q++)m.chain!=
g[q][0]||m.resi<g[q][1]||m.resi>g[q][3]||(m.ss="h",m.resi==g[q][1]?m.ca=!0:m.resi==g[q][3]&&(m.da=!0))}break;case "sdf":d=x;b=a.split("\n");if(!(4>b.length||(h=parseInt(b[3].substr(0,3)),isNaN(h)||0>=h||(c=parseInt(b[3].substr(3,3)),n=4,b.length<4+h+c)))){g=d.length;a=g+h;for(h=g;h<a;h++)e=b[n],n++,v={},v.serial=h,v.x=parseFloat(e.substr(0,10)),v.y=parseFloat(e.substr(10,10)),v.z=parseFloat(e.substr(20,10)),v.hetflag=!0,v.atom=v.elem=e.substr(31,3).replace(/ /g,""),v.bonds=[],v.bondOrder=[],v.properties=
{},d[h]=v;for(h=0;h<c;h++)e=b[n],n++,a=parseInt(e.substr(0,3))-1+g,v=parseInt(e.substr(3,3))-1+g,e=parseInt(e.substr(6,3)),d[a].bonds.push(v),d[a].bondOrder.push(e),d[v].bonds.push(a),d[v].bondOrder.push(e)}break;case "mol2":d=x;c=a.search(/@<TRIPOS>MOLECULE/);b=a.search(/@<TRIPOS>ATOM/);if(-1!=c&&-1!=b){b=[];c=a.substr(c,a.length).split("\n");e=c[2].replace(/^\s+/,"").replace(/\s+/g," ").split(" ");a=parseInt(e[0]);n=0;1<e.length&&(n=parseInt(e[1]));g=4;for(h=3;h<c.length;h++)if("@<TRIPOS>ATOM"==
c[h]){g=h+1;break}h=d.length;for(a=h+a;h<a;h++)e=c[g++],e=e.replace(/^\s+/,"").replace(/\s+/g," ").split(" "),v={},r=h,m=parseInt(e[0]),v.serial=m,v.x=parseFloat(e[2]),v.y=parseFloat(e[3]),v.z=parseFloat(e[4]),v.atom=v.elem=e[5].split(".")[0],"H"!=v.elem&&(v.bonds=[],v.bondOrder=[],v.properties={},b[m]=r,d.push(v));for(h=!1;g<c.length;)if("@<TRIPOS>BOND"==c[g++]){h=!0;break}if(h&&n)for(h=0;h<n;h++)e=c[g++],e=e.replace(/^\s+/,"").replace(/\s+/g," ").split(" "),a=parseInt(e[1]),fromAtom=d[b[a]],v=parseInt(e[2]),
toAtom=d[b[v]],e=parseInt(e[3]),isNaN(e)&&(e=1),void 0!==fromAtom&&void 0!==toAtom&&(fromAtom.bonds.push(b[v]),fromAtom.bondOrder.push(e),toAtom.bonds.push(b[a]),toAtom.bondOrder.push(e))}break;case "cube":if(d=x,b=a.replace(/^\s+/,"").split(/[\n\r]+/),!(6>b.length)){c=b[2].replace(/^\s+/,"").replace(/\s+/g," ").split(" ");n=Math.abs(parseFloat(c[0]));c=b[3].replace(/^\s+/,"").replace(/\s+/g," ").split(" ");c=0<parseFloat(c[0])?.529177:1;b=b.splice(6,n);n=d.length;g=n+b.length;for(h=n;h<g;++h)e={},
e.serial=h,a=b[h-n].replace(/^\s+/,"").replace(/\s+/g," ").split(" "),6==a[0]?e.elem="C":1==a[0]?e.elem="H":8==a[0]?e.elem="O":17==a[0]&&(e.elem="CL"),e.x=parseFloat(a[2])*c,e.y=parseFloat(a[3])*c,e.z=parseFloat(a[4])*c,e.hetflag=!0,e.bonds=[],e.bondOrder=[],e.properties={},d.push(e);z(d)}}d=x;for(b=0;b<d.length;b++)if(c=d[b])c.style=c.style||u,c.color=c.color||s[c.elem]||l,c.D=f,c.clickable&&(c.intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]})};this.atomIsSelected=function(a,b){if("undefined"===
typeof b)return!0;var c=!!b.Ka,d=!0,e;for(e in b)if(b.hasOwnProperty(e)&&"props"!=e&&"invert"!=e&&"model"!=e){if("undefined"===typeof a[e]){d=!1;break}var f=!1;if($.isArray(b[e])){for(var g=b[e],h=0;h<g.length;h++)if(a[e]==g[h]){f=!0;break}if(!f){d=!1;break}}else if(a[e]!=b[e]){d=!1;break}}return c?!d:d};this.selectedAtoms=function(a){for(var b=[],c=0;c<x.length;c++){var d=x[c];d&&this.atomIsSelected(d,a)&&b.push(d)}return b};this.addAtoms=function(a){b=null;var c=x.length,d=[],e;for(e=0;e<a.length;e++)d[a[e].index]=
c+e;for(e=0;e<a.length;e++){var c=a[e],f=d[c.index],g=$.extend(!1,{},c);g.index=f;g.bonds=[];g.bondOrder=[];for(f=0;f<c.bonds.length;f++){var h=d[c.bonds[f]];"undefined"!=typeof h&&(g.bonds.push(h),g.bondOrder.push(c.bondOrder[f]))}x.push(g)}};this.removeAtoms=function(a){b=null;var c=[],d;for(d=0;d<a.length;d++)c[a[d].index]=!0;a=[];for(d=0;d<x.length;d++){var e=x[d];c[e.index]||a.push(e)}x=[];this.addAtoms(a)};this.setStyle=function(a,c,d){if(d||null===b||!t(c,g)){g=d?null:c;c=$.extend(!0,{},c);
for(var e=!1,f=0;f<x.length;f++)if(x[f].u=!1,this.atomIsSelected(x[f],a)){e=!0;x[f].clickable&&(x[f].intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]});d||(x[f].style={});for(var h in c)c.hasOwnProperty(h)&&(x[f].style[h]=c[h])}e&&(b=null)}};this.setColorByElement=function(a,c){if(null===b||!t(c,r)){r=c;var d=this.selectedAtoms(a);0<d.length&&(b=null);for(var e=0;e<d.length;e++){var f=d[e];"undefined"!==typeof c[f.elem]&&(f.color=c[f.elem])}}};this.setColorByProperty=function(a,c,d){a=
this.selectedAtoms(a);r=null;0<a.length&&(b=null);var e=Number.POSITIVE_INFINITY,f=Number.NEGATIVE_INFINITY,g,h;for(g=0;g<a.length;g++)h=a[g],h.properties&&void 0!==typeof h.properties[c]&&(h=parseFloat(h.properties[c]),h<e&&(e=h),h>f&&(f=h));for(g=0;g<a.length;g++)if(h=a[g],h.properties&&void 0!==typeof h.properties[c]){var x=d.valueToHex(parseFloat(h.properties[c]),[e,f]);h.color=x}};this.globj=function(d){var e=new Date;if(null===b){var g=x;console.log("creating for "+f);var l=new WebMol.Object3D,
n=[],r={},s={},q=new WebMol.Geometry(!0),m=new WebMol.Geometry(!0),v=new WebMol.Geometry(!0),w,y,u=[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY];w=0;for(y=g.length;w<y;w++){var t=g[w];if(t&&t.style){t.clickable&&void 0===t.intersectionShape&&(t.intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]});c(t,q);var z=t,A=m;if(z.style.Ha){var H=z.style.Ha;if(!H.hidden){var B=h(z,H),C=z.color;"undefined"!=typeof H.color&&(C=H.color);for(var ka=WebMol.f.color(C),Q=A.updateGeoGroup(4),W=Q.vertices,
R=3*W,Da=Q.vertexArray,I=Q.colorArray,O=0;4>O;O++)Da[R+3*O]=z.x,Da[R+3*O+1]=z.y,Da[R+3*O+2]=z.z;for(var N=Q.normalArray,I=Q.colorArray,O=0;4>O;O++)I[R+3*O]=ka.r,I[R+3*O+1]=ka.g,I[R+3*O+2]=ka.b;N[R+0]=-B;N[R+1]=-B;N[R+2]=0;N[R+3]=-B;N[R+4]=B;N[R+5]=0;N[R+6]=B;N[R+7]=B;N[R+8]=0;N[R+9]=B;N[R+10]=-B;N[R+11]=0;Q.vertices+=4;var qa=Q.faceArray,ra=Q.faceidx;qa[ra+0]=W;qa[ra+1]=W+1;qa[ra+2]=W+2;qa[ra+3]=W+2;qa[ra+4]=W+3;qa[ra+5]=W;Q.faceidx+=6}}var X=t,Ea=s;if(X.style.cross){var va=X.style.cross;if(!va.hidden){var Fa=
va.linewidth||1;Ea[Fa]||(Ea[Fa]=new WebMol.Geometry);var Aa=Ea[Fa].updateGeoGroup(6),sa=h(X,va),ta=[[sa,0,0],[-sa,0,0],[0,sa,0],[0,-sa,0],[0,0,sa],[0,0,-sa]],Ha=X.clickable;Ha&&void 0===X.intersectionShape&&(X.intersectionShape={sphere:[],cylinder:[],line:[]});var Ba=WebMol.f.color(X.color);va.color&&(Ba=WebMol.f.color(va.color));for(var Ga=Aa.vertexArray,aa=Aa.colorArray,Y=0;6>Y;Y++){var Ma=3*Aa.vertices;Aa.vertices++;Ga[Ma]=X.x+ta[Y][0];Ga[Ma+1]=X.y+ta[Y][1];Ga[Ma+2]=X.z+ta[Y][2];aa[Ma]=Ba.r;aa[Ma+
1]=Ba.g;aa[Ma+2]=Ba.b;if(Ha){var Na=new WebMol.Vector3(ta[Y][0],ta[Y][1],ta[Y][2]);Na.multiplyScalar(.1);Na.set(Na.x+X.x,Na.y+X.y,Na.z+X.z);X.intersectionShape.line.push(Na)}}}}var ia=t,xb=g,Va=r;if(ia.style.line){var rb=ia.style.line;if(!rb.hidden){var kb=rb.linewidth||1;Va[kb]||(Va[kb]=new WebMol.Geometry);for(var Wa=Va[kb].updateGeoGroup(2*ia.bonds.length),Oa=Wa.vertexArray,Pa=Wa.colorArray,Xa=0;Xa<ia.bonds.length;Xa++){var db=xb[ia.bonds[Xa]];if(db.style.line){var Ya=new WebMol.Vector3(ia.x,ia.y,
ia.z),yb=new WebMol.Vector3(db.x,db.y,db.z),eb=Ya.clone().add(yb).multiplyScalar(.5);ia.clickable&&(void 0===ia.intersectionShape&&(ia.intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]}),ia.intersectionShape.line.push(Ya),ia.intersectionShape.line.push(eb));var Ka=WebMol.f.color(ia.color);if(ia.i&&ia.i[Xa]){var Za=ia.i[Xa];if(!Za.xa)continue;Za.radius&&(bondR=Za.radius);"undefined"!=typeof Za.J&&(Ka=WebMol.f.color(Za.J))}var wa=3*Wa.vertices;Wa.vertices+=2;Oa[wa]=Ya.x;Oa[wa+1]=Ya.y;Oa[wa+
2]=Ya.z;Pa[wa]=Ka.r;Pa[wa+1]=Ka.g;Pa[wa+2]=Ka.b;Oa[wa+3]=eb.x;Oa[wa+4]=eb.y;Oa[wa+5]=eb.z;Pa[wa+3]=Ka.r;Pa[wa+4]=Ka.g;Pa[wa+5]=Ka.b}}}}var L=t,lb=g,ca=v;if(L.style.stick){var $a=L.style.stick;if(!$a.hidden){var ab=$a.radius||.25,na=ab,sb=$a.singleBonds||!1,Qa=!1,Ra=!1,Sa=L.color;"undefined"!=typeof $a.color&&(Sa=$a.color);var ua=WebMol.f.color(Sa),fa=void 0,xa=void 0;!L.u&&4>L.bonds.length&&(Qa=!0);for(var ja=0;ja<L.bonds.length;ja++){var U=lb[L.bonds[ja]];if(L.serial<U.serial){var mb=U.style;if(mb.stick){var bb=
U.color;"undefined"!=typeof mb.stick.color&&(bb=mb.stick.color);var La=WebMol.f.color(bb),na=ab,cb=sb;if(L.i&&L.i[ja]){var ya=L.i[ja];if(ya.xa)continue;ya.radius&&(na=ya.radius);ya.Fa&&(cb=!0);"undefined"!=typeof ya.J&&(ua=WebMol.f.color(ya.J));"undefined"!=typeof ya.ja&&(La=WebMol.f.color(ya.ja))}var ga=new WebMol.Vector3(L.x,L.y,L.z),za=new WebMol.Vector3(U.x,U.y,U.z);if(1===L.bondOrder[ja]||cb){if(!U.u&&4>U.bonds.length&&(Ra=!0),Sa!=bb?(fa=(new WebMol.Vector3).addVectors(ga,za).multiplyScalar(.5),
a(ca,ga,fa,na,ua,Qa,!1),a(ca,fa,za,na,La,!1,Ra)):a(ca,ga,za,na,ua,Qa,Ra),L.clickable||U.clickable){fa=(new WebMol.Vector3).addVectors(ga,za).multiplyScalar(.5);if(L.clickable){var zb=new WebMol.Cylinder(ga,fa,na),Ab=new WebMol.Sphere(ga,na);L.intersectionShape.cylinder.push(zb);L.intersectionShape.sphere.push(Ab)}if(U.clickable){var Bb=new WebMol.Cylinder(za,fa,na),Cb=new WebMol.Sphere(za,na);U.intersectionShape.cylinder.push(Bb);U.intersectionShape.sphere.push(Cb)}}}else if(1<L.bondOrder[ja]){var Ia=
!1;mtoCap=!1;na!=ab&&(mtoCap=Ia=!0);var Ca=za.clone(),T=null;Ca.sub(ga);var S,la,ma,oa,pa,fb,gb,tb,hb,ib,Ja,jb,Ta;1===L.bonds.length?1===U.bonds.length?(T=Ca.clone(),1E-4<Math.abs(T.x)?T.y+=1:T.x+=1):(hb=(ja+1)%U.bonds.length,ib=U.bonds[hb],Ja=lb[ib],jb=new WebMol.Vector3(Ja.x,Ja.y,Ja.z),Ta=jb.clone(),Ta.sub(ga),T=Ta.clone(),T.cross(Ca)):(hb=(ja+1)%L.bonds.length,ib=L.bonds[hb],Ja=lb[ib],jb=new WebMol.Vector3(Ja.x,Ja.y,Ja.z),Ta=jb.clone(),Ta.sub(ga),T=Ta.clone(),T.cross(Ca));.01>T.lengthSq()&&(T=
Ca.clone(),1E-4<Math.abs(T.x)?T.y+=1:T.x+=1);if(2==L.bondOrder[ja]){if(S=na/2.5,T.cross(Ca),T.normalize(),T.multiplyScalar(1.5*S),la=ga.clone(),la.add(T),ma=ga.clone(),ma.sub(T),oa=la.clone(),oa.add(Ca),pa=ma.clone(),pa.add(Ca),Sa!=bb?(fa=(new WebMol.Vector3).addVectors(la,oa).multiplyScalar(.5),xa=(new WebMol.Vector3).addVectors(ma,pa).multiplyScalar(.5),a(ca,la,fa,S,ua,Ia,!1),a(ca,fa,oa,S,La,!1,mtoCap),a(ca,ma,xa,S,ua,Ia,!1),a(ca,xa,pa,S,La,!1,mtoCap)):(a(ca,la,oa,S,ua,Ia,mtoCap),a(ca,ma,pa,S,ua,
Ia,mtoCap)),L.clickable||U.clickable)fa=(new WebMol.Vector3).addVectors(la,oa).multiplyScalar(.5),xa=(new WebMol.Vector3).addVectors(ma,pa).multiplyScalar(.5),L.clickable&&(fb=new WebMol.Cylinder(la,fa,S),gb=new WebMol.Cylinder(ma,xa,S),L.intersectionShape.cylinder.push(fb),L.intersectionShape.cylinder.push(gb)),U.clickable&&(cylinder2a=new WebMol.Cylinder(oa,fa,S),cylinder2b=new WebMol.Cylinder(pa,xa,S),U.intersectionShape.cylinder.push(cylinder2a),U.intersectionShape.cylinder.push(cylinder2b))}else 3==
L.bondOrder[ja]&&(S=na/4,T.cross(Ca),T.normalize(),T.multiplyScalar(3*S),la=ga.clone(),la.add(T),ma=ga.clone(),ma.sub(T),oa=la.clone(),oa.add(Ca),pa=ma.clone(),pa.add(Ca),Sa!=bb?(fa=(new WebMol.Vector3).addVectors(la,oa).multiplyScalar(.5),xa=(new WebMol.Vector3).addVectors(ma,pa).multiplyScalar(.5),mp3=(new WebMol.Vector3).addVectors(ga,za).multiplyScalar(.5),a(ca,la,fa,S,ua,Ia,!1),a(ca,fa,oa,S,La,!1,mtoCap),a(ca,ga,mp3,S,ua,Qa,!1),a(ca,mp3,za,S,La,!1,Ra),a(ca,ma,xa,S,ua,Ia,!1),a(ca,xa,pa,S,La,!1,
mtoCap)):(a(ca,la,oa,S,ua,Ia,mtoCap),a(ca,ga,za,S,ua,Qa,Ra),a(ca,ma,pa,S,ua,Ia,mtoCap)),L.clickable||U.clickable)&&(fa=(new WebMol.Vector3).addVectors(la,oa).multiplyScalar(.5),xa=(new WebMol.Vector3).addVectors(ma,pa).multiplyScalar(.5),mp3=(new WebMol.Vector3).addVectors(ga,za).multiplyScalar(.5),L.clickable&&(fb=new WebMol.Cylinder(la.clone(),fa.clone(),S),gb=new WebMol.Cylinder(ma.clone(),xa.clone(),S),tb=new WebMol.Cylinder(ga.clone(),mp3.clone(),S),L.intersectionShape.cylinder.push(fb),L.intersectionShape.cylinder.push(gb),
L.intersectionShape.cylinder.push(tb)),U.clickable&&(cylinder2a=new WebMol.Cylinder(oa.clone(),fa.clone(),S),cylinder2b=new WebMol.Cylinder(pa.clone(),xa.clone(),S),cylinder2c=new WebMol.Cylinder(za.clone(),mp3.clone(),S),U.intersectionShape.cylinder.push(cylinder2a),U.intersectionShape.cylinder.push(cylinder2b),U.intersectionShape.cylinder.push(cylinder2c)))}if(Ra||3<U.bonds.length)U.u=!0;if(Qa||3<L.bonds.length)L.u=!0}}}for(var nb=0==L.bonds.length,ob=0,ub=!1,ja=0;ja<L.bonds.length;ja++)cb=sb,L.i&&
L.i[ja]&&(ya=L.i[ja],ya.Fa&&(cb=!0),ya.radius&&ya.radius!=ab&&(ub=!0)),(cb||1==L.bondOrder[ja])&&ob++;ub?0<ob&&(nb=!0):ob!=L.bonds.length&&(nb=!0);if(nb){var Db=L.style,na=ab;L.style={sphere:{radius:na,color:Sa}};c(L,ca);L.style=Db}}}"undefined"===typeof t.style.cartoon||t.style.cartoon.hidden||("spectrum"===t.style.cartoon.color&&"number"===typeof t.resi&&(t.resi<u[0]&&(u[0]=t.resi),t.resi>u[1]&&(u[1]=t.resi)),n.push(t))}}if(0<n.length){var vb=null;u[0]<u[1]&&(vb=new WebMol.Sinebow(u[0],u[1]));WebMol.drawCartoon(l,
n,vb);for(w=0;w<l.children.length;w++);}if(0<q.vertices){var Eb=new WebMol.MeshLambertMaterial({ambient:0,vertexColors:!0,reflectivity:0});q.initTypedArrays();var Fb=new WebMol.Mesh(q,Eb);l.add(Fb)}if(0<m.vertices){var Gb=new WebMol.Ia({ambient:0,vertexColors:!0,reflectivity:0});m.initTypedArrays();var Hb=new WebMol.Mesh(m,Gb);console.log("spherei geometry "+m.vertices.length);l.add(Hb)}if(0<v.vertices){var wb=new WebMol.MeshLambertMaterial({vertexColors:!0,ambient:0,reflectivity:0});v.initTypedArrays();
wb.wireframe&&v.setUpWireframe();var Ib=new WebMol.Mesh(v,wb);l.add(Ib)}for(w in r)if(r.hasOwnProperty(w)){var pb=w,Jb=new WebMol.LineBasicMaterial({linewidth:pb,vertexColors:!0});r[w].initTypedArrays();var Kb=new WebMol.Line(r[w],Jb,WebMol.LinePieces);l.add(Kb)}for(w in s)if(s.hasOwnProperty(w)){var pb=w,Lb=new WebMol.LineBasicMaterial({linewidth:pb,vertexColors:!0});s[w].initTypedArrays();var Mb=new WebMol.Line(s[w],Lb,WebMol.LinePieces);l.add(Mb)}b=l;console.log("object creation time: "+(new Date-
e));D&&(d.remove(D),D=null);D=b.clone();d.add(D)}};this.removegl=function(a){D&&(void 0!==D.geometry&&D.geometry.dispose(),void 0!==D.material&&D.material.dispose(),a.remove(D),D=null);b=null}}}();
WebMol.GLShape=function(){function A(e,f){f=f||{};WebMol.ShapeIDCount++;this.id=e;this.boundingSphere=new WebMol.Sphere;this.intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]};B(this,f);var d=[],a=null,c=null,h=new WebMol.Geometry(!0);this.updateStyle=function(a){for(var b in a)f[b]=a[b];B(this,f)};this.addCustom=function(a){a.vertexArr=a.vertexArr||[];a.faceArr=a.faceArr||[];a.normalArr=a.normalArr||[];a.lineArr=a.lineArr||[];var b=h.addGeoGroup();C(this,b,a);b.truncateArrayBuffers(!0);
for(a=0;a<b.colorArray.length/3;++a)b.colorArray[3*a]=this.color.r,b.colorArray[3*a+1]=this.color.g,b.colorArray[3*a+2]=this.color.b;d.push({id:b.id,A:b,o:b.getCentroid()});z(this.boundingSphere,d,b.vertexArray)};this.addSphere=function(a){a.center=a.center||{x:0,y:0,z:0};a.radius=a.radius?WebMol.Math.clamp(a.radius,0,Infinity):1.5;var b=h.addGeoGroup(),c=a.center,e=a.radius,f=new WebMol.Vector3(c.x,c.y,c.z);this.intersectionShape.sphere.push(new WebMol.Sphere(f,e));var l;l=u.p(e);for(var f=l.vertices,
s=l.l,q=b.vertices,w=b.vertexArray,t=b.faceArray,y=b.lineArray,p=b.normalArray,A=0,B=f.length;A<B;++A){var C=3*(q+A),n=f[A];w[C]=n.x+c.x;w[C+1]=n.y+c.y;w[C+2]=n.z+c.z}b.vertices+=f.length;w=l.m;A=w.length-1;for(l=0;l<A;l++)for(B=w[l].length-1,c=0;c<B;c++){var C=b.faceidx,n=b.lineidx,Z=w[l][c+1]+q,P=3*Z,E=w[l][c]+q,m=3*E,v=w[l+1][c]+q,J=3*v,da=w[l+1][c+1]+q,ea=3*da,V=s[Z-q],F=s[E-q],ba=s[v-q],ha=s[da-q];Math.abs(f[Z-q].y)===e?(p[P]=V.x,p[J]=ba.x,p[ea]=ha.x,p[P+1]=V.y,p[J+1]=ba.y,p[ea+1]=ha.y,p[P+2]=
V.z,p[J+2]=ba.z,p[ea+2]=ha.z,t[C]=Z,t[C+1]=v,t[C+2]=da,y[n]=Z,y[n+1]=v,y[n+2]=Z,y[n+3]=da,y[n+4]=v,y[n+5]=da,b.faceidx+=3,b.lineidx+=6):Math.abs(f[v-q].y)===e?(p[P]=V.x,p[m]=F.x,p[J]=ba.x,p[P+1]=V.y,p[m+1]=F.y,p[J+1]=ba.y,p[P+2]=V.z,p[m+2]=F.z,p[J+2]=ba.z,t[C]=Z,t[C+1]=E,t[C+2]=v,y[n]=Z,y[n+1]=E,y[n+2]=Z,y[n+3]=v,y[n+4]=E,y[n+5]=v,b.faceidx+=3,b.lineidx+=6):(p[P]=V.x,p[m]=F.x,p[ea]=ha.x,p[P+1]=V.y,p[m+1]=F.y,p[ea+1]=ha.y,p[P+2]=V.z,p[m+2]=F.z,p[ea+2]=ha.z,p[m]=F.x,p[J]=ba.x,p[ea]=ha.x,p[m+1]=F.y,
p[J+1]=ba.y,p[ea+1]=ha.y,p[m+2]=F.z,p[J+2]=ba.z,p[ea+2]=ha.z,t[C]=Z,t[C+1]=E,t[C+2]=da,t[C+3]=E,t[C+4]=v,t[C+5]=da,y[n]=Z,y[n+1]=E,y[n+2]=Z,y[n+3]=da,y[n+4]=E,y[n+5]=v,y[n+6]=v,y[n+7]=da,b.faceidx+=6,b.lineidx+=8)}b.truncateArrayBuffers(!0);d.push({id:b.id,A:b,o:new WebMol.Vector3(a.center.x,a.center.y,a.center.z)});z(this.boundingSphere,d,b.vertexArray)};this.addCylinder=function(a){a.start=a.start||{};a.end=a.end||{};a.start=new WebMol.Vector3(a.start.x||0,a.start.y||0,a.start.z||0);a.end=new WebMol.Vector3(a.end.x||
3,a.end.y||0,a.end.z||0);a.radius=a.radius||.1;a.radiusRatio=1;a.mid=1;var b=h.addGeoGroup();t(this,b,a);b.truncateArrayBuffers(!0);var c=new WebMol.Vector3;d.push({id:b.id,A:b,o:c.addVectors(a.start,a.end).multiplyScalar(.5)});z(this.boundingSphere,d,b.vertexArray)};this.addArrow=function(a){a.start=a.start||{};a.end=a.end||{};a.start=new WebMol.Vector3(a.start.x||0,a.start.y||0,a.start.z||0);if(a.dir instanceof WebMol.Vector3&&a.length instanceof number){var b=a.dir.clone().multiplyScalar(length).add(start);
a.end=b}else a.end=new WebMol.Vector3(a.end.x||3,a.end.y||0,a.end.z||0);a.radius=a.radius||.1;a.radiusRatio=a.radiusRatio||1.618034;a.mid=0<a.mid&&1>a.mid?a.mid:.618034;b=h.addGeoGroup();t(this,b,a);b.truncateArrayBuffers(!0);var c=new WebMol.Vector3;d.push({id:b.id,A:b,o:c.addVectors(a.start,a.end).multiplyScalar(.5)});z(this.boundingSphere,d,b.vertexArray)};this.addVolumetricData=function(a,b,c){var e=void 0!==c.isoval&&"number"===typeof c.isoval?c.isoval:0,f=c.voxel?!0:!1,l=h.addGeoGroup();switch(b){case "cube":var s=
a.replace(/^\s+/,"").split(/[\n\r]+/);if(!(6>s.length)){var q=s[2].replace(/^\s+/,"").replace(/\s+/g," ").split(" "),w=Math.abs(parseFloat(q[0]));a=new WebMol.Vector3(parseFloat(q[1]),parseFloat(q[2]),parseFloat(q[3]));var q=s[3].replace(/^\s+/,"").replace(/\s+/g," ").split(" "),t=0<parseFloat(q[0])?.529177:1;a.multiplyScalar(t);b=Math.abs(q[0]);var y=(new WebMol.Vector3(parseFloat(q[1]),parseFloat(q[2]),parseFloat(q[3]))).multiplyScalar(t),q=s[4].replace(/^\s+/,"").replace(/\s+/g," ").split(" "),
p=Math.abs(q[0]);(new WebMol.Vector3(parseFloat(q[1]),parseFloat(q[2]),parseFloat(q[3]))).multiplyScalar(t);var q=s[5].replace(/^\s+/,"").replace(/\s+/g," ").split(" "),u=Math.abs(q[0]);(new WebMol.Vector3(parseFloat(q[1]),parseFloat(q[2]),parseFloat(q[3]))).multiplyScalar(t);s=new Float32Array(s.splice(w+7).join(" ").replace(/^\s+/,"").split(/[\s\r]+/));q=new Int16Array(b*p*u);w=0;for(t=q.length;w<t;++w)q[w]=-1;q=new Uint8Array(b*p*u);w=0;for(t=s.length;w<t;++w)0<(0<=e?s[w]-e:e-s[w])&&(q[w]|=2);
e=[];s=[];WebMol.s.V(q,e,s,{sa:!0,voxel:f,scale:y.length(),origin:a,Y:b,Z:p,aa:u});f||WebMol.s.U(10,e,s);C(this,l,{vertexArr:e,faceArr:s,normalArr:[],lineArr:[]})}}d.push({id:l.id,A:l,o:l.getCentroid()});this.updateStyle(c);z(this.boundingSphere,d,l.vertexArray)};this.globj=function(d){h.initTypedArrays();var b=this.color,b=b||WebMol.f.color(b);h.colorsNeedUpdate=!0;for(var e in h.geometryGroups)for(var f=h.geometryGroups[e],r=f.colorArray,l=0,f=f.vertices;l<f;++l)r[3*l]=b.r,r[3*l+1]=b.g,r[3*l+2]=
b.b;a=new WebMol.Object3D;e=new WebMol.MeshLambertMaterial({wireframe:this.wireframe,vertexColors:!0,ambient:0,reflectivity:0,side:this.side,transparent:1>this.alpha?!0:!1,opacity:this.alpha});e=new WebMol.Mesh(h,e);a.add(e);c&&(d.remove(c),c=null);c=a.clone();d.add(c)};this.removegl=function(d){c&&(void 0!==c.geometry&&c.geometry.dispose(),void 0!==c.material&&c.material.dispose(),d.remove(c),c=null);a=null}}function B(e,f){e.color=f.color||new WebMol.Color;e.wireframe=f.wireframe?!0:!1;e.alpha=
f.alpha?WebMol.Math.clamp(f.alpha,0,1):1;e.side=void 0!==f.side?f.side:WebMol.DoubleSide;e.clickable=f.clickable?!0:!1;e.callback="function"===typeof f.callback?f.callback:null}function z(e,f,d){e.center.set(0,0,0);var a,c;if(0<f.length){a=0;for(c=f.length;a<c;++a)e.center.add(f[a].o);e.center.divideScalar(f.length)}f=e.radius*e.radius;a=0;for(c=d.length/3;a<c;a++){var h=e.center.distanceToSquared({x:d[3*a],y:d[3*a+1],z:d[3*a+2]});f=Math.max(f,h)}e.radius=Math.sqrt(f)}function C(e,f,d){var a=d.vertexArr,
c=d.normalArr,h=d.faceArr;d=d.lineArr;0!==a.length&&0!==h.length||console.warn("Error adding custom shape component: No vertices and/or face indices supplied!");f.vertices=a.length;f.faceidx=h.length;var x,b,t,g,r;g=0;for(r=f.vertices;g<r;++g)x=3*g,b=a[g],f.vertexArray[x]=b.x,f.vertexArray[x+1]=b.y,f.vertexArray[x+2]=b.z;g=0;for(r=f.faceidx/3;g<r;++g){x=3*g;b=h[x];t=h[x+1];x=h[x+2];var l=new WebMol.Vector3,s=new WebMol.Vector3,q=new WebMol.Vector3;e.intersectionShape.triangle.push(new WebMol.Triangle(l.copy(a[b]),
s.copy(a[t]),q.copy(a[x])))}f.faceArray=new Uint16Array(h);f.truncateArrayBuffers(!0);if(c.length<f.vertices)f.setNormals();else for(f.normalArray=new Float32Array(3*f.vertices),g=0,r=f.vertices;g<r;++g)x=3*g,e=c[g],f.normalArray[x]=e.x,f.normalArray[x+1]=e.y,f.normalArray[x+2]=e.z;d.length?f.lineArray=new Uint16Array(d):f.setLineIndices();f.lineidx=f.lineArray.length}function t(e,f,d){var a=d.start,c=d.end,h=d.radius,x=d.radiusRatio,b=d.mid;if(a&&c){d=c.clone();d.sub(a).multiplyScalar(b);var t=a.clone().add(d),
b=d.clone().negate();e.intersectionShape.cylinder.push(new WebMol.Cylinder(a.clone(),t.clone(),h));e.intersectionShape.sphere.push(new WebMol.Sphere(a.clone(),h));var g=[];g[0]=d.clone();1E-4<Math.abs(g[0].x)?g[0].y+=1:g[0].x+=1;g[0].cross(d);g[0].normalize();g[0]=g[0];g[4]=g[0].clone();g[4].crossVectors(g[0],d);g[4].normalize();g[8]=g[0].clone().negate();g[12]=g[4].clone().negate();g[2]=g[0].clone().add(g[4]).normalize();g[6]=g[4].clone().add(g[8]).normalize();g[10]=g[8].clone().add(g[12]).normalize();
g[14]=g[12].clone().add(g[0]).normalize();g[1]=g[0].clone().add(g[2]).normalize();g[3]=g[2].clone().add(g[4]).normalize();g[5]=g[4].clone().add(g[6]).normalize();g[7]=g[6].clone().add(g[8]).normalize();g[9]=g[8].clone().add(g[10]).normalize();g[11]=g[10].clone().add(g[12]).normalize();g[13]=g[12].clone().add(g[14]).normalize();g[15]=g[14].clone().add(g[0]).normalize();var r=f.vertices,l=f.vertexArray,s=f.faceArray,q=f.normalArray,w=f.lineArray,u,y,p;y=0;for(p=g.length;y<p;++y){u=3*(r+3*y);var A=g[y].clone().multiplyScalar(h).add(a),
z=g[y].clone().multiplyScalar(h).add(t),B=g[y].clone().multiplyScalar(h*x).add(t);l[u]=A.x;l[u+1]=A.y;l[u+2]=A.z;l[u+3]=z.x;l[u+4]=z.y;l[u+5]=z.z;l[u+6]=B.x;l[u+7]=B.y;l[u+8]=B.z;0<y&&(u=new WebMol.Vector3(l[u-3],l[u-2],l[u-1]),A=c.clone(),z=t.clone(),B=new WebMol.Vector3(B.x,B.y,B.z),e.intersectionShape.triangle.push(new WebMol.Triangle(B,A,u)),e.intersectionShape.triangle.push(new WebMol.Triangle(u.clone(),z,B.clone())))}f.vertices+=48;u=3*f.vertices;l[u]=a.x;l[u+1]=a.y;l[u+2]=a.z;l[u+3]=t.x;l[u+
4]=t.y;l[u+5]=t.z;l[u+6]=c.x;l[u+7]=c.y;l[u+8]=c.z;f.vertices+=3;var n,C,P,E,m,v,J,da=f.vertices-3,ea=f.vertices-2,V=f.vertices-1,F=3*da,ba=3*ea,ha=3*V;y=0;for(p=g.length-1;y<p;++y)n=r+3*y,e=f.faceidx,a=f.lineidx,c=n,B=3*c,h=n+1,u=3*h,x=n+2,A=3*x,t=n+4,z=3*t,l=n+5,C=3*l,n+=3,P=3*n,E=m=g[y],v=J=g[y+1],q[B]=E.x,q[u]=m.x,q[P]=J.x,q[B+1]=E.y,q[u+1]=m.y,q[P+1]=J.y,q[B+2]=E.z,q[u+2]=m.z,q[P+2]=J.z,q[u]=m.x,q[z]=v.x,q[P]=J.x,q[u+1]=m.y,q[z+1]=v.y,q[P+1]=J.y,q[u+2]=m.z,q[z+2]=v.z,q[P+2]=J.z,q[A]=m.x,q[C]=
v.x,q[A+1]=m.y,q[C+1]=v.y,q[A+2]=m.z,q[C+2]=v.z,s[e]=c,s[e+1]=h,s[e+2]=n,s[e+3]=h,s[e+4]=t,s[e+5]=n,s[e+6]=c,s[e+7]=n,s[e+8]=da,s[e+9]=x,s[e+10]=ea,s[e+11]=l,s[e+12]=x,s[e+13]=V,s[e+14]=l,w[a]=c,w[a+1]=h,w[a+2]=c,w[a+3]=n,w[a+4]=t,w[a+5]=n,w[a+6]=c,w[a+7]=n,w[a+8]=x,w[a+9]=h,w[a+10]=x,w[a+11]=l,w[a+12]=t,w[a+13]=l,w[a+14]=x,w[a+15]=V,w[a+16]=x,w[a+17]=l,w[a+18]=V,w[a+19]=l,f.faceidx+=15,f.lineidx+=20;r=[r+45,r+46,r+1,r,r+47,r+2];e=f.faceidx;a=f.lineidx;c=r[0];B=3*c;h=r[1];u=3*h;x=r[4];A=3*x;t=r[2];
z=3*t;l=r[5];C=3*l;n=r[3];P=3*n;E=m=g[15];v=J=g[0];q[B]=E.x;q[u]=m.x;q[P]=J.x;q[B+1]=E.y;q[u+1]=m.y;q[P+1]=J.y;q[B+2]=E.z;q[u+2]=m.z;q[P+2]=J.z;q[u]=m.x;q[z]=v.x;q[P]=J.x;q[u+1]=m.y;q[z+1]=v.y;q[P+1]=J.y;q[u+2]=m.z;q[z+2]=v.z;q[P+2]=J.z;q[A]=m.x;q[C]=v.x;q[A+1]=m.y;q[C+1]=v.y;q[A+2]=m.z;q[C+2]=v.z;d.normalize();b.normalize();q[F]=b.x;q[ba]=q[ha]=d.x;q[F+1]=b.y;q[ba+1]=q[ha+1]=d.y;q[F+2]=b.z;q[ba+2]=q[ha+2]=d.z;s[e]=c;s[e+1]=h;s[e+2]=n;s[e+3]=h;s[e+4]=t;s[e+5]=n;s[e+6]=c;s[e+7]=n;s[e+8]=da;s[e+9]=
x;s[e+10]=ea;s[e+11]=l;s[e+12]=x;s[e+13]=V;s[e+14]=l;w[a]=c;w[a+1]=h;w[a+2]=c;w[a+3]=n;w[a+4]=t;w[a+5]=n;w[a+6]=c;w[a+7]=n;w[a+8]=x;w[a+9]=h;w[a+10]=x;w[a+11]=l;w[a+12]=t;w[a+13]=l;w[a+14]=x;w[a+15]=V;w[a+16]=x;w[a+17]=l;w[a+18]=V;w[a+19]=l;f.faceidx+=15;f.lineidx+=20}}var u={h:{},p:function(e){if("undefined"!==typeof this.h[e])return this.h[e];var f={vertices:[],m:[],l:[]},d=16,a=10;1>e&&(d=8,a=6);var c=2*Math.PI,h=Math.PI,t,b;for(b=0;b<=a;b++){var u=[];for(t=0;t<=d;t++){var g=t/d,r=b/a,l={};l.x=
-e*Math.cos(0+g*c)*Math.sin(0+r*h);l.y=e*Math.cos(0+r*h);l.z=e*Math.sin(0+g*c)*Math.sin(0+r*h);g=new WebMol.Vector3(l.x,l.y,l.z);g.normalize();f.vertices.push(l);f.l.push(g);u.push(f.vertices.length-1)}f.m.push(u)}return this.h[e]=f}};Object.defineProperty(A.prototype,"position",{get:function(){return this.boundingSphere.center}});Object.defineProperty(A.prototype,"x",{get:function(){return this.boundingSphere.center.x}});Object.defineProperty(A.prototype,"y",{get:function(){return this.boundingSphere.center.y}});
Object.defineProperty(A.prototype,"z",{get:function(){return this.boundingSphere.center.z}});return A}();WebMol.ShapeIDCount=0;WebMol.LabelCount=0;WebMol.Label=function(A,B){this.id=WebMol.LabelCount++;this.stylespec=B||{};this.canvas=document.createElement("canvas");this.context=this.canvas.getContext("2d");this.sprite=new WebMol.Sprite;this.text=A};
WebMol.Label.prototype={setContext:function(){this.G=this.stylespec.G;"undefined"==typeof this.G&&(this.G=!0);this.font=this.stylespec.font=this.stylespec.font?this.stylespec.font:"Arial";this.fontSize=this.stylespec.fontSize=this.stylespec.fontSize?this.stylespec.fontSize:20;this.fontColor=this.stylespec.fontColor=this.stylespec.fontColor?this.stylespec.fontColor:{r:255,g:255,b:255,a:1};this.borderThickness=this.stylespec.borderThickness=this.stylespec.borderThickness?this.stylespec.borderThickness:
4;this.borderColor=this.stylespec.borderColor=this.stylespec.borderColor?this.stylespec.borderColor:{r:0,g:0,b:0,a:1};this.backgroundColor=this.stylespec.backgroundColor=this.stylespec.backgroundColor?this.stylespec.backgroundColor:{r:0,g:0,b:0,a:1};this.position=this.stylespec.position=this.stylespec.position?this.stylespec.position:{x:-10,y:1,z:1};this.inFront=this.stylespec.inFront=void 0!==this.stylespec.inFront?this.stylespec.inFront:!0;this.context.clearRect(0,0,this.canvas.width,this.canvas.height);
var A=WebMol.SpriteAlignment.topLeft;this.context.font=this.fontSize+"pt "+this.font;var B=this.context.measureText(this.text).width;this.context.fillStyle="rgba("+this.backgroundColor.r+","+this.backgroundColor.g+","+this.backgroundColor.b+","+this.backgroundColor.a+")";this.context.strokeStyle="rgba("+this.borderColor.r+","+this.borderColor.g+","+this.borderColor.b+","+this.borderColor.a+")";this.context.lineWidth=this.borderThickness;if(this.G){var z=this.context,C=this.borderThickness/2,t=this.borderThickness/
2,u=B+this.borderThickness,e=1.4*this.fontSize+this.borderThickness;z.beginPath();z.moveTo(C+6,t);z.lineTo(C+u-6,t);z.quadraticCurveTo(C+u,t,C+u,t+6);z.lineTo(C+u,t+e-6);z.quadraticCurveTo(C+u,t+e,C+u-6,t+e);z.lineTo(C+6,t+e);z.quadraticCurveTo(C,t+e,C,t+e-6);z.lineTo(C,t+6);z.quadraticCurveTo(C,t,C+6,t);z.closePath();z.fill()}this.context.fillStyle="rgba("+this.fontColor.r+","+this.fontColor.g+","+this.fontColor.b+","+this.fontColor.a+")";this.context.fillText(this.text,this.borderThickness,this.fontSize+
this.borderThickness,B);B=new WebMol.Texture(this.canvas);B.needsUpdate=!0;this.sprite.material=new WebMol.SpriteMaterial({map:B,useScreenCoordinates:!1,alignment:A,depthTest:!this.inFront});this.sprite.scale.set(2*this.fontSize,this.fontSize,1);this.sprite.position.set(this.position.x,this.position.y,this.position.z)},dispose:function(){void 0!==this.sprite.material.map&&this.sprite.material.map.dispose();void 0!==this.sprite.material&&this.sprite.material.dispose()}};
WebMol.GLViewer=function(){function A(A){var z,C,t,u,e,f,d,a,c,h;z=C=t=9999;u=e=f=-9999;d=a=c=h=0;if(0===A.length)return[[0,0,0],[0,0,0],[0,0,0]];for(var x=0;x<A.length;x++){var b=A[x];void 0!==b&&(h++,d+=b.x,a+=b.y,c+=b.z,z=z<b.x?z:b.x,C=C<b.y?C:b.y,t=t<b.z?t:b.z,u=u>b.x?u:b.x,e=e>b.y?e:b.y,f=f>b.z?f:b.z)}return[[z,C,t],[u,e,f],[d/h,a/h,c/h]]}return function(B,z,C,t){function u(a,c,b){var d=new WebMol.Geometry(!0),e=d.updateGeoGroup(0),f=e.vertexArray,h=c.vertices,g,l,m;l=0;for(m=h.length;l<m;l++)g=
3*e.vertices,f[g]=h[l].x,f[g+1]=h[l].y,f[g+2]=h[l].z,e.vertices++;c=c.faces;e.faceidx=c.length;d.initTypedArrays();f=[];l=0;for(m=a.length;l<m;l++)(g=a[l])&&("undefined"!=typeof g.surfaceColor?f[l]=WebMol.f.color(g.surfaceColor):g.color&&(f[l]=WebMol.f.color(g.color)));a=e.vertexArray;g=e.colorArray;var n=e.normalArray,p,r,s;l=0;for(m=c.length;l<m;l+=3){var q=c[l],t=c[l+1],u=c[l+2];p=h[q].atomid;r=h[t].atomid;s=h[u].atomid;q*=3;t*=3;u*=3;g[q]=f[p].r;g[q+1]=f[p].g;g[q+2]=f[p].b;g[t]=f[r].r;g[t+1]=
f[r].g;g[t+2]=f[r].b;g[u]=f[s].r;g[u+1]=f[s].g;g[u+2]=f[s].b;p=new WebMol.Vector3(a[q],a[q+1],a[q+2]);r=new WebMol.Vector3(a[t],a[t+1],a[t+2]);s=new WebMol.Vector3(a[u],a[u+1],a[u+2]);s.subVectors(s,r);p.subVectors(p,r);s.cross(p);p=s;p.normalize();n[q]+=p.x;n[t]+=p.x;n[u]+=p.x;n[q+1]+=p.y;n[t+1]+=p.y;n[u+1]+=p.y;n[q+2]+=p.z;n[t+2]+=p.z;n[u+2]+=p.z}e.faceArray=new Uint16Array(c);b=new WebMol.Mesh(d,b);b.Ja=!0;return b}function e(a,c,b){function e(a){if(64E3>f(a))return[a];var c=a[1][0]-a[0][0],b=
a[1][1]-a[0][1],d=a[1][2]-a[0][2],b=c>b&&c>d?0:b>c&&b>d?1:2,d=g(a),c=g(a);a=(a[1][b]-a[0][b])/2+a[0][b];d[1][b]=a;c[0][b]=a;a=e(d);c=e(c);return a.concat(c)}function g(a){var c=[];c[0]=[a[0][0],a[0][1],a[0][2]];c[1]=[a[1][0],a[1][1],a[1][2]];return c}var h=[];a=e(a);for(var l=0,n=a.length;l<n;l++){var m=g(a[l]);m[0][0]-=6;m[0][1]-=6;m[0][2]-=6;m[1][0]+=6;m[1][1]+=6;m[1][2]+=6;var m=d(c,m),p=d(b,a[l]);h.push({L:a[l],R:m,ea:p})}return h}function f(a){return(a[1][0]-a[0][0])*(a[1][1]-a[0][1])*(a[1][2]-
a[0][2])}function d(a,c){for(var b=[],d=0;d<a.length;d++){var e=a[d];"undefined"!=typeof e&&(e.x<c[0][0]||e.x>c[1][0]||e.y<c[0][1]||e.y>c[1][1]||e.z<c[0][2]||e.z>c[1][2]||b.push(d))}return b}function a(a){var c=a.originalEvent.targetTouches[0].pageX-a.originalEvent.targetTouches[1].pageX;a=a.originalEvent.targetTouches[0].pageY-a.originalEvent.targetTouches[1].pageY;return Math.sqrt(c*c+a*a)}function c(){if(m){var a=K.position.z-v.position.z;1>a&&(a=1);K.near=a+ea;1>K.near&&(K.near=1);K.far=a+V;K.near+
1>K.far&&(K.far=K.near+1);K instanceof WebMol.Camera?K.fov=20:(K.right=a*Math.tan(Math.PI/180*20),K.left=-K.right,K.top=K.right/G,K.bottom=-K.top);K.updateProjectionMatrix();m.fog.near=K.near+.4*(K.far-K.near);m.fog.far=K.far;M.render(m,K)}}function h(a){var c=[];"undefined"===typeof a&&(a={});var b=[],d;if("undefined"===typeof a.D)for(d=0;d<l.length;d++)l[d]&&b.push(l[d]);else b=a.D,$.isArray(b)||(b=[b]);for(d=0;d<b.length;d++)c=c.concat(b[d].selectedAtoms(a));return c}function x(a,c,b,d){for(var e=
0;e<l.length;e++)if(l[e])l[e][a](c,b,d)}function b(a){var c=new WebMol.MeshLambertMaterial;c.vertexColors=WebMol.VertexColors;for(var b in a)"color"===b?(c[b]=WebMol.f.color(a.color),delete c.vertexColors):"map"!==b&&a.hasOwnProperty(b)&&(c[b]=a[b]);void 0!==a.opacity&&(c.transparent=1===a.opacity?!1:!0);return c}function D(a,c){for(var b=Number.POSITIVE_INFINITY,d=Number.NEGATIVE_INFINITY,e=0,f=a.length;e<f;e++){var g=a[e];g.properties&&"undefined"!=typeof g.properties[c]&&(g=g.properties[c],g<b&&
(b=g),g>d&&(d=g))}isFinite(b)||isFinite(d)?isFinite(b)?isFinite(d)||(d=b):b=d:b=d=0;return[b,d]}var g=this,r=B.id,l=[],s=[],q=[],w=[],H=B.width(),y=B.height(),p=$('<div class="glviewerSpinnerWrap" style = "position: absolute; width: 100%; height: 100%; display: table; z-index: 1;"><div class="glviewerSpinner" style="display: table-cell; text-align: center; vertical-align: middle; z-index:1"><img src="webmol/spinner.gif"></div></div>');$(B).append(p);p.hide();var G=H/y,M=new WebMol.Renderer({antialias:!0});
M.domElement.style.width="100%";M.domElement.style.height="100%";M.domElement.style.position="absolute";M.domElement.style.top="0px";M.domElement.style.zIndex="0";B.append(M.domElement);M.setSize(H,y);var K=new WebMol.Camera(20,G,1,800);K.position=new WebMol.Vector3(0,0,150);var n=new WebMol.Vector3;K.lookAt(n);var Z=new WebMol.Raycaster(new WebMol.Vector3(0,0,0),new WebMol.Vector3(0,0,0)),P=new WebMol.Projector,E=new WebMol.Vector3(0,0,0),m=null,v=null,J=null,da=0,ea=-50,V=50,F=new WebMol.Quaternion(0,
0,0,1),ba=new WebMol.Quaternion(0,0,0,1),ha=!1,qb=0,Ua=0,ka=0,Q=0,W=0,R=0,Da=0;(function(){m=new WebMol.Scene;m.fog=new WebMol.Fog(da,100,200);J=new WebMol.Object3D;v=new WebMol.Object3D;v.useQuaternion=!0;v.quaternion=new WebMol.Quaternion(0,0,0,1);v.add(J);m.add(v);var a=new WebMol.Light(16777215);a.position=(new WebMol.Vector3(.2,.2,1)).normalize();a.intensity=1;m.add(a)})();M.setClearColorHex(da,1);m.fog.color=WebMol.f.color(da);n=$(M.domElement);t||(n.bind("mousedown touchstart",function(b){b.preventDefault();
if(m){var d=b.pageX,e=b.pageY;b.originalEvent.targetTouches&&b.originalEvent.targetTouches[0]&&(d=b.originalEvent.targetTouches[0].pageX,e=b.originalEvent.targetTouches[0].pageY);if(void 0!==d){ha=!0;mouseButton=b.which;qb=d;Ua=e;ka=0;b.originalEvent.targetTouches&&2==b.originalEvent.targetTouches.length&&(ka=a(b));F=v.quaternion;W=v.position.z;Q=J.position.clone();R=ea;Da=V;b=d/$(window).width()*2-1;E.set(b,2*-(e/y)+1,-1);P.unprojectVector(E,K);E.sub(K.position).normalize();Z.set(K.position,E);e=
[];b=[];b=0;for(d=l.length;b<d;b++)var f=l[b].selectedAtoms({clickable:!0}),e=e.concat(f);b=0;for(d=q.length;b<d;b++)f=q[b],f.clickable&&e.push(f);b=Z.intersectObjects(J,e);b.length&&(e=b[0].clickable,void 0!==e.callback&&"function"===typeof e.callback&&e.callback(e,g));c()}}}),n.bind("DOMMouseScroll mousewheel",function(a){a.preventDefault();if(m){var b=.85*(150-v.position.z);a.originalEvent.detail?v.position.z+=b*a.originalEvent.detail/10:a.originalEvent.wheelDelta&&(v.position.z-=b*a.originalEvent.wheelDelta/
400);c()}}),n.bind("contextmenu",function(a){a.preventDefault()}),$("body").bind("mouseup touchend",function(){ha=!1}),n.bind("mousemove touchmove",function(b){b.preventDefault();if(m&&ha){var d=0,e=$("input[name="+r+"_mouseMode]:checked");0<e.length&&(d=parseInt(e.val()));var e=b.pageX,f=b.pageY;b.originalEvent.targetTouches&&b.originalEvent.targetTouches[0]&&(e=b.originalEvent.targetTouches[0].pageX,f=b.originalEvent.targetTouches[0].pageY);if(void 0!==e){e=(e-qb)/H;f=(f-Ua)/y;0!=ka&&b.originalEvent.targetTouches&&
2==b.originalEvent.targetTouches.length?(f=a(b),d=2,f=2*(ka-f)/(H+y)):b.originalEvent.targetTouches&&3==b.originalEvent.targetTouches.length&&(d=1);var g=Math.sqrt(e*e+f*f);3==d||3==mouseButton&&b.ctrlKey?(ea=R+100*e,V=Da+100*f):2==d||3==mouseButton||b.shiftKey?(b=.85*(150-v.position.z),80>b&&(b=80),v.position.z=W-f*b):1==d||2==mouseButton||b.ctrlKey?(b=.85*(150-v.position.z),20>b&&(b=20),b=new WebMol.Vector3(e*b,-f*b,0),d=v.quaternion,d=(new WebMol.Quaternion(d.x,d.y,d.z,d.w)).inverse().normalize(),
b=b.applyQuaternion(d),J.position.x=Q.x+b.x,J.position.y=Q.y+b.y,J.position.z=Q.z+b.z):0!==d&&1!=mouseButton||0===g||(b=Math.sin(g*Math.PI)/g,ba.x=Math.cos(g*Math.PI),ba.y=0,ba.z=b*e,ba.w=-b*f,v.quaternion=new WebMol.Quaternion(1,0,0,0),v.quaternion.multiply(ba),v.quaternion.multiply(F));c()}}}));this.setBackgroundColor=function(a,b){da=a;M.setClearColorHex(a,b|1);m.fog.color=WebMol.f.color(a);c()};this.setWidth=function(a){H=a||H;M.setSize(H,y)};this.setHeight=function(a){y=a||y;M.setSize(H,y)};
this.resize=function(){H=B.width();y=B.height();G=H/y;M.setSize(H,y);K.aspect=G;K.updateProjectionMatrix();c()};$(window).resize(this.resize);this.getModel=function(a){a=a||l.length-1;return l[a]};this.rotate=function(a,b){"undefined"===typeof b&&(b="y");var d=0,e=0,f=0,g=Math.PI*a/180,h=Math.sin(g/2),g=Math.cos(g/2);"x"==b&&(d=h);"y"==b&&(e=h);"z"==b&&(f=h);d=(new WebMol.Quaternion(d,e,f,g)).normalize();v.quaternion.multiply(d);c()};this.getView=function(){if(!J)return[0,0,0,0,0,0,0,1];var a=J.position,
b=v.quaternion;return[a.x,a.y,a.z,v.position.z,b.x,b.y,b.z,b.w]};this.setView=function(a){void 0!==a&&(a instanceof Array||8!==a.length)&&J&&v&&(J.position.x=a[0],J.position.y=a[1],J.position.z=a[2],v.position.z=a[3],v.quaternion.x=a[4],v.quaternion.y=a[5],v.quaternion.z=a[6],v.quaternion.w=a[7],c())};this.render=function(){var a=new Date,b=this.getView(),c;for(c=0;c<l.length;c++)l[c]&&l[c].globj(J);for(c=0;c<q.length;c++)q[c]&&q[c].globj(J);for(c in s)if(s.hasOwnProperty(c)){var d=s[c].j;s[c].v||
(d.verticesNeedUpdate=!0,d.elementsNeedUpdate=!0,d.normalsNeedUpdate=!0,d.colorsNeedUpdate=!0,d.buffersNeedUpdate=!0,d.boundingSphere=null,s[c].done&&(s[c].v=!0),s[c].n&&J.remove(s[c].n),d=new WebMol.Mesh(d,s[c].k),s[c].n=d,J.add(d))}this.setView(b);b=new Date;p.hide();console.log("render time: "+(b-a))};this.pdbData=function(a){a=h(a);for(var b="",c=0,d=a.length;c<d;++c)b+=a[c].pdbline+"\n";return b};this.zoom=function(a){v.position.z=150-(150-v.position.z)/(a||2);c()};this.zoomTo=function(a){a=
h(a).concat(q);var b=h({}).concat(q);a=A(a);var b=A(b),d=new WebMol.Vector3(a[2][0],a[2][1],a[2][2]);J.position=d.multiplyScalar(-1);var d=b[1][0]-b[0][0],e=b[1][1]-b[0][1],b=b[1][2]-b[0][2],b=Math.sqrt(d*d+e*e+b*b);25>b&&(b=25);ea=-b/1.9;V=b/3;d=a[1][0]-a[0][0];e=a[1][1]-a[0][1];b=a[1][2]-a[0][2];b=Math.sqrt(d*d+e*e+b*b);25>b&&(b=25);v.position.z=-(.35*b/Math.tan(Math.PI/180*K.fov/2)-150);c()};this.addLabel=function(a,b){var d=new WebMol.Label(a,b);d.setContext();J.add(d.sprite);w.push(d);c();return d};
this.removeLabel=function(a){w.remove(a);a.dispose();J.remove(a.sprite)};this.Da=function(){for(var a=0;a<w.length;a++)J.remove(w[a].sprite);w=[]};this.setLabelStyle=function(a,b){a.dispose();a.stylespec=b;a.setContext();J.add(a.sprite);return a};this.setLabelText=function(a,b){a.dispose();a.text=b;a.setContext();J.add(a.sprite);return a};this.addShape=function(a){a=a||{};a=new WebMol.GLShape(q.length,a);q.push(a);return a};this.removeShape=function(a){if(a)for(a.removegl(J),delete q[a.id];0<q.length&&
"undefined"===typeof q[q.length-1];)q.pop()};this.addSphere=function(a){var b=new WebMol.GLShape(q.length);a=a||{};b.addSphere(a);q.push(b);return b};this.addArrow=function(a){var b=new WebMol.GLShape(q.length);a=a||{};b.addArrow(a);q.push(b);return b};this.addCylinder=function(a){var b=new WebMol.GLShape(q.length);a=a||{};b.addCylinder(a);q.push(b);return b};this.addCustom=function(a){var b=new WebMol.GLShape(q.length);a=a||{};b.addCustom(a);q.push(b);return b};this.addVolumetricData=function(a,
b,c){var d=new WebMol.GLShape(q.length);c=c||{};d.addVolumetricData(a,b,c);q.push(d);return d};this.addModel=function(a,b){var c=new WebMol.GLModel(l.length,C);c.addMolData(a,b);l.push(c);return c};this.removeModel=function(a){if(a)for(a.removegl(J),delete l[a.getID()];0<l.length&&"undefined"===typeof l[l.length-1];)l.pop()};this.removeAllModels=function(){for(var a=0;a<l.length;a++)l[a].removegl(J);l=[]};this.createModelFrom=function(a,b){for(var c=new WebMol.GLModel(l.length,C),d=0;d<l.length;d++)if(l[d]){var e=
l[d].selectedAtoms(a);c.addAtoms(e);b&&l[d].removeAtoms(e)}l.push(c);return c};this.setStyle=function(a,b){x("setStyle",a,b,!1)};this.addStyle=function(a,b){x("setStyle",a,b,!0)};this.setColorByProperty=function(a,b,c){x("setColorByProperty",a,b,c)};this.setColorByElement=function(a,b){x("setColorByElement",a,b)};this.addMesh=function(a){var b=s.length;s[b]={j:a.geometry,k:a.material,done:!0,v:!1};return b};this.addSurface=function(a,c,d,l,m){d=h(d);var n=h(l);m=h(m);var p,q=new Date,r=b(c),t=A(d);
if(c.map&&c.map.prop){var v=c.map.prop,w=c.map.scheme||new WebMol.RWB,x=w.range();x||(x=D(d,v));c=0;for(l=d.length;c<l;c++)p=d[c],p.surfaceColor=w.valueToHex(p.properties[v],x)}var y=f(t),z=e(t,n,d);if(m&&m.length&&0<m.length){var B=A(m);z.sort(function(a,b){function c(a,b){var d=a.L,e=d[1][1]-d[0][1],f=d[1][2]-d[0][2],d=d[1][0]-d[0][0]-b[2][0],e=e-b[2][1],f=f-b[2][2];return d*d+e*e+f*f}return c(a,B)-c(b,B)})}console.log("Extents "+z.length+"  "+(+new Date-q)+"ms");var C={j:new WebMol.Geometry(!0),
k:r,done:!1,v:!1};d=s.length;s[d]=C;var E=[];c=0;for(l=n.length;c<l;c++)p=n[c],E[c]={x:p.x,y:p.y,z:p.z,serial:c,elem:p.elem};if(WebMol.syncSurface)setTimeout(function Va(b){if(!(b>=z.length)){var c,d=a,e=z[b].L,f=z[b].R;c=z[b].ea;var h=new Date,l=new WebMol.ga;l.wa(e,1===d?!1:!0,y);var m=new Date;console.log("initialize "+(m-h)+"ms");l.qa(E,f);e=new Date;console.log("fillvoxels "+(e-m)+"  "+(e-h)+"ms");l.ia();d==WebMol.SurfaceType.SES&&(l.ma(),l.T(!1),l.ra(E,f));f=new Date;console.log("buildboundaryetc "+
(f-e)+"  "+(f-h)+"ms");l.ya(d);d=new Date;console.log("marching cube "+(d-f)+"  "+(d-h)+"ms");c=l.ta(c);c=u(n,c,r);WebMol.W(C.j,c);g.render();setTimeout(Va,1,b+1)}},1,0);else{m=[];0>a&&(a=0);c=0;for(l=4;c<l;c++)p=new Worker(WebMol.Q),m.push(p),p.postMessage({type:-1,atoms:E,volume:y});var F=0;l=function(a){a=u(n,a.data,r);WebMol.W(C.j,a);g.render();console.log("async mesh generation "+(+new Date-q)+"ms");F++;F==z.length&&(C.done=!0)};p=function(a){console.log(a.message+" ("+a.filename+":"+a.Ma+")")};
for(c=0;c<z.length;c++)t=m[c%m.length],t.onmessage=l,t.onerror=p,t.postMessage({type:a,expandedExtent:z[c].L,extendedAtoms:z[c].R,atomsToShow:z[c].ea})}console.log("full mesh generation "+(+new Date-q)+"ms");return d};this.setSurfaceMaterialStyle=function(a,c){s[a]&&(s[a].k=b(c),s[a].k.side=WebMol.FrontSide,s[a].v=!1)};this.removeSurface=function(a){s[a]&&s[a].n&&(void 0!==s[a].j&&s[a].j.dispose(),void 0!==s[a].k&&s[a].k.dispose(),J.remove(s[a].n));delete s[a];c()};this.Ea=function(){for(var a=0;a<
s.length;a++)s[a]&&s[a].n&&(void 0!==s[a].j&&s[a].j.dispose(),void 0!==s[a].k&&s[a].k.dispose(),J.remove(s[a].n)),delete s[a];c()};this.clear=function(){this.Ea();this.removeAllModels();this.Da();c()};this.mapAtomProperties=function(a){for(var b=h({}),c=0,d=b.length;c<d;c++)for(var e=b[c],f=0,g=a.length;f<g;f++){var m=a[f];if(m.props)for(var p in m.props){var n;if(n=m.props.hasOwnProperty(p))a:{n=e;var q=m;"undefined"===typeof q&&(q={});var r=[],s=void 0;if("undefined"===typeof q.D)for(s=0;s<l.length;s++)l[s]&&
r.push(l[s]);else r=q.D,$.isArray(r)||(r=[r]);for(s=0;s<r.length;s++)if(r[s].atomIsSelected(n,q)){n=!0;break a}n=!1}n&&(e.properties||(e.properties={}),e.properties[p]=m.props[p])}}};try{"function"===typeof z&&z(this)}catch(I){console.log("error with glviewer callback: "+I)}}}();WebMol.glmolViewer=WebMol.GLViewer;WebMol=WebMol||{};
WebMol.Aa=[{resn:"ALA",atom:"N",props:{partialCharge:-.15}},{resn:"ALA",atom:"CA",props:{partialCharge:.1}},{resn:"ALA",atom:"CB",props:{partialCharge:0}},{resn:"ALA",atom:"C",props:{partialCharge:.6}},{resn:"ALA",atom:"O",props:{partialCharge:-.55}},{resn:"ARG",atom:"N",props:{partialCharge:-.15}},{resn:"ARG",atom:"CA",props:{partialCharge:.1}},{resn:"ARG",atom:"CB",props:{partialCharge:0}},{resn:"ARG",atom:"CG",props:{partialCharge:0}},{resn:"ARG",atom:"CD",props:{partialCharge:.1}},{resn:"ARG",
atom:"NE",props:{partialCharge:-.1}},{resn:"ARG",atom:"CZ",props:{partialCharge:.5}},{resn:"ARG",atom:"NH1",props:{partialCharge:.25}},{resn:"ARG",atom:"NH2",props:{partialCharge:.25}},{resn:"ARG",atom:"C",props:{partialCharge:.6}},{resn:"ARG",atom:"O",props:{partialCharge:-.55}},{resn:"ASN",atom:"N",props:{partialCharge:-.15}},{resn:"ASN",atom:"CA",props:{partialCharge:.1}},{resn:"ASN",atom:"CB",props:{partialCharge:0}},{resn:"ASN",atom:"CG",props:{partialCharge:.55}},{resn:"ASN",atom:"OD1",props:{partialCharge:-.55}},
{resn:"ASN",atom:"ND2",props:{partialCharge:0}},{resn:"ASN",atom:"C",props:{partialCharge:.6}},{resn:"ASN",atom:"O",props:{partialCharge:-.55}},{resn:"ASP",atom:"N",props:{partialCharge:-.15}},{resn:"ASP",atom:"CA",props:{partialCharge:.1}},{resn:"ASP",atom:"CB",props:{partialCharge:0}},{resn:"ASP",atom:"CG",props:{partialCharge:.14}},{resn:"ASP",atom:"OD1",props:{partialCharge:-.57}},{resn:"ASP",atom:"OD2",props:{partialCharge:-.57}},{resn:"ASP",atom:"C",props:{partialCharge:.6}},{resn:"ASP",atom:"O",
props:{partialCharge:-.55}},{resn:"CYS",atom:"N",props:{partialCharge:-.15}},{resn:"CYS",atom:"CA",props:{partialCharge:.1}},{resn:"CYS",atom:"CB",props:{partialCharge:.19}},{resn:"CYS",atom:"SG",props:{partialCharge:-.19}},{resn:"CYS",atom:"C",props:{partialCharge:.6}},{resn:"CYS",atom:"O",props:{partialCharge:-.55}},{resn:"GLN",atom:"N",props:{partialCharge:-.15}},{resn:"GLN",atom:"CA",props:{partialCharge:.1}},{resn:"GLN",atom:"CB",props:{partialCharge:0}},{resn:"GLN",atom:"CG",props:{partialCharge:0}},
{resn:"GLN",atom:"CD",props:{partialCharge:.55}},{resn:"GLN",atom:"OE1",props:{partialCharge:-.55}},{resn:"GLN",atom:"NE2",props:{partialCharge:0}},{resn:"GLN",atom:"C",props:{partialCharge:.6}},{resn:"GLN",atom:"O",props:{partialCharge:-.55}},{resn:"GLU",atom:"N",props:{partialCharge:-.15}},{resn:"GLU",atom:"CA",props:{partialCharge:.1}},{resn:"GLU",atom:"CB",props:{partialCharge:0}},{resn:"GLU",atom:"CG",props:{partialCharge:0}},{resn:"GLU",atom:"CD",props:{partialCharge:.14}},{resn:"GLU",atom:"OE1",
props:{partialCharge:-.57}},{resn:"GLU",atom:"OE2",props:{partialCharge:-.57}},{resn:"GLU",atom:"C",props:{partialCharge:.6}},{resn:"GLU",atom:"O",props:{partialCharge:-.55}},{resn:"GLY",atom:"N",props:{partialCharge:-.15}},{resn:"GLY",atom:"CA",props:{partialCharge:.1}},{resn:"GLY",atom:"C",props:{partialCharge:.6}},{resn:"GLY",atom:"O",props:{partialCharge:-.55}},{resn:"HIS",atom:"N",props:{partialCharge:-.15}},{resn:"HIS",atom:"CA",props:{partialCharge:.1}},{resn:"HIS",atom:"CB",props:{partialCharge:0}},
{resn:"HIS",atom:"CG",props:{partialCharge:.1}},{resn:"HIS",atom:"ND1",props:{partialCharge:-.1}},{resn:"HIS",atom:"CD2",props:{partialCharge:.1}},{resn:"HIS",atom:"NE2",props:{partialCharge:-.4}},{resn:"HIS",atom:"CE1",props:{partialCharge:.3}},{resn:"HIS",atom:"C",props:{partialCharge:.6}},{resn:"HIS",atom:"O",props:{partialCharge:-.55}},{resn:"ILE",atom:"N",props:{partialCharge:-.15}},{resn:"ILE",atom:"CA",props:{partialCharge:.1}},{resn:"ILE",atom:"CB",props:{partialCharge:0}},{resn:"ILE",atom:"CG2",
props:{partialCharge:0}},{resn:"ILE",atom:"CG1",props:{partialCharge:0}},{resn:"ILE",atom:"CD",props:{partialCharge:0}},{resn:"ILE",atom:"C",props:{partialCharge:.6}},{resn:"ILE",atom:"O",props:{partialCharge:-.55}},{resn:"LEU",atom:"N",props:{partialCharge:-.15}},{resn:"LEU",atom:"CA",props:{partialCharge:.1}},{resn:"LEU",atom:"CB",props:{partialCharge:0}},{resn:"LEU",atom:"CG",props:{partialCharge:0}},{resn:"LEU",atom:"CD1",props:{partialCharge:0}},{resn:"LEU",atom:"CD2",props:{partialCharge:0}},
{resn:"LEU",atom:"C",props:{partialCharge:.6}},{resn:"LEU",atom:"O",props:{partialCharge:-.55}},{resn:"LYS",atom:"N",props:{partialCharge:-.15}},{resn:"LYS",atom:"CA",props:{partialCharge:.1}},{resn:"LYS",atom:"CB",props:{partialCharge:0}},{resn:"LYS",atom:"CG",props:{partialCharge:0}},{resn:"LYS",atom:"CD",props:{partialCharge:0}},{resn:"LYS",atom:"CE",props:{partialCharge:.25}},{resn:"LYS",atom:"NZ",props:{partialCharge:.75}},{resn:"LYS",atom:"C",props:{partialCharge:.6}},{resn:"LYS",atom:"O",props:{partialCharge:-.55}},
{resn:"MET",atom:"N",props:{partialCharge:-.15}},{resn:"MET",atom:"CA",props:{partialCharge:.1}},{resn:"MET",atom:"CB",props:{partialCharge:0}},{resn:"MET",atom:"CG",props:{partialCharge:.06}},{resn:"MET",atom:"SD",props:{partialCharge:-.12}},{resn:"MET",atom:"CE",props:{partialCharge:.06}},{resn:"MET",atom:"C",props:{partialCharge:.6}},{resn:"MET",atom:"O",props:{partialCharge:-.55}},{resn:"PHE",atom:"N",props:{partialCharge:-.15}},{resn:"PHE",atom:"CA",props:{partialCharge:.1}},{resn:"PHE",atom:"CB",
props:{partialCharge:0}},{resn:"PHE",atom:"CG",props:{partialCharge:0}},{resn:"PHE",atom:"CD1",props:{partialCharge:0}},{resn:"PHE",atom:"CD2",props:{partialCharge:0}},{resn:"PHE",atom:"CE1",props:{partialCharge:0}},{resn:"PHE",atom:"CE2",props:{partialCharge:0}},{resn:"PHE",atom:"CZ",props:{partialCharge:0}},{resn:"PHE",atom:"C",props:{partialCharge:.6}},{resn:"PHE",atom:"O",props:{partialCharge:-.55}},{resn:"PRO",atom:"N",props:{partialCharge:-.25}},{resn:"PRO",atom:"CD",props:{partialCharge:.1}},
{resn:"PRO",atom:"CA",props:{partialCharge:.1}},{resn:"PRO",atom:"CB",props:{partialCharge:0}},{resn:"PRO",atom:"CG",props:{partialCharge:0}},{resn:"PRO",atom:"C",props:{partialCharge:.6}},{resn:"PRO",atom:"O",props:{partialCharge:-.55}},{resn:"SER",atom:"N",props:{partialCharge:-.15}},{resn:"SER",atom:"CA",props:{partialCharge:.1}},{resn:"SER",atom:"CB",props:{partialCharge:.25}},{resn:"SER",atom:"OG",props:{partialCharge:-.25}},{resn:"SER",atom:"C",props:{partialCharge:.6}},{resn:"SER",atom:"O",
props:{partialCharge:-.55}},{resn:"THR",atom:"N",props:{partialCharge:-.15}},{resn:"THR",atom:"CA",props:{partialCharge:.1}},{resn:"THR",atom:"CB",props:{partialCharge:.25}},{resn:"THR",atom:"OG1",props:{partialCharge:-.25}},{resn:"THR",atom:"CG2",props:{partialCharge:0}},{resn:"THR",atom:"C",props:{partialCharge:.6}},{resn:"THR",atom:"O",props:{partialCharge:-.55}},{resn:"TRP",atom:"N",props:{partialCharge:-.15}},{resn:"TRP",atom:"CA",props:{partialCharge:.1}},{resn:"TRP",atom:"CB",props:{partialCharge:0}},
{resn:"TRP",atom:"CG",props:{partialCharge:-.03}},{resn:"TRP",atom:"CD2",props:{partialCharge:.1}},{resn:"TRP",atom:"CE2",props:{partialCharge:-.04}},{resn:"TRP",atom:"CE3",props:{partialCharge:-.03}},{resn:"TRP",atom:"CD1",props:{partialCharge:.06}},{resn:"TRP",atom:"NE1",props:{partialCharge:-.06}},{resn:"TRP",atom:"CZ2",props:{partialCharge:0}},{resn:"TRP",atom:"CZ3",props:{partialCharge:0}},{resn:"TRP",atom:"CH2",props:{partialCharge:0}},{resn:"TRP",atom:"C",props:{partialCharge:.6}},{resn:"TRP",
atom:"O",props:{partialCharge:-.55}},{resn:"TYR",atom:"N",props:{partialCharge:-.15}},{resn:"TYR",atom:"CA",props:{partialCharge:.1}},{resn:"TYR",atom:"CB",props:{partialCharge:0}},{resn:"TYR",atom:"CG",props:{partialCharge:0}},{resn:"TYR",atom:"CD1",props:{partialCharge:0}},{resn:"TYR",atom:"CE1",props:{partialCharge:0}},{resn:"TYR",atom:"CD2",props:{partialCharge:0}},{resn:"TYR",atom:"CE2",props:{partialCharge:0}},{resn:"TYR",atom:"CZ",props:{partialCharge:.25}},{resn:"TYR",atom:"OH",props:{partialCharge:-.25}},
{resn:"TYR",atom:"C",props:{partialCharge:.6}},{resn:"TYR",atom:"O",props:{partialCharge:-.55}},{resn:"VAL",atom:"N",props:{partialCharge:-.15}},{resn:"VAL",atom:"CA",props:{partialCharge:.1}},{resn:"VAL",atom:"CB",props:{partialCharge:0}},{resn:"VAL",atom:"CG1",props:{partialCharge:0}},{resn:"VAL",atom:"CG2",props:{partialCharge:0}},{resn:"VAL",atom:"C",props:{partialCharge:.6}},{resn:"VAL",atom:"O",props:{partialCharge:-.55}}];WebMol.partialCharges=WebMol.Aa;
