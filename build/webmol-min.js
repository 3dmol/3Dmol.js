(function(a,c){function e(b){var h=b.length,r=d.type(b);return d.isWindow(b)?!1:1===b.nodeType&&h?!0:"array"===r||"function"!==r&&(0===h||"number"===typeof h&&0<h&&h-1 in b)}function k(b){var h=Ya[b]={};d.each(b.match(Z)||[],function(b,d){h[d]=!0});return h}function g(b,h,r,a){if(d.acceptData(b)){var m=d.expando,l="string"===typeof h,E=b.nodeType,e=E?d.cache:b,f=E?b[m]:b[m]&&m;if(f&&e[f]&&(a||e[f].data)||!l||r!==c){f||(E?b[m]=f=z.pop()||d.guid++:f=m);e[f]||(e[f]={},E||(e[f].toJSON=d.noop));if("object"===
typeof h||"function"===typeof h)a?e[f]=d.extend(e[f],h):e[f].data=d.extend(e[f].data,h);b=e[f];a||(b.data||(b.data={}),b=b.data);r!==c&&(b[d.camelCase(h)]=r);l?(r=b[h],null==r&&(r=b[d.camelCase(h)])):r=b;return r}}}function s(b,h,r){if(d.acceptData(b)){var a,c,l,E=b.nodeType,e=E?d.cache:b,f=E?b[d.expando]:d.expando;if(e[f]){if(h&&(l=r?e[f]:e[f].data)){d.isArray(h)?h=h.concat(d.map(h,d.camelCase)):h in l?h=[h]:(h=d.camelCase(h),h=h in l?[h]:h.split(" "));a=0;for(c=h.length;a<c;a++)delete l[h[a]];if(!(r?
q:d.isEmptyObject)(l))return}if(!r&&(delete e[f].data,!q(e[f])))return;E?d.cleanData([b],!0):d.support.deleteExpando||e!=e.window?delete e[f]:e[f]=null}}}function p(b,h,r){if(r===c&&1===b.nodeType)if(r="data-"+h.replace(wb,"-$1").toLowerCase(),r=b.getAttribute(r),"string"===typeof r){try{r="true"===r?!0:"false"===r?!1:"null"===r?null:+r+""===r?+r:xb.test(r)?d.parseJSON(r):r}catch(a){}d.data(b,h,r)}else r=c;return r}function q(b){for(var h in b)if(("data"!==h||!d.isEmptyObject(b[h]))&&"toJSON"!==h)return!1;
return!0}function t(){return!0}function w(){return!1}function x(b,h){do b=b[h];while(b&&1!==b.nodeType);return b}function J(b,h,r){h=h||0;if(d.isFunction(h))return d.grep(b,function(b,d){return!!h.call(b,d,b)===r});if(h.nodeType)return d.grep(b,function(b){return b===h===r});if("string"===typeof h){var a=d.grep(b,function(b){return 1===b.nodeType});if(yb.test(h))return d.filter(h,a,!r);h=d.filter(h,a)}return d.grep(b,function(b){return 0<=d.inArray(b,h)===r})}function H(b){var h=Za.split("|");b=b.createDocumentFragment();
if(b.createElement)for(;h.length;)b.createElement(h.pop());return b}function D(b,h){return b.getElementsByTagName(h)[0]||b.appendChild(b.ownerDocument.createElement(h))}function F(b){var h=b.getAttributeNode("type");b.type=(h&&h.specified)+"/"+b.type;return b}function B(b){var h=zb.exec(b.type);h?b.type=h[1]:b.removeAttribute("type");return b}function v(b,h){for(var r,a=0;null!=(r=b[a]);a++)d._data(r,"globalEval",!h||d._data(h[a],"globalEval"))}function A(b,h){if(1===h.nodeType&&d.hasData(b)){var r,
a,c;a=d._data(b);var l=d._data(h,a),E=a.events;if(E)for(r in delete l.handle,l.events={},E)for(a=0,c=E[r].length;a<c;a++)d.event.add(h,r,E[r][a]);l.data&&(l.data=d.extend({},l.data))}}function u(b,h){var a,n,m=0,l=typeof b.getElementsByTagName!==f?b.getElementsByTagName(h||"*"):typeof b.querySelectorAll!==f?b.querySelectorAll(h||"*"):c;if(!l)for(l=[],a=b.childNodes||b;null!=(n=a[m]);m++)!h||d.nodeName(n,h)?l.push(n):d.merge(l,u(n,h));return h===c||h&&d.nodeName(b,h)?d.merge([b],l):l}function I(b){La.test(b.type)&&
(b.defaultChecked=b.checked)}function T(b,h){if(h in b)return h;for(var d=h.charAt(0).toUpperCase()+h.slice(1),a=h,c=$a.length;c--;)if(h=$a[c]+d,h in b)return h;return a}function M(b,h){b=h||b;return"none"===d.css(b,"display")||!d.contains(b.ownerDocument,b)}function O(b,h){for(var a,c,m,l=[],E=0,e=b.length;E<e;E++)c=b[E],c.style&&(l[E]=d._data(c,"olddisplay"),a=c.style.display,h?(l[E]||"none"!==a||(c.style.display=""),""===c.style.display&&M(c)&&(l[E]=d._data(c,"olddisplay",P(c.nodeName)))):l[E]||
(m=M(c),(a&&"none"!==a||!m)&&d._data(c,"olddisplay",m?a:d.css(c,"display"))));for(E=0;E<e;E++)c=b[E],!c.style||h&&"none"!==c.style.display&&""!==c.style.display||(c.style.display=h?l[E]||"":"none");return b}function G(b,h,d){return(b=Ab.exec(h))?Math.max(0,b[1]-(d||0))+(b[2]||"px"):h}function y(b,h,a,c,m){h=a===(c?"border":"content")?4:"width"===h?1:0;for(var l=0;4>h;h+=2)"margin"===a&&(l+=d.css(b,a+ga[h],!0,m)),c?("content"===a&&(l-=d.css(b,"padding"+ga[h],!0,m)),"margin"!==a&&(l-=d.css(b,"border"+
ga[h]+"Width",!0,m))):(l+=d.css(b,"padding"+ga[h],!0,m),"padding"!==a&&(l+=d.css(b,"border"+ga[h]+"Width",!0,m)));return l}function K(b,h,a){var c=!0,m="width"===h?b.offsetWidth:b.offsetHeight,l=ha(b),E=d.support.boxSizing&&"border-box"===d.css(b,"boxSizing",!1,l);if(0>=m||null==m){m=na(b,h,l);if(0>m||null==m)m=b.style[h];if(Da.test(m))return m;c=E&&(d.support.boxSizingReliable||m===b.style[h]);m=parseFloat(m)||0}return m+y(b,h,a||(E?"border":"content"),c,l)+"px"}function P(b){var h=C,a=ab[b];a||
(a=Y(b,h),"none"!==a&&a||(za=(za||d("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(h.documentElement),h=(za[0].contentWindow||za[0].contentDocument).document,h.write("<!doctype html><html><body>"),h.close(),a=Y(b,h),za.detach()),ab[b]=a);return a}function Y(b,h){var a=d(h.createElement(b)).appendTo(h.body),c=d.css(a[0],"display");a.remove();return c}function V(b,h,a,c){var m;if(d.isArray(h))d.each(h,function(h,d){a||Bb.test(b)?c(b,d):V(b+"["+
("object"===typeof d?h:"")+"]",d,a,c)});else if(a||"object"!==d.type(h))c(b,h);else for(m in h)V(b+"["+m+"]",h[m],a,c)}function L(b){return function(h,a){"string"!==typeof h&&(a=h,h="*");var c,m=0,l=h.toLowerCase().match(Z)||[];if(d.isFunction(a))for(;c=l[m++];)"+"===c[0]?(c=c.slice(1)||"*",(b[c]=b[c]||[]).unshift(a)):(b[c]=b[c]||[]).push(a)}}function W(b,h,a,c){function m(e){var f;l[e]=!0;d.each(b[e]||[],function(b,d){var e=d(h,a,c);if("string"===typeof e&&!E&&!l[e])return h.dataTypes.unshift(e),
m(e),!1;if(E)return!(f=e)});return f}var l={},E=b===Ma;return m(h.dataTypes[0])||!l["*"]&&m("*")}function da(b,h){var a,n,m=d.ajaxSettings.flatOptions||{};for(n in h)h[n]!==c&&((m[n]?b:a||(a={}))[n]=h[n]);a&&d.extend(!0,b,a);return b}function fa(){try{return new a.XMLHttpRequest}catch(b){}}function ea(){setTimeout(function(){va=c});return va=d.now()}function $(b,h){d.each(h,function(h,d){for(var a=(Aa[h]||[]).concat(Aa["*"]),c=0,E=a.length;c<E&&!a[c].call(b,h,d);c++);})}function Ea(b,h,a){var c,m=
0,l=Fa.length,E=d.Deferred().always(function(){delete e.elem}),e=function(){if(c)return!1;for(var h=va||ea(),h=Math.max(0,f.startTime+f.duration-h),a=1-(h/f.duration||0),d=0,r=f.tweens.length;d<r;d++)f.tweens[d].run(a);E.notifyWith(b,[f,a,h]);if(1>a&&r)return h;E.resolveWith(b,[f]);return!1},f=E.promise({elem:b,props:d.extend({},h),opts:d.extend(!0,{specialEasing:{}},a),originalProperties:h,originalOptions:a,startTime:va||ea(),duration:a.duration,tweens:[],createTween:function(h,a){var r=d.Tween(b,
f.opts,h,a,f.opts.specialEasing[h]||f.opts.easing);f.tweens.push(r);return r},stop:function(h){var a=0,d=h?f.tweens.length:0;if(c)return this;for(c=!0;a<d;a++)f.tweens[a].run(1);h?E.resolveWith(b,[f,h]):E.rejectWith(b,[f,h]);return this}});a=f.props;for(Ga(a,f.opts.specialEasing);m<l;m++)if(h=Fa[m].call(f,b,a,f.opts))return h;$(f,a);d.isFunction(f.opts.start)&&f.opts.start.call(b,f);d.fx.timer(d.extend(e,{elem:b,anim:f,queue:f.opts.queue}));return f.progress(f.opts.progress).done(f.opts.done,f.opts.complete).fail(f.opts.fail).always(f.opts.always)}
function Ga(b,h){var a,c,m,l,E;for(m in b)if(c=d.camelCase(m),l=h[c],a=b[m],d.isArray(a)&&(l=a[1],a=b[m]=a[0]),m!==c&&(b[c]=a,delete b[m]),(E=d.cssHooks[c])&&"expand"in E)for(m in a=E.expand(a),delete b[c],a)m in b||(b[m]=a[m],h[m]=l);else h[c]=l}function U(b,h,a,d,c){return new U.prototype.init(b,h,a,d,c)}function ia(b,h){var a,d={height:b},c=0;for(h=h?1:0;4>c;c+=2-h)a=ga[c],d["margin"+a]=d["padding"+a]=b;h&&(d.opacity=d.width=b);return d}function oa(b){return d.isWindow(b)?b:9===b.nodeType?b.defaultView||
b.parentWindow:!1}var ja,pa,f=typeof c,C=a.document,Ha=a.location,Ia=a.jQuery,Ja=a.$,qa={},z=[],R=z.concat,ba=z.push,X=z.slice,ca=z.indexOf,ka=qa.toString,N=qa.hasOwnProperty,Q="1.9.1".trim,d=function(b,h){return new d.fn.init(b,h,pa)},S=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Z=/\S+/g,Ba=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,Cb=/^(?:(<[\w\W]+>)[^>]*|#([\w-]*))$/,bb=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,wa=/^[\],:{}\s]*$/,Db=/(?:^|:|,)(?:\s*\[)+/g,Eb=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,Fb=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,
Gb=/^-ms-/,Hb=/-([\da-z])/gi,Ib=function(b,h){return h.toUpperCase()},la=function(b){if(C.addEventListener||"load"===b.type||"complete"===C.readyState)cb(),d.ready()},cb=function(){C.addEventListener?(C.removeEventListener("DOMContentLoaded",la,!1),a.removeEventListener("load",la,!1)):(C.detachEvent("onreadystatechange",la),a.detachEvent("onload",la))};d.fn=d.prototype={jquery:"1.9.1",constructor:d,init:function(b,h,a){var n;if(!b)return this;if("string"===typeof b){n="<"===b.charAt(0)&&">"===b.charAt(b.length-
1)&&3<=b.length?[null,b,null]:Cb.exec(b);if(!n||!n[1]&&h)return!h||h.jquery?(h||a).find(b):this.constructor(h).find(b);if(n[1]){if(h=h instanceof d?h[0]:h,d.merge(this,d.parseHTML(n[1],h&&h.nodeType?h.ownerDocument||h:C,!0)),bb.test(n[1])&&d.isPlainObject(h))for(n in h)if(d.isFunction(this[n]))this[n](h[n]);else this.attr(n,h[n])}else{if((h=C.getElementById(n[2]))&&h.parentNode){if(h.id!==n[2])return a.find(b);this.length=1;this[0]=h}this.context=C;this.selector=b}return this}if(b.nodeType)return this.context=
this[0]=b,this.length=1,this;if(d.isFunction(b))return a.ready(b);b.selector!==c&&(this.selector=b.selector,this.context=b.context);return d.makeArray(b,this)},selector:"",length:0,size:function(){return this.length},toArray:function(){return X.call(this)},get:function(b){return null==b?this.toArray():0>b?this[this.length+b]:this[b]},pushStack:function(b){b=d.merge(this.constructor(),b);b.prevObject=this;b.context=this.context;return b},each:function(b,h){return d.each(this,b,h)},ready:function(b){d.ready.promise().done(b);
return this},slice:function(){return this.pushStack(X.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(b){var h=this.length;b=+b+(0>b?h:0);return this.pushStack(0<=b&&b<h?[this[b]]:[])},map:function(b){return this.pushStack(d.map(this,function(h,a){return b.call(h,a,h)}))},end:function(){return this.prevObject||this.constructor(null)},push:ba,sort:[].sort,splice:[].splice};d.fn.init.prototype=d.fn;d.extend=d.fn.extend=function(){var b,h,a,
n,m,l=arguments[0]||{},E=1,e=arguments.length,f=!1;"boolean"===typeof l&&(f=l,l=arguments[1]||{},E=2);"object"===typeof l||d.isFunction(l)||(l={});e===E&&(l=this,--E);for(;E<e;E++)if(null!=(m=arguments[E]))for(n in m)b=l[n],a=m[n],l!==a&&(f&&a&&(d.isPlainObject(a)||(h=d.isArray(a)))?(h?(h=!1,b=b&&d.isArray(b)?b:[]):b=b&&d.isPlainObject(b)?b:{},l[n]=d.extend(f,b,a)):a!==c&&(l[n]=a));return l};d.extend({noConflict:function(b){a.$===d&&(a.$=Ja);b&&a.jQuery===d&&(a.jQuery=Ia);return d},isReady:!1,readyWait:1,
holdReady:function(b){b?d.readyWait++:d.ready(!0)},ready:function(b){if(!0===b?!--d.readyWait:!d.isReady){if(!C.body)return setTimeout(d.ready);d.isReady=!0;!0!==b&&0<--d.readyWait||(ja.resolveWith(C,[d]),d.fn.trigger&&d(C).trigger("ready").off("ready"))}},isFunction:function(b){return"function"===d.type(b)},isArray:Array.isArray||function(b){return"array"===d.type(b)},isWindow:function(b){return null!=b&&b==b.window},isNumeric:function(b){return!isNaN(parseFloat(b))&&isFinite(b)},type:function(b){return null==
b?String(b):"object"===typeof b||"function"===typeof b?qa[ka.call(b)]||"object":typeof b},isPlainObject:function(b){if(!b||"object"!==d.type(b)||b.nodeType||d.isWindow(b))return!1;try{if(b.constructor&&!N.call(b,"constructor")&&!N.call(b.constructor.prototype,"isPrototypeOf"))return!1}catch(h){return!1}for(var a in b);return a===c||N.call(b,a)},isEmptyObject:function(b){for(var h in b)return!1;return!0},error:function(b){throw Error(b);},parseHTML:function(b,h,a){if(!b||"string"!==typeof b)return null;
"boolean"===typeof h&&(a=h,h=!1);h=h||C;var c=bb.exec(b);a=!a&&[];if(c)return[h.createElement(c[1])];c=d.buildFragment([b],h,a);a&&d(a).remove();return d.merge([],c.childNodes)},parseJSON:function(b){if(a.JSON&&a.JSON.parse)return a.JSON.parse(b);if(null===b)return b;if("string"===typeof b&&(b=d.trim(b))&&wa.test(b.replace(Eb,"@").replace(Fb,"]").replace(Db,"")))return(new Function("return "+b))();d.error("Invalid JSON: "+b)},parseXML:function(b){var h,r;if(!b||"string"!==typeof b)return null;try{a.DOMParser?
(r=new DOMParser,h=r.parseFromString(b,"text/xml")):(h=new ActiveXObject("Microsoft.XMLDOM"),h.async="false",h.loadXML(b))}catch(n){h=c}h&&h.documentElement&&!h.getElementsByTagName("parsererror").length||d.error("Invalid XML: "+b);return h},noop:function(){},globalEval:function(b){b&&d.trim(b)&&(a.execScript||function(b){a.eval.call(a,b)})(b)},camelCase:function(b){return b.replace(Gb,"ms-").replace(Hb,Ib)},nodeName:function(b,h){return b.nodeName&&b.nodeName.toLowerCase()===h.toLowerCase()},each:function(b,
h,a){var d,c=0,l=b.length;d=e(b);if(a)if(d)for(;c<l&&(d=h.apply(b[c],a),!1!==d);c++);else for(c in b){if(d=h.apply(b[c],a),!1===d)break}else if(d)for(;c<l&&(d=h.call(b[c],c,b[c]),!1!==d);c++);else for(c in b)if(d=h.call(b[c],c,b[c]),!1===d)break;return b},trim:Q&&!Q.call("\ufeff\u00a0")?function(b){return null==b?"":Q.call(b)}:function(b){return null==b?"":(b+"").replace(Ba,"")},makeArray:function(b,h){var a=h||[];null!=b&&(e(Object(b))?d.merge(a,"string"===typeof b?[b]:b):ba.call(a,b));return a},
inArray:function(b,h,a){var d;if(h){if(ca)return ca.call(h,b,a);d=h.length;for(a=a?0>a?Math.max(0,d+a):a:0;a<d;a++)if(a in h&&h[a]===b)return a}return-1},merge:function(b,h){var a=h.length,d=b.length,m=0;if("number"===typeof a)for(;m<a;m++)b[d++]=h[m];else for(;h[m]!==c;)b[d++]=h[m++];b.length=d;return b},grep:function(b,h,a){var d,c=[],l=0,E=b.length;for(a=!!a;l<E;l++)d=!!h(b[l],l),a!==d&&c.push(b[l]);return c},map:function(b,h,a){var d,c=0,l=b.length,E=[];if(e(b))for(;c<l;c++)d=h(b[c],c,a),null!=
d&&(E[E.length]=d);else for(c in b)d=h(b[c],c,a),null!=d&&(E[E.length]=d);return R.apply([],E)},guid:1,proxy:function(b,h){var a,n;"string"===typeof h&&(n=b[h],h=b,b=n);if(!d.isFunction(b))return c;a=X.call(arguments,2);n=function(){return b.apply(h||this,a.concat(X.call(arguments)))};n.guid=b.guid=b.guid||d.guid++;return n},access:function(b,h,a,n,m,l,E){var e=0,f=b.length,k=null==a;if("object"===d.type(a))for(e in m=!0,a)d.access(b,h,e,a[e],!0,l,E);else if(n!==c&&(m=!0,d.isFunction(n)||(E=!0),k&&
(E?(h.call(b,n),h=null):(k=h,h=function(b,h,a){return k.call(d(b),a)})),h))for(;e<f;e++)h(b[e],a,E?n:n.call(b[e],e,h(b[e],a)));return m?b:k?h.call(b):f?h(b[0],a):l},now:function(){return(new Date).getTime()}});d.ready.promise=function(b){if(!ja)if(ja=d.Deferred(),"complete"===C.readyState)setTimeout(d.ready);else if(C.addEventListener)C.addEventListener("DOMContentLoaded",la,!1),a.addEventListener("load",la,!1);else{C.attachEvent("onreadystatechange",la);a.attachEvent("onload",la);var h=!1;try{h=
null==a.frameElement&&C.documentElement}catch(c){}h&&h.doScroll&&function m(){if(!d.isReady){try{h.doScroll("left")}catch(b){return setTimeout(m,50)}cb();d.ready()}}()}return ja.promise(b)};d.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(b,h){qa["[object "+h+"]"]=h.toLowerCase()});pa=d(C);var Ya={};d.Callbacks=function(b){b="string"===typeof b?Ya[b]||k(b):d.extend({},b);var h,a,n,m,l,e,f=[],g=!b.once&&[],z=function(d){a=b.memory&&d;n=!0;l=e||0;e=0;m=f.length;
for(h=!0;f&&l<m;l++)if(!1===f[l].apply(d[0],d[1])&&b.stopOnFalse){a=!1;break}h=!1;f&&(g?g.length&&z(g.shift()):a?f=[]:p.disable())},p={add:function(){if(f){var c=f.length;(function Jb(h){d.each(h,function(h,a){var c=d.type(a);"function"===c?b.unique&&p.has(a)||f.push(a):a&&a.length&&"string"!==c&&Jb(a)})})(arguments);h?m=f.length:a&&(e=c,z(a))}return this},remove:function(){f&&d.each(arguments,function(b,a){for(var c;-1<(c=d.inArray(a,f,c));)f.splice(c,1),h&&(c<=m&&m--,c<=l&&l--)});return this},has:function(b){return b?
-1<d.inArray(b,f):!(!f||!f.length)},empty:function(){f=[];return this},disable:function(){f=g=a=c;return this},disabled:function(){return!f},lock:function(){g=c;a||p.disable();return this},locked:function(){return!g},fireWith:function(b,a){a=a||[];a=[b,a.slice?a.slice():a];!f||n&&!g||(h?g.push(a):z(a));return this},fire:function(){p.fireWith(this,arguments);return this},fired:function(){return!!n}};return p};d.extend({Deferred:function(b){var h=[["resolve","done",d.Callbacks("once memory"),"resolved"],
["reject","fail",d.Callbacks("once memory"),"rejected"],["notify","progress",d.Callbacks("memory")]],a="pending",c={state:function(){return a},always:function(){m.done(arguments).fail(arguments);return this},then:function(){var b=arguments;return d.Deferred(function(a){d.each(h,function(h,r){var e=r[0],f=d.isFunction(b[h])&&b[h];m[r[1]](function(){var b=f&&f.apply(this,arguments);if(b&&d.isFunction(b.promise))b.promise().done(a.resolve).fail(a.reject).progress(a.notify);else a[e+"With"](this===c?
a.promise():this,f?[b]:arguments)})});b=null}).promise()},promise:function(b){return null!=b?d.extend(b,c):c}},m={};c.pipe=c.then;d.each(h,function(b,d){var e=d[2],f=d[3];c[d[1]]=e.add;f&&e.add(function(){a=f},h[b^1][2].disable,h[2][2].lock);m[d[0]]=function(){m[d[0]+"With"](this===m?c:this,arguments);return this};m[d[0]+"With"]=e.fireWith});c.promise(m);b&&b.call(m,m);return m},when:function(b){var a=0,c=X.call(arguments),n=c.length,m=1!==n||b&&d.isFunction(b.promise)?n:0,l=1===m?b:d.Deferred(),
e=function(b,a,h){return function(d){a[b]=this;h[b]=1<arguments.length?X.call(arguments):d;h===f?l.notifyWith(a,h):--m||l.resolveWith(a,h)}},f,g,k;if(1<n)for(f=Array(n),g=Array(n),k=Array(n);a<n;a++)c[a]&&d.isFunction(c[a].promise)?c[a].promise().done(e(a,k,c)).fail(l.reject).progress(e(a,g,f)):--m;m||l.resolveWith(k,c);return l.promise()}});d.support=function(){var b,h,c,n,m,l,e,g=C.createElement("div");g.setAttribute("className","t");g.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>";
h=g.getElementsByTagName("*");c=g.getElementsByTagName("a")[0];if(!h||!c||!h.length)return{};n=C.createElement("select");m=n.appendChild(C.createElement("option"));h=g.getElementsByTagName("input")[0];c.style.cssText="top:1px;float:left;opacity:.5";b={getSetAttribute:"t"!==g.className,leadingWhitespace:3===g.firstChild.nodeType,tbody:!g.getElementsByTagName("tbody").length,htmlSerialize:!!g.getElementsByTagName("link").length,style:/top/.test(c.getAttribute("style")),hrefNormalized:"/a"===c.getAttribute("href"),
opacity:/^0.5/.test(c.style.opacity),cssFloat:!!c.style.cssFloat,checkOn:!!h.value,optSelected:m.selected,enctype:!!C.createElement("form").enctype,html5Clone:"<:nav></:nav>"!==C.createElement("nav").cloneNode(!0).outerHTML,boxModel:"CSS1Compat"===C.compatMode,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,boxSizingReliable:!0,pixelPosition:!1};h.checked=!0;b.noCloneChecked=h.cloneNode(!0).checked;n.disabled=!0;b.optDisabled=!m.disabled;try{delete g.test}catch(k){b.deleteExpando=
!1}h=C.createElement("input");h.setAttribute("value","");b.input=""===h.getAttribute("value");h.value="t";h.setAttribute("type","radio");b.radioValue="t"===h.value;h.setAttribute("checked","t");h.setAttribute("name","t");c=C.createDocumentFragment();c.appendChild(h);b.appendChecked=h.checked;b.checkClone=c.cloneNode(!0).cloneNode(!0).lastChild.checked;g.attachEvent&&(g.attachEvent("onclick",function(){b.noCloneEvent=!1}),g.cloneNode(!0).click());for(e in{submit:!0,change:!0,focusin:!0})g.setAttribute(c=
"on"+e,"t"),b[e+"Bubbles"]=c in a||!1===g.attributes[c].expando;g.style.backgroundClip="content-box";g.cloneNode(!0).style.backgroundClip="";b.clearCloneStyle="content-box"===g.style.backgroundClip;d(function(){var h,d,c=C.getElementsByTagName("body")[0];c&&(h=C.createElement("div"),h.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",c.appendChild(h).appendChild(g),g.innerHTML="<table><tr><td></td><td>t</td></tr></table>",d=g.getElementsByTagName("td"),
d[0].style.cssText="padding:0;margin:0;border:0;display:none",l=0===d[0].offsetHeight,d[0].style.display="",d[1].style.display="none",b.reliableHiddenOffsets=l&&0===d[0].offsetHeight,g.innerHTML="",g.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",b.boxSizing=4===g.offsetWidth,b.doesNotIncludeMarginInBodyOffset=1!==c.offsetTop,a.getComputedStyle&&(b.pixelPosition="1%"!==
(a.getComputedStyle(g,null)||{}).top,b.boxSizingReliable="4px"===(a.getComputedStyle(g,null)||{width:"4px"}).width,d=g.appendChild(C.createElement("div")),d.style.cssText=g.style.cssText="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",d.style.marginRight=d.style.width="0",g.style.width="1px",b.reliableMarginRight=!parseFloat((a.getComputedStyle(d,null)||{}).marginRight)),typeof g.style.zoom!==f&&(g.innerHTML="",g.style.cssText=
"padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;width:1px;padding:1px;display:inline;zoom:1",b.inlineBlockNeedsLayout=3===g.offsetWidth,g.style.display="block",g.innerHTML="<div></div>",g.firstChild.style.width="5px",b.shrinkWrapBlocks=3!==g.offsetWidth,b.inlineBlockNeedsLayout&&(c.style.zoom=1)),c.removeChild(h),g=null)});h=n=c=m=c=h=null;return b}();var xb=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,wb=/([A-Z])/g;d.extend({cache:{},
expando:"jQuery"+("1.9.1"+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(b){b=b.nodeType?d.cache[b[d.expando]]:b[d.expando];return!!b&&!q(b)},data:function(b,a,d){return g(b,a,d)},removeData:function(b,a){return s(b,a)},_data:function(b,a,d){return g(b,a,d,!0)},_removeData:function(b,a){return s(b,a,!0)},acceptData:function(b){if(b.nodeType&&1!==b.nodeType&&9!==b.nodeType)return!1;var a=b.nodeName&&d.noData[b.nodeName.toLowerCase()];
return!a||!0!==a&&b.getAttribute("classid")===a}});d.fn.extend({data:function(b,a){var r,n,m=this[0],l=0,e=null;if(b===c){if(this.length&&(e=d.data(m),1===m.nodeType&&!d._data(m,"parsedAttrs"))){for(r=m.attributes;l<r.length;l++)n=r[l].name,n.indexOf("data-")||(n=d.camelCase(n.slice(5)),p(m,n,e[n]));d._data(m,"parsedAttrs",!0)}return e}return"object"===typeof b?this.each(function(){d.data(this,b)}):d.access(this,function(a){if(a===c)return m?p(m,b,d.data(m,b)):null;this.each(function(){d.data(this,
b,a)})},null,a,1<arguments.length,null,!0)},removeData:function(b){return this.each(function(){d.removeData(this,b)})}});d.extend({queue:function(b,a,c){var n;if(b)return a=(a||"fx")+"queue",n=d._data(b,a),c&&(!n||d.isArray(c)?n=d._data(b,a,d.makeArray(c)):n.push(c)),n||[]},dequeue:function(b,a){a=a||"fx";var c=d.queue(b,a),n=c.length,m=c.shift(),l=d._queueHooks(b,a),e=function(){d.dequeue(b,a)};"inprogress"===m&&(m=c.shift(),n--);if(l.cur=m)"fx"===a&&c.unshift("inprogress"),delete l.stop,m.call(b,
e,l);!n&&l&&l.empty.fire()},_queueHooks:function(b,a){var c=a+"queueHooks";return d._data(b,c)||d._data(b,c,{empty:d.Callbacks("once memory").add(function(){d._removeData(b,a+"queue");d._removeData(b,c)})})}});d.fn.extend({queue:function(b,a){var r=2;"string"!==typeof b&&(a=b,b="fx",r--);return arguments.length<r?d.queue(this[0],b):a===c?this:this.each(function(){var c=d.queue(this,b,a);d._queueHooks(this,b);"fx"===b&&"inprogress"!==c[0]&&d.dequeue(this,b)})},dequeue:function(b){return this.each(function(){d.dequeue(this,
b)})},delay:function(b,a){b=d.fx?d.fx.speeds[b]||b:b;return this.queue(a||"fx",function(a,h){var d=setTimeout(a,b);h.stop=function(){clearTimeout(d)}})},clearQueue:function(b){return this.queue(b||"fx",[])},promise:function(b,a){var r,n=1,m=d.Deferred(),l=this,e=this.length,f=function(){--n||m.resolveWith(l,[l])};"string"!==typeof b&&(a=b,b=c);for(b=b||"fx";e--;)(r=d._data(l[e],b+"queueHooks"))&&r.empty&&(n++,r.empty.add(f));f();return m.promise(a)}});var xa,db,Na=/[\t\r\n]/g,Kb=/\r/g,Lb=/^(?:input|select|textarea|button|object)$/i,
Mb=/^(?:a|area)$/i,eb=/^(?:checked|selected|autofocus|autoplay|async|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped)$/i,Oa=/^(?:checked|selected)$/i,ra=d.support.getSetAttribute,Pa=d.support.input;d.fn.extend({attr:function(b,a){return d.access(this,d.attr,b,a,1<arguments.length)},removeAttr:function(b){return this.each(function(){d.removeAttr(this,b)})},prop:function(b,a){return d.access(this,d.prop,b,a,1<arguments.length)},removeProp:function(b){b=d.propFix[b]||b;return this.each(function(){try{this[b]=
c,delete this[b]}catch(a){}})},addClass:function(b){var a,c,n,m,l,e=0,f=this.length;a="string"===typeof b&&b;if(d.isFunction(b))return this.each(function(a){d(this).addClass(b.call(this,a,this.className))});if(a)for(a=(b||"").match(Z)||[];e<f;e++)if(c=this[e],n=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(Na," "):" ")){for(l=0;m=a[l++];)0>n.indexOf(" "+m+" ")&&(n+=m+" ");c.className=d.trim(n)}return this},removeClass:function(b){var a,c,n,m,l,e=0,f=this.length;a=0===arguments.length||
"string"===typeof b&&b;if(d.isFunction(b))return this.each(function(a){d(this).removeClass(b.call(this,a,this.className))});if(a)for(a=(b||"").match(Z)||[];e<f;e++)if(c=this[e],n=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(Na," "):"")){for(l=0;m=a[l++];)for(;0<=n.indexOf(" "+m+" ");)n=n.replace(" "+m+" "," ");c.className=b?d.trim(n):""}return this},toggleClass:function(b,a){var c=typeof b,n="boolean"===typeof a;return d.isFunction(b)?this.each(function(c){d(this).toggleClass(b.call(this,
c,this.className,a),a)}):this.each(function(){if("string"===c)for(var m,l=0,e=d(this),g=a,k=b.match(Z)||[];m=k[l++];)g=n?g:!e.hasClass(m),e[g?"addClass":"removeClass"](m);else if(c===f||"boolean"===c)this.className&&d._data(this,"__className__",this.className),this.className=this.className||!1===b?"":d._data(this,"__className__")||""})},hasClass:function(b){b=" "+b+" ";for(var a=0,d=this.length;a<d;a++)if(1===this[a].nodeType&&0<=(" "+this[a].className+" ").replace(Na," ").indexOf(b))return!0;return!1},
val:function(b){var a,r,n,m=this[0];if(arguments.length)return n=d.isFunction(b),this.each(function(a){var h=d(this);1===this.nodeType&&(a=n?b.call(this,a,h.val()):b,null==a?a="":"number"===typeof a?a+="":d.isArray(a)&&(a=d.map(a,function(b){return null==b?"":b+""})),r=d.valHooks[this.type]||d.valHooks[this.nodeName.toLowerCase()],r&&"set"in r&&r.set(this,a,"value")!==c||(this.value=a))});if(m){if((r=d.valHooks[m.type]||d.valHooks[m.nodeName.toLowerCase()])&&"get"in r&&(a=r.get(m,"value"))!==c)return a;
a=m.value;return"string"===typeof a?a.replace(Kb,""):null==a?"":a}}});d.extend({valHooks:{option:{get:function(b){var a=b.attributes.value;return!a||a.specified?b.value:b.text}},select:{get:function(b){for(var a,c=b.options,n=b.selectedIndex,m=(b="select-one"===b.type||0>n)?null:[],l=b?n+1:c.length,e=0>n?l:b?n:0;e<l;e++)if(a=c[e],!(!a.selected&&e!==n||(d.support.optDisabled?a.disabled:null!==a.getAttribute("disabled"))||a.parentNode.disabled&&d.nodeName(a.parentNode,"optgroup"))){a=d(a).val();if(b)return a;
m.push(a)}return m},set:function(b,a){var c=d.makeArray(a);d(b).find("option").each(function(){this.selected=0<=d.inArray(d(this).val(),c)});c.length||(b.selectedIndex=-1);return c}}},attr:function(b,a,r){var n,m,l;m=b.nodeType;if(b&&3!==m&&8!==m&&2!==m){if(typeof b.getAttribute===f)return d.prop(b,a,r);if(m=1!==m||!d.isXMLDoc(b))a=a.toLowerCase(),n=d.attrHooks[a]||(eb.test(a)?db:xa);if(r!==c)if(null===r)d.removeAttr(b,a);else{if(n&&m&&"set"in n&&(l=n.set(b,r,a))!==c)return l;b.setAttribute(a,r+"");
return r}else{if(n&&m&&"get"in n&&null!==(l=n.get(b,a)))return l;typeof b.getAttribute!==f&&(l=b.getAttribute(a));return null==l?c:l}}},removeAttr:function(b,a){var c,n,m=0,l=a&&a.match(Z);if(l&&1===b.nodeType)for(;c=l[m++];)n=d.propFix[c]||c,eb.test(c)?!ra&&Oa.test(c)?b[d.camelCase("default-"+c)]=b[n]=!1:b[n]=!1:d.attr(b,c,""),b.removeAttribute(ra?c:n)},attrHooks:{type:{set:function(b,a){if(!d.support.radioValue&&"radio"===a&&d.nodeName(b,"input")){var c=b.value;b.setAttribute("type",a);c&&(b.value=
c);return a}}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(b,a,r){var n,m,l;l=b.nodeType;if(b&&3!==l&&8!==l&&2!==l){if(l=1!==l||!d.isXMLDoc(b))a=d.propFix[a]||a,m=d.propHooks[a];return r!==c?m&&"set"in m&&(n=m.set(b,r,a))!==c?n:b[a]=r:m&&"get"in m&&null!==(n=
m.get(b,a))?n:b[a]}},propHooks:{tabIndex:{get:function(b){var a=b.getAttributeNode("tabindex");return a&&a.specified?parseInt(a.value,10):Lb.test(b.nodeName)||Mb.test(b.nodeName)&&b.href?0:c}}}});db={get:function(b,a){var r=d.prop(b,a),n="boolean"===typeof r&&b.getAttribute(a);return(r="boolean"===typeof r?Pa&&ra?null!=n:Oa.test(a)?b[d.camelCase("default-"+a)]:!!n:b.getAttributeNode(a))&&!1!==r.value?a.toLowerCase():c},set:function(b,a,c){!1===a?d.removeAttr(b,c):Pa&&ra||!Oa.test(c)?b.setAttribute(!ra&&
d.propFix[c]||c,c):b[d.camelCase("default-"+c)]=b[c]=!0;return c}};Pa&&ra||(d.attrHooks.value={get:function(b,a){var r=b.getAttributeNode(a);return d.nodeName(b,"input")?b.defaultValue:r&&r.specified?r.value:c},set:function(b,a,c){if(d.nodeName(b,"input"))b.defaultValue=a;else return xa&&xa.set(b,a,c)}});ra||(xa=d.valHooks.button={get:function(b,a){var d=b.getAttributeNode(a);return d&&("id"===a||"name"===a||"coords"===a?""!==d.value:d.specified)?d.value:c},set:function(b,a,d){var n=b.getAttributeNode(d);
n||b.setAttributeNode(n=b.ownerDocument.createAttribute(d));n.value=a+="";return"value"===d||a===b.getAttribute(d)?a:c}},d.attrHooks.contenteditable={get:xa.get,set:function(b,a,d){xa.set(b,""===a?!1:a,d)}},d.each(["width","height"],function(b,a){d.attrHooks[a]=d.extend(d.attrHooks[a],{set:function(b,d){if(""===d)return b.setAttribute(a,"auto"),d}})}));d.support.hrefNormalized||(d.each(["href","src","width","height"],function(b,a){d.attrHooks[a]=d.extend(d.attrHooks[a],{get:function(b){b=b.getAttribute(a,
2);return null==b?c:b}})}),d.each(["href","src"],function(b,a){d.propHooks[a]={get:function(b){return b.getAttribute(a,4)}}}));d.support.style||(d.attrHooks.style={get:function(b){return b.style.cssText||c},set:function(b,a){return b.style.cssText=a+""}});d.support.optSelected||(d.propHooks.selected=d.extend(d.propHooks.selected,{get:function(b){if(b=b.parentNode)b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex;return null}}));d.support.enctype||(d.propFix.enctype="encoding");d.support.checkOn||
d.each(["radio","checkbox"],function(){d.valHooks[this]={get:function(b){return null===b.getAttribute("value")?"on":b.value}}});d.each(["radio","checkbox"],function(){d.valHooks[this]=d.extend(d.valHooks[this],{set:function(b,a){if(d.isArray(a))return b.checked=0<=d.inArray(d(b).val(),a)}})});var Qa=/^(?:input|select|textarea)$/i,Nb=/^key/,Ob=/^(?:mouse|contextmenu)|click/,fb=/^(?:focusinfocus|focusoutblur)$/,gb=/^([^.]*)(?:\.(.+)|)$/;d.event={global:{},add:function(b,a,r,n,m){var l,e,g,k,z,p,s,q,
t;if(g=d._data(b)){r.handler&&(k=r,r=k.handler,m=k.selector);r.guid||(r.guid=d.guid++);(e=g.events)||(e=g.events={});(z=g.handle)||(z=g.handle=function(b){return typeof d===f||b&&d.event.triggered===b.type?c:d.event.dispatch.apply(z.elem,arguments)},z.elem=b);a=(a||"").match(Z)||[""];for(g=a.length;g--;)l=gb.exec(a[g])||[],q=p=l[1],t=(l[2]||"").split(".").sort(),l=d.event.special[q]||{},q=(m?l.delegateType:l.bindType)||q,l=d.event.special[q]||{},p=d.extend({type:q,origType:p,data:n,handler:r,guid:r.guid,
selector:m,needsContext:m&&d.expr.match.needsContext.test(m),namespace:t.join(".")},k),(s=e[q])||(s=e[q]=[],s.delegateCount=0,l.setup&&!1!==l.setup.call(b,n,t,z)||(b.addEventListener?b.addEventListener(q,z,!1):b.attachEvent&&b.attachEvent("on"+q,z))),l.add&&(l.add.call(b,p),p.handler.guid||(p.handler.guid=r.guid)),m?s.splice(s.delegateCount++,0,p):s.push(p),d.event.global[q]=!0;b=null}},remove:function(b,a,c,n,m){var l,e,f,g,k,z,p,s,q,t,R,X=d.hasData(b)&&d._data(b);if(X&&(z=X.events)){a=(a||"").match(Z)||
[""];for(k=a.length;k--;)if(f=gb.exec(a[k])||[],q=R=f[1],t=(f[2]||"").split(".").sort(),q){p=d.event.special[q]||{};q=(n?p.delegateType:p.bindType)||q;s=z[q]||[];f=f[2]&&new RegExp("(^|\\.)"+t.join("\\.(?:.*\\.|)")+"(\\.|$)");for(g=l=s.length;l--;)e=s[l],!m&&R!==e.origType||c&&c.guid!==e.guid||f&&!f.test(e.namespace)||n&&n!==e.selector&&("**"!==n||!e.selector)||(s.splice(l,1),e.selector&&s.delegateCount--,p.remove&&p.remove.call(b,e));g&&!s.length&&(p.teardown&&!1!==p.teardown.call(b,t,X.handle)||
d.removeEvent(b,q,X.handle),delete z[q])}else for(q in z)d.event.remove(b,q+a[k],c,n,!0);d.isEmptyObject(z)&&(delete X.handle,d._removeData(b,"events"))}},trigger:function(b,h,r,n){var m,l,e,f,g,k,z=[r||C],p=N.call(b,"type")?b.type:b;g=N.call(b,"namespace")?b.namespace.split("."):[];e=m=r=r||C;if(3!==r.nodeType&&8!==r.nodeType&&!fb.test(p+d.event.triggered)&&(0<=p.indexOf(".")&&(g=p.split("."),p=g.shift(),g.sort()),l=0>p.indexOf(":")&&"on"+p,b=b[d.expando]?b:new d.Event(p,"object"===typeof b&&b),
b.isTrigger=!0,b.namespace=g.join("."),b.namespace_re=b.namespace?new RegExp("(^|\\.)"+g.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=c,b.target||(b.target=r),h=null==h?[b]:d.makeArray(h,[b]),g=d.event.special[p]||{},n||!g.trigger||!1!==g.trigger.apply(r,h))){if(!n&&!g.noBubble&&!d.isWindow(r)){f=g.delegateType||p;fb.test(f+p)||(e=e.parentNode);for(;e;e=e.parentNode)z.push(e),m=e;m===(r.ownerDocument||C)&&z.push(m.defaultView||m.parentWindow||a)}for(k=0;(e=z[k++])&&!b.isPropagationStopped();)b.type=
1<k?f:g.bindType||p,(m=(d._data(e,"events")||{})[b.type]&&d._data(e,"handle"))&&m.apply(e,h),(m=l&&e[l])&&d.acceptData(e)&&m.apply&&!1===m.apply(e,h)&&b.preventDefault();b.type=p;if(!(n||b.isDefaultPrevented()||g._default&&!1!==g._default.apply(r.ownerDocument,h)||"click"===p&&d.nodeName(r,"a"))&&d.acceptData(r)&&l&&r[p]&&!d.isWindow(r)){(m=r[l])&&(r[l]=null);d.event.triggered=p;try{r[p]()}catch(s){}d.event.triggered=c;m&&(r[l]=m)}return b.result}},dispatch:function(b){b=d.event.fix(b);var a,r,n,
m,l=[],e=X.call(arguments);a=(d._data(this,"events")||{})[b.type]||[];var f=d.event.special[b.type]||{};e[0]=b;b.delegateTarget=this;if(!f.preDispatch||!1!==f.preDispatch.call(this,b)){l=d.event.handlers.call(this,b,a);for(a=0;(n=l[a++])&&!b.isPropagationStopped();)for(b.currentTarget=n.elem,m=0;(r=n.handlers[m++])&&!b.isImmediatePropagationStopped();)if(!b.namespace_re||b.namespace_re.test(r.namespace))b.handleObj=r,b.data=r.data,r=((d.event.special[r.origType]||{}).handle||r.handler).apply(n.elem,
e),r!==c&&!1===(b.result=r)&&(b.preventDefault(),b.stopPropagation());f.postDispatch&&f.postDispatch.call(this,b);return b.result}},handlers:function(b,a){var r,n,m,e,f=[],g=a.delegateCount,k=b.target;if(g&&k.nodeType&&(!b.button||"click"!==b.type))for(;k!=this;k=k.parentNode||this)if(1===k.nodeType&&(!0!==k.disabled||"click"!==b.type)){m=[];for(e=0;e<g;e++)n=a[e],r=n.selector+" ",m[r]===c&&(m[r]=n.needsContext?0<=d(r,this).index(k):d.find(r,this,null,[k]).length),m[r]&&m.push(n);m.length&&f.push({elem:k,
handlers:m})}g<a.length&&f.push({elem:this,handlers:a.slice(g)});return f},fix:function(b){if(b[d.expando])return b;var a,c,n;a=b.type;var m=b,e=this.fixHooks[a];e||(this.fixHooks[a]=e=Ob.test(a)?this.mouseHooks:Nb.test(a)?this.keyHooks:{});n=e.props?this.props.concat(e.props):this.props;b=new d.Event(m);for(a=n.length;a--;)c=n[a],b[c]=m[c];b.target||(b.target=m.srcElement||C);3===b.target.nodeType&&(b.target=b.target.parentNode);b.metaKey=!!b.metaKey;return e.filter?e.filter(b,m):b},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),
fixHooks:{},keyHooks:{props:["char","charCode","key","keyCode"],filter:function(b,a){null==b.which&&(b.which=null!=a.charCode?a.charCode:a.keyCode);return b}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(b,a){var d,n,m=a.button,e=a.fromElement;null==b.pageX&&null!=a.clientX&&(d=b.target.ownerDocument||C,n=d.documentElement,d=d.body,b.pageX=a.clientX+(n&&n.scrollLeft||d&&d.scrollLeft||0)-(n&&n.clientLeft||
d&&d.clientLeft||0),b.pageY=a.clientY+(n&&n.scrollTop||d&&d.scrollTop||0)-(n&&n.clientTop||d&&d.clientTop||0));!b.relatedTarget&&e&&(b.relatedTarget=e===b.target?a.toElement:e);b.which||m===c||(b.which=m&1?1:m&2?3:m&4?2:0);return b}},special:{load:{noBubble:!0},click:{trigger:function(){if(d.nodeName(this,"input")&&"checkbox"===this.type&&this.click)return this.click(),!1}},focus:{trigger:function(){if(this!==C.activeElement&&this.focus)try{return this.focus(),!1}catch(b){}},delegateType:"focusin"},
blur:{trigger:function(){if(this===C.activeElement&&this.blur)return this.blur(),!1},delegateType:"focusout"},beforeunload:{postDispatch:function(b){b.result!==c&&(b.originalEvent.returnValue=b.result)}}},simulate:function(b,a,c,n){b=d.extend(new d.Event,c,{type:b,isSimulated:!0,originalEvent:{}});n?d.event.trigger(b,null,a):d.event.dispatch.call(a,b);b.isDefaultPrevented()&&c.preventDefault()}};d.removeEvent=C.removeEventListener?function(b,a,d){b.removeEventListener&&b.removeEventListener(a,d,!1)}:
function(b,a,d){a="on"+a;b.detachEvent&&(typeof b[a]===f&&(b[a]=null),b.detachEvent(a,d))};d.Event=function(b,a){if(!(this instanceof d.Event))return new d.Event(b,a);b&&b.type?(this.originalEvent=b,this.type=b.type,this.isDefaultPrevented=b.defaultPrevented||!1===b.returnValue||b.getPreventDefault&&b.getPreventDefault()?t:w):this.type=b;a&&d.extend(this,a);this.timeStamp=b&&b.timeStamp||d.now();this[d.expando]=!0};d.Event.prototype={isDefaultPrevented:w,isPropagationStopped:w,isImmediatePropagationStopped:w,
preventDefault:function(){var b=this.originalEvent;this.isDefaultPrevented=t;b&&(b.preventDefault?b.preventDefault():b.returnValue=!1)},stopPropagation:function(){var b=this.originalEvent;this.isPropagationStopped=t;b&&(b.stopPropagation&&b.stopPropagation(),b.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=t;this.stopPropagation()}};d.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(b,a){d.event.special[b]={delegateType:a,bindType:a,handle:function(b){var c,
m=b.relatedTarget,e=b.handleObj;if(!m||m!==this&&!d.contains(this,m))b.type=e.origType,c=e.handler.apply(this,arguments),b.type=a;return c}}});d.support.submitBubbles||(d.event.special.submit={setup:function(){if(d.nodeName(this,"form"))return!1;d.event.add(this,"click._submit keypress._submit",function(b){b=b.target;(b=d.nodeName(b,"input")||d.nodeName(b,"button")?b.form:c)&&!d._data(b,"submitBubbles")&&(d.event.add(b,"submit._submit",function(b){b._submit_bubble=!0}),d._data(b,"submitBubbles",!0))})},
postDispatch:function(b){b._submit_bubble&&(delete b._submit_bubble,this.parentNode&&!b.isTrigger&&d.event.simulate("submit",this.parentNode,b,!0))},teardown:function(){if(d.nodeName(this,"form"))return!1;d.event.remove(this,"._submit")}});d.support.changeBubbles||(d.event.special.change={setup:function(){if(Qa.test(this.nodeName)){if("checkbox"===this.type||"radio"===this.type)d.event.add(this,"propertychange._change",function(b){"checked"===b.originalEvent.propertyName&&(this._just_changed=!0)}),
d.event.add(this,"click._change",function(b){this._just_changed&&!b.isTrigger&&(this._just_changed=!1);d.event.simulate("change",this,b,!0)});return!1}d.event.add(this,"beforeactivate._change",function(b){b=b.target;Qa.test(b.nodeName)&&!d._data(b,"changeBubbles")&&(d.event.add(b,"change._change",function(b){!this.parentNode||b.isSimulated||b.isTrigger||d.event.simulate("change",this.parentNode,b,!0)}),d._data(b,"changeBubbles",!0))})},handle:function(b){var a=b.target;if(this!==a||b.isSimulated||
b.isTrigger||"radio"!==a.type&&"checkbox"!==a.type)return b.handleObj.handler.apply(this,arguments)},teardown:function(){d.event.remove(this,"._change");return!Qa.test(this.nodeName)}});d.support.focusinBubbles||d.each({focus:"focusin",blur:"focusout"},function(b,a){var c=0,n=function(b){d.event.simulate(a,b.target,d.event.fix(b),!0)};d.event.special[a]={setup:function(){0===c++&&C.addEventListener(b,n,!0)},teardown:function(){0===--c&&C.removeEventListener(b,n,!0)}}});d.fn.extend({on:function(b,
a,r,n,e){var l,f;if("object"===typeof b){"string"!==typeof a&&(r=r||a,a=c);for(l in b)this.on(l,a,r,b[l],e);return this}null==r&&null==n?(n=a,r=a=c):null==n&&("string"===typeof a?(n=r,r=c):(n=r,r=a,a=c));if(!1===n)n=w;else if(!n)return this;1===e&&(f=n,n=function(b){d().off(b);return f.apply(this,arguments)},n.guid=f.guid||(f.guid=d.guid++));return this.each(function(){d.event.add(this,b,n,r,a)})},one:function(b,a,d,c){return this.on(b,a,d,c,1)},off:function(b,a,r){var n;if(b&&b.preventDefault&&b.handleObj)return n=
b.handleObj,d(b.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"===typeof b){for(n in b)this.off(n,a,b[n]);return this}if(!1===a||"function"===typeof a)r=a,a=c;!1===r&&(r=w);return this.each(function(){d.event.remove(this,b,r,a)})},bind:function(b,a,d){return this.on(b,null,a,d)},unbind:function(b,a){return this.off(b,null,a)},delegate:function(b,a,d,c){return this.on(a,b,d,c)},undelegate:function(b,a,d){return 1===arguments.length?this.off(b,
"**"):this.off(a,b||"**",d)},trigger:function(b,a){return this.each(function(){d.event.trigger(b,a,this)})},triggerHandler:function(b,a){var c=this[0];if(c)return d.event.trigger(b,a,c,!0)}});(function(b,a){function c(b){return na.test(b+"")}function n(){var b,a=[];return b=function(d,c){a.push(d+=" ")>u.cacheLength&&delete b[a.shift()];return b[d]=c}}function e(b){b[S]=!0;return b}function l(b){var a=Q.createElement("div");try{return b(a)}catch(d){return!1}finally{}}function f(b,a,d,c){var h,r,e,
n,m;(a?a.ownerDocument||a:O)!==Q&&D(a);a=a||Q;d=d||[];if(!b||"string"!==typeof b)return d;if(1!==(n=a.nodeType)&&9!==n)return[];if(!C&&!c){if(h=oa.exec(b))if(e=h[1])if(9===n)if((r=a.getElementById(e))&&r.parentNode){if(r.id===e)return d.push(r),d}else return d;else{if(a.ownerDocument&&(r=a.ownerDocument.getElementById(e))&&K(a,r)&&r.id===e)return d.push(r),d}else{if(h[2])return $.apply(d,aa.call(a.getElementsByTagName(b),0)),d;if((e=h[3])&&L.getByClassName&&a.getElementsByClassName)return $.apply(d,
aa.call(a.getElementsByClassName(e),0)),d}if(L.qsa&&!F.test(b)){h=!0;r=S;e=a;m=9===n&&b;if(1===n&&"object"!==a.nodeName.toLowerCase()){n=s(b);(h=a.getAttribute("id"))?r=h.replace(ra,"\\$&"):a.setAttribute("id",r);r="[id='"+r+"'] ";for(e=n.length;e--;)n[e]=r+q(n[e]);e=ha.test(b)&&a.parentNode||a;m=n.join(",")}if(m)try{return $.apply(d,aa.call(e.querySelectorAll(m),0)),d}catch(l){}finally{h||a.removeAttribute("id")}}}var g;a:{b=b.replace(wa,"$1");r=s(b);if(!c&&1===r.length){h=r[0]=r[0].slice(0);if(2<
h.length&&"ID"===(g=h[0]).type&&9===a.nodeType&&!C&&u.relative[h[1].type]){a=u.find.ID(g.matches[0].replace(ta,ua),a)[0];if(!a){g=d;break a}b=b.slice(h.shift().value.length)}for(n=ga.needsContext.test(b)?0:h.length;n--;){g=h[n];if(u.relative[e=g.type])break;if(e=u.find[e])if(c=e(g.matches[0].replace(ta,ua),ha.test(h[0].type)&&a.parentNode||a)){h.splice(n,1);b=c.length&&q(h);if(!b){$.apply(d,aa.call(c,0));g=d;break a}break}}}H(b,r)(c,a,C,d,ha.test(b));g=d}return g}function g(b,a){var d=a&&b,c=d&&(~a.sourceIndex||
-2147483648)-(~b.sourceIndex||-2147483648);if(c)return c;if(d)for(;d=d.nextSibling;)if(d===a)return-1;return b?1:-1}function k(b){return function(a){return"input"===a.nodeName.toLowerCase()&&a.type===b}}function p(b){return function(a){var d=a.nodeName.toLowerCase();return("input"===d||"button"===d)&&a.type===b}}function z(b){return e(function(a){a=+a;return e(function(d,c){for(var h,r=b([],d.length,a),e=r.length;e--;)d[h=r[e]]&&(d[h]=!(c[h]=d[h]))})})}function s(b,a){var d,c,h,r,e,n,m;if(e=V[b+" "])return a?
0:e.slice(0);e=b;n=[];for(m=u.preFilter;e;){if(!d||(c=ia.exec(e)))c&&(e=e.slice(c[0].length)||e),n.push(h=[]);d=!1;if(c=ja.exec(e))d=c.shift(),h.push({value:d,type:c[0].replace(wa," ")}),e=e.slice(d.length);for(r in u.filter)!(c=ga[r].exec(e))||m[r]&&!(c=m[r](c))||(d=c.shift(),h.push({value:d,type:r,matches:c}),e=e.slice(d.length));if(!d)break}return a?e.length:e?f.error(b):V(b,n).slice(0)}function q(b){for(var a=0,d=b.length,c="";a<d;a++)c+=b[a].value;return c}function t(b,a,d){var c=a.dir,h=d&&
"parentNode"===c,e=U++;return a.first?function(a,d,e){for(;a=a[c];)if(1===a.nodeType||h)return b(a,d,e)}:function(a,d,r){var n,m,l,f=P+" "+e;if(r)for(;a=a[c];){if((1===a.nodeType||h)&&b(a,d,r))return!0}else for(;a=a[c];)if(1===a.nodeType||h)if(l=a[S]||(a[S]={}),(m=l[c])&&m[0]===f){if(!0===(n=m[1])||n===N)return!0===n}else if(m=l[c]=[f],m[1]=b(a,d,r)||N,!0===m[1])return!0}}function R(b){return 1<b.length?function(a,d,c){for(var h=b.length;h--;)if(!b[h](a,d,c))return!1;return!0}:b[0]}function X(b,a,
d,c,h){for(var e,r=[],n=0,m=b.length,l=null!=a;n<m;n++)if(e=b[n])if(!d||d(e,c,h))r.push(e),l&&a.push(n);return r}function J(b,a,d,c,h,r){c&&!c[S]&&(c=J(c));h&&!h[S]&&(h=J(h,r));return e(function(e,r,n,m){var l,g,k=[],p=[],z=r.length,s;if(!(s=e)){s=a||"*";for(var q=n.nodeType?[n]:n,t=[],R=0,u=q.length;R<u;R++)f(s,q[R],t);s=t}s=!b||!e&&a?s:X(s,k,b,n,m);q=d?h||(e?b:z||c)?[]:r:s;d&&d(s,q,n,m);if(c)for(l=X(q,p),c(l,[],n,m),n=l.length;n--;)if(g=l[n])q[p[n]]=!(s[p[n]]=g);if(e){if(h||b){if(h){l=[];for(n=
q.length;n--;)(g=q[n])&&l.push(s[n]=g);h(null,q=[],l,m)}for(n=q.length;n--;)(g=q[n])&&-1<(l=h?Ba.call(e,g):k[n])&&(e[l]=!(r[l]=g))}}else q=X(q===r?q.splice(z,q.length):q),h?h(null,r,q,m):$.apply(r,q)})}function v(b){var a,d,c,h=b.length,e=u.relative[b[0].type];d=e||u.relative[" "];for(var r=e?1:0,n=t(function(b){return b===a},d,!0),m=t(function(b){return-1<Ba.call(a,b)},d,!0),l=[function(b,d,c){return!e&&(c||d!==ka)||((a=d).nodeType?n(b,d,c):m(b,d,c))}];r<h;r++)if(d=u.relative[b[r].type])l=[t(R(l),
d)];else{d=u.filter[b[r].type].apply(null,b[r].matches);if(d[S]){for(c=++r;c<h&&!u.relative[b[c].type];c++);return J(1<r&&R(l),1<r&&q(b.slice(0,r-1)).replace(wa,"$1"),d,r<c&&v(b.slice(r,c)),c<h&&v(b=b.slice(c)),c<h&&q(b))}l.push(d)}return R(l)}function ba(b,a){var d=0,c=0<a.length,h=0<b.length,r=function(r,e,n,m,l){var g,k,p=[],z=0,s="0",q=r&&[],t=null!=l,R=ka,J=r||h&&u.find.TAG("*",l&&e.parentNode||e),v=P+=null==R?1:Math.random()||.1;t&&(ka=e!==Q&&e,N=d);for(;null!=(l=J[s]);s++){if(h&&l){for(g=0;k=
b[g++];)if(k(l,e,n)){m.push(l);break}t&&(P=v,N=++d)}c&&((l=!k&&l)&&z--,r&&q.push(l))}z+=s;if(c&&s!==z){for(g=0;k=a[g++];)k(q,p,e,n);if(r){if(0<z)for(;s--;)q[s]||p[s]||(p[s]=da.call(m));p=X(p)}$.apply(m,p);t&&!r&&0<p.length&&1<z+a.length&&f.uniqueSort(m)}t&&(P=v,ka=R);return q};return c?e(r):r}function w(){}var x,N,u,y,ca,H,B,ka,D,Q,A,C,F,G,I,K,M,S="sizzle"+-new Date,O=b.document,L={},P=0,U=0,T=n(),V=n(),Y=n(),Z=typeof a,W=[],da=W.pop,$=W.push,aa=W.slice,Ba=W.indexOf||function(b){for(var a=0,d=this.length;a<
d;a++)if(this[a]===b)return a;return-1},W="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+".replace("w","w#"),fa="\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)[\\x20\\t\\r\\n\\f]*(?:([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+W+")|)|)[\\x20\\t\\r\\n\\f]*\\]",ea=":((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+fa.replace(3,8)+")*)|.*)\\)|)",wa=/^[\x20\t\r\n\f]+|((?:^|[^\\])(?:\\.)*)[\x20\t\r\n\f]+$/g,ia=/^[\x20\t\r\n\f]*,[\x20\t\r\n\f]*/,
ja=/^[\x20\t\r\n\f]*([\x20\t\r\n\f>+~])[\x20\t\r\n\f]*/,la=new RegExp(ea),ma=new RegExp("^"+W+"$"),ga={ID:/^#((?:\\.|[\w-]|[^\x00-\xa0])+)/,CLASS:/^\.((?:\\.|[\w-]|[^\x00-\xa0])+)/,NAME:/^\[name=['"]?((?:\\.|[\w-]|[^\x00-\xa0])+)['"]?\]/,TAG:new RegExp("^("+"(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+".replace("w","w*")+")"),ATTR:new RegExp("^"+fa),PSEUDO:new RegExp("^"+ea),CHILD:/^:(only|first|last|nth|nth-last)-(child|of-type)(?:\([\x20\t\r\n\f]*(even|odd|(([+-]|)(\d*)n|)[\x20\t\r\n\f]*(?:([+-]|)[\x20\t\r\n\f]*(\d+)|))[\x20\t\r\n\f]*\)|)/i,
needsContext:/^[\x20\t\r\n\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\([\x20\t\r\n\f]*((?:-\d)?\d*)[\x20\t\r\n\f]*\)|)(?=[^-]|$)/i},ha=/[\x20\t\r\n\f]*[+~]/,na=/^[^{]+\{\s*\[native code/,oa=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,pa=/^(?:input|select|textarea|button)$/i,qa=/^h\d$/i,ra=/'|\\/g,sa=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,ta=/\\([\da-fA-F]{1,6}[\x20\t\r\n\f]?|.)/g,ua=function(b,a){var d="0x"+a-65536;return d!==d?a:0>d?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,
d&1023|56320)};try{aa.call(O.documentElement.childNodes,0)[0].nodeType}catch(va){aa=function(b){for(var a,d=[];a=this[b++];)d.push(a);return d}}ca=f.isXML=function(b){return(b=b&&(b.ownerDocument||b).documentElement)?"HTML"!==b.nodeName:!1};D=f.setDocument=function(b){var d=b?b.ownerDocument||b:O;if(d===Q||9!==d.nodeType||!d.documentElement)return Q;Q=d;A=d.documentElement;C=ca(d);L.tagNameNoComments=l(function(b){b.appendChild(d.createComment(""));return!b.getElementsByTagName("*").length});L.attributes=
l(function(b){b.innerHTML="<select></select>";b=typeof b.lastChild.getAttribute("multiple");return"boolean"!==b&&"string"!==b});L.getByClassName=l(function(b){b.innerHTML="<div class='hidden e'></div><div class='hidden'></div>";if(!b.getElementsByClassName||!b.getElementsByClassName("e").length)return!1;b.lastChild.className="e";return 2===b.getElementsByClassName("e").length});L.getByName=l(function(b){b.id=S+0;b.innerHTML="<a name='"+S+"'></a><div name='"+S+"'></div>";A.insertBefore(b,A.firstChild);
var a=d.getElementsByName&&d.getElementsByName(S).length===2+d.getElementsByName(S+0).length;L.getIdNotName=!d.getElementById(S);A.removeChild(b);return a});u.attrHandle=l(function(b){b.innerHTML="<a href='#'></a>";return b.firstChild&&typeof b.firstChild.getAttribute!==Z&&"#"===b.firstChild.getAttribute("href")})?{}:{href:function(b){return b.getAttribute("href",2)},type:function(b){return b.getAttribute("type")}};L.getIdNotName?(u.find.ID=function(b,a){if(typeof a.getElementById!==Z&&!C){var d=
a.getElementById(b);return d&&d.parentNode?[d]:[]}},u.filter.ID=function(b){var a=b.replace(ta,ua);return function(b){return b.getAttribute("id")===a}}):(u.find.ID=function(b,d){if(typeof d.getElementById!==Z&&!C){var c=d.getElementById(b);return c?c.id===b||typeof c.getAttributeNode!==Z&&c.getAttributeNode("id").value===b?[c]:a:[]}},u.filter.ID=function(b){var a=b.replace(ta,ua);return function(b){return(b=typeof b.getAttributeNode!==Z&&b.getAttributeNode("id"))&&b.value===a}});u.find.TAG=L.tagNameNoComments?
function(b,a){if(typeof a.getElementsByTagName!==Z)return a.getElementsByTagName(b)}:function(b,a){var d,c=[],h=0,r=a.getElementsByTagName(b);if("*"===b){for(;d=r[h++];)1===d.nodeType&&c.push(d);return c}return r};u.find.NAME=L.getByName&&function(b,a){if(typeof a.getElementsByName!==Z)return a.getElementsByName(name)};u.find.CLASS=L.getByClassName&&function(b,a){if(typeof a.getElementsByClassName!==Z&&!C)return a.getElementsByClassName(b)};G=[];F=[":focus"];if(L.qsa=c(d.querySelectorAll))l(function(b){b.innerHTML=
"<select><option selected=''></option></select>";b.querySelectorAll("[selected]").length||F.push("\\[[\\x20\\t\\r\\n\\f]*(?:checked|disabled|ismap|multiple|readonly|selected|value)");b.querySelectorAll(":checked").length||F.push(":checked")}),l(function(b){b.innerHTML="<input type='hidden' i=''/>";b.querySelectorAll("[i^='']").length&&F.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:\"\"|'')");b.querySelectorAll(":enabled").length||F.push(":enabled",":disabled");b.querySelectorAll("*,:x");F.push(",.*:")});(L.matchesSelector=
c(I=A.matchesSelector||A.mozMatchesSelector||A.webkitMatchesSelector||A.oMatchesSelector||A.msMatchesSelector))&&l(function(b){L.disconnectedMatch=I.call(b,"div");I.call(b,"[s!='']:x");G.push("!=",ea)});F=new RegExp(F.join("|"));G=new RegExp(G.join("|"));K=c(A.contains)||A.compareDocumentPosition?function(b,a){var d=9===b.nodeType?b.documentElement:b,c=a&&a.parentNode;return b===c||!!(c&&1===c.nodeType&&(d.contains?d.contains(c):b.compareDocumentPosition&&b.compareDocumentPosition(c)&16))}:function(b,
a){if(a)for(;a=a.parentNode;)if(a===b)return!0;return!1};M=A.compareDocumentPosition?function(b,a){var c;return b===a?(B=!0,0):(c=a.compareDocumentPosition&&b.compareDocumentPosition&&b.compareDocumentPosition(a))?c&1||b.parentNode&&11===b.parentNode.nodeType?b===d||K(O,b)?-1:a===d||K(O,a)?1:0:c&4?-1:1:b.compareDocumentPosition?-1:1}:function(b,a){var c,h=0;c=b.parentNode;var r=a.parentNode,e=[b],n=[a];if(b===a)return B=!0,0;if(!c||!r)return b===d?-1:a===d?1:c?-1:r?1:0;if(c===r)return g(b,a);for(c=
b;c=c.parentNode;)e.unshift(c);for(c=a;c=c.parentNode;)n.unshift(c);for(;e[h]===n[h];)h++;return h?g(e[h],n[h]):e[h]===O?-1:n[h]===O?1:0};B=!1;[0,0].sort(M);L.detectDuplicates=B;return Q};f.matches=function(b,a){return f(b,null,null,a)};f.matchesSelector=function(b,a){(b.ownerDocument||b)!==Q&&D(b);a=a.replace(sa,"='$1']");if(!(!L.matchesSelector||C||G&&G.test(a)||F.test(a)))try{var d=I.call(b,a);if(d||L.disconnectedMatch||b.document&&11!==b.document.nodeType)return d}catch(c){}return 0<f(a,Q,null,
[b]).length};f.contains=function(b,a){(b.ownerDocument||b)!==Q&&D(b);return K(b,a)};f.attr=function(b,a){var d;(b.ownerDocument||b)!==Q&&D(b);C||(a=a.toLowerCase());return(d=u.attrHandle[a])?d(b):C||L.attributes?b.getAttribute(a):((d=b.getAttributeNode(a))||b.getAttribute(a))&&!0===b[a]?a:d&&d.specified?d.value:null};f.error=function(b){throw Error("Syntax error, unrecognized expression: "+b);};f.uniqueSort=function(b){var a,d=[],c=1,h=0;B=!L.detectDuplicates;b.sort(M);if(B){for(;a=b[c];c++)a===b[c-
1]&&(h=d.push(c));for(;h--;)b.splice(d[h],1)}return b};y=f.getText=function(b){var a,d="",c=0;a=b.nodeType;if(!a)for(;a=b[c];c++)d+=y(a);else if(1===a||9===a||11===a){if("string"===typeof b.textContent)return b.textContent;for(b=b.firstChild;b;b=b.nextSibling)d+=y(b)}else if(3===a||4===a)return b.nodeValue;return d};u=f.selectors={cacheLength:50,createPseudo:e,match:ga,find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},
preFilter:{ATTR:function(b){b[1]=b[1].replace(ta,ua);b[3]=(b[4]||b[5]||"").replace(ta,ua);"~="===b[2]&&(b[3]=" "+b[3]+" ");return b.slice(0,4)},CHILD:function(b){b[1]=b[1].toLowerCase();"nth"===b[1].slice(0,3)?(b[3]||f.error(b[0]),b[4]=+(b[4]?b[5]+(b[6]||1):2*("even"===b[3]||"odd"===b[3])),b[5]=+(b[7]+b[8]||"odd"===b[3])):b[3]&&f.error(b[0]);return b},PSEUDO:function(b){var a,d=!b[5]&&b[2];if(ga.CHILD.test(b[0]))return null;b[4]?b[2]=b[4]:d&&la.test(d)&&(a=s(d,!0))&&(a=d.indexOf(")",d.length-a)-d.length)&&
(b[0]=b[0].slice(0,a),b[2]=d.slice(0,a));return b.slice(0,3)}},filter:{TAG:function(b){if("*"===b)return function(){return!0};b=b.replace(ta,ua).toLowerCase();return function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(b){var a=T[b+" "];return a||(a=new RegExp("(^|[\\x20\\t\\r\\n\\f])"+b+"([\\x20\\t\\r\\n\\f]|$)"))&&T(b,function(b){return a.test(b.className||typeof b.getAttribute!==Z&&b.getAttribute("class")||"")})},ATTR:function(b,a,d){return function(c){c=f.attr(c,b);if(null==
c)return"!="===a;if(!a)return!0;c+="";return"="===a?c===d:"!="===a?c!==d:"^="===a?d&&0===c.indexOf(d):"*="===a?d&&-1<c.indexOf(d):"$="===a?d&&c.slice(-d.length)===d:"~="===a?-1<(" "+c+" ").indexOf(d):"|="===a?c===d||c.slice(0,d.length+1)===d+"-":!1}},CHILD:function(b,a,d,c,h){var r="nth"!==b.slice(0,3),e="last"!==b.slice(-4),n="of-type"===a;return 1===c&&0===h?function(b){return!!b.parentNode}:function(a,d,m){var l,f,g,k,p;d=r!==e?"nextSibling":"previousSibling";var z=a.parentNode,s=n&&a.nodeName.toLowerCase();
m=!m&&!n;if(z){if(r){for(;d;){for(f=a;f=f[d];)if(n?f.nodeName.toLowerCase()===s:1===f.nodeType)return!1;p=d="only"===b&&!p&&"nextSibling"}return!0}p=[e?z.firstChild:z.lastChild];if(e&&m)for(m=z[S]||(z[S]={}),l=m[b]||[],k=l[0]===P&&l[1],g=l[0]===P&&l[2],f=k&&z.childNodes[k];f=++k&&f&&f[d]||(g=k=0)||p.pop();){if(1===f.nodeType&&++g&&f===a){m[b]=[P,k,g];break}}else if(m&&(l=(a[S]||(a[S]={}))[b])&&l[0]===P)g=l[1];else for(;(f=++k&&f&&f[d]||(g=k=0)||p.pop())&&((n?f.nodeName.toLowerCase()!==s:1!==f.nodeType)||
!++g||(m&&((f[S]||(f[S]={}))[b]=[P,g]),f!==a)););g-=h;return g===c||0===g%c&&0<=g/c}}},PSEUDO:function(b,a){var d,c=u.pseudos[b]||u.setFilters[b.toLowerCase()]||f.error("unsupported pseudo: "+b);return c[S]?c(a):1<c.length?(d=[b,b,"",a],u.setFilters.hasOwnProperty(b.toLowerCase())?e(function(b,d){for(var h,r=c(b,a),e=r.length;e--;)h=Ba.call(b,r[e]),b[h]=!(d[h]=r[e])}):function(b){return c(b,0,d)}):c}},pseudos:{not:e(function(b){var a=[],d=[],c=H(b.replace(wa,"$1"));return c[S]?e(function(b,a,d,h){h=
c(b,null,h,[]);for(var r=b.length;r--;)if(d=h[r])b[r]=!(a[r]=d)}):function(b,h,r){a[0]=b;c(a,null,r,d);return!d.pop()}}),has:e(function(b){return function(a){return 0<f(b,a).length}}),contains:e(function(b){return function(a){return-1<(a.textContent||a.innerText||y(a)).indexOf(b)}}),lang:e(function(b){ma.test(b||"")||f.error("unsupported lang: "+b);b=b.replace(ta,ua).toLowerCase();return function(a){var d;do if(d=C?a.getAttribute("xml:lang")||a.getAttribute("lang"):a.lang)return d=d.toLowerCase(),
d===b||0===d.indexOf(b+"-");while((a=a.parentNode)&&1===a.nodeType);return!1}}),target:function(a){var d=b.location&&b.location.hash;return d&&d.slice(1)===a.id},root:function(b){return b===A},focus:function(b){return b===Q.activeElement&&(!Q.hasFocus||Q.hasFocus())&&!!(b.type||b.href||~b.tabIndex)},enabled:function(b){return!1===b.disabled},disabled:function(b){return!0===b.disabled},checked:function(b){var a=b.nodeName.toLowerCase();return"input"===a&&!!b.checked||"option"===a&&!!b.selected},selected:function(b){b.parentNode&&
b.parentNode.selectedIndex;return!0===b.selected},empty:function(b){for(b=b.firstChild;b;b=b.nextSibling)if("@"<b.nodeName||3===b.nodeType||4===b.nodeType)return!1;return!0},parent:function(b){return!u.pseudos.empty(b)},header:function(b){return qa.test(b.nodeName)},input:function(b){return pa.test(b.nodeName)},button:function(b){var a=b.nodeName.toLowerCase();return"input"===a&&"button"===b.type||"button"===a},text:function(b){var a;return"input"===b.nodeName.toLowerCase()&&"text"===b.type&&(null==
(a=b.getAttribute("type"))||a.toLowerCase()===b.type)},first:z(function(){return[0]}),last:z(function(b,a){return[a-1]}),eq:z(function(b,a,d){return[0>d?d+a:d]}),even:z(function(b,a){for(var d=0;d<a;d+=2)b.push(d);return b}),odd:z(function(b,a){for(var d=1;d<a;d+=2)b.push(d);return b}),lt:z(function(b,a,d){for(a=0>d?d+a:d;0<=--a;)b.push(a);return b}),gt:z(function(b,a,d){for(d=0>d?d+a:d;++d<a;)b.push(d);return b})}};for(x in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})u.pseudos[x]=k(x);for(x in{submit:!0,
reset:!0})u.pseudos[x]=p(x);H=f.compile=function(b,a){var d,c=[],h=[],r=Y[b+" "];if(!r){a||(a=s(b));for(d=a.length;d--;)r=v(a[d]),r[S]?c.push(r):h.push(r);r=Y(b,ba(h,c))}return r};u.pseudos.nth=u.pseudos.eq;u.filters=w.prototype=u.pseudos;u.setFilters=new w;D();f.attr=d.attr;d.find=f;d.expr=f.selectors;d.expr[":"]=d.expr.pseudos;d.unique=f.uniqueSort;d.text=f.getText;d.isXMLDoc=f.isXML;d.contains=f.contains})(a);var Pb=/Until$/,Qb=/^(?:parents|prev(?:Until|All))/,yb=/^.[^:#\[\.,]*$/,hb=d.expr.match.needsContext,
Rb={children:!0,contents:!0,next:!0,prev:!0};d.fn.extend({find:function(b){var a,c,e,m=this.length;if("string"!==typeof b)return e=this,this.pushStack(d(b).filter(function(){for(a=0;a<m;a++)if(d.contains(e[a],this))return!0}));c=[];for(a=0;a<m;a++)d.find(b,this[a],c);c=this.pushStack(1<m?d.unique(c):c);c.selector=(this.selector?this.selector+" ":"")+b;return c},has:function(b){var a,c=d(b,this),e=c.length;return this.filter(function(){for(a=0;a<e;a++)if(d.contains(this,c[a]))return!0})},not:function(b){return this.pushStack(J(this,
b,!1))},filter:function(b){return this.pushStack(J(this,b,!0))},is:function(b){return!!b&&("string"===typeof b?hb.test(b)?0<=d(b,this.context).index(this[0]):0<d.filter(b,this).length:0<this.filter(b).length)},closest:function(b,a){for(var c,e=0,m=this.length,l=[],f=hb.test(b)||"string"!==typeof b?d(b,a||this.context):0;e<m;e++)for(c=this[e];c&&c.ownerDocument&&c!==a&&11!==c.nodeType;){if(f?-1<f.index(c):d.find.matchesSelector(c,b)){l.push(c);break}c=c.parentNode}return this.pushStack(1<l.length?
d.unique(l):l)},index:function(b){return b?"string"===typeof b?d.inArray(this[0],d(b)):d.inArray(b.jquery?b[0]:b,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(b,a){var c="string"===typeof b?d(b,a):d.makeArray(b&&b.nodeType?[b]:b),c=d.merge(this.get(),c);return this.pushStack(d.unique(c))},addBack:function(b){return this.add(null==b?this.prevObject:this.prevObject.filter(b))}});d.fn.andSelf=d.fn.addBack;d.each({parent:function(b){return(b=b.parentNode)&&11!==b.nodeType?
b:null},parents:function(b){return d.dir(b,"parentNode")},parentsUntil:function(b,a,c){return d.dir(b,"parentNode",c)},next:function(b){return x(b,"nextSibling")},prev:function(b){return x(b,"previousSibling")},nextAll:function(b){return d.dir(b,"nextSibling")},prevAll:function(b){return d.dir(b,"previousSibling")},nextUntil:function(b,a,c){return d.dir(b,"nextSibling",c)},prevUntil:function(b,a,c){return d.dir(b,"previousSibling",c)},siblings:function(b){return d.sibling((b.parentNode||{}).firstChild,
b)},children:function(b){return d.sibling(b.firstChild)},contents:function(b){return d.nodeName(b,"iframe")?b.contentDocument||b.contentWindow.document:d.merge([],b.childNodes)}},function(b,a){d.fn[b]=function(c,e){var m=d.map(this,a,c);Pb.test(b)||(e=c);e&&"string"===typeof e&&(m=d.filter(e,m));m=1<this.length&&!Rb[b]?d.unique(m):m;1<this.length&&Qb.test(b)&&(m=m.reverse());return this.pushStack(m)}});d.extend({filter:function(b,a,c){c&&(b=":not("+b+")");return 1===a.length?d.find.matchesSelector(a[0],
b)?[a[0]]:[]:d.find.matches(b,a)},dir:function(b,a,e){var n=[];for(b=b[a];b&&9!==b.nodeType&&(e===c||1!==b.nodeType||!d(b).is(e));)1===b.nodeType&&n.push(b),b=b[a];return n},sibling:function(b,a){for(var d=[];b;b=b.nextSibling)1===b.nodeType&&b!==a&&d.push(b);return d}});var Za="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Sb=/ jQuery\d+="(?:null|\d+)"/g,ib=new RegExp("<(?:"+Za+")[\\s/>]",
"i"),Ra=/^\s+/,jb=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,kb=/<([\w:]+)/,lb=/<tbody/i,Tb=/<|&#?\w+;/,Ub=/<(?:script|style|link)/i,La=/^(?:checkbox|radio)$/i,Vb=/checked\s*(?:[^=]|=\s*.checked.)/i,mb=/^$|\/(?:java|ecma)script/i,zb=/^true\/(.*)/,Wb=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,aa={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],
tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:d.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},Sa=H(C).appendChild(C.createElement("div"));aa.optgroup=aa.option;aa.tbody=aa.tfoot=aa.colgroup=aa.caption=aa.thead;aa.th=aa.td;d.fn.extend({text:function(b){return d.access(this,function(b){return b===c?d.text(this):this.empty().append((this[0]&&this[0].ownerDocument||C).createTextNode(b))},
null,b,arguments.length)},wrapAll:function(b){if(d.isFunction(b))return this.each(function(a){d(this).wrapAll(b.call(this,a))});if(this[0]){var a=d(b,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&a.insertBefore(this[0]);a.map(function(){for(var b=this;b.firstChild&&1===b.firstChild.nodeType;)b=b.firstChild;return b}).append(this)}return this},wrapInner:function(b){return d.isFunction(b)?this.each(function(a){d(this).wrapInner(b.call(this,a))}):this.each(function(){var a=d(this),c=a.contents();
c.length?c.wrapAll(b):a.append(b)})},wrap:function(b){var a=d.isFunction(b);return this.each(function(c){d(this).wrapAll(a?b.call(this,c):b)})},unwrap:function(){return this.parent().each(function(){d.nodeName(this,"body")||d(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(b){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||this.appendChild(b)})},prepend:function(){return this.domManip(arguments,!0,function(b){1!==this.nodeType&&11!==
this.nodeType&&9!==this.nodeType||this.insertBefore(b,this.firstChild)})},before:function(){return this.domManip(arguments,!1,function(b){this.parentNode&&this.parentNode.insertBefore(b,this)})},after:function(){return this.domManip(arguments,!1,function(b){this.parentNode&&this.parentNode.insertBefore(b,this.nextSibling)})},remove:function(b,a){for(var c,e=0;null!=(c=this[e]);e++)if(!b||0<d.filter(b,[c]).length)a||1!==c.nodeType||d.cleanData(u(c)),c.parentNode&&(a&&d.contains(c.ownerDocument,c)&&
v(u(c,"script")),c.parentNode.removeChild(c));return this},empty:function(){for(var b,a=0;null!=(b=this[a]);a++){for(1===b.nodeType&&d.cleanData(u(b,!1));b.firstChild;)b.removeChild(b.firstChild);b.options&&d.nodeName(b,"select")&&(b.options.length=0)}return this},clone:function(b,a){b=null==b?!1:b;a=null==a?b:a;return this.map(function(){return d.clone(this,b,a)})},html:function(b){return d.access(this,function(b){var a=this[0]||{},e=0,m=this.length;if(b===c)return 1===a.nodeType?a.innerHTML.replace(Sb,
""):c;if(!("string"!==typeof b||Ub.test(b)||!d.support.htmlSerialize&&ib.test(b)||!d.support.leadingWhitespace&&Ra.test(b)||aa[(kb.exec(b)||["",""])[1].toLowerCase()])){b=b.replace(jb,"<$1></$2>");try{for(;e<m;e++)a=this[e]||{},1===a.nodeType&&(d.cleanData(u(a,!1)),a.innerHTML=b);a=0}catch(l){}}a&&this.empty().append(b)},null,b,arguments.length)},replaceWith:function(b){d.isFunction(b)||"string"===typeof b||(b=d(b).not(this).detach());return this.domManip([b],!0,function(b){var a=this.nextSibling,
c=this.parentNode;c&&(d(this).remove(),c.insertBefore(b,a))})},detach:function(b){return this.remove(b,!0)},domManip:function(b,a,e){b=R.apply([],b);var n,m,l,f,g=0,k=this.length,p=this,z=k-1,s=b[0],q=d.isFunction(s);if(q||!(1>=k||"string"!==typeof s||d.support.checkClone)&&Vb.test(s))return this.each(function(d){var n=p.eq(d);q&&(b[0]=s.call(this,d,a?n.html():c));n.domManip(b,a,e)});if(k&&(f=d.buildFragment(b,this[0].ownerDocument,!1,this),n=f.firstChild,1===f.childNodes.length&&(f=n),n)){a=a&&d.nodeName(n,
"tr");l=d.map(u(f,"script"),F);for(m=l.length;g<k;g++)n=f,g!==z&&(n=d.clone(n,!0,!0),m&&d.merge(l,u(n,"script"))),e.call(a&&d.nodeName(this[g],"table")?D(this[g],"tbody"):this[g],n,g);if(m)for(f=l[l.length-1].ownerDocument,d.map(l,B),g=0;g<m;g++)n=l[g],mb.test(n.type||"")&&!d._data(n,"globalEval")&&d.contains(f,n)&&(n.src?d.ajax({url:n.src,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0}):d.globalEval((n.text||n.textContent||n.innerHTML||"").replace(Wb,"")));f=n=null}return this}});d.each({appendTo:"append",
prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(b,a){d.fn[b]=function(b){for(var c=0,e=[],l=d(b),f=l.length-1;c<=f;c++)b=c===f?this:this.clone(!0),d(l[c])[a](b),ba.apply(e,b.get());return this.pushStack(e)}});d.extend({clone:function(b,a,c){var e,m,l,f,g,k=d.contains(b.ownerDocument,b);d.support.html5Clone||d.isXMLDoc(b)||!ib.test("<"+b.nodeName+">")?l=b.cloneNode(!0):(Sa.innerHTML=b.outerHTML,Sa.removeChild(l=Sa.firstChild));if(!(d.support.noCloneEvent&&
d.support.noCloneChecked||1!==b.nodeType&&11!==b.nodeType||d.isXMLDoc(b)))for(e=u(l),g=u(b),f=0;null!=(m=g[f]);++f)if(e[f]){var p=e[f],z=void 0,s=void 0,q=void 0;if(1===p.nodeType){z=p.nodeName.toLowerCase();if(!d.support.noCloneEvent&&p[d.expando]){q=d._data(p);for(s in q.events)d.removeEvent(p,s,q.handle);p.removeAttribute(d.expando)}if("script"===z&&p.text!==m.text)F(p).text=m.text,B(p);else if("object"===z)p.parentNode&&(p.outerHTML=m.outerHTML),d.support.html5Clone&&m.innerHTML&&!d.trim(p.innerHTML)&&
(p.innerHTML=m.innerHTML);else if("input"===z&&La.test(m.type))p.defaultChecked=p.checked=m.checked,p.value!==m.value&&(p.value=m.value);else if("option"===z)p.defaultSelected=p.selected=m.defaultSelected;else if("input"===z||"textarea"===z)p.defaultValue=m.defaultValue}}if(a)if(c)for(g=g||u(b),e=e||u(l),f=0;null!=(m=g[f]);f++)A(m,e[f]);else A(b,l);e=u(l,"script");0<e.length&&v(e,!k&&u(b,"script"));return l},buildFragment:function(b,a,c,e){for(var m,l,f,g,k,p,z=b.length,s=H(a),q=[],t=0;t<z;t++)if((l=
b[t])||0===l)if("object"===d.type(l))d.merge(q,l.nodeType?[l]:l);else if(Tb.test(l)){f=f||s.appendChild(a.createElement("div"));g=(kb.exec(l)||["",""])[1].toLowerCase();p=aa[g]||aa._default;f.innerHTML=p[1]+l.replace(jb,"<$1></$2>")+p[2];for(m=p[0];m--;)f=f.lastChild;!d.support.leadingWhitespace&&Ra.test(l)&&q.push(a.createTextNode(Ra.exec(l)[0]));if(!d.support.tbody)for(m=(l="table"!==g||lb.test(l)?"<table>"!==p[1]||lb.test(l)?0:f:f.firstChild)&&l.childNodes.length;m--;)d.nodeName(k=l.childNodes[m],
"tbody")&&!k.childNodes.length&&l.removeChild(k);d.merge(q,f.childNodes);for(f.textContent="";f.firstChild;)f.removeChild(f.firstChild);f=s.lastChild}else q.push(a.createTextNode(l));f&&s.removeChild(f);d.support.appendChecked||d.grep(u(q,"input"),I);for(t=0;l=q[t++];)if(!e||-1===d.inArray(l,e))if(b=d.contains(l.ownerDocument,l),f=u(s.appendChild(l),"script"),b&&v(f),c)for(m=0;l=f[m++];)mb.test(l.type||"")&&c.push(l);return s},cleanData:function(b,a){for(var c,e,m,l,g=0,k=d.expando,p=d.cache,s=d.support.deleteExpando,
q=d.event.special;null!=(c=b[g]);g++)if(a||d.acceptData(c))if(l=(m=c[k])&&p[m]){if(l.events)for(e in l.events)q[e]?d.event.remove(c,e):d.removeEvent(c,e,l.handle);p[m]&&(delete p[m],s?delete c[k]:typeof c.removeAttribute!==f?c.removeAttribute(k):c[k]=null,z.push(m))}}});var za,ha,na,Ta=/alpha\([^)]*\)/i,Xb=/opacity\s*=\s*([^)]*)/,Yb=/^(top|right|bottom|left)$/,Zb=/^(none|table(?!-c[ea]).+)/,nb=/^margin/,Ab=new RegExp("^("+S+")(.*)$","i"),Da=new RegExp("^("+S+")(?!px)[a-z%]+$","i"),$b=new RegExp("^([+-])=("+
S+")","i"),ab={BODY:"block"},ac={position:"absolute",visibility:"hidden",display:"block"},ob={letterSpacing:0,fontWeight:400},ga=["Top","Right","Bottom","Left"],$a=["Webkit","O","Moz","ms"];d.fn.extend({css:function(b,a){return d.access(this,function(b,a,h){var e,f={},g=0;if(d.isArray(a)){e=ha(b);for(h=a.length;g<h;g++)f[a[g]]=d.css(b,a[g],!1,e);return f}return h!==c?d.style(b,a,h):d.css(b,a)},b,a,1<arguments.length)},show:function(){return O(this,!0)},hide:function(){return O(this)},toggle:function(b){var a=
"boolean"===typeof b;return this.each(function(){(a?b:M(this))?d(this).show():d(this).hide()})}});d.extend({cssHooks:{opacity:{get:function(b,a){if(a){var d=na(b,"opacity");return""===d?"1":d}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":d.support.cssFloat?"cssFloat":"styleFloat"},style:function(b,a,e,n){if(b&&3!==b.nodeType&&8!==b.nodeType&&b.style){var f,l,g,k=d.camelCase(a),p=b.style;a=d.cssProps[k]||
(d.cssProps[k]=T(p,k));g=d.cssHooks[a]||d.cssHooks[k];if(e!==c){if(l=typeof e,"string"===l&&(f=$b.exec(e))&&(e=(f[1]+1)*f[2]+parseFloat(d.css(b,a)),l="number"),!(null==e||"number"===l&&isNaN(e)||("number"!==l||d.cssNumber[k]||(e+="px"),d.support.clearCloneStyle||""!==e||0!==a.indexOf("background")||(p[a]="inherit"),g&&"set"in g&&(e=g.set(b,e,n))===c)))try{p[a]=e}catch(z){}}else return g&&"get"in g&&(f=g.get(b,!1,n))!==c?f:p[a]}},css:function(b,a,e,n){var f,l;l=d.camelCase(a);a=d.cssProps[l]||(d.cssProps[l]=
T(b.style,l));(l=d.cssHooks[a]||d.cssHooks[l])&&"get"in l&&(f=l.get(b,!0,e));f===c&&(f=na(b,a,n));"normal"===f&&a in ob&&(f=ob[a]);return""===e||e?(b=parseFloat(f),!0===e||d.isNumeric(b)?b||0:f):f},swap:function(b,a,d,c){var e,f={};for(e in a)f[e]=b.style[e],b.style[e]=a[e];d=d.apply(b,c||[]);for(e in a)b.style[e]=f[e];return d}});a.getComputedStyle?(ha=function(b){return a.getComputedStyle(b,null)},na=function(b,a,e){var f,m=(e=e||ha(b))?e.getPropertyValue(a)||e[a]:c,l=b.style;e&&(""!==m||d.contains(b.ownerDocument,
b)||(m=d.style(b,a)),Da.test(m)&&nb.test(a)&&(b=l.width,a=l.minWidth,f=l.maxWidth,l.minWidth=l.maxWidth=l.width=m,m=e.width,l.width=b,l.minWidth=a,l.maxWidth=f));return m}):C.documentElement.currentStyle&&(ha=function(b){return b.currentStyle},na=function(b,a,d){var e,f,l=(d=d||ha(b))?d[a]:c,g=b.style;null==l&&g&&g[a]&&(l=g[a]);if(Da.test(l)&&!Yb.test(a)){d=g.left;if(f=(e=b.runtimeStyle)&&e.left)e.left=b.currentStyle.left;g.left="fontSize"===a?"1em":l;l=g.pixelLeft+"px";g.left=d;f&&(e.left=f)}return""===
l?"auto":l});d.each(["height","width"],function(b,a){d.cssHooks[a]={get:function(b,c,e){if(c)return 0===b.offsetWidth&&Zb.test(d.css(b,"display"))?d.swap(b,ac,function(){return K(b,a,e)}):K(b,a,e)},set:function(b,c,e){var f=e&&ha(b);return G(b,c,e?y(b,a,e,d.support.boxSizing&&"border-box"===d.css(b,"boxSizing",!1,f),f):0)}}});d.support.opacity||(d.cssHooks.opacity={get:function(b,a){return Xb.test((a&&b.currentStyle?b.currentStyle.filter:b.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":a?"1":""},
set:function(b,a){var c=b.style,e=b.currentStyle,f=d.isNumeric(a)?"alpha(opacity="+100*a+")":"",l=e&&e.filter||c.filter||"";c.zoom=1;if((1<=a||""===a)&&""===d.trim(l.replace(Ta,""))&&c.removeAttribute&&(c.removeAttribute("filter"),""===a||e&&!e.filter))return;c.filter=Ta.test(l)?l.replace(Ta,f):l+" "+f}});d(function(){d.support.reliableMarginRight||(d.cssHooks.marginRight={get:function(b,a){if(a)return d.swap(b,{display:"inline-block"},na,[b,"marginRight"])}});!d.support.pixelPosition&&d.fn.position&&
d.each(["top","left"],function(b,a){d.cssHooks[a]={get:function(b,c){if(c)return c=na(b,a),Da.test(c)?d(b).position()[a]+"px":c}}})});d.expr&&d.expr.filters&&(d.expr.filters.hidden=function(b){return 0>=b.offsetWidth&&0>=b.offsetHeight||!d.support.reliableHiddenOffsets&&"none"===(b.style&&b.style.display||d.css(b,"display"))},d.expr.filters.visible=function(b){return!d.expr.filters.hidden(b)});d.each({margin:"",padding:"",border:"Width"},function(b,a){d.cssHooks[b+a]={expand:function(d){var c=0,e=
{};for(d="string"===typeof d?d.split(" "):[d];4>c;c++)e[b+ga[c]+a]=d[c]||d[c-2]||d[0];return e}};nb.test(b)||(d.cssHooks[b+a].set=G)});var bc=/%20/g,Bb=/\[\]$/,pb=/\r?\n/g,cc=/^(?:submit|button|image|reset|file)$/i,dc=/^(?:input|select|textarea|keygen)/i;d.fn.extend({serialize:function(){return d.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var b=d.prop(this,"elements");return b?d.makeArray(b):this}).filter(function(){var b=this.type;return this.name&&!d(this).is(":disabled")&&
dc.test(this.nodeName)&&!cc.test(b)&&(this.checked||!La.test(b))}).map(function(b,a){var c=d(this).val();return null==c?null:d.isArray(c)?d.map(c,function(b){return{name:a.name,value:b.replace(pb,"\r\n")}}):{name:a.name,value:c.replace(pb,"\r\n")}}).get()}});d.param=function(b,a){var e,f=[],m=function(b,a){a=d.isFunction(a)?a():null==a?"":a;f[f.length]=encodeURIComponent(b)+"="+encodeURIComponent(a)};a===c&&(a=d.ajaxSettings&&d.ajaxSettings.traditional);if(d.isArray(b)||b.jquery&&!d.isPlainObject(b))d.each(b,
function(){m(this.name,this.value)});else for(e in b)V(e,b[e],a,m);return f.join("&").replace(bc,"+")};d.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(b,a){d.fn[a]=function(b,d){return 0<arguments.length?this.on(a,null,b,d):this.trigger(a)}});d.fn.hover=function(b,a){return this.mouseenter(b).mouseleave(a||b)};var sa,ma,
Ua=d.now(),Va=/\?/,ec=/#.*$/,qb=/([?&])_=[^&]*/,fc=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,gc=/^(?:GET|HEAD)$/,hc=/^\/\//,rb=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,sb=d.fn.load,tb={},Ma={},ub="*/".concat("*");try{ma=Ha.href}catch(mc){ma=C.createElement("a"),ma.href="",ma=ma.href}sa=rb.exec(ma.toLowerCase())||[];d.fn.load=function(b,a,e){if("string"!==typeof b&&sb)return sb.apply(this,arguments);var f,m,l,g=this,k=b.indexOf(" ");0<=k&&(f=b.slice(k,b.length),b=b.slice(0,k));d.isFunction(a)?(e=a,a=c):
a&&"object"===typeof a&&(l="POST");0<g.length&&d.ajax({url:b,type:l,dataType:"html",data:a}).done(function(b){m=arguments;g.html(f?d("<div>").append(d.parseHTML(b)).find(f):b)}).complete(e&&function(b,a){g.each(e,m||[b.responseText,a,b])});return this};d.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(b,a){d.fn[a]=function(b){return this.on(a,b)}});d.each(["get","post"],function(b,a){d[a]=function(b,e,f,l){d.isFunction(e)&&(l=l||f,f=e,e=c);return d.ajax({url:b,
type:a,dataType:l,data:e,success:f})}});d.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ma,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(sa[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":ub,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},
converters:{"* text":a.String,"text html":!0,"text json":d.parseJSON,"text xml":d.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(b,a){return a?da(da(b,d.ajaxSettings),a):da(d.ajaxSettings,b)},ajaxPrefilter:L(tb),ajaxTransport:L(Ma),ajax:function(b,a){function e(b,a,h,f){var m,n,r,s,v=a;if(2!==w){w=2;k&&clearTimeout(k);z=c;g=f||"";N.readyState=0<b?4:0;if(h){s=q;f=N;var x,ba,y,Q,B=s.contents,ca=s.dataTypes,H=s.responseFields;for(Q in H)Q in h&&(f[H[Q]]=h[Q]);for(;"*"===ca[0];)ca.shift(),
ba===c&&(ba=s.mimeType||f.getResponseHeader("Content-Type"));if(ba)for(Q in B)if(B[Q]&&B[Q].test(ba)){ca.unshift(Q);break}if(ca[0]in h)y=ca[0];else{for(Q in h){if(!ca[0]||s.converters[Q+" "+ca[0]]){y=Q;break}x||(x=Q)}y=y||x}y?(y!==ca[0]&&ca.unshift(y),s=h[y]):s=void 0}if(200<=b&&300>b||304===b)if(q.ifModified&&((h=N.getResponseHeader("Last-Modified"))&&(d.lastModified[l]=h),(h=N.getResponseHeader("etag"))&&(d.etag[l]=h)),204===b)m=!0,v="nocontent";else if(304===b)m=!0,v="notmodified";else{a:{n=q;
r=s;var ka,A,v={};x=0;ba=n.dataTypes.slice();y=ba[0];n.dataFilter&&(r=n.dataFilter(r,n.dataType));if(ba[1])for(A in n.converters)v[A.toLowerCase()]=n.converters[A];for(;h=ba[++x];)if("*"!==h){if("*"!==y&&y!==h){A=v[y+" "+h]||v["* "+h];if(!A)for(ka in v)if(m=ka.split(" "),m[1]===h&&(A=v[y+" "+m[0]]||v["* "+m[0]])){!0===A?A=v[ka]:!0!==v[ka]&&(h=m[0],ba.splice(x--,0,h));break}if(!0!==A)if(A&&n["throws"])r=A(r);else try{r=A(r)}catch(D){m={state:"parsererror",error:A?D:"No conversion from "+y+" to "+h};
break a}}y=h}m={state:"success",data:r}}v=m.state;n=m.data;r=m.error;m=!r}else if(r=v,b||!v)v="error",0>b&&(b=0);N.status=b;N.statusText=(a||v)+"";m?X.resolveWith(t,[n,v,N]):X.rejectWith(t,[N,v,r]);N.statusCode(J);J=c;p&&R.trigger(m?"ajaxSuccess":"ajaxError",[N,q,m?n:r]);u.fireWith(t,[N,v]);p&&(R.trigger("ajaxComplete",[N,q]),--d.active||d.event.trigger("ajaxStop"))}}"object"===typeof b&&(a=b,b=c);a=a||{};var f,m,l,g,k,p,z,s,q=d.ajaxSetup({},a),t=q.context||q,R=q.context&&(t.nodeType||t.jquery)?d(t):
d.event,X=d.Deferred(),u=d.Callbacks("once memory"),J=q.statusCode||{},v={},x={},w=0,ba="canceled",N={readyState:0,getResponseHeader:function(b){var a;if(2===w){if(!s)for(s={};a=fc.exec(g);)s[a[1].toLowerCase()]=a[2];a=s[b.toLowerCase()]}return null==a?null:a},getAllResponseHeaders:function(){return 2===w?g:null},setRequestHeader:function(b,a){var d=b.toLowerCase();w||(b=x[d]=x[d]||b,v[b]=a);return this},overrideMimeType:function(b){w||(q.mimeType=b);return this},statusCode:function(b){var a;if(b)if(2>
w)for(a in b)J[a]=[J[a],b[a]];else N.always(b[N.status]);return this},abort:function(b){b=b||ba;z&&z.abort(b);e(0,b);return this}};X.promise(N).complete=u.add;N.success=N.done;N.error=N.fail;q.url=((b||q.url||ma)+"").replace(ec,"").replace(hc,sa[1]+"//");q.type=a.method||a.type||q.method||q.type;q.dataTypes=d.trim(q.dataType||"*").toLowerCase().match(Z)||[""];null==q.crossDomain&&(f=rb.exec(q.url.toLowerCase()),q.crossDomain=!(!f||f[1]===sa[1]&&f[2]===sa[2]&&(f[3]||("http:"===f[1]?80:443))==(sa[3]||
("http:"===sa[1]?80:443))));q.data&&q.processData&&"string"!==typeof q.data&&(q.data=d.param(q.data,q.traditional));W(tb,q,a,N);if(2===w)return N;(p=q.global)&&0===d.active++&&d.event.trigger("ajaxStart");q.type=q.type.toUpperCase();q.hasContent=!gc.test(q.type);l=q.url;q.hasContent||(q.data&&(l=q.url+=(Va.test(l)?"&":"?")+q.data,delete q.data),!1===q.cache&&(q.url=qb.test(l)?l.replace(qb,"$1_="+Ua++):l+(Va.test(l)?"&":"?")+"_="+Ua++));q.ifModified&&(d.lastModified[l]&&N.setRequestHeader("If-Modified-Since",
d.lastModified[l]),d.etag[l]&&N.setRequestHeader("If-None-Match",d.etag[l]));(q.data&&q.hasContent&&!1!==q.contentType||a.contentType)&&N.setRequestHeader("Content-Type",q.contentType);N.setRequestHeader("Accept",q.dataTypes[0]&&q.accepts[q.dataTypes[0]]?q.accepts[q.dataTypes[0]]+("*"!==q.dataTypes[0]?", "+ub+"; q=0.01":""):q.accepts["*"]);for(m in q.headers)N.setRequestHeader(m,q.headers[m]);if(q.beforeSend&&(!1===q.beforeSend.call(t,N,q)||2===w))return N.abort();ba="abort";for(m in{success:1,error:1,
complete:1})N[m](q[m]);if(z=W(Ma,q,a,N)){N.readyState=1;p&&R.trigger("ajaxSend",[N,q]);q.async&&0<q.timeout&&(k=setTimeout(function(){N.abort("timeout")},q.timeout));try{w=1,z.send(v,e)}catch(y){if(2>w)e(-1,y);else throw y;}}else e(-1,"No Transport");return N},getScript:function(b,a){return d.get(b,c,a,"script")},getJSON:function(b,a,c){return d.get(b,a,c,"json")}});d.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},
converters:{"text script":function(b){d.globalEval(b);return b}}});d.ajaxPrefilter("script",function(b){b.cache===c&&(b.cache=!1);b.crossDomain&&(b.type="GET",b.global=!1)});d.ajaxTransport("script",function(b){if(b.crossDomain){var a,e=C.head||d("head")[0]||C.documentElement;return{send:function(d,c){a=C.createElement("script");a.async=!0;b.scriptCharset&&(a.charset=b.scriptCharset);a.src=b.url;a.onload=a.onreadystatechange=function(b,d){if(d||!a.readyState||/loaded|complete/.test(a.readyState))a.onload=
a.onreadystatechange=null,a.parentNode&&a.parentNode.removeChild(a),a=null,d||c(200,"success")};e.insertBefore(a,e.firstChild)},abort:function(){if(a)a.onload(c,!0)}}}});var vb=[],Wa=/(=)\?(?=&|$)|\?\?/;d.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var b=vb.pop()||d.expando+"_"+Ua++;this[b]=!0;return b}});d.ajaxPrefilter("json jsonp",function(b,e,f){var n,m,l,g=!1!==b.jsonp&&(Wa.test(b.url)?"url":"string"===typeof b.data&&!(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&
Wa.test(b.data)&&"data");if(g||"jsonp"===b.dataTypes[0])return n=b.jsonpCallback=d.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,g?b[g]=b[g].replace(Wa,"$1"+n):!1!==b.jsonp&&(b.url+=(Va.test(b.url)?"&":"?")+b.jsonp+"="+n),b.converters["script json"]=function(){l||d.error(n+" was not called");return l[0]},b.dataTypes[0]="json",m=a[n],a[n]=function(){l=arguments},f.always(function(){a[n]=m;b[n]&&(b.jsonpCallback=e.jsonpCallback,vb.push(n));l&&d.isFunction(m)&&m(l[0]);l=m=c}),"script"});
var ya,Ca,ic=0,Xa=a.ActiveXObject&&function(){for(var b in ya)ya[b](c,!0)};d.ajaxSettings.xhr=a.ActiveXObject?function(){var b;if(!(b=!this.isLocal&&fa()))a:{try{b=new a.ActiveXObject("Microsoft.XMLHTTP");break a}catch(d){}b=void 0}return b}:fa;Ca=d.ajaxSettings.xhr();d.support.cors=!!Ca&&"withCredentials"in Ca;(Ca=d.support.ajax=!!Ca)&&d.ajaxTransport(function(b){if(!b.crossDomain||d.support.cors){var e;return{send:function(f,n){var m,l,g=b.xhr();b.username?g.open(b.type,b.url,b.async,b.username,
b.password):g.open(b.type,b.url,b.async);if(b.xhrFields)for(l in b.xhrFields)g[l]=b.xhrFields[l];b.mimeType&&g.overrideMimeType&&g.overrideMimeType(b.mimeType);b.crossDomain||f["X-Requested-With"]||(f["X-Requested-With"]="XMLHttpRequest");try{for(l in f)g.setRequestHeader(l,f[l])}catch(k){}g.send(b.hasContent&&b.data||null);e=function(a,f){var l,r,k,p;try{if(e&&(f||4===g.readyState))if(e=c,m&&(g.onreadystatechange=d.noop,Xa&&delete ya[m]),f)4!==g.readyState&&g.abort();else{p={};l=g.status;r=g.getAllResponseHeaders();
"string"===typeof g.responseText&&(p.text=g.responseText);try{k=g.statusText}catch(q){k=""}l||!b.isLocal||b.crossDomain?1223===l&&(l=204):l=p.text?200:404}}catch(z){f||n(-1,z)}p&&n(l,k,p,r)};b.async?4===g.readyState?setTimeout(e):(m=++ic,Xa&&(ya||(ya={},d(a).unload(Xa)),ya[m]=e),g.onreadystatechange=e):e()},abort:function(){e&&e(c,!0)}}}});var va,Ka,jc=/^(?:toggle|show|hide)$/,kc=new RegExp("^(?:([+-])=|)("+S+")([a-z%]*)$","i"),lc=/queueHooks$/,Fa=[function(b,a,c){var e,f,l,g,k,p,q=this,z=b.style,
s={},t=[],R=b.nodeType&&M(b);c.queue||(k=d._queueHooks(b,"fx"),null==k.unqueued&&(k.unqueued=0,p=k.empty.fire,k.empty.fire=function(){k.unqueued||p()}),k.unqueued++,q.always(function(){q.always(function(){k.unqueued--;d.queue(b,"fx").length||k.empty.fire()})}));1===b.nodeType&&("height"in a||"width"in a)&&(c.overflow=[z.overflow,z.overflowX,z.overflowY],"inline"===d.css(b,"display")&&"none"===d.css(b,"float")&&(d.support.inlineBlockNeedsLayout&&"inline"!==P(b.nodeName)?z.zoom=1:z.display="inline-block"));
c.overflow&&(z.overflow="hidden",d.support.shrinkWrapBlocks||q.always(function(){z.overflow=c.overflow[0];z.overflowX=c.overflow[1];z.overflowY=c.overflow[2]}));for(f in a)l=a[f],jc.exec(l)&&(delete a[f],e=e||"toggle"===l,l!==(R?"hide":"show")&&t.push(f));if(a=t.length)for(l=d._data(b,"fxshow")||d._data(b,"fxshow",{}),("hidden"in l)&&(R=l.hidden),e&&(l.hidden=!R),R?d(b).show():q.done(function(){d(b).hide()}),q.done(function(){var a;d._removeData(b,"fxshow");for(a in s)d.style(b,a,s[a])}),f=0;f<a;f++)e=
t[f],g=q.createTween(e,R?l[e]:0),s[e]=l[e]||d.style(b,e),e in l||(l[e]=g.start,R&&(g.end=g.start,g.start="width"===e||"height"===e?1:0))}],Aa={"*":[function(b,a){var c,e,f=this.createTween(b,a),l=kc.exec(a),g=f.cur(),k=+g||0,p=1,q=20;if(l){c=+l[2];e=l[3]||(d.cssNumber[b]?"":"px");if("px"!==e&&k){k=d.css(f.elem,b,!0)||c||1;do p=p||".5",k/=p,d.style(f.elem,b,k+e);while(p!==(p=f.cur()/g)&&1!==p&&--q)}f.unit=e;f.start=k;f.end=l[1]?k+(l[1]+1)*c:c}return f}]};d.Animation=d.extend(Ea,{tweener:function(b,
a){d.isFunction(b)?(a=b,b=["*"]):b=b.split(" ");for(var c,e=0,f=b.length;e<f;e++)c=b[e],Aa[c]=Aa[c]||[],Aa[c].unshift(a)},prefilter:function(b,a){a?Fa.unshift(b):Fa.push(b)}});d.Tween=U;U.prototype={constructor:U,init:function(b,a,c,e,f,l){this.elem=b;this.prop=c;this.easing=f||"swing";this.options=a;this.start=this.now=this.cur();this.end=e;this.unit=l||(d.cssNumber[c]?"":"px")},cur:function(){var b=U.propHooks[this.prop];return b&&b.get?b.get(this):U.propHooks._default.get(this)},run:function(b){var a,
c=U.propHooks[this.prop];this.pos=this.options.duration?a=d.easing[this.easing](b,this.options.duration*b,0,1,this.options.duration):a=b;this.now=(this.end-this.start)*a+this.start;this.options.step&&this.options.step.call(this.elem,this.now,this);c&&c.set?c.set(this):U.propHooks._default.set(this);return this}};U.prototype.init.prototype=U.prototype;U.propHooks={_default:{get:function(b){return null==b.elem[b.prop]||b.elem.style&&null!=b.elem.style[b.prop]?(b=d.css(b.elem,b.prop,""))&&"auto"!==b?
b:0:b.elem[b.prop]},set:function(b){if(d.fx.step[b.prop])d.fx.step[b.prop](b);else b.elem.style&&(null!=b.elem.style[d.cssProps[b.prop]]||d.cssHooks[b.prop])?d.style(b.elem,b.prop,b.now+b.unit):b.elem[b.prop]=b.now}}};U.propHooks.scrollTop=U.propHooks.scrollLeft={set:function(b){b.elem.nodeType&&b.elem.parentNode&&(b.elem[b.prop]=b.now)}};d.each(["toggle","show","hide"],function(b,a){var c=d.fn[a];d.fn[a]=function(b,d,e){return null==b||"boolean"===typeof b?c.apply(this,arguments):this.animate(ia(a,
!0),b,d,e)}});d.fn.extend({fadeTo:function(b,a,d,c){return this.filter(M).css("opacity",0).show().end().animate({opacity:a},b,d,c)},animate:function(b,a,c,e){var f=d.isEmptyObject(b),l=d.speed(a,c,e),g=function(){var a=Ea(this,d.extend({},b),l);g.finish=function(){a.stop(!0)};(f||d._data(this,"finish"))&&a.stop(!0)};g.finish=g;return f||!1===l.queue?this.each(g):this.queue(l.queue,g)},stop:function(b,a,e){var f=function(b){var a=b.stop;delete b.stop;a(e)};"string"!==typeof b&&(e=a,a=b,b=c);a&&!1!==
b&&this.queue(b||"fx",[]);return this.each(function(){var a=!0,c=null!=b&&b+"queueHooks",h=d.timers,g=d._data(this);if(c)g[c]&&g[c].stop&&f(g[c]);else for(c in g)g[c]&&g[c].stop&&lc.test(c)&&f(g[c]);for(c=h.length;c--;)h[c].elem!==this||null!=b&&h[c].queue!==b||(h[c].anim.stop(e),a=!1,h.splice(c,1));!a&&e||d.dequeue(this,b)})},finish:function(b){!1!==b&&(b=b||"fx");return this.each(function(){var a,c=d._data(this),e=c[b+"queue"];a=c[b+"queueHooks"];var f=d.timers,g=e?e.length:0;c.finish=!0;d.queue(this,
b,[]);a&&a.cur&&a.cur.finish&&a.cur.finish.call(this);for(a=f.length;a--;)f[a].elem===this&&f[a].queue===b&&(f[a].anim.stop(!0),f.splice(a,1));for(a=0;a<g;a++)e[a]&&e[a].finish&&e[a].finish.call(this);delete c.finish})}});d.each({slideDown:ia("show"),slideUp:ia("hide"),slideToggle:ia("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(b,a){d.fn[b]=function(b,d,c){return this.animate(a,b,d,c)}});d.speed=function(b,a,c){var e=b&&"object"===typeof b?d.extend({},
b):{complete:c||!c&&a||d.isFunction(b)&&b,duration:b,easing:c&&a||a&&!d.isFunction(a)&&a};e.duration=d.fx.off?0:"number"===typeof e.duration?e.duration:e.duration in d.fx.speeds?d.fx.speeds[e.duration]:d.fx.speeds._default;if(null==e.queue||!0===e.queue)e.queue="fx";e.old=e.complete;e.complete=function(){d.isFunction(e.old)&&e.old.call(this);e.queue&&d.dequeue(this,e.queue)};return e};d.easing={linear:function(b){return b},swing:function(b){return.5-Math.cos(b*Math.PI)/2}};d.timers=[];d.fx=U.prototype.init;
d.fx.tick=function(){var b,a=d.timers,e=0;for(va=d.now();e<a.length;e++)b=a[e],b()||a[e]!==b||a.splice(e--,1);a.length||d.fx.stop();va=c};d.fx.timer=function(b){b()&&d.timers.push(b)&&d.fx.start()};d.fx.interval=13;d.fx.start=function(){Ka||(Ka=setInterval(d.fx.tick,d.fx.interval))};d.fx.stop=function(){clearInterval(Ka);Ka=null};d.fx.speeds={slow:600,fast:200,_default:400};d.fx.step={};d.expr&&d.expr.filters&&(d.expr.filters.animated=function(b){return d.grep(d.timers,function(a){return b===a.elem}).length});
d.fn.offset=function(b){if(arguments.length)return b===c?this:this.each(function(a){d.offset.setOffset(this,b,a)});var a,e,g={top:0,left:0},m=(e=this[0])&&e.ownerDocument;if(m){a=m.documentElement;if(!d.contains(a,e))return g;typeof e.getBoundingClientRect!==f&&(g=e.getBoundingClientRect());e=oa(m);return{top:g.top+(e.pageYOffset||a.scrollTop)-(a.clientTop||0),left:g.left+(e.pageXOffset||a.scrollLeft)-(a.clientLeft||0)}}};d.offset={setOffset:function(b,a,c){var e=d.css(b,"position");"static"===e&&
(b.style.position="relative");var f=d(b),g=f.offset(),k=d.css(b,"top"),p=d.css(b,"left"),q={},z={};("absolute"===e||"fixed"===e)&&-1<d.inArray("auto",[k,p])?(z=f.position(),e=z.top,p=z.left):(e=parseFloat(k)||0,p=parseFloat(p)||0);d.isFunction(a)&&(a=a.call(b,c,g));null!=a.top&&(q.top=a.top-g.top+e);null!=a.left&&(q.left=a.left-g.left+p);"using"in a?a.using.call(b,q):f.css(q)}};d.fn.extend({position:function(){if(this[0]){var b,a,c={top:0,left:0},e=this[0];"fixed"===d.css(e,"position")?a=e.getBoundingClientRect():
(b=this.offsetParent(),a=this.offset(),d.nodeName(b[0],"html")||(c=b.offset()),c.top+=d.css(b[0],"borderTopWidth",!0),c.left+=d.css(b[0],"borderLeftWidth",!0));return{top:a.top-c.top-d.css(e,"marginTop",!0),left:a.left-c.left-d.css(e,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var b=this.offsetParent||C.documentElement;b&&!d.nodeName(b,"html")&&"static"===d.css(b,"position");)b=b.offsetParent;return b||C.documentElement})}});d.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},
function(b,a){var e=/Y/.test(a);d.fn[b]=function(f){return d.access(this,function(b,f,g){var n=oa(b);if(g===c)return n?a in n?n[a]:n.document.documentElement[f]:b[f];n?n.scrollTo(e?d(n).scrollLeft():g,e?g:d(n).scrollTop()):b[f]=g},b,f,arguments.length,null)}});d.each({Height:"height",Width:"width"},function(b,a){d.each({padding:"inner"+b,content:a,"":"outer"+b},function(e,f){d.fn[f]=function(f,g){var n=arguments.length&&(e||"boolean"!==typeof f),k=e||(!0===f||!0===g?"margin":"border");return d.access(this,
function(a,e,f){return d.isWindow(a)?a.document.documentElement["client"+b]:9===a.nodeType?(e=a.documentElement,Math.max(a.body["scroll"+b],e["scroll"+b],a.body["offset"+b],e["offset"+b],e["client"+b])):f===c?d.css(a,e,k):d.style(a,e,f,k)},a,n?f:c,n,null)}})});a.jQuery=a.$=d;"function"===typeof define&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return d})})(window);var WebMol=WebMol||{};
WebMol.Math={clamp:function(a,c,e){return Math.min(Math.max(a,c),e)},degToRad:function(){var a=Math.PI/180;return function(c){return c*a}}()};WebMol.Quaternion=function(a,c,e,k){this.x=a||0;this.y=c||0;this.z=e||0;this.w=void 0!==k?k:1};
WebMol.Quaternion.prototype={constructor:WebMol.Quaternion,set:function(a,c,e,k){this.x=a;this.y=c;this.z=e;this.w=k;return this},copy:function(a){this.x=a.x;this.y=a.y;this.z=a.z;this.w=a.w;return this},conjugate:function(){this.x*=-1;this.y*=-1;this.z*=-1;return this},inverse:function(){return this.conjugate().normalize()},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},normalize:function(){var a=this.length();0===a?(this.z=this.y=this.x=0,this.w=1):
(a=1/a,this.x*=a,this.y*=a,this.z*=a,this.w*=a);return this},multiply:function(a){return this.multiplyQuaternions(this,a)},multiplyQuaternions:function(a,c){var e=a.x,k=a.y,g=a.z,s=a.w,p=c.x,q=c.y,t=c.z,w=c.w;this.x=e*w+s*p+k*t-g*q;this.y=k*w+s*q+g*p-e*t;this.z=g*w+s*t+e*q-k*p;this.w=s*w-e*p-k*q-g*t}};WebMol.Vector2=function(a,c){this.x=a||0;this.y=c||0};
WebMol.Vector2.prototype={constructor:WebMol.Vector2,set:function(a,c){this.x=a;this.y=c;return this},subVectors:function(a,c){this.x=a.x-c.x;this.y=a.y-c.y;return this},copy:function(a){this.x=a.x;this.y=a.y;return this},clone:function(){return new WebMol.Vector2(this.x,this.y)}};WebMol.Vector3=function(a,c,e){this.x=a||0;this.y=c||0;this.z=e||0};
WebMol.Vector3.prototype={constructor:WebMol.Vector3,set:function(a,c,e){this.x=a;this.y=c;this.z=e;return this},copy:function(a){this.x=a.x;this.y=a.y;this.z=a.z;return this},add:function(a){this.x+=a.x;this.y+=a.y;this.z+=a.z;return this},addVectors:function(a,c){this.x=a.x+c.x;this.y=a.y+c.y;this.z=a.z+c.z;return this},sub:function(a){this.x-=a.x;this.y-=a.y;this.z-=a.z;return this},subVectors:function(a,c){this.x=a.x-c.x;this.y=a.y-c.y;this.z=a.z-c.z;return this},multiplyScalar:function(a){this.x*=
a;this.y*=a;this.z*=a;return this},divideScalar:function(a){0!==a?(this.x/=a,this.y/=a,this.z/=a):this.z=this.y=this.x=0;return this},distanceTo:function(a){return Math.sqrt(this.distanceToSquared(a))},distanceToSquared:function(a){var c=this.x-a.x,e=this.y-a.y;a=this.z-a.z;return c*c+e*e+a*a},applyMatrix4:function(a){var c=this.x,e=this.y,k=this.z;a=a.elements;this.x=a[0]*c+a[4]*e+a[8]*k+a[12];this.y=a[1]*c+a[5]*e+a[9]*k+a[13];this.z=a[2]*c+a[6]*e+a[10]*k+a[14];return this},applyProjection:function(a){var c=
this.x,e=this.y,k=this.z;a=a.elements;var g=a[3]*c+a[7]*e+a[11]*k+a[15];this.x=(a[0]*c+a[4]*e+a[8]*k+a[12])/g;this.y=(a[1]*c+a[5]*e+a[9]*k+a[13])/g;this.z=(a[2]*c+a[6]*e+a[10]*k+a[14])/g;return this},applyQuaternion:function(a){var c=this.x,e=this.y,k=this.z,g=a.x,s=a.y,p=a.z;a=a.w;var q=a*c+s*k-p*e,t=a*e+p*c-g*k,w=a*k+g*e-s*c,c=-a*c-s*e-p*k;this.x=q*a+c*-g+t*-p-w*-s;this.y=t*a+c*-s+w*-g-q*-p;this.z=w*a+c*-p+q*-s-t*-g;return this},negate:function(){return this.multiplyScalar(-1)},dot:function(a){return this.x*
a.x+this.y*a.y+this.z*a.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},normalize:function(){return this.divideScalar(this.length())},cross:function(a){var c=this.x,e=this.y,k=this.z;this.x=e*a.z-k*a.y;this.y=k*a.x-c*a.z;this.z=c*a.y-e*a.x;return this},crossVectors:function(a,c){this.x=a.y*c.z-a.z*c.y;this.y=a.z*c.x-a.x*c.z;this.z=a.x*c.y-a.y*c.x;return this},getPositionFromMatrix:function(a){this.x=
a.elements[12];this.y=a.elements[13];this.z=a.elements[14];return this},setEulerFromRotationMatrix:function(a,c){var e=a.elements,k=e[0],g=e[4],s=e[8],p=e[5],q=e[9],t=e[6],e=e[10];void 0===c||"XYZ"===c?(this.y=Math.asin(WebMol.Math.clamp(s,-1,1)),.99999>Math.abs(s)?(this.x=Math.atan2(-q,e),this.z=Math.atan2(-g,k)):(this.x=Math.atan2(t,p),this.z=0)):console.error("Error with vector's setEulerFromRotationMatrix: Unknown order: "+c);return this},clone:function(){return new WebMol.Vector3(this.x,this.y,
this.z)}};WebMol.Matrix3=function(a,c,e,k,g,s,p,q,t){this.elements=new Float32Array(9);this.set(void 0!==a?a:1,c||0,e||0,k||0,void 0!==g?g:1,s||0,p||0,q||0,void 0!==t?t:1)};
WebMol.Matrix3.prototype={constructor:WebMol.Matrix3,set:function(a,c,e,k,g,s,p,q,t){var w=this.elements;w[0]=a;w[3]=c;w[6]=e;w[1]=k;w[4]=g;w[7]=s;w[2]=p;w[5]=q;w[8]=t;return this},identity:function(){this.set(1,0,0,0,1,0,0,0,1);return this},copy:function(a){a=a.elements;this.set(a[0],a[3],a[6],a[1],a[4],a[7],a[2],a[5],a[8])},multiplyScalar:function(a){var c=this.elements;c[0]*=a;c[3]*=a;c[6]*=a;c[1]*=a;c[4]*=a;c[7]*=a;c[2]*=a;c[5]*=a;c[8]*=a;return this},getInverse:function(a,c){var e=a.elements,
k=this.elements;k[0]=e[10]*e[5]-e[6]*e[9];k[1]=-e[10]*e[1]+e[2]*e[9];k[2]=e[6]*e[1]-e[2]*e[5];k[3]=-e[10]*e[4]+e[6]*e[8];k[4]=e[10]*e[0]-e[2]*e[8];k[5]=-e[6]*e[0]+e[2]*e[4];k[6]=e[9]*e[4]-e[5]*e[8];k[7]=-e[9]*e[0]+e[1]*e[8];k[8]=e[5]*e[0]-e[1]*e[4];e=e[0]*k[0]+e[1]*k[3]+e[2]*k[6];if(0===e){if(c)throw Error("Matrix3.getInverse(): can't invert matrix, determinant is 0");console.warn("Matrix3.getInverse(): can't invert matrix, determinant is 0");this.identity();return this}this.multiplyScalar(1/e);return this},
transpose:function(){var a,c=this.elements;a=c[1];c[1]=c[3];c[3]=a;a=c[2];c[2]=c[6];c[6]=a;a=c[5];c[5]=c[7];c[7]=a;return this},clone:function(){var a=this.elements;return new WebMol.Matrix3(a[0],a[3],a[6],a[1],a[4],a[7],a[2],a[5],a[8])}};
WebMol.Matrix4=function(a,c,e,k,g,s,p,q,t,w,x,J,H,D,F,B){var v=this.elements=new Float32Array(16);v[0]=void 0!==a?a:1;v[4]=c||0;v[8]=e||0;v[12]=k||0;v[1]=g||0;v[5]=void 0!==s?s:1;v[9]=p||0;v[13]=q||0;v[2]=t||0;v[6]=w||0;v[10]=void 0!==x?x:1;v[14]=J||0;v[3]=H||0;v[7]=D||0;v[11]=F||0;v[15]=void 0!==B?B:1};
WebMol.Matrix4.prototype={constructor:WebMol.Matrix4,set:function(a,c,e,k,g,s,p,q,t,w,x,J,H,D,F,B){var v=this.elements;v[0]=a;v[4]=c;v[8]=e;v[12]=k;v[1]=g;v[5]=s;v[9]=p;v[13]=q;v[2]=t;v[6]=w;v[10]=x;v[14]=J;v[3]=H;v[7]=D;v[11]=F;v[15]=B;return this},identity:function(){this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1);return this},copy:function(a){a=a.elements;this.set(a[0],a[4],a[8],a[12],a[1],a[5],a[9],a[13],a[2],a[6],a[10],a[14],a[3],a[7],a[11],a[15]);return this},setRotationFromEuler:function(a,c){var e=
this.elements,k=a.x,g=a.y,s=a.z,p=Math.cos(k),k=Math.sin(k),q=Math.cos(g),g=Math.sin(g),t=Math.cos(s),s=Math.sin(s);if(void 0===c||"XYZ"===c){var w=p*t,x=p*s,J=k*t,H=k*s;e[0]=q*t;e[4]=-q*s;e[8]=g;e[1]=x+J*g;e[5]=w-H*g;e[9]=-k*q;e[2]=H-w*g;e[6]=J+x*g;e[10]=p*q}else console.error("Error with matrix4 setRotationFromEuler. Order: "+c);return this},setRotationFromQuaternion:function(a){var c=this.elements,e=a.x,k=a.y,g=a.z,s=a.w,p=e+e,q=k+k,t=g+g;a=e*p;var w=e*q,e=e*t,x=k*q,k=k*t,g=g*t,p=s*p,q=s*q,s=s*
t;c[0]=1-(x+g);c[4]=w-s;c[8]=e+q;c[1]=w+s;c[5]=1-(a+g);c[9]=k-p;c[2]=e-q;c[6]=k+p;c[10]=1-(a+x);return this},lookAt:function(){var a=new WebMol.Vector3,c=new WebMol.Vector3,e=new WebMol.Vector3;return function(k,g,s){var p=this.elements;e.subVectors(k,g).normalize();0===e.length()&&(e.z=1);a.crossVectors(s,e).normalize();0===a.length()&&(e.x+=1E-4,a.crossVectors(s,e).normalize());c.crossVectors(e,a);p[0]=a.x;p[4]=c.x;p[8]=e.x;p[1]=a.y;p[5]=c.y;p[9]=e.y;p[2]=a.z;p[6]=c.z;p[10]=e.z;return this}}(),
multiplyMatrices:function(a,c){var e=a.elements,k=c.elements,g=this.elements,s=e[0],p=e[4],q=e[8],t=e[12],w=e[1],x=e[5],J=e[9],H=e[13],D=e[2],F=e[6],B=e[10],v=e[14],A=e[3],u=e[7],I=e[11],e=e[15],T=k[0],M=k[4],O=k[8],G=k[12],y=k[1],K=k[5],P=k[9],Y=k[13],V=k[2],L=k[6],W=k[10],da=k[14],fa=k[3],ea=k[7],$=k[11],k=k[15];g[0]=s*T+p*y+q*V+t*fa;g[4]=s*M+p*K+q*L+t*ea;g[8]=s*O+p*P+q*W+t*$;g[12]=s*G+p*Y+q*da+t*k;g[1]=w*T+x*y+J*V+H*fa;g[5]=w*M+x*K+J*L+H*ea;g[9]=w*O+x*P+J*W+H*$;g[13]=w*G+x*Y+J*da+H*k;g[2]=D*T+
F*y+B*V+v*fa;g[6]=D*M+F*K+B*L+v*ea;g[10]=D*O+F*P+B*W+v*$;g[14]=D*G+F*Y+B*da+v*k;g[3]=A*T+u*y+I*V+e*fa;g[7]=A*M+u*K+I*L+e*ea;g[11]=A*O+u*P+I*W+e*$;g[15]=A*G+u*Y+I*da+e*k;return this},multiplyScalar:function(a){var c=this.elements;c[0]*=a;c[4]*=a;c[8]*=a;c[12]*=a;c[1]*=a;c[5]*=a;c[9]*=a;c[13]*=a;c[2]*=a;c[6]*=a;c[10]*=a;c[14]*=a;c[3]*=a;c[7]*=a;c[11]*=a;c[15]*=a;return this},transpose:function(){var a=this.elements,c;c=a[1];a[1]=a[4];a[4]=c;c=a[2];a[2]=a[8];a[8]=c;c=a[6];a[6]=a[9];a[9]=c;c=a[3];a[3]=
a[12];a[12]=c;c=a[7];a[7]=a[13];a[13]=c;c=a[11];a[11]=a[14];a[14]=c;return this},getPosition:function(){var a=new WebMol.Vector3;return function(){console.warn("DEPRECATED: Matrix4's .getPosition() has been removed. Use Vector3.getPositionFromMatrix( matrix ) instead.");var c=this.elements;return a.set(c[12],c[13],c[14])}}(),setPosition:function(a){var c=this.elements;c[12]=a.x;c[13]=a.y;c[14]=a.z;return this},getInverse:function(a,c){var e=this.elements,k=a.elements,g=k[0],s=k[4],p=k[8],q=k[12],
t=k[1],w=k[5],x=k[9],J=k[13],H=k[2],D=k[6],F=k[10],B=k[14],v=k[3],A=k[7],u=k[11],I=k[15];e[0]=x*B*A-J*F*A+J*D*u-w*B*u-x*D*I+w*F*I;e[4]=q*F*A-p*B*A-q*D*u+s*B*u+p*D*I-s*F*I;e[8]=p*J*A-q*x*A+q*w*u-s*J*u-p*w*I+s*x*I;e[12]=q*x*D-p*J*D-q*w*F+s*J*F+p*w*B-s*x*B;e[1]=J*F*v-x*B*v-J*H*u+t*B*u+x*H*I-t*F*I;e[5]=p*B*v-q*F*v+q*H*u-g*B*u-p*H*I+g*F*I;e[9]=q*x*v-p*J*v-q*t*u+g*J*u+p*t*I-g*x*I;e[13]=p*J*H-q*x*H+q*t*F-g*J*F-p*t*B+g*x*B;e[2]=w*B*v-J*D*v+J*H*A-t*B*A-w*H*I+t*D*I;e[6]=q*D*v-s*B*v-q*H*A+g*B*A+s*H*I-g*D*I;
e[10]=s*J*v-q*w*v+q*t*A-g*J*A-s*t*I+g*w*I;e[14]=q*w*H-s*J*H-q*t*D+g*J*D+s*t*B-g*w*B;e[3]=x*D*v-w*F*v-x*H*A+t*F*A+w*H*u-t*D*u;e[7]=s*F*v-p*D*v+p*H*A-g*F*A-s*H*u+g*D*u;e[11]=p*w*v-s*x*v-p*t*A+g*x*A+s*t*u-g*w*u;e[15]=s*x*H-p*w*H+p*t*D-g*x*D-s*t*F+g*w*F;e=k[0]*e[0]+k[1]*e[4]+k[2]*e[8]+k[3]*e[12];if(0===e){if(c)throw Error("Matrix4.getInverse(): can't invert matrix, determinant is 0");console.warn("Matrix4.getInverse(): can't invert matrix, determinant is 0");this.identity();return this}this.multiplyScalar(1/
e);return this},compose:function(){var a=new WebMol.Matrix4,c=new WebMol.Matrix4;return function(e,k,g){var s=this.elements;a.identity();a.setRotationFromQuaternion(k);c.makeScale(g.x,g.y,g.z);this.multiplyMatrices(a,c);s[12]=e.x;s[13]=e.y;s[14]=e.z;return this}}(),decompose:function(){var a=new WebMol.Vector3,c=new WebMol.Vector3,e=new WebMol.Vector3,k=new WebMol.Matrix4;return function(g,s,p){var q=this.elements;a.set(q[0],q[1],q[2]);c.set(q[4],q[5],q[6]);e.set(q[8],q[9],q[10]);g=g instanceof WebMol.Vector3?
g:new WebMol.Vector3;s=s instanceof WebMol.Quaternion?s:new WebMol.Quaternion;p=p instanceof Webmol.Vector3?p:new WebMol.Vector3;p.x=a.length();p.y=c.length();p.z=e.length();g.x=q[12];g.y=q[13];g.z=q[14];k.copy(this);k.elements[0]/=p.x;k.elements[1]/=p.x;k.elements[2]/=p.x;k.elements[4]/=p.y;k.elements[5]/=p.y;k.elements[6]/=p.y;k.elements[8]/=p.z;k.elements[9]/=p.z;k.elements[10]/=p.z;s.setFromRotationMatrix(k);return[g,s,p]}}(),scale:function(a){var c=this.elements,e=a.x,k=a.y;a=a.z;c[0]*=e;c[4]*=
k;c[8]*=a;c[1]*=e;c[5]*=k;c[9]*=a;c[2]*=e;c[6]*=k;c[10]*=a;c[3]*=e;c[7]*=k;c[11]*=a;return this},getMaxScaleOnAxis:function(){var a=this.elements;return Math.sqrt(Math.max(a[0]*a[0]+a[1]*a[1]+a[2]*a[2],Math.max(a[4]*a[4]+a[5]*a[5]+a[6]*a[6],a[8]*a[8]+a[9]*a[9]+a[10]*a[10])))},makeFrustum:function(a,c,e,k,g,s){var p=this.elements;p[0]=2*g/(c-a);p[4]=0;p[8]=(c+a)/(c-a);p[12]=0;p[1]=0;p[5]=2*g/(k-e);p[9]=(k+e)/(k-e);p[13]=0;p[2]=0;p[6]=0;p[10]=-(s+g)/(s-g);p[14]=-2*s*g/(s-g);p[3]=0;p[7]=0;p[11]=-1;p[15]=
0;return this},makePerspective:function(a,c,e,k){a=e*Math.tan(WebMol.Math.degToRad(.5*a));var g=-a;return this.makeFrustum(g*c,a*c,g,a,e,k)},clone:function(){var a=this.elements;return new WebMol.Matrix4(a[0],a[4],a[8],a[12],a[1],a[5],a[9],a[13],a[2],a[6],a[10],a[14],a[3],a[7],a[11],a[15])}};WebMol.Ray=function(a,c){this.origin=void 0!==a?a:new WebMol.Vector3;this.direction=void 0!==c?c:new WebMol.Vector3};
WebMol.Ray.prototype={constructor:WebMol.Ray,set:function(a,c){this.origin.copy(a);this.direction.copy(c);return this},copy:function(a){this.origin.copy(a.origin);this.direction.copy(a.direction);return this},at:function(a,c){return(c||new WebMol.Vector3).copy(this.direction).multiplyScalar(a).add(this.origin)},recast:function(){var a=new WebMol.Vector3;return function(c){this.origin.copy(this.at(c,a));return this}}(),closestPointToPoint:function(a,c){var e=c||new WebMol.Vector3;e.subVectors(a,this.origin);
var k=e.dot(this.direction);return e.copy(this.direction).multiplyScalar(k).add(this.origin)},distanceToPoint:function(){var a=new WebMol.Vector3;return function(c){var e=a.subVectors(c,this.origin).dot(this.direction);a.copy(this.direction).multiplyScalar(e).add(this.origin);return a.distanceTo(c)}}(),isIntersectionCylinder:function(){},isIntersectionSphere:function(a){return this.distanceToPoint(a.center)<=a.radius},isIntersectionPlane:function(a){return 0!==a.normal.dot(this.direction)||0===a.distanceToPoint(this.origin)?
!0:!1},distanceToPlane:function(a){var c=a.normal.dot(this.direction);if(0===c){if(0===a.distanceToPoint(this.origin))return 0}else return-(this.origin.dot(a.normal)+a.constant)/c},intersectPlane:function(a,c){var e=this.distanceToPlane(a);return void 0===e?void 0:this.at(e,c)},applyMatrix4:function(a){this.direction.add(this.origin).applyMatrix4(a);this.origin.applyMatrix4(a);this.direction.sub(this.origin);return this},equals:function(a){return a.origin.equals(this.origin)&&a.direction.equals(this.direction)},
clone:function(){return(new WebMol.Ray).copy(this)}};WebMol.Sphere=function(a,c){this.center=void 0!==a?a:new WebMol.Vector3;this.radius=void 0!==c?c:0};
WebMol.Sphere.prototype={constructor:WebMol.Sphere,set:function(a,c){this.center.copy(a);this.radius=c;return this},copy:function(a){this.center.copy(a.center);this.radius=a.radius;return this},applyMatrix4:function(a){this.center.applyMatrix4(a);this.radius*=a.getMaxScaleOnAxis();return this},translate:function(a){this.center.add(a);return this},equals:function(a){return a.center.equals(this.center)&&a.radius===this.radius},clone:function(){return(new WebMol.Sphere).copy(this)}};
WebMol.Cylinder=function(a,c,e){this.c1=void 0!==a?a:new WebMol.Vector3;this.c2=void 0!==c?c:new WebMol.Vector3;this.direction=(new WebMol.Vector3).subVectors(this.c2,this.c1).normalize();this.radius=void 0!==e?e:0};
WebMol.Cylinder.prototype={constructor:WebMol.Cylinder,copy:function(a){this.c1.copy(a.c1);this.c2.copy(a.c2);this.direction.copy(a.direction);this.radius=a.radius;return this},lengthSq:function(){var a=new WebMol.Vector3;return function(){return a.subVectors(this.c2,this.c1).lengthSq()}}(),applyMatrix4:function(a){this.direction.add(this.c1).applyMatrix4(a);this.c1.applyMatrix4(a);this.c2.applyMatrix4(a);this.direction.sub(this.c1).normalize();this.radius*=a.getMaxScaleOnAxis();return this}};
WebMol.Triangle=function(a,c,e){this.a=void 0!==a?a:new WebMol.Vector3;this.b=void 0!==c?c:new WebMol.Vector3;this.c=void 0!==e?e:new WebMol.Vector3};
WebMol.Triangle.prototype={constructor:WebMol.Triangle,copy:function(a){this.a.copy(a.a);this.b.copy(a.b);this.c.copy(a.c);return this},applyMatrix4:function(a){this.a.applyMatrix4(a);this.b.applyMatrix4(a);this.c.applyMatrix4(a);return this},getNormal:function(){var a=new WebMol.Vector3;return function(){var c=this.a.clone();c.sub(this.b);a.subVectors(this.c,this.b);c.cross(a);c.normalize();return c}}()};
WebMol.EventDispatcher=function(){var a={};this.addEventListener=function(c,e){void 0===a[c]&&(a[c]=[]);-1===a[c].indexOf(e)&&a[c].push(e)};this.removeEventListener=function(c,e){var k=a[c].indexOf(e);-1!==k&&a[c].splice(k,1)};this.dispatchEvent=function(c){var e=a[c.type];if(void 0!==e){c.target=this;for(var k=0,g=e.length;k<g;k++)e[k].call(this,c)}}};WebMol.Color=function(a){return 1<arguments.length?(this.r=arguments[0]||0,this.g=arguments[1]||0,this.b=arguments[2]||0,this):this.set(a)};
WebMol.Color.prototype={constructor:WebMol.Color,r:0,g:0,b:0,set:function(a){if(a instanceof WebMol.Color)return a.clone();"number"===typeof a&&this.setHex(a)},setHex:function(a){a=Math.floor(a);this.r=(a>>16&255)/255;this.g=(a>>8&255)/255;this.b=(a&255)/255;return this},clone:function(){return new WebMol.Color(this.r,this.g,this.b)},copy:function(a){this.r=a.r;this.g=a.g;this.b=a.b;return this}};
WebMol.Object3D=function(){this.id=WebMol.Object3DIDCount++;this.name="";this.parent=void 0;this.children=[];this.position=new WebMol.Vector3;this.rotation=new WebMol.Vector3;this.matrix=new WebMol.Matrix4;this.matrixWorld=new WebMol.Matrix4;this.quaternion=new WebMol.Quaternion;this.eulerOrder="XYZ";this.up=new WebMol.Vector3(0,1,0);this.scale=new WebMol.Vector3(1,1,1);this.rotationAutoUpdate=this.matrixWorldNeedsUpdate=this.matrixAutoUpdate=!0;this.useQuaternion=!1;this.visible=!0};
WebMol.Object3D.prototype={constructor:WebMol.Object3D,lookAt:function(a){this.matrix.lookAt(a,this.position,this.up);this.rotationAutoUpdate&&(!0===this.useQuaternion?this.quaternion.copy(this.matrix.decompose()[1]):this.rotation.setEulerFromRotationMatrix(this.matrix,this.eulerOrder))},add:function(a){if(a===this)console.error("Can't add WebMol.Object3D to itself");else{a.parent=this;this.children.push(a);for(var c=this;void 0!==c.parent;)c=c.parent;void 0!==c&&c instanceof WebMol.Scene&&c.__addObject(a)}},
remove:function(a){var c=this.children.indexOf(a);if(-1!==c){a.parent=void 0;this.children.splice(c,1);for(c=this;void 0!==c.parent;)c=c.parent;void 0!==c&&c instanceof WebMol.Scene&&c.__removeObject(a)}},updateMatrix:function(){this.matrix.setPosition(this.position);!1===this.useQuaternion?this.matrix.setRotationFromEuler(this.rotation,this.eulerOrder):this.matrix.setRotationFromQuaternion(this.quaternion);1===this.scale.x&&1===this.scale.y&&1===this.scale.z||this.matrix.scale(this.scale);this.matrixWorldNeedsUpdate=
!0},updateMatrixWorld:function(a){!0===this.matrixAutoUpdate&&this.updateMatrix();if(!0===this.matrixWorldNeedsUpdate||!0===a)void 0===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix);this.matrixWorldNeedsUpdate=!1;for(a=0;a<this.children.length;a++)this.children[a].updateMatrixWorld(!0)},clone:function(a){void 0===a&&(a=new WebMol.Object3D);a.name=this.name;a.up.copy(this.up);a.position.copy(this.position);a.rotation.copy(this.rotation);
a.eulerOrder=this.eulerOrder;a.scale.copy(this.scale);a.rotationAutoUpdate=this.rotationAutoUpdate;a.matrix.copy(this.matrix);a.matrixWorld.copy(this.matrixWorld);a.quaternion.copy(this.quaternion);a.useQuaternion=this.useQuaternion;a.visible=this.visible;for(var c=0;c<this.children.length;c++)a.add(this.children[c].clone());return a}};WebMol.Object3DIDCount=0;
WebMol.Geometry=function(){var a=function(a,c,e){if(null===a||void 0===a)return 0===c?new Uint16Array:new Float32Array;if(0===c)return new Uint16Array(a.buffer.slice(a.byteOffset,2*e));if(1===c)return new Float32Array(a.buffer.slice(a.byteOffset,4*e))},c=function(a){this.id=a||0;this.__lineArray=this.__faceArray=this.__normalArray=this.__colorArray=this.__vertexArray=null;this.lineidx=this.faceidx=this.vertices=0};c.prototype.getCentroid=function(){for(var a=new WebMol.Vector3,c,e,k,t=0;t<this.vertices;++t)c=
3*t,e=this.__vertexArray[c],k=this.__vertexArray[c+1],c=this.__vertexArray[c+2],a.x+=e,a.y+=k,a.z+=c;a.divideScalar(this.vertices);return a};c.prototype.setNormals=function(){var a=this.__faceArray,c=this.__vertexArray,e=this.__normalArray;if(this.vertices&&this.faceidx)for(var k,t,w,x,J,H,D=0;D<a.length/3;++D)k=3*a[3*D],t=3*a[3*D+1],w=3*a[3*D+2],x=new WebMol.Vector3(c[k],c[k+1],c[k+2]),J=new WebMol.Vector3(c[t],c[t+1],c[t+2]),H=new WebMol.Vector3(c[w],c[w+1],c[w+2]),x.subVectors(x,J),H.subVectors(H,
J),H.cross(x),x=H,x.normalize(),e[k]+=x.x,e[t]+=x.x,e[w]+=x.x,e[k+1]+=x.y,e[t+1]+=x.y,e[w+1]+=x.y,e[k+2]+=x.z,e[t+2]+=x.z,e[w+2]+=x.z};c.prototype.setLineIndices=function(){if(this.faceidx){var a=this.__faceArray,c=this.__lineArray=new Uint16Array(2*this.faceidx);this.lineidx=2*this.faceidx;for(var e,k=0;k<this.faceidx/3;++k){e=3*k;lineoffset=2*e;var t=a[e],w=a[e+1];e=a[e+2];c[lineoffset]=t;c[lineoffset+1]=w;c[lineoffset+2]=t;c[lineoffset+3]=e;c[lineoffset+4]=w;c[lineoffset+5]=e}}};c.prototype.truncateArrayBuffers=
function(c){c=!0===c?!0:!1;var e=this.__colorArray,k=this.__normalArray,q=this.__faceArray,t=this.__lineArray;this.__vertexArray=a(this.__vertexArray,1,3*this.vertices);this.__colorArray=a(e,1,3*this.vertices);c?(this.__normalArray=a(k,1,3*this.vertices),this.__faceArray=a(q,0,this.faceidx),this.__lineArray=a(t,0,this.lineidx)):(this.__normalArray=a(k,1,0),this.__faceArray=a(q,0,0),this.__lineArray=a(t,0,0));this.__inittedArrays=!0};var e=function(a){var e=new c(a.geometryGroups.length);a.geometryGroups.push(e);
a.groups=a.geometryGroups.length;e.__vertexArray=new Float32Array(196605);e.__colorArray=new Float32Array(196605);a.mesh&&(e.__normalArray=new Float32Array(196605),e.__faceArray=new Uint16Array(393210),e.__lineArray=new Uint16Array(393210));return e},k=function(a){WebMol.EventDispatcher.call(this);this.id=WebMol.GeometryIDCount++;this.name="";this.hasTangents=!1;this.dynamic=!0;this.mesh=!0===a?!0:!1;this.buffersNeedUpdate=this.colorsNeedUpdate=this.normalsNeedUpdate=this.elementsNeedUpdate=this.verticesNeedUpdate=
!1;this.geometryGroups=[];this.groups=0};k.prototype={constructor:k,updateGeoGroup:function(a){var c=0<this.groups?this.geometryGroups[this.groups-1]:null;if(!c||65535<c.vertices+(a||0))c=e(this);return c},addGeoGroup:function(){return e(this)},setUpNormals:function(a){a=a||!1;for(var c=0;c<this.groups;c++)this.geometryGroups[c].setNormals(a)},setUpWireframe:function(){for(var a=0;a<this.groups;a++)this.geometryGroups[a].setLineIndices()},initTypedArrays:function(){for(var a=0;a<this.groups;a++){var c=
this.geometryGroups[a];!0!==c.__inittedArrays&&c.truncateArrayBuffers(this.mesh)}},dispose:function(){this.dispatchEvent({type:"dispose"})}};return k}();Object.defineProperty(WebMol.Geometry.prototype,"vertices",{get:function(){for(var a=0,c=0;c<this.groups;c++)a+=this.geometryGroups[c].vertices;return a}});WebMol.GeometryIDCount=0;
WebMol.Raycaster=function(){var a=function(a,c,e,g){this.ray=new WebMol.Ray(a,c);0<this.ray.direction.lengthSq()&&this.ray.direction.normalize();this.near=g||0;this.far=e||Infinity},c=new WebMol.Sphere,e=new WebMol.Cylinder,k=new WebMol.Triangle,g=new WebMol.Vector3,s=new WebMol.Vector3,p=new WebMol.Vector3,q=new WebMol.Vector3;new WebMol.Ray;new WebMol.Vector3;var t=new WebMol.Vector3;new WebMol.Matrix4;var w=function(a,c){return a.distance-c.distance},x=function(a){return Math.min(Math.max(a,-1),
1)};a.prototype.precision=1E-4;a.prototype.linePrecision=.2;a.prototype.set=function(a,c){this.ray.set(a,c)};a.prototype.intersectObjects=function(a,H){for(var D=[],F=0,B=H.length;F<B;F++)a:{var v=a,A=H[F],u=D;t.getPositionFromMatrix(v.matrixWorld);if(!0===A.clickable&&void 0!==A.intersectionShape){var I=A.intersectionShape,T=this.linePrecision,T=T*v.matrixWorld.getMaxScaleOnAxis(),T=T*T;if(void 0!==A.boundingSphere&&A.boundingSphere instanceof WebMol.Sphere&&(c.copy(A.boundingSphere),c.applyMatrix4(v.matrixWorld),
!this.ray.isIntersectionSphere(c)))break a;for(var M=void 0,O=void 0,G=void 0,y=void 0,K=G=void 0,P=void 0,Y=void 0,V=void 0,L=void 0,W=L=K=y=void 0,M=0,O=I.triangle.length;M<O;M++)I.triangle[M]instanceof WebMol.Triangle&&(k.copy(I.triangle[M]),k.applyMatrix4(v.matrixWorld),G=k.getNormal(),y=this.ray.direction.dot(G),0<=y||(g.subVectors(k.a,this.ray.origin),P=G.dot(g)/y,0>P||(s.copy(this.ray.direction).multiplyScalar(P).add(this.ray.origin),s.sub(k.a),p.copy(k.b).sub(k.a),q.copy(k.c).sub(k.a),y=p.dot(q),
G=p.lengthSq(),K=q.lengthSq(),K=(G*s.dot(q)-y*s.dot(p))/(G*K-y*y),0>K||1<K||(y=(s.dot(p)-K*y)/G,0>y||1<y||1<y+K||u.push({clickable:A,distance:P})))));M=0;for(O=I.cylinder.length;M<O;M++)I.cylinder[M]instanceof WebMol.Cylinder&&(e.copy(I.cylinder[M]),e.applyMatrix4(v.matrixWorld),g.subVectors(e.c1,this.ray.origin),G=g.dot(e.direction),K=g.dot(this.ray.direction),y=x(this.ray.direction.dot(e.direction)),V=1-y*y,0!==V&&(L=(y*K-G)/V,W=(K-y*G)/V,s.copy(e.direction).multiplyScalar(L).add(e.c1),p.copy(this.ray.direction).multiplyScalar(W).add(this.ray.origin),
Y=q.subVectors(s,p).lengthSq(),L=e.radius*e.radius,Y<=L&&(L=(y*G-K)*(y*G-K)-V*(g.lengthSq()-G*G-L),K=0>=L?P=Math.sqrt(Y):P=(K-y*G-Math.sqrt(L))/V,y=y*K-G,0>y||y*y>e.lengthSq()||0>K||u.push({clickable:A,distance:P}))));M=0;for(O=I.line.length;M<O;M+=2)s.copy(I.line[M]),s.applyMatrix4(v.matrixWorld),p.copy(I.line[M+1]),p.applyMatrix4(v.matrixWorld),q.subVectors(p,s),P=q.lengthSq(),q.normalize(),g.subVectors(s,this.ray.origin),lineProj=g.dot(q),K=g.dot(this.ray.direction),y=x(this.ray.direction.dot(q)),
V=1-y*y,0!==V&&(L=(y*K-lineProj)/V,W=(K-y*lineProj)/V,s.add(q.multiplyScalar(L)),p.copy(this.ray.direction).multiplyScalar(W).add(this.ray.origin),Y=q.subVectors(p,s).lengthSq(),Y<T&&L*L<P&&u.push({clickable:A,distance:W}));M=0;for(O=I.sphere.length;M<O;M++)if(I.sphere[M]instanceof WebMol.Sphere&&(c.copy(I.sphere[M]),c.applyMatrix4(v.matrixWorld),this.ray.isIntersectionSphere(c))){s.subVectors(c.center,this.ray.origin);v=s.dot(this.ray.direction);L=v*v-(s.lengthSq()-c.radius*c.radius);if(0>v)break a;
P=0>=L?v:v-Math.sqrt(L);u.push({clickable:A,distance:P});break a}}}D.sort(w);return D};return a}();WebMol.Projector=function(){new WebMol.Matrix4;var a=new WebMol.Matrix4;this.projectVector=function(c,e){e.matrixWorldInverse.getInverse(e.matrixWorld);a.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse);return c.applyProjection(a)};this.unprojectVector=function(c,e){e.projectionMatrixInverse.getInverse(e.projectionMatrix);a.multiplyMatrices(e.matrixWorld,e.projectionMatrixInverse);return c.applyProjection(a)}};
WebMol.Camera=function(a,c,e,k){WebMol.Object3D.call(this);this.fov=void 0!==a?a:50;this.aspect=void 0!==c?c:1;this.near=void 0!==e?e:.1;this.far=void 0!==k?k:2E3;this.projectionMatrix=new WebMol.Matrix4;this.projectionMatrixInverse=new WebMol.Matrix4;this.matrixWorldInverse=new WebMol.Matrix4;this.updateProjectionMatrix()};WebMol.Camera.prototype=Object.create(WebMol.Object3D.prototype);
WebMol.Camera.prototype.lookAt=function(a){this.matrix.lookAt(this.position,a,this.up);this.rotationAutoUpdate&&(!1===this.useQuaternion?this.rotation.setEulerFromRotationMatrix(this.matrix,this.eulerOrder):this.quaternion.copy(this.matrix.decompose()[1]))};WebMol.Camera.prototype.updateProjectionMatrix=function(){this.projectionMatrix.makePerspective(this.fov,this.aspect,this.near,this.far)};
WebMol.SpritePlugin=function(){function a(a,c){return a.z!==c.z?c.z-a.z:c.id-a.id}var c,e,k,g,s,p,q,t,w,x;this.init=function(a){c=a.context;e=a;k=a.getPrecision();g=new Float32Array(16);s=new Uint16Array(6);a=0;g[a++]=-1;g[a++]=-1;g[a++]=0;g[a++]=0;g[a++]=1;g[a++]=-1;g[a++]=1;g[a++]=0;g[a++]=1;g[a++]=1;g[a++]=1;g[a++]=1;g[a++]=-1;g[a++]=1;g[a++]=0;g[a++]=1;a=0;s[a++]=0;s[a++]=1;s[a++]=2;s[a++]=0;s[a++]=2;s[a++]=3;p=c.createBuffer();q=c.createBuffer();c.bindBuffer(c.ARRAY_BUFFER,p);c.bufferData(c.ARRAY_BUFFER,
g,c.STATIC_DRAW);c.bindBuffer(c.ELEMENT_ARRAY_BUFFER,q);c.bufferData(c.ELEMENT_ARRAY_BUFFER,s,c.STATIC_DRAW);a=WebMol.ShaderLib.sprite;var H=k,D=c.createProgram(),F=c.createShader(c.FRAGMENT_SHADER),B=c.createShader(c.VERTEX_SHADER),H="precision "+H+" float;\n";c.shaderSource(F,H+a.fragmentShader);c.shaderSource(B,H+a.vertexShader);c.compileShader(F);c.compileShader(B);c.getShaderParameter(F,c.COMPILE_STATUS)&&c.getShaderParameter(B,c.COMPILE_STATUS)?(c.attachShader(D,F),c.attachShader(D,B),c.linkProgram(D),
c.getProgramParameter(D,c.LINK_STATUS)||console.error("Could not initialize shader"),a=D):(console.error(c.getShaderInfoLog(F)),console.error("could not initialize shader"),a=null);t=a;w={};x={};w.position=c.getAttribLocation(t,"position");w.uv=c.getAttribLocation(t,"uv");x.uvOffset=c.getUniformLocation(t,"uvOffset");x.uvScale=c.getUniformLocation(t,"uvScale");x.rotation=c.getUniformLocation(t,"rotation");x.scale=c.getUniformLocation(t,"scale");x.alignment=c.getUniformLocation(t,"alignment");x.color=
c.getUniformLocation(t,"color");x.map=c.getUniformLocation(t,"map");x.opacity=c.getUniformLocation(t,"opacity");x.useScreenCoordinates=c.getUniformLocation(t,"useScreenCoordinates");x.sizeAttenuation=c.getUniformLocation(t,"sizeAttenuation");x.screenPosition=c.getUniformLocation(t,"screenPosition");x.modelViewMatrix=c.getUniformLocation(t,"modelViewMatrix");x.projectionMatrix=c.getUniformLocation(t,"projectionMatrix");x.fogType=c.getUniformLocation(t,"fogType");x.fogDensity=c.getUniformLocation(t,
"fogDensity");x.fogNear=c.getUniformLocation(t,"fogNear");x.fogFar=c.getUniformLocation(t,"fogFar");x.fogColor=c.getUniformLocation(t,"fogColor");x.alphaTest=c.getUniformLocation(t,"alphaTest")};this.render=function(g,k,s,F){var B=g.__webglSprites,v=B.length;if(v){var A=w,u=x,I=F/s;s*=.5;var T=.5*F;c.useProgram(t);c.enableVertexAttribArray(A.position);c.enableVertexAttribArray(A.uv);c.disable(c.CULL_FACE);c.enable(c.BLEND);c.bindBuffer(c.ARRAY_BUFFER,p);c.vertexAttribPointer(A.position,2,c.FLOAT,
!1,16,0);c.vertexAttribPointer(A.uv,2,c.FLOAT,!1,16,8);c.bindBuffer(c.ELEMENT_ARRAY_BUFFER,q);c.uniformMatrix4fv(u.projectionMatrix,!1,k.projectionMatrix.elements);c.activeTexture(c.TEXTURE0);c.uniform1i(u.map,0);var M=A=0;(A=g.fog)?(c.uniform3f(u.fogColor,A.color.r,A.color.g,A.color.b),c.uniform1f(u.fogNear,A.near),c.uniform1f(u.fogFar,A.far),c.uniform1i(u.fogType,1),M=A=1):(c.uniform1i(u.fogType,0),M=A=0);var O,G,y,K=[];for(O=0;O<v;O++)G=B[O],y=G.material,G.visible&&0!==y.opacity&&(y.useScreenCoordinates?
G.z=-G.position.z:(G._modelViewMatrix.multiplyMatrices(k.matrixWorldInverse,G.matrixWorld),G.z=-G._modelViewMatrix.elements[14]));B.sort(a);for(O=0;O<v;O++)G=B[O],y=G.material,G.visible&&0!==y.opacity&&y.map&&y.map.image&&y.map.image.width&&(c.uniform1f(u.alphaTest,y.alphaTest),!0===y.useScreenCoordinates?(c.uniform1i(u.useScreenCoordinates,1),c.uniform3f(u.screenPosition,(G.position.x*e.devicePixelRatio-s)/s,(T-G.position.y*e.devicePixelRatio)/T,Math.max(0,Math.min(1,G.position.z))),K[0]=e.devicePixelRatio,
K[1]=e.devicePixelRatio):(c.uniform1i(u.useScreenCoordinates,0),c.uniform1i(u.sizeAttenuation,y.sizeAttenuation?1:0),c.uniformMatrix4fv(u.modelViewMatrix,!1,G._modelViewMatrix.elements),K[0]=1,K[1]=1),k=g.fog&&y.fog?M:0,A!==k&&(c.uniform1i(u.fogType,k),A=k),k=1/(y.scaleByViewport?F:1),K[0]=K[0]*k*I*G.scale.x,K[1]=K[1]*k*G.scale.y,c.uniform2f(u.uvScale,y.uvScale.x,y.uvScale.y),c.uniform2f(u.uvOffset,y.uvOffset.x,y.uvOffset.y),c.uniform2f(u.alignment,y.alignment.x,y.alignment.y),c.uniform1f(u.opacity,
y.opacity),c.uniform3f(u.color,y.color.r,y.color.g,y.color.b),c.uniform1f(u.rotation,G.rotation),c.uniform2fv(u.scale,K),e.setDepthTest(y.depthTest),e.setDepthWrite(y.depthWrite),e.setTexture(y.map,0),c.drawElements(c.TRIANGLES,6,c.UNSIGNED_SHORT,0));c.enable(c.CULL_FACE)}}};WebMol.Light=function(a,c){WebMol.Object3D.call(this);this.color=new WebMol.Color(a);this.position=new WebMol.Vector3(0,1,0);this.target=new WebMol.Object3D;this.intensity=void 0!==c?c:1;this.onlyShadow=this.castShadow=!1};
WebMol.Light.prototype=Object.create(WebMol.Object3D.prototype);WebMol.Material=function(){WebMol.EventDispatcher.call(this);this.id=WebMol.MaterialIdCount++;this.name="";this.side=WebMol.FrontSide;this.opacity=1;this.transparent=!1;this.blending=WebMol.NormalBlending;this.depthWrite=this.depthTest=!0;this.polygonOffset=!1;this.alphaTest=this.polygonOffsetUnits=this.polygonOffsetFactor=0;this.needsUpdate=this.visible=!0};
WebMol.Material.prototype.setValues=function(a){if(void 0!==a)for(var c in a){var e=a[c];if(void 0===e)console.warn("WebMol.Material: '"+c+"' parameter is undefined.");else if(c in this){var k=this[c];k instanceof WebMol.Color&&e instanceof WebMol.Color?k.copy(e):k instanceof WebMol.Color?k.set(e):k instanceof WebMol.Vector3&&e instanceof WebMol.Vector3?k.copy(e):this[c]=e}}};
WebMol.Material.prototype.clone=function(a){void 0===a&&(a=new WebMol.Material);a.name=this.name;a.side=this.side;a.opacity=this.opacity;a.transparent=this.transparent;a.blending=this.blending;a.depthTest=this.depthTest;a.depthWrite=this.depthWrite;a.polygonOffset=this.polygonOffset;a.polygonOffsetFactor=this.polygonOffsetFactor;a.polygonOffsetUnits=this.polygonOffsetUnits;a.alphaTest=this.alphaTest;a.overdraw=this.overdraw;a.visible=this.visible;return a};WebMol.Material.prototype.dispose=function(){this.dispatchEvent({type:"dispose"})};
WebMol.MaterialIdCount=0;WebMol.LineBasicMaterial=function(a){WebMol.Material.call(this);this.color=new WebMol.Color(16777215);this.linewidth=1;this.linejoin=this.linecap="round";this.vertexColors=!1;this.fog=!0;this.setValues(a)};WebMol.LineBasicMaterial.prototype=Object.create(WebMol.Material.prototype);WebMol.LineBasicMaterial.prototype.clone=function(){var a=new WebMol.LineBasicMaterial;WebMol.Material.prototype.clone.call(this,a);a.color.copy()};
WebMol.MeshLambertMaterial=function(a){WebMol.Material.call(this);this.color=new WebMol.Color(16777215);this.ambient=new WebMol.Color(1048575);this.emissive=new WebMol.Color(0);this.wrapAround=!1;this.wrapRGB=new WebMol.Vector3(1,1,1);this.envMap=this.specularMap=this.lightMap=this.map=null;this.reflectivity=1;this.refractionRatio=.98;this.fog=!0;this.wireframe=!1;this.wireframeLinewidth=1;this.wireframeLinejoin=this.wireframeLinecap="round";this.shading=WebMol.SmoothShading;this.vertexColors=WebMol.NoColors;
this.skinning=!1;this.setValues(a)};WebMol.MeshLambertMaterial.prototype=Object.create(WebMol.Material.prototype);
WebMol.MeshLambertMaterial.prototype.clone=function(){var a=new WebMol.MeshLambertMaterial;WebMol.Material.prototype.clone.call(this,a);a.color.copy(this.color);a.ambient.copy(this.ambient);a.emissive.copy(this.emissive);a.wrapAround=this.wrapAround;a.wrapRGB.copy(this.wrapRGB);a.map=this.map;a.lightMap=this.lightMap;a.specularMap=this.specularMap;a.envMap=this.envMap;a.combine=this.combine;a.reflectivity=this.reflectivity;a.refractionRatio=this.refractionRatio;a.fog=this.fog;a.shading=this.shading;
a.vertexColors=this.vertexColors;a.skinning=this.skinning;a.morphTargets=this.morphTargets;a.morphNormals=this.morphNormals;return a};
WebMol.SpriteMaterial=function(a){WebMol.Material.call(this);this.color=new WebMol.Color(16777215);this.map=new WebMol.Texture;this.useScreenCoordinates=!0;this.depthTest=!this.useScreenCoordinates;this.sizeAttenuation=!this.useScreenCoordinates;this.scaleByViewPort=!this.sizeAttenuation;this.alignment=WebMol.SpriteAlignment.center.clone();this.fog=!1;this.uvOffset=new WebMol.Vector2(0,0);this.uvScale=new WebMol.Vector2(1,1);this.setValues(a);a=a||{};void 0===a.depthTest&&(this.depthTest=!this.useScreenCoordinates);
void 0===a.sizeAttenuation&&(this.sizeAttenuation=!this.useScreenCoordinates);void 0===a.scaleByViewPort&&(this.scaleByViewPort=!this.sizeAttenuation)};WebMol.SpriteMaterial.prototype=Object.create(WebMol.Material.prototype);
WebMol.SpriteMaterial.prototype.clone=function(){var a=new WebMol.SpriteMaterial;WebMol.Material.prototype.clone.call(this,a);a.color.copy(this.color);a.map=this.map;a.useScreenCoordinates=useScreenCoordinates;a.sizeAttenuation=this.sizeAttenuation;a.scaleByViewport=this.scaleByViewPort;a.alignment.copy(this.alignment);a.uvOffset.copy(this.uvOffset);return a};WebMol.SpriteAlignment={};WebMol.SpriteAlignment.topLeft=new WebMol.Vector2(1,-1);WebMol.SpriteAlignment.topCenter=new WebMol.Vector2(0,-1);
WebMol.SpriteAlignment.topRight=new WebMol.Vector2(-1,-1);WebMol.SpriteAlignment.centerLeft=new WebMol.Vector2(1,0);WebMol.SpriteAlignment.center=new WebMol.Vector2(0,0);WebMol.SpriteAlignment.centerRight=new WebMol.Vector2(-1,0);WebMol.SpriteAlignment.bottomLeft=new WebMol.Vector2(1,1);WebMol.SpriteAlignment.bottomCenter=new WebMol.Vector2(0,1);WebMol.SpriteAlignment.bottomRight=new WebMol.Vector2(-1,1);
WebMol.Texture=function(a){WebMol.EventDispatcher.call(this);this.id=WebMol.TextureIdCount++;this.name="";this.image=a;this.mipmaps=[];this.mapping=new WebMol.UVMapping;this.wrapT=this.wrapS=WebMol.ClampToEdgeWrapping;this.magFilter=WebMol.LinearFilter;this.minFilter=WebMol.LinearMipMapLinearFilter;this.anisotropy=1;this.format=WebMol.RGBAFormat;this.type=WebMol.UnsignedByteType;this.offset=new WebMol.Vector2(0,0);this.repeat=new WebMol.Vector2(1,1);this.generateMipmaps=!0;this.premultiplyAlpha=!1;
this.flipY=!0;this.unpackAlignment=4;this.needsUpdate=!1;this.onUpdate=null};
WebMol.Texture.prototype={constructor:WebMol.Texture,clone:function(a){void 0===a&&(a=new WebMol.Texture);a.image=this.image;a.mipmaps=this.mipmaps.slice(0);a.mapping=this.mapping;a.wrapS=this.wrapS;a.wrapT=this.wrapT;a.magFilter=this.magFilter;a.minFilter=this.minFilter;a.anisotropy=this.anisotropy;a.format=this.format;a.type=this.type;a.offset.copy(this.offset);a.repeat.copy(this.repeat);a.generateMipmaps=this.generateMipmaps;a.premultiplyAlpha=this.premultiplyAlpha;a.flipY=this.flipY;a.unpackAlignment=
this.unpackAlignment;return a},dispose:function(){this.dispatchEvent({type:"dispose"})}};WebMol.TextureIdCount=0;WebMol.FrontSide=0;WebMol.BackSide=1;WebMol.DoubleSide=2;WebMol.NoBlending=0;WebMol.NormalBlending=1;WebMol.AdditiveBlending=2;WebMol.SubtractiveBlending=3;WebMol.MultiplyBlending=4;WebMol.CustomBlending=5;WebMol.NoShading=0;WebMol.FlatShading=1;WebMol.SmoothShading=2;WebMol.NoColors=0;WebMol.FaceColors=1;WebMol.VertexColors=2;WebMol.MultiplyOperation=0;WebMol.MixOperation=1;
WebMol.AddOperation=2;WebMol.UVMapping=function(){};WebMol.ClampToEdgeWrapping=1001;WebMol.LinearFilter=1006;WebMol.LinearMipMapLinearFilter=1008;WebMol.UnsignedByteType=1009;WebMol.RGBAFormat=1021;WebMol.Line=function(a,c,e){WebMol.Object3D.call(this);this.geometry=a;this.material=void 0!==c?c:new WebMol.LineBasicMaterial({color:16777215*Math.random()});this.type=void 0!==e?e:WebMol.LineStrip};WebMol.LineStrip=0;WebMol.LinePieces=1;WebMol.Line.prototype=Object.create(WebMol.Object3D.prototype);
WebMol.Line.prototype.clone=function(a){void 0===a&&(a=new WebMol.Line(this.geometry,this.material,this.type));WebMol.Object3D.prototype.clone.call(this,a);return a};WebMol.Mesh=function(a,c){WebMol.Object3D.call(this);this.geometry=a;this.material=void 0!==c?c:new WebMol.MeshBasicMaterial({color:16777215*Math.random(),wireframe:!0})};WebMol.Mesh.prototype=Object.create(WebMol.Object3D.prototype);
WebMol.Mesh.prototype.clone=function(a){void 0===a&&(a=new WebMol.Mesh(this.geometry,this.material));WebMol.Object3D.prototype.clone.call(this,a);return a};WebMol.Sprite=function(a){WebMol.Object3D.call(this);this.material=void 0!==a?a:new WebMol.SpriteMaterial;this.rotation3d=this.rotation;this.rotation=0};WebMol.Sprite.prototype=Object.create(WebMol.Object3D.prototype);
WebMol.Sprite.prototype.updateMatrix=function(){this.matrix.setPosition(this.position);this.rotation3d.set(0,0,this.rotation);this.matrix.setRotationFromEuler(this.rotation3d);1===this.scale.x&&1===this.scale.y||this.matrix.scale(this.scale);this.matrixWorldNeedsUpdate=!0};WebMol.Sprite.prototype.clone=function(a){void 0===a&&(a=new WebMol.Sprite(this.material));WebMol.Object3D.prototype.clone.call(this,a);return a};
WebMol.Renderer=function(a){function c(a){$[a]||(f.enableVertexAttribArray(a),$[a]=!0)}function e(a,c){var e;"fragment"===a?e=f.createShader(f.FRAGMENT_SHADER):"vertex"===a&&(e=f.createShader(f.VERTEX_SHADER));f.shaderSource(e,c);f.compileShader(e);return f.getShaderParameter(e,f.COMPILE_STATUS)?e:(console.error(f.getShaderInfoLog(e)),console.error("could not initialize shader"),null)}function k(a,c,e,g,k,p,q,s){var d,t,v;c?(t=a.length-1,s=c=-1):(t=0,c=a.length,s=1);for(var u=t;u!==c;u+=s)if(d=a[u],
d.render&&(t=d.object,v=d.buffer,d=d[e])){q&&B.setBlending(d.blending);B.setDepthTest(d.depthTest);B.setDepthWrite(d.depthWrite);var w=d.polygonOffset;null!==w&&(w?f.enable(f.POLYGON_OFFSET_FILL):f.disable(f.POLYGON_OFFSET_FILL));B.setMaterialFaces(d);B.renderBuffer(g,k,p,d,v,t)}}function g(a){return 0===(a&a-1)}function s(a){return a===WebMol.UnsignedByteType?f.UNSIGNED_BYTE:a===WebMol.RGBAFormat?f.RGBA:0}a=a||{};var p=void 0!==a.canvas?a.canvas:document.createElement("canvas"),q=void 0!==a.precision?
a.precision:"highp",t=void 0!==a.alpha?a.alpha:!0,w=void 0!==a.premultipliedAlpha?a.premultipliedAlpha:!0,x=void 0!==a.antialias?a.antialias:!1,J=void 0!==a.stencil?a.stencil:!0,H=void 0!==a.preserveDrawingBuffer?a.preserveDrawingBuffer:!1,D=void 0!==a.clearColor?new WebMol.Color(a.clearColor):new WebMol.Color(0),F=void 0!==a.clearAlpha?a.clearAlpha:0;this.domElement=p;this.context=null;this.devicePixelRatio=void 0!==a.devicePixelRatio?a.devicePixelRatio:void 0!==self.devicePixelRatio?self.devicePixelRatio:
1;this.autoUpdateScene=this.autoUpdateObjects=this.sortObjects=this.autoClearStencil=this.autoClearDepth=this.autoClearColor=this.autoClear=!0;this.renderPluginsPost=[];this.info={memory:{programs:0,geometries:0,textures:0},render:{calls:0,vertices:0,faces:0,points:0}};var B=this,v=[],A=0,u=null,I=-1,T=null,M=null,O=0,G=-1,y=-1,K=-1,P=-1,Y=null,V=0,L=0,W=0,da=0,fa=0,ea=0,$={},Ea=new WebMol.Matrix4,Ga=new WebMol.Vector3,U=new WebMol.Vector3,ia=!0,oa=[0,0,0],ja=[],pa=[],f;try{if(!(f=p.getContext("experimental-webgl",
{alpha:t,premultipliedAlpha:w,antialias:x,stencil:J,preserveDrawingBuffer:H})))throw"Error creating WebGL context.";}catch(C){console.error(C)}f.clearColor(0,0,0,1);f.clearDepth(1);f.clearStencil(0);f.enable(f.DEPTH_TEST);f.depthFunc(f.LEQUAL);f.frontFace(f.CCW);f.cullFace(f.BACK);f.enable(f.CULL_FACE);f.enable(f.BLEND);f.blendEquation(f.FUNC_ADD);f.blendFunc(f.SRC_ALPHA,f.ONE_MINUS_SRC_ALPHA);f.clearColor(D.r,D.g,D.b,F);this.context=f;this.getContext=function(){return f};this.getPrecision=function(){return q};
this.setClearColorHex=function(a,c){D.setHex(a);F=c;f.clearColor(D.r,D.g,D.b,F)};this.setSize=function(a,c){p.width=a*this.devicePixelRatio;p.height=c*this.devicePixelRatio;p.style.width=a+"px";p.style.height=c+"px";this.setViewport(0,0,p.width,p.height)};this.setViewport=function(a,c,e,g){V=void 0!==a?a:0;L=void 0!==c?c:0;W=void 0!==e?e:p.width;da=void 0!==g?g:p.height;f.viewport(V,L,W,da)};this.clear=function(a,c,e){var g=0;if(void 0===a||a)g|=f.COLOR_BUFFER_BIT;if(void 0===c||c)g|=f.DEPTH_BUFFER_BIT;
if(void 0===e||e)g|=f.STENCIL_BUFFER_BIT;f.clear(g)};this.clearTarget=function(a,c,e){this.clear(a,c,e)};this.setMaterialFaces=function(a){var c=a.side===WebMol.DoubleSide;a=a.side===WebMol.BackSide;G!==c&&(c?f.disable(f.CULL_FACE):f.enable(f.CULL_FACE),G=c);y!==a&&(a?f.frontFace(f.CW):f.frontFace(f.CCW),y=a)};this.setDepthTest=function(a){K!==a&&(a?f.enable(f.DEPTH_TEST):f.disable(f.DEPTH_TEST),K=a)};this.setDepthWrite=function(a){P!==a&&(f.depthMask(a),P=a)};this.setBlending=function(a){a===WebMol.NoBlending?
f.disable(f.BLEND):(f.enable(f.BLEND),f.blendEquationSeparate(f.FUNC_ADD,f.FUNC_ADD),f.blendFuncSeparate(f.SRC_ALPHA,f.ONE_MINUS_SRC_ALPHA,f.ONE,f.ONE_MINUS_SRC_ALPHA))};this.addPostPlugin=function(a){a.init(this);this.renderPluginsPost.push(a)};var Ha=function(a){a=a.target;a.removeEventListener("dispose",Ha);a.__webglInit=void 0;void 0!==a.__webglVertexBuffer&&f.deleteBuffer(a.__webglVertexBuffer);void 0!==a.__webglColorBuffer&&f.deleteBuffer(a.__webglColorBuffer);if(void 0!==a.geometryGroups)for(var c=
0,e=a.groups;c<e;c++){var g=a.geometryGroups[c];void 0!==g.__webglVertexBuffer&&f.deleteBuffer(g.__webglVertexBuffer);void 0!==g.__webglColorBuffer&&f.deleteBuffer(g.__webglColorBuffer);void 0!==g.__webglNormalBuffer&&f.deleteBuffer(g.__webglNormalBuffer);void 0!==g.__webglFaceBuffer&&f.deleteBuffer(g.__webglFaceBuffer);void 0!==g.__webglLineBuffer&&f.deleteBuffer(g.__webglLineBuffer)}B.info.memory.geometries--},Ia=function(a){a=a.target;a.removeEventListener("dispose",Ia);a.image&&a.image.__webglTextureCube?
f.deleteTexture(a.image.__webglTextureCube):a.__webglInit&&(a.__webglInit=!1,f.deleteTexture(a.__webglTexture));B.info.memory.textures--},Ja=function(a){a=a.target;a.removeEventListener("dispose",Ja);qa(a)},qa=function(a){var c=a.program;if(void 0!==c){a.program=void 0;var e,g,k=!1;a=0;for(e=v.length;a<e;a++)if(g=v[a],g.program===c){g.usedTimes--;0===g.usedTimes&&(k=!0);break}if(!0===k){k=[];a=0;for(e=v.length;a<e;a++)g=v[a],g.program!==c&&k.push(g);v=k;f.deleteProgram(c);B.info.memory.programs--}}};
this.initMaterial=function(a,c,g,k){a.addEventListener("dispose",Ja);var p;a instanceof WebMol.LineBasicMaterial?p="basic":a instanceof WebMol.MeshLambertMaterial&&(p="lambert");p&&(c=WebMol.ShaderLib[p],a.shaderType=p,a.vertexShader=c.vertexShader,a.fragmentShader=c.fragmentShader,a.uniforms=WebMol.ShaderUtils.clone(c.uniforms));var s;a:{k=a.fragmentShader;g=a.vertexShader;c=a.uniforms;var t={wireframe:a.wireframe},u,d;p=[];p.push(k);p.push(g);for(u in t)p.push(u),p.push(t[u]);p=p.join();u=0;for(d=
v.length;u<d;u++){var w=v[u];if(w.code===p){w.usedTimes++;s=w.program;break a}}u=f.createProgram();w="precision "+q+" float;";d=""+w;t=[t.wireframe?"#define WIREFRAME 1":"",w].join("\n");k=e("fragment",t+k);g=e("vertex",d+g);f.attachShader(u,g);f.attachShader(u,k);f.linkProgram(u);f.getProgramParameter(u,f.LINK_STATUS)||console.error("Could not initialize shader");u.uniforms={};u.attributes={};g="viewMatrix modelViewMatrix projectionMatrix normalMatrix modelMatrix cameraPosition".split(" ");for(s in c)g.push(s);
for(s=0;s<g.length;s++)c=g[s],u.uniforms[c]=f.getUniformLocation(u,c);g=["position","normal","color","lineDistance"];for(s=0;s<g.length;s++)c=g[s],u.attributes[c]=f.getAttribLocation(u,c);u.id=A++;v.push({program:u,code:p,usedTimes:1});B.info.memory.programs=v.length;s=u}a.program=s};this.renderBuffer=function(a,e,g,k,p,q){if(k.visible){var s;k.needsUpdate&&(k.program&&qa(k),B.initMaterial(k,e,g,q),k.needsUpdate=!1);var t=!1,d=k.program,v=d.uniforms;s=k.uniforms;d!=u&&(f.useProgram(d),u=d,t=!0);k.id!=
I&&(I=k.id,t=!0);a!=M&&(M=a,t=!0);if(t){f.uniformMatrix4fv(v.projectionMatrix,!1,a.projectionMatrix.elements);f.uniformMatrix4fv(v.modelViewMatrix,!1,q._modelViewMatrix.elements);s.fogColor.value=g.color;s.fogNear.value=g.near;s.fogFar.value=g.far;if("lambert"===k.shaderType){f.uniformMatrix4fv(v.viewMatrix,!1,a.matrixWorldInverse.elements);f.uniformMatrix3fv(v.normalMatrix,!1,q._normalMatrix.elements);if(ia){var w,x,y=0,A=0,C=0;a=0;for(g=e.length;a<g;a++)if(t=e[a],w=t.color,x=t.intensity,t instanceof
WebMol.Light&&(y++,U.getPositionFromMatrix(t.matrixWorld),Ga.getPositionFromMatrix(t.target.matrixWorld),U.sub(Ga),U.normalize(),0!==U.x||0!==U.y||0!==U.z))pa[C]=U.x,pa[C+1]=U.y,pa[C+2]=U.z,ja[C]=w.r*x,ja[C+1]=w.g*x,ja[C+2]=w.b*x,C+=3,A++;oa[0]=0;oa[1]=0;oa[2]=0;ia=!1}s.ambientLightColor.value=oa;s.directionalLightColor.value=ja;s.directionalLightDirection.value=pa;s.ambient.value=k.ambient;s.emissive.value=k.emissive}s.opacity.value=k.opacity;s.diffuse.value=k.color;for(var D in s)v[D]&&(e=s[D].type,
a=s[D].value,g=v[D],"f"===e?f.uniform1f(g,a):"fv"===e?f.uniform3fv(g,a):"c"===e&&f.uniform3f(g,a.r,a.g,a.b))}s=d.attributes;v=!1;d=16777215*p.id+2*d.id+(k.wireframe?1:0);d!==T&&(T=d,v=!0);if(v){for(var F in $)$[F]&&(f.disableVertexAttribArray(F),$[F]=!1);0<=s.position&&(f.bindBuffer(f.ARRAY_BUFFER,p.__webglVertexBuffer),c(s.position),f.vertexAttribPointer(s.position,3,f.FLOAT,!1,0,0));0<=s.color&&(f.bindBuffer(f.ARRAY_BUFFER,p.__webglColorBuffer),c(s.color),f.vertexAttribPointer(s.color,3,f.FLOAT,
!1,0,0));0<=s.normal&&(f.bindBuffer(f.ARRAY_BUFFER,p.__webglNormalBuffer),c(s.normal),f.vertexAttribPointer(s.normal,3,f.FLOAT,!1,0,0))}var G;q instanceof WebMol.Mesh?(k.wireframe?(q=p.lineidx,k=k.wireframeLinewidth,k!==Y&&(f.lineWidth(k),Y=k),v&&f.bindBuffer(f.ELEMENT_ARRAY_BUFFER,p.__webglLineBuffer),f.drawElements(f.LINES,q,f.UNSIGNED_SHORT,0)):(G=p.faceidx,v&&f.bindBuffer(f.ELEMENT_ARRAY_BUFFER,p.__webglFaceBuffer),f.drawElements(f.TRIANGLES,G,f.UNSIGNED_SHORT,0)),B.info.render.calls++,B.info.render.vertices+=
G,B.info.render.faces+=G/3):q instanceof WebMol.Line&&(q=p.vertices,p=k.linewidth,p!==Y&&(f.lineWidth(p),Y=p),f.drawArrays(f.LINES,0,q),B.info.render.calls++)}};this.render=function(a,c,e){if(!1===c instanceof WebMol.Camera)console.error("WebMol.Renderer.render: camera is not an instance of WebMol.Camera.");else{var f,g,p,q,s=a.__lights,d=a.fog;I=-1;ia=!0;this.autoUpdateScene&&a.updateMatrixWorld();void 0===c.parent&&c.updateMatrixWorld();c.matrixWorldInverse.getInverse(c.matrixWorld);Ea.multiplyMatrices(c.projectionMatrix,
c.matrixWorldInverse);this.autoUpdateObjects&&this.initWebGLObjects(a);B.info.render.calls=0;B.info.render.vertices=0;B.info.render.faces=0;B.info.render.points=0;fa=W;ea=da;(this.autoClear||e)&&this.clear(this.autoClearColor,this.autoClearDepth,this.autoClearStencil);q=a.__webglObjects;e=0;for(f=q.length;e<f;e++)if(g=q[e],p=g.object,g.render=!1,p.visible){p._modelViewMatrix.multiplyMatrices(c.matrixWorldInverse,p.matrixWorld);p._normalMatrix.getInverse(p._modelViewMatrix);p._normalMatrix.transpose();
p=g;var t=p.object.material;t.transparent?(p.opaque=null,p.transparent=t,t=t.clone(),t.opacity=0,p.blank=t):(p.opaque=t,p.transparent=null);g.render=!0}this.setBlending(WebMol.NoBlending);k(a.__webglObjects,!0,"opaque",c,s,d,!1,null);k(a.__webglObjects,!0,"blank",c,s,d,!0,null);k(a.__webglObjects,!1,"transparent",c,s,d,!0,null);s=this.renderPluginsPost;T=-1;M=u=null;y=I=G=K=P=-1;if(s.length)for(d=0,e=s.length;d<e;d++)ia=!0,s[d].render(a,c,fa,ea),T=-1,M=u=null,y=I=G=K=P=-1;this.setDepthTest(!0);this.setDepthWrite(!0)}};
this.initWebGLObjects=function(a){a.__webglObjects||(a.__webglObjects=[],a.__webglObjectsImmediate=[],a.__webglSprites=[],a.__webglFlares=[]);if(a.__objectsAdded.length){for(;a.__objectsAdded.length;){var c=a.__objectsAdded[0],e=a,g=void 0,k=void 0,p=void 0,q=void 0;if(!c.__webglInit&&(c.__webglInit=!0,c._modelViewMatrix=new WebMol.Matrix4,c._normalMatrix=new WebMol.Matrix3,void 0!==c.geometry&&void 0===c.geometry.__webglInit&&(c.geometry.__webglInit=!0,c.geometry.addEventListener("dispose",Ha)),
c instanceof WebMol.Mesh||c instanceof WebMol.Line))for(p=c.geometry,g=0,k=p.geometryGroups.length;g<k;g++)q=p.geometryGroups[g],q.id=O++,q.__webglVertexBuffer||(c instanceof WebMol.Mesh?(q.__webglVertexBuffer=f.createBuffer(),q.__webglNormalBuffer=f.createBuffer(),q.__webglColorBuffer=f.createBuffer(),q.__webglFaceBuffer=f.createBuffer(),q.__webglLineBuffer=f.createBuffer(),B.info.memory.geometries++,p.elementsNeedUpdate=!0,p.normalsNeedUpdate=!0):c instanceof WebMol.Line&&(q.__webglVertexBuffer=
f.createBuffer(),q.__webglColorBuffer=f.createBuffer(),B.info.memory.geometries++),p.verticesNeedUpdate=!0,p.colorsNeedUpdate=!0);if(!c.__webglActive){if(c instanceof WebMol.Mesh||c instanceof WebMol.Line)for(p=c.geometry,g=0,k=p.geometryGroups.length;g<k;g++)q=p.geometryGroups[g],e.__webglObjects.push({buffer:q,object:c,opaque:null,transparent:null});else c instanceof WebMol.Sprite&&e.__webglSprites.push(c);c.__webglActive=!0}a.__objectsAdded.splice(0,1)}T=-1}for(;a.__objectsRemoved.length;){c=a.__objectsRemoved[0];
e=a;if(c instanceof WebMol.Mesh||c instanceof WebMol.Line)for(e=e.__webglObjects,g=c,k=e.length-1;0<=k;--k)e[k].object===g&&e.splice(k,1);else if(c instanceof WebMol.Sprite)for(e=e.__webglSprites,g=c,k=e.length-1;0<=k;--k)e[k]===g&&e.splice(k,1);c.__webglActive=!1;a.__objectsRemoved.splice(0,1)}c=0;for(e=a.__webglObjects.length;c<e;c++)if(k=a.__webglObjects[c].object,g=k.geometry,q=void 0,k instanceof WebMol.Mesh||k instanceof WebMol.Line){k=0;for(p=g.geometryGroups.length;k<p;k++)if(q=g.geometryGroups[k],
g.verticesNeedUpdate||g.elementsNeedUpdate||g.colorsNeedUpdate||g.normalsNeedUpdate){var s=f.DYNAMIC_DRAW,d=q.__vertexArray,t=q.__colorArray;f.bindBuffer(f.ARRAY_BUFFER,q.__webglVertexBuffer);f.bufferData(f.ARRAY_BUFFER,d,s);f.bindBuffer(f.ARRAY_BUFFER,q.__webglColorBuffer);f.bufferData(f.ARRAY_BUFFER,t,s);void 0!==q.__normalArray&&void 0!==q.__webglNormalBuffer&&(d=q.__normalArray,f.bindBuffer(f.ARRAY_BUFFER,q.__webglNormalBuffer),f.bufferData(f.ARRAY_BUFFER,d,s));void 0!==q.__faceArray&&void 0!==
q.__webglFaceBuffer&&(d=q.__faceArray,f.bindBuffer(f.ELEMENT_ARRAY_BUFFER,q.__webglFaceBuffer),f.bufferData(f.ELEMENT_ARRAY_BUFFER,d,s));void 0!==q.__lineArray&&void 0!==q.__webglLineBuffer&&(d=q.__lineArray,f.bindBuffer(f.ELEMENT_ARRAY_BUFFER,q.__webglLineBuffer),f.bufferData(f.ELEMENT_ARRAY_BUFFER,d,s))}g.verticesNeedUpdate=!1;g.elementsNeedUpdate=!1;g.normalsNeedUpdate=!1;g.colorsNeedUpdate=!1;g.buffersNeedUpdate=!1}};this.setTexture=function(a,c){if(a.needsUpdate){a.__webglInit||(a.__webglInit=
!0,a.addEventListener("dispose",Ia),a.__webglTexture=f.createTexture(),B.info.memory.textures++);f.activeTexture(f.TEXTURE0+c);f.bindTexture(f.TEXTURE_2D,a.__webglTexture);f.pixelStorei(f.UNPACK_FLIP_Y_WEBGL,a.flipY);f.pixelStorei(f.UNPACK_PREMULTIPLY_ALPHA_WEBGL,a.premultiplyAlpha);f.pixelStorei(f.UNPACK_ALIGNMENT,a.unpackAlignment);var e=a.image,e=g(e.width)&&g(e.height),k=s(a.format),p=s(a.type),q=f.TEXTURE_2D;e?(f.texParameteri(q,f.TEXTURE_WRAP_S,s(a.wrapS)),f.texParameteri(q,f.TEXTURE_WRAP_T,
s(a.wrapT)),f.texParameteri(q,f.TEXTURE_MAG_FILTER,s(a.magFilter)),f.texParameteri(q,f.TEXTURE_MIN_FILTER,s(a.minFilter))):(f.texParameteri(q,f.TEXTURE_WRAP_S,f.CLAMP_TO_EDGE),f.texParameteri(q,f.TEXTURE_WRAP_T,f.CLAMP_TO_EDGE),f.texParameteri(q,f.TEXTURE_MAG_FILTER,f.LINEAR),f.texParameteri(q,f.TEXTURE_MIN_FILTER,f.LINEAR));var t=a.mipmaps;if(0<t.length&&e){for(var u=0,d=t.length;u<d;u++)q=t[u],f.texImage2D(f.TEXTURE_2D,u,k,k,p,q);a.generateMipmaps=!1}else f.texImage2D(f.TEXTURE_2D,0,k,k,p,a.image);
a.generateMipmaps&&e&&f.generateMipmap(f.TEXTURE_2D);a.needsUpdate=!1;if(a.onUpdate)a.onUpdate()}else f.activeTexture(f.TEXTURE0+c),f.bindTexture(f.TEXTURE_2D,a.__webglTexture)};this.addPostPlugin(new WebMol.SpritePlugin)};WebMol.Scene=function(){WebMol.Object3D.call(this);this.overrideMaterial=this.fog=null;this.matrixAutoUpdate=!1;this.__objects=[];this.__lights=[];this.__objectsAdded=[];this.__objectsRemoved=[]};WebMol.Scene.prototype=Object.create(WebMol.Object3D.prototype);
WebMol.Scene.prototype.__addObject=function(a){a instanceof WebMol.Light?(-1===this.__lights.indexOf(a)&&this.__lights.push(a),a.target&&void 0===a.target.parent&&this.add(a.target)):-1===this.__objects.indexOf(a)&&(this.__objects.push(a),this.__objectsAdded.push(a),-1!==this.__objectsRemoved.indexOf(a)&&this.__objectsRemoved.splice(c,1));for(var c=0;c<a.children.length;c++)this.__addObject(a.children[c])};
WebMol.Scene.prototype.__removeObject=function(a){var c;a instanceof WebMol.Light?(c=this.__lights.indexOf(a),-1!==c&&this.__lights.splice(c,1)):(c=this.__objects.indexOf(a),-1!==c&&(this.__objects.splice(c,1),this.__objectsRemoved.push(a),-1!==this.__objectsAdded.indexOf(a)&&this.__objectsAdded.splice(c,1)));for(c=0;c<a.children.length;c++)this.__removeObject(a.children[c])};WebMol.Fog=function(a,c,e){this.name="";this.color=new WebMol.Color(a);this.near=void 0!==c?c:1;this.far=void 0!==e?e:1E3};
WebMol.Fog.prototype.clone=function(){return new WebMol.Fog(this.color.getHex(),this.near,this.far)};WebMol.ShaderUtils={clone:function(a){var c,e={};for(c in a){e[c]={};e[c].type=a[c].type;var k=a[c].value;k instanceof WebMol.Color?e[c].value=k.clone():"number"===typeof k?e[c].value=k:k instanceof Array?e[c].value=[]:console.error("Error copying shader uniforms from ShaderLib: unknown type for uniform")}return e}};
WebMol.ShaderLib={basic:{fragmentShader:"uniform mat4 viewMatrix;\nuniform vec3 cameraPosition;\nuniform vec3 diffuse;\nuniform float opacity;\nuniform vec3 fogColor;\nuniform float fogNear;\nuniform float fogFar;\nvarying vec3 vColor;\nvoid main() {\n    gl_FragColor = vec4( diffuse, opacity );\n    gl_FragColor = gl_FragColor * vec4( vColor, opacity );\n    float depth = gl_FragCoord.z / gl_FragCoord.w;\n    float fogFactor = smoothstep( fogNear, fogFar, depth );\n    gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );\n}",vertexShader:"uniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\nuniform mat4 viewMatrix;\nuniform mat3 normalMatrix;\nuniform vec3 cameraPosition;\nattribute vec3 position;\nattribute vec3 color;\nvarying vec3 vColor;\nvoid main() {\n    vColor = color;\n    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n    gl_Position = projectionMatrix * mvPosition;\n}",
uniforms:{opacity:{type:"f",value:1},diffuse:{type:"c",value:new WebMol.Color(1,1,1)},fogColor:{type:"c",value:new WebMol.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2E3}}},lambert:{fragmentShader:"uniform mat4 viewMatrix;\nuniform vec3 cameraPosition;\nuniform float opacity;\nuniform vec3 fogColor;\nuniform float fogNear;\nuniform float fogFar;\nvarying vec3 vLightFront;\nvarying vec3 vColor;\nvoid main() {\n    gl_FragColor = vec4( vec3 ( 1.0 ), opacity );\n    #ifndef WIREFRAME\n    gl_FragColor.xyz *= vLightFront;\n    #endif\n    gl_FragColor = gl_FragColor * vec4( vColor, opacity );\n    float depth = gl_FragCoord.z / gl_FragCoord.w;\n    float fogFactor = smoothstep( fogNear, fogFar, depth );\n    gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );\n}",
vertexShader:"uniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\nuniform mat4 viewMatrix;\nuniform mat3 normalMatrix;\nuniform vec3 cameraPosition;\nuniform vec3 ambient;\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 ambientLightColor;\nuniform vec3 directionalLightColor[ 1 ];\nuniform vec3 directionalLightDirection[ 1 ];\nattribute vec3 position;\nattribute vec3 normal;\nattribute vec3 color;\nvarying vec3 vColor;\nvarying vec3 vLightFront;\nvoid main() {\n    vColor = color;\n    vec3 objectNormal = normal;\n    vec3 transformedNormal = normalMatrix * objectNormal;\n    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n    vLightFront = vec3( 0.0 );\n    transformedNormal = normalize( transformedNormal );\n    vec4 lDirection = viewMatrix * vec4( directionalLightDirection[ 0 ], 0.0 );\n    vec3 dirVector = normalize( lDirection.xyz );\n    float dotProduct = dot( transformedNormal, dirVector );\n    vec3 directionalLightWeighting = vec3( max( dotProduct, 0.0 ) );\n    vLightFront += directionalLightColor[ 0 ] * directionalLightWeighting;\n    vLightFront = vLightFront * diffuse + ambient * ambientLightColor + emissive;\n    gl_Position = projectionMatrix * mvPosition;\n}",
uniforms:{opacity:{type:"f",value:1},diffuse:{type:"c",value:new WebMol.Color(1,1,1)},fogColor:{type:"c",value:new WebMol.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2E3},ambient:{type:"c",value:new WebMol.Color(1,1,1)},emissive:{type:"c",value:new WebMol.Color(1,1,1)},ambientLightColor:{type:"fv",value:[]},directionalLightColor:{type:"fv",value:[]},directionalLightDirection:{type:"fv",value:[]}}},sprite:{fragmentShader:"uniform vec3 color;\nuniform sampler2D map;\nuniform float opacity;\nuniform int fogType;\nuniform vec3 fogColor;\nuniform float fogDensity;\nuniform float fogNear;\nuniform float fogFar;\nuniform float alphaTest;\nvarying vec2 vUV;\nvoid main() {\n    vec4 texture = texture2D(map, vUV);\n    if (texture.a < alphaTest) discard;\n    gl_FragColor = vec4(color * texture.xyz, texture.a * opacity);\n    if (fogType > 0) {\n        float depth = gl_FragCoord.z / gl_FragCoord.w;\n        float fogFactor = 0.0;\n        if (fogType == 1) {\n            fogFactor = smoothstep(fogNear, fogFar, depth);\n        }\n        else {\n            const float LOG2 = 1.442695;\n            float fogFactor = exp2(- fogDensity * fogDensity * depth * depth * LOG2);\n            fogFactor = 1.0 - clamp(fogFactor, 0.0, 1.0);\n        }\n        gl_FragColor = mix(gl_FragColor, vec4(fogColor, gl_FragColor.w), fogFactor);\n    }\n}",
vertexShader:"uniform int useScreenCoordinates;\nuniform int sizeAttenuation;\nuniform vec3 screenPosition;\nuniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\nuniform float rotation;\nuniform vec2 scale;\nuniform vec2 alignment;\nuniform vec2 uvOffset;\nuniform vec2 uvScale;\nattribute vec2 position;\nattribute vec2 uv;\nvarying vec2 vUV;\nvoid main() {\n    vUV = uvOffset + uv * uvScale;\n    vec2 alignedPosition = position + alignment;\n    vec2 rotatedPosition;\n    rotatedPosition.x = ( cos(rotation) * alignedPosition.x - sin(rotation) * alignedPosition.y ) * scale.x;\n    rotatedPosition.y = ( sin(rotation) * alignedPosition.x + cos(rotation) * alignedPosition.y ) * scale.y;\n    vec4 finalPosition;\n    if(useScreenCoordinates != 0) {\n        finalPosition = vec4(screenPosition.xy + rotatedPosition, screenPosition.z, 1.0);\n    }\n    else {\n        finalPosition = projectionMatrix * modelViewMatrix * vec4(0.0, 0.0, 0.0, 1.0);\n        finalPosition.xy += rotatedPosition * (sizeAttenuation == 1 ? 1.0 : finalPosition.z);\n    }\n    gl_Position = finalPosition;\n}",
uniforms:{}}};WebMol=WebMol||{};
WebMol.partialCharges=[{resn:"ALA",atom:"N",props:{partialCharge:-.15}},{resn:"ALA",atom:"CA",props:{partialCharge:.1}},{resn:"ALA",atom:"CB",props:{partialCharge:0}},{resn:"ALA",atom:"C",props:{partialCharge:.6}},{resn:"ALA",atom:"O",props:{partialCharge:-.55}},{resn:"ARG",atom:"N",props:{partialCharge:-.15}},{resn:"ARG",atom:"CA",props:{partialCharge:.1}},{resn:"ARG",atom:"CB",props:{partialCharge:0}},{resn:"ARG",atom:"CG",props:{partialCharge:0}},{resn:"ARG",atom:"CD",props:{partialCharge:.1}},
{resn:"ARG",atom:"NE",props:{partialCharge:-.1}},{resn:"ARG",atom:"CZ",props:{partialCharge:.5}},{resn:"ARG",atom:"NH1",props:{partialCharge:.25}},{resn:"ARG",atom:"NH2",props:{partialCharge:.25}},{resn:"ARG",atom:"C",props:{partialCharge:.6}},{resn:"ARG",atom:"O",props:{partialCharge:-.55}},{resn:"ASN",atom:"N",props:{partialCharge:-.15}},{resn:"ASN",atom:"CA",props:{partialCharge:.1}},{resn:"ASN",atom:"CB",props:{partialCharge:0}},{resn:"ASN",atom:"CG",props:{partialCharge:.55}},{resn:"ASN",atom:"OD1",
props:{partialCharge:-.55}},{resn:"ASN",atom:"ND2",props:{partialCharge:0}},{resn:"ASN",atom:"C",props:{partialCharge:.6}},{resn:"ASN",atom:"O",props:{partialCharge:-.55}},{resn:"ASP",atom:"N",props:{partialCharge:-.15}},{resn:"ASP",atom:"CA",props:{partialCharge:.1}},{resn:"ASP",atom:"CB",props:{partialCharge:0}},{resn:"ASP",atom:"CG",props:{partialCharge:.14}},{resn:"ASP",atom:"OD1",props:{partialCharge:-.57}},{resn:"ASP",atom:"OD2",props:{partialCharge:-.57}},{resn:"ASP",atom:"C",props:{partialCharge:.6}},
{resn:"ASP",atom:"O",props:{partialCharge:-.55}},{resn:"CYS",atom:"N",props:{partialCharge:-.15}},{resn:"CYS",atom:"CA",props:{partialCharge:.1}},{resn:"CYS",atom:"CB",props:{partialCharge:.19}},{resn:"CYS",atom:"SG",props:{partialCharge:-.19}},{resn:"CYS",atom:"C",props:{partialCharge:.6}},{resn:"CYS",atom:"O",props:{partialCharge:-.55}},{resn:"GLN",atom:"N",props:{partialCharge:-.15}},{resn:"GLN",atom:"CA",props:{partialCharge:.1}},{resn:"GLN",atom:"CB",props:{partialCharge:0}},{resn:"GLN",atom:"CG",
props:{partialCharge:0}},{resn:"GLN",atom:"CD",props:{partialCharge:.55}},{resn:"GLN",atom:"OE1",props:{partialCharge:-.55}},{resn:"GLN",atom:"NE2",props:{partialCharge:0}},{resn:"GLN",atom:"C",props:{partialCharge:.6}},{resn:"GLN",atom:"O",props:{partialCharge:-.55}},{resn:"GLU",atom:"N",props:{partialCharge:-.15}},{resn:"GLU",atom:"CA",props:{partialCharge:.1}},{resn:"GLU",atom:"CB",props:{partialCharge:0}},{resn:"GLU",atom:"CG",props:{partialCharge:0}},{resn:"GLU",atom:"CD",props:{partialCharge:.14}},
{resn:"GLU",atom:"OE1",props:{partialCharge:-.57}},{resn:"GLU",atom:"OE2",props:{partialCharge:-.57}},{resn:"GLU",atom:"C",props:{partialCharge:.6}},{resn:"GLU",atom:"O",props:{partialCharge:-.55}},{resn:"GLY",atom:"N",props:{partialCharge:-.15}},{resn:"GLY",atom:"CA",props:{partialCharge:.1}},{resn:"GLY",atom:"C",props:{partialCharge:.6}},{resn:"GLY",atom:"O",props:{partialCharge:-.55}},{resn:"HIS",atom:"N",props:{partialCharge:-.15}},{resn:"HIS",atom:"CA",props:{partialCharge:.1}},{resn:"HIS",atom:"CB",
props:{partialCharge:0}},{resn:"HIS",atom:"CG",props:{partialCharge:.1}},{resn:"HIS",atom:"ND1",props:{partialCharge:-.1}},{resn:"HIS",atom:"CD2",props:{partialCharge:.1}},{resn:"HIS",atom:"NE2",props:{partialCharge:-.4}},{resn:"HIS",atom:"CE1",props:{partialCharge:.3}},{resn:"HIS",atom:"C",props:{partialCharge:.6}},{resn:"HIS",atom:"O",props:{partialCharge:-.55}},{resn:"ILE",atom:"N",props:{partialCharge:-.15}},{resn:"ILE",atom:"CA",props:{partialCharge:.1}},{resn:"ILE",atom:"CB",props:{partialCharge:0}},
{resn:"ILE",atom:"CG2",props:{partialCharge:0}},{resn:"ILE",atom:"CG1",props:{partialCharge:0}},{resn:"ILE",atom:"CD",props:{partialCharge:0}},{resn:"ILE",atom:"C",props:{partialCharge:.6}},{resn:"ILE",atom:"O",props:{partialCharge:-.55}},{resn:"LEU",atom:"N",props:{partialCharge:-.15}},{resn:"LEU",atom:"CA",props:{partialCharge:.1}},{resn:"LEU",atom:"CB",props:{partialCharge:0}},{resn:"LEU",atom:"CG",props:{partialCharge:0}},{resn:"LEU",atom:"CD1",props:{partialCharge:0}},{resn:"LEU",atom:"CD2",
props:{partialCharge:0}},{resn:"LEU",atom:"C",props:{partialCharge:.6}},{resn:"LEU",atom:"O",props:{partialCharge:-.55}},{resn:"LYS",atom:"N",props:{partialCharge:-.15}},{resn:"LYS",atom:"CA",props:{partialCharge:.1}},{resn:"LYS",atom:"CB",props:{partialCharge:0}},{resn:"LYS",atom:"CG",props:{partialCharge:0}},{resn:"LYS",atom:"CD",props:{partialCharge:0}},{resn:"LYS",atom:"CE",props:{partialCharge:.25}},{resn:"LYS",atom:"NZ",props:{partialCharge:.75}},{resn:"LYS",atom:"C",props:{partialCharge:.6}},
{resn:"LYS",atom:"O",props:{partialCharge:-.55}},{resn:"MET",atom:"N",props:{partialCharge:-.15}},{resn:"MET",atom:"CA",props:{partialCharge:.1}},{resn:"MET",atom:"CB",props:{partialCharge:0}},{resn:"MET",atom:"CG",props:{partialCharge:.06}},{resn:"MET",atom:"SD",props:{partialCharge:-.12}},{resn:"MET",atom:"CE",props:{partialCharge:.06}},{resn:"MET",atom:"C",props:{partialCharge:.6}},{resn:"MET",atom:"O",props:{partialCharge:-.55}},{resn:"PHE",atom:"N",props:{partialCharge:-.15}},{resn:"PHE",atom:"CA",
props:{partialCharge:.1}},{resn:"PHE",atom:"CB",props:{partialCharge:0}},{resn:"PHE",atom:"CG",props:{partialCharge:0}},{resn:"PHE",atom:"CD1",props:{partialCharge:0}},{resn:"PHE",atom:"CD2",props:{partialCharge:0}},{resn:"PHE",atom:"CE1",props:{partialCharge:0}},{resn:"PHE",atom:"CE2",props:{partialCharge:0}},{resn:"PHE",atom:"CZ",props:{partialCharge:0}},{resn:"PHE",atom:"C",props:{partialCharge:.6}},{resn:"PHE",atom:"O",props:{partialCharge:-.55}},{resn:"PRO",atom:"N",props:{partialCharge:-.25}},
{resn:"PRO",atom:"CD",props:{partialCharge:.1}},{resn:"PRO",atom:"CA",props:{partialCharge:.1}},{resn:"PRO",atom:"CB",props:{partialCharge:0}},{resn:"PRO",atom:"CG",props:{partialCharge:0}},{resn:"PRO",atom:"C",props:{partialCharge:.6}},{resn:"PRO",atom:"O",props:{partialCharge:-.55}},{resn:"SER",atom:"N",props:{partialCharge:-.15}},{resn:"SER",atom:"CA",props:{partialCharge:.1}},{resn:"SER",atom:"CB",props:{partialCharge:.25}},{resn:"SER",atom:"OG",props:{partialCharge:-.25}},{resn:"SER",atom:"C",
props:{partialCharge:.6}},{resn:"SER",atom:"O",props:{partialCharge:-.55}},{resn:"THR",atom:"N",props:{partialCharge:-.15}},{resn:"THR",atom:"CA",props:{partialCharge:.1}},{resn:"THR",atom:"CB",props:{partialCharge:.25}},{resn:"THR",atom:"OG1",props:{partialCharge:-.25}},{resn:"THR",atom:"CG2",props:{partialCharge:0}},{resn:"THR",atom:"C",props:{partialCharge:.6}},{resn:"THR",atom:"O",props:{partialCharge:-.55}},{resn:"TRP",atom:"N",props:{partialCharge:-.15}},{resn:"TRP",atom:"CA",props:{partialCharge:.1}},
{resn:"TRP",atom:"CB",props:{partialCharge:0}},{resn:"TRP",atom:"CG",props:{partialCharge:-.03}},{resn:"TRP",atom:"CD2",props:{partialCharge:.1}},{resn:"TRP",atom:"CE2",props:{partialCharge:-.04}},{resn:"TRP",atom:"CE3",props:{partialCharge:-.03}},{resn:"TRP",atom:"CD1",props:{partialCharge:.06}},{resn:"TRP",atom:"NE1",props:{partialCharge:-.06}},{resn:"TRP",atom:"CZ2",props:{partialCharge:0}},{resn:"TRP",atom:"CZ3",props:{partialCharge:0}},{resn:"TRP",atom:"CH2",props:{partialCharge:0}},{resn:"TRP",
atom:"C",props:{partialCharge:.6}},{resn:"TRP",atom:"O",props:{partialCharge:-.55}},{resn:"TYR",atom:"N",props:{partialCharge:-.15}},{resn:"TYR",atom:"CA",props:{partialCharge:.1}},{resn:"TYR",atom:"CB",props:{partialCharge:0}},{resn:"TYR",atom:"CG",props:{partialCharge:0}},{resn:"TYR",atom:"CD1",props:{partialCharge:0}},{resn:"TYR",atom:"CE1",props:{partialCharge:0}},{resn:"TYR",atom:"CD2",props:{partialCharge:0}},{resn:"TYR",atom:"CE2",props:{partialCharge:0}},{resn:"TYR",atom:"CZ",props:{partialCharge:.25}},
{resn:"TYR",atom:"OH",props:{partialCharge:-.25}},{resn:"TYR",atom:"C",props:{partialCharge:.6}},{resn:"TYR",atom:"O",props:{partialCharge:-.55}},{resn:"VAL",atom:"N",props:{partialCharge:-.15}},{resn:"VAL",atom:"CA",props:{partialCharge:.1}},{resn:"VAL",atom:"CB",props:{partialCharge:0}},{resn:"VAL",atom:"CG1",props:{partialCharge:0}},{resn:"VAL",atom:"CG2",props:{partialCharge:0}},{resn:"VAL",atom:"C",props:{partialCharge:.6}},{resn:"VAL",atom:"O",props:{partialCharge:-.55}}];
WebMol.partialCharges=WebMol.partialCharges;
WebMol=window.WebMol||{};WebMol.createViewer=function(t,y){"string"===$.type(t)&&(t=$("#"+t));if(t){y=y||{};y.order||(y.order=["glmol","jmol"]);y.defaultcolors||(y.defaultcolors=WebMol.R);for(var E=0;E<y.order.length;E++){var D=y.order[E],s=D+"Viewer";if("function"===typeof this[s])try{return new this[s](t,y.callback,y.defaultcolors)}catch(p){console.log("error with "+D+":"+p)}}alert("Unable to instantiate webmol viewer: "+y.order);return null}};
WebMol.download=function(t,y){var E="";if("pdb:"===t.substr(0,4)){E="pdb";t=t.substr(4).toUpperCase();if(!t.match(/^[1-9][A-Za-z0-9]{3}$/)){alert("Wrong PDB ID");return}uri="http://www.pdb.org/pdb/files/"+t+".pdb"}else if("cid:"==t.substr(0,4)){E="sdf";t=t.substr(4);if(!t.match(/^[1-9]+$/)){alert("Wrong Compound ID");return}uri="http://pubchem.ncbi.nlm.nih.gov/rest/pug/compound/cid/"+t+"/SDF?record_type=3d"}$.get(uri,function(t){y.addModel(t,E);y.zoomTo();y.render()});return null};
WebMol.SurfaceType={VDW:1,MS:2,SAS:3,SES:4};
WebMol.h={f:{},color:function(t){if("undefined"!==typeof this.f[t])return this.f[t];t=this.ua(t);var y=new WebMol.Color(t);return this.f[t]=y},ia:{white:16777215,silver:12632256,gray:8421504,grey:8421504,black:0,red:16711680,maroon:8388608,yellow:16776960,olive:8421376,lime:65280,green:32768,aqua:65535,cyan:65535,teal:32896,blue:255,navy:128,fuchsia:16711935,magenta:16711935,purple:8388736},ua:function(t){if(parseInt(t))return t;if("string"===typeof t)return this.ia[t.trim().toLowerCase()]||0}};
WebMol.CC=WebMol.h;WebMol.CC.color=WebMol.h.color;WebMol.V=function(t,y){var E=y.geometry;void 0!==E&&t.geometryGroups.push(E.geometryGroups[0])};WebMol.Ha=function(t){return t.toString().replace(/^[^\/]+\/\*!?/,"").replace(/\*\/[^\/]+$/,"")};WebMol.syncSurface=!1;WebMol=WebMol||{};
WebMol.o=function(){var t={U:function(p,m,z,d){function c(v,b,e,c,q,g){var N=new WebMol.Vector3;N.copy(f);var X=q;c&1<<q||!(c&1<<g)||(X=g);X&1&&e++;X&2&&b++;X&4&&v++;N.x+=h.x*v;N.y+=h.y*b;N.z+=h.z*e;v=(A*v+b)*u+e;if(a)return m.push(N),m.length-1;0>C[v]&&(C[v]=m.length,m.push(N));return C[v]}var e=!!d.sa,f=d.hasOwnProperty("origin")&&d.origin.hasOwnProperty("x")?d.origin:{x:0,y:0,z:0},a=!!d.voxel,b=d.W||0,A=d.Y||0,u=d.Z||0;d=d.scale||1;var h=(new WebMol.Vector3(1,1,1)).multiplyScalar(d),C=new Int32Array(b*
A*u),w;d=0;for(w=C.length;d<w;++d)C[d]=-1;w=new Int32Array(12);var G=e?D:y,e=e?s:E;for(d=0;d<b-1;++d)for(var r=0;r<A-1;++r)for(var t=0;t<u-1;++t){for(var x=0,n=0;8>n;++n)x|=!!(p[(A*(d+((n&4)>>2))+r+((n&2)>>1))*u+t+(n&1)]&2)<<n;if(0!==x&&255!==x){var v=G[x];if(0!==v)for(n=e[x],v&1&&(w[0]=c(d,r,t,x,0,1)),v&2&&(w[1]=c(d,r,t,x,1,3)),v&4&&(w[2]=c(d,r,t,x,3,2)),v&8&&(w[3]=c(d,r,t,x,2,0)),v&16&&(w[4]=c(d,r,t,x,4,5)),v&32&&(w[5]=c(d,r,t,x,5,7)),v&64&&(w[6]=c(d,r,t,x,7,6)),v&128&&(w[7]=c(d,r,t,x,6,4)),v&256&&
(w[8]=c(d,r,t,x,0,4)),v&512&&(w[9]=c(d,r,t,x,1,5)),v&1024&&(w[10]=c(d,r,t,x,3,7)),v&2048&&(w[11]=c(d,r,t,x,2,6)),x=0;x<n.length;x+=3){var v=w[n[x]],X=w[n[x+1]],N=w[n[x+2]];a&&3<=x&&(m.push(m[v]),v=m.length-1,m.push(m[X]),X=m.length-1,m.push(m[N]),N=m.length-1);z.push(v);z.push(X);z.push(N)}}}},T:function(p,m,z){var d=Array(m.length),c,e,f,a;c=0;for(e=m.length;c<e;c++)d[c]={x:0,y:0,z:0};var b=Array(20),A;for(c=0;20>c;c++)b[c]=Array(m.length);c=0;for(e=m.length;c<e;c++)b[0][c]=0;c=0;for(e=z.length/
3;c<e;c++){var u=3*c,h=3*c+1,C=3*c+2;A=!0;f=0;for(a=b[0][z[u]];f<a;f++)if(z[h]==b[f+1][z[u]]){A=!1;break}A&&(b[0][z[u]]++,b[b[0][z[u]]][z[u]]=z[h]);A=!0;f=0;for(a=b[0][z[u]];f<a;f++)if(z[C]==b[f+1][z[u]]){A=!1;break}A&&(b[0][z[u]]++,b[b[0][z[u]]][z[u]]=z[C]);A=!0;f=0;for(a=b[0][z[h]];f<a;f++)if(z[u]==b[f+1][z[h]]){A=!1;break}A&&(b[0][z[h]]++,b[b[0][z[h]]][z[h]]=z[u]);A=!0;f=0;for(a=b[0][z[h]];f<a;f++)if(z[C]==b[f+1][z[h]]){A=!1;break}A&&(b[0][z[h]]++,b[b[0][z[h]]][z[h]]=z[C]);A=!0;for(f=0;f<b[0][z[C]];f++)if(z[u]==
b[f+1][z[C]]){A=!1;break}A&&(b[0][z[C]]++,b[b[0][z[C]]][z[C]]=z[u]);A=!0;f=0;for(a=b[0][z[C]];f<a;f++)if(z[h]==b[f+1][z[C]]){A=!1;break}A&&(b[0][z[C]]++,b[b[0][z[C]]][z[C]]=z[h])}for(z=0;z<p;z++){c=0;for(e=m.length;c<e;c++)if(3>b[0][c])d[c].x=m[c].x,d[c].y=m[c].y,d[c].z=m[c].z;else if(3==b[0][c]||4==b[0][c]){d[c].x=0;d[c].y=0;f=d[c].z=0;for(a=b[0][c];f<a;f++)d[c].x+=m[b[f+1][c]].x,d[c].y+=m[b[f+1][c]].y,d[c].z+=m[b[f+1][c]].z;d[c].x+=.5*m[c].x;d[c].y+=.5*m[c].y;d[c].z+=.5*m[c].z;d[c].x/=.5+b[0][c];
d[c].y/=.5+b[0][c];d[c].z/=.5+b[0][c]}else{d[c].x=0;d[c].y=0;f=d[c].z=0;for(a=b[0][c];f<a;f++)d[c].x+=m[b[f+1][c]].x,d[c].y+=m[b[f+1][c]].y,d[c].z+=m[b[f+1][c]].z;d[c].x+=1*m[c].x;d[c].y+=1*m[c].y;d[c].z+=1*m[c].z;d[c].x/=1+b[0][c];d[c].y/=1+b[0][c];d[c].z/=1+b[0][c]}c=0;for(e=m.length;c<e;c++)m[c].x=d[c].x,m[c].y=d[c].y,m[c].z=d[c].z}},la:[0,0,0,0,0,0,0,2816,0,0,0,1792,0,3328,3584,3840,0,0,0,138,0,21,0,134,0,0,0,652,0,2067,3865,3600,0,0,0,42,0,0,0,294,0,0,21,28,0,3875,1049,3360,0,168,162,170,0,645,
2475,2210,0,687,293,172,4010,3747,3497,3232,0,0,0,0,0,69,0,900,0,0,0,1792,138,131,1608,1920,0,81,0,2074,84,85,84,86,0,81,0,3676,330,1105,1881,1616,0,0,0,42,0,69,0,502,0,0,21,3580,138,2035,1273,1520,2816,104,2337,106,840,581,367,102,2816,3695,3429,3180,1898,1635,1385,1120,0,0,0,0,0,0,0,3910,0,0,69,588,42,2083,41,2880,0,0,0,1722,0,2293,4095,3830,0,255,757,764,2538,2291,3065,2800,0,0,81,338,0,3925,1119,3414,84,855,85,340,2130,2899,89,2384,1792,712,194,1162,4036,3781,3535,3270,708,719,197,204,3018,2755,
2505,2240,0,0,0,0,168,420,168,1958,162,162,676,2988,170,163,680,928,3328,3096,3328,3642,52,53,1855,1590,2340,2111,2869,2620,298,51,825,560,3584,3584,3090,3482,1668,1941,1183,1430,146,2975,2069,2460,154,915,153,400,3840,3592,3329,3082,1796,1541,1295,1030,2818,2575,2309,2060,778,515,265,0]},y=new Uint32Array(t.la),E=t.Ja=[[],[],[],[],[],[],[],[11,9,8],[],[],[],[8,10,9],[],[10,8,11],[9,11,10],[8,10,9,8,11,10],[],[],[],[1,7,3],[],[4,2,0],[],[2,1,7],[],[],[],[2,7,3,2,9,7],[],[1,4,11,1,0,4],[3,8,0,11,9,
4,11,10,9],[4,11,9,11,10,9],[],[],[],[5,3,1],[],[],[],[2,5,8,2,1,5],[],[],[2,4,0],[3,2,4],[],[0,9,1,8,10,5,8,11,10],[3,4,0,3,10,4],[5,8,10,8,11,10],[],[3,5,7],[7,1,5],[1,7,3,1,5,7],[],[9,2,0,9,7,2],[0,3,8,1,7,11,1,5,7],[11,1,7,1,5,7],[],[9,1,0,5,3,2,5,7,3],[8,2,5,8,0,2],[2,5,3,5,7,3],[3,9,1,3,8,9,7,11,10,7,10,5],[9,1,0,10,7,11,10,5,7],[3,8,0,7,10,5,7,11,10],[11,5,7,11,10,5],[],[],[],[],[],[0,6,2],[],[7,2,9,7,9,8],[],[],[],[8,10,9],[7,1,3],[7,1,0],[6,9,3,6,10,9],[7,10,8,10,9,8],[],[6,0,4],[],[11,1,
4,11,3,1],[2,4,6],[2,0,4,2,4,6],[2,4,6],[1,4,2,4,6,2],[],[6,0,4],[],[2,11,3,6,9,4,6,10,9],[8,6,1,8,1,3],[10,0,6,0,4,6],[8,0,3,9,6,10,9,4,6],[10,4,6,10,9,4],[],[],[],[5,3,1],[],[0,6,2],[],[7,4,8,5,2,1,5,6,2],[],[],[2,4,0],[7,4,8,2,11,3,10,5,6],[7,1,3],[5,6,10,0,9,1,8,7,4],[5,6,10,7,0,3,7,4,0],[10,5,6,4,8,7],[9,11,8],[3,5,6],[0,5,11,0,11,8],[6,3,5,3,1,5],[3,9,6,3,8,9],[9,6,0,6,2,0],[0,3,8,2,5,6,2,1,5],[1,6,2,1,5,6],[9,11,8],[1,0,9,6,10,5,11,3,2],[6,10,5,2,8,0,2,11,8],[3,2,11,10,5,6],[10,5,6,9,3,8,9,
1,3],[0,9,1,5,6,10],[8,0,3,10,5,6],[10,5,6],[],[],[],[],[],[],[],[1,10,2,9,11,6,9,8,11],[],[],[6,0,2],[3,6,9,3,2,6],[3,5,1],[0,5,1,0,11,5],[0,3,5],[6,9,11,9,8,11],[],[],[],[4,5,9,7,1,10,7,3,1],[],[11,6,7,2,4,5,2,0,4],[11,6,7,8,0,3,1,10,2,9,4,5],[6,7,11,1,10,2,9,4,5],[],[4,1,0,4,5,1,6,7,3,6,3,2],[9,4,5,0,6,7,0,2,6],[4,5,9,6,3,2,6,7,3],[6,7,11,5,3,8,5,1,3],[6,7,11,4,1,0,4,5,1],[4,5,9,3,8,0,11,6,7],[9,4,5,7,11,6],[],[],[0,6,4],[8,6,4,8,1,6],[],[0,10,2,0,9,10,4,8,11,4,11,6],[10,2,1,6,0,3,6,4,0],[10,2,
1,11,4,8,11,6,4],[4,2,6],[1,0,9,2,4,8,2,6,4],[2,4,0,2,6,4],[8,2,4,2,6,4],[11,4,1,11,6,4],[0,9,1,4,11,6,4,8,11],[3,6,0,6,4,0],[8,6,4,8,11,6],[10,8,9],[6,3,9,6,7,3],[6,7,1],[10,7,1,7,3,1],[7,11,6,8,10,2,8,9,10],[11,6,7,10,0,9,10,2,0],[2,1,10,7,11,6,8,0,3],[1,10,2,6,7,11],[7,2,6,7,9,2],[1,0,9,3,6,7,3,2,6],[7,0,6,0,2,6],[2,7,3,2,6,7],[7,11,6,3,9,1,3,8,9],[9,1,0,11,6,7],[0,3,8,11,6,7],[11,6,7],[],[],[],[],[5,3,7],[8,5,2,8,7,5],[5,3,7],[1,10,2,5,8,7,5,9,8],[1,7,5],[1,7,5],[9,2,7,9,7,5],[11,3,2,8,5,9,8,
7,5],[1,3,7,1,7,5],[0,7,1,7,5,1],[9,3,5,3,7,5],[9,7,5,9,8,7],[8,10,11],[3,4,10,3,10,11],[8,10,11],[5,9,4,1,11,3,1,10,11],[2,4,5],[5,2,4,2,0,4],[0,3,8,5,9,4,10,2,1],[2,1,10,9,4,5],[2,8,5,2,11,8],[3,2,11,1,4,5,1,0,4],[9,4,5,8,2,11,8,0,2],[11,3,2,9,4,5],[8,5,3,5,1,3],[5,0,4,5,1,0],[3,8,0,4,5,9],[9,4,5],[11,9,10],[11,9,10],[1,11,4,1,10,11],[8,7,4,11,1,10,11,3,1],[2,7,9,2,9,10],[4,8,7,0,10,2,0,9,10],[2,1,10,0,7,4,0,3,7],[10,2,1,8,7,4],[1,7,4],[3,2,11,4,8,7,9,1,0],[11,4,2,4,0,2],[2,11,3,7,4,8],[4,1,7,1,
3,7],[1,0,9,8,7,4],[3,4,0,3,7,4],[8,7,4],[8,9,10,8,10,11],[3,9,11,9,10,11],[0,10,8,10,11,8],[10,3,1,10,11,3],[2,8,10,8,9,10],[9,2,0,9,10,2],[8,0,3,1,10,2],[10,2,1],[1,11,9,11,8,9],[11,3,2,0,9,1],[11,0,2,11,8,0],[11,3,2],[8,1,3,8,9,1],[9,1,0],[8,0,3],[]],D=[0,265,515,778,2060,2309,2575,2822,1030,1295,1541,1804,3082,3331,3593,3840,400,153,915,666,2460,2197,2975,2710,1430,1183,1941,1692,3482,3219,3993,3728,560,825,51,314,2620,2869,2111,2358,1590,1855,1077,1340,3642,3891,3129,3376,928,681,419,170,2988,
2725,2479,2214,1958,1711,1445,1196,4010,3747,3497,3232,2240,2505,2755,3018,204,453,719,966,3270,3535,3781,4044,1226,1475,1737,1984,2384,2137,2899,2650,348,85,863,598,3414,3167,3925,3676,1370,1107,1881,1616,2800,3065,2291,2554,764,1013,255,502,3830,4095,3317,3580,1786,2035,1273,1520,2912,2665,2403,2154,876,613,367,102,3942,3695,3429,3180,1898,1635,1385,1120,1120,1385,1635,1898,3180,3429,3695,3942,102,367,613,876,2154,2403,2665,2912,1520,1273,2035,1786,3580,3317,4095,3830,502,255,1013,764,2554,2291,
3065,2800,1616,1881,1107,1370,3676,3925,3167,3414,598,863,85,348,2650,2899,2137,2384,1984,1737,1475,1226,4044,3781,3535,3270,966,719,453,204,3018,2755,2505,2240,3232,3497,3747,4010,1196,1445,1711,1958,2214,2479,2725,2988,170,419,681,928,3376,3129,3891,3642,1340,1077,1855,1590,2358,2111,2869,2620,314,51,825,560,3728,3993,3219,3482,1692,1941,1183,1430,2710,2975,2197,2460,666,915,153,400,3840,3593,3331,3082,1804,1541,1295,1030,2822,2575,2309,2060,778,515,265,0],s=[[],[8,3,0],[9,0,1],[8,3,1,8,1,9],[11,
2,3],[11,2,0,11,0,8],[11,2,3,0,1,9],[2,1,11,1,9,11,11,9,8],[10,1,2],[8,3,0,1,2,10],[9,0,2,9,2,10],[3,2,8,2,10,8,8,10,9],[10,1,3,10,3,11],[1,0,10,0,8,10,10,8,11],[0,3,9,3,11,9,9,11,10],[8,10,9,8,11,10],[8,4,7],[3,0,4,3,4,7],[1,9,0,8,4,7],[9,4,1,4,7,1,1,7,3],[2,3,11,7,8,4],[7,11,4,11,2,4,4,2,0],[3,11,2,4,7,8,9,0,1],[2,7,11,2,1,7,1,4,7,1,9,4],[10,1,2,8,4,7],[2,10,1,0,4,7,0,7,3],[4,7,8,0,2,10,0,10,9],[2,7,3,2,9,7,7,9,4,2,10,9],[8,4,7,11,10,1,11,1,3],[11,4,7,1,4,11,1,11,10,1,0,4],[3,8,0,7,11,4,11,9,4,
11,10,9],[7,11,4,4,11,9,11,10,9],[9,5,4],[3,0,8,4,9,5],[5,4,0,5,0,1],[4,8,5,8,3,5,5,3,1],[11,2,3,9,5,4],[9,5,4,8,11,2,8,2,0],[3,11,2,1,5,4,1,4,0],[8,5,4,2,5,8,2,8,11,2,1,5],[2,10,1,9,5,4],[0,8,3,5,4,9,10,1,2],[10,5,2,5,4,2,2,4,0],[3,4,8,3,2,4,2,5,4,2,10,5],[5,4,9,1,3,11,1,11,10],[0,9,1,4,8,5,8,10,5,8,11,10],[3,4,0,3,10,4,4,10,5,3,11,10],[4,8,5,5,8,10,8,11,10],[9,5,7,9,7,8],[0,9,3,9,5,3,3,5,7],[8,0,7,0,1,7,7,1,5],[1,7,3,1,5,7],[11,2,3,8,9,5,8,5,7],[9,2,0,9,7,2,2,7,11,9,5,7],[0,3,8,2,1,11,1,7,11,1,
5,7],[2,1,11,11,1,7,1,5,7],[1,2,10,5,7,8,5,8,9],[9,1,0,10,5,2,5,3,2,5,7,3],[5,2,10,8,2,5,8,5,7,8,0,2],[10,5,2,2,5,3,5,7,3],[3,9,1,3,8,9,7,11,10,7,10,5],[9,1,0,10,7,11,10,5,7],[3,8,0,7,10,5,7,11,10],[11,5,7,11,10,5],[11,7,6],[0,8,3,11,7,6],[9,0,1,11,7,6],[7,6,11,3,1,9,3,9,8],[2,3,7,2,7,6],[8,7,0,7,6,0,0,6,2],[1,9,0,3,7,6,3,6,2],[7,6,2,7,2,9,2,1,9,7,9,8],[1,2,10,6,11,7],[2,10,1,7,6,11,8,3,0],[11,7,6,10,9,0,10,0,2],[7,6,11,3,2,8,8,2,10,8,10,9],[6,10,7,10,1,7,7,1,3],[6,10,1,6,1,7,7,1,0,7,0,8],[9,0,3,
6,9,3,6,10,9,6,3,7],[6,10,7,7,10,8,10,9,8],[8,4,6,8,6,11],[11,3,6,3,0,6,6,0,4],[0,1,9,4,6,11,4,11,8],[1,9,4,11,1,4,11,3,1,11,4,6],[3,8,2,8,4,2,2,4,6],[2,0,4,2,4,6],[1,9,0,3,8,2,2,8,4,2,4,6],[9,4,1,1,4,2,4,6,2],[10,1,2,11,8,4,11,4,6],[10,1,2,11,3,6,6,3,0,6,0,4],[0,2,10,0,10,9,4,11,8,4,6,11],[2,11,3,6,9,4,6,10,9],[8,4,6,8,6,1,6,10,1,8,1,3],[1,0,10,10,0,6,0,4,6],[8,0,3,9,6,10,9,4,6],[10,4,6,10,9,4],[9,5,4,7,6,11],[4,9,5,3,0,8,11,7,6],[6,11,7,4,0,1,4,1,5],[6,11,7,4,8,5,5,8,3,5,3,1],[4,9,5,6,2,3,6,3,7],
[9,5,4,8,7,0,0,7,6,0,6,2],[4,0,1,4,1,5,6,3,7,6,2,3],[7,4,8,5,2,1,5,6,2],[6,11,7,1,2,10,9,5,4],[11,7,6,8,3,0,1,2,10,9,5,4],[11,7,6,10,5,2,2,5,4,2,4,0],[7,4,8,2,11,3,10,5,6],[4,9,5,6,10,7,7,10,1,7,1,3],[5,6,10,0,9,1,8,7,4],[5,6,10,7,0,3,7,4,0],[10,5,6,4,8,7],[5,6,9,6,11,9,9,11,8],[0,9,5,0,5,3,3,5,6,3,6,11],[0,1,5,0,5,11,5,6,11,0,11,8],[11,3,6,6,3,5,3,1,5],[9,5,6,3,9,6,3,8,9,3,6,2],[5,6,9,9,6,0,6,2,0],[0,3,8,2,5,6,2,1,5],[1,6,2,1,5,6],[1,2,10,5,6,9,9,6,11,9,11,8],[1,0,9,6,10,5,11,3,2],[6,10,5,2,8,0,
2,11,8],[3,2,11,10,5,6],[10,5,6,9,3,8,9,1,3],[0,9,1,5,6,10],[8,0,3,10,5,6],[10,5,6],[10,6,5],[8,3,0,10,6,5],[0,1,9,5,10,6],[10,6,5,9,8,3,9,3,1],[3,11,2,10,6,5],[6,5,10,2,0,8,2,8,11],[1,9,0,6,5,10,11,2,3],[1,10,2,5,9,6,9,11,6,9,8,11],[1,2,6,1,6,5],[0,8,3,2,6,5,2,5,1],[5,9,6,9,0,6,6,0,2],[9,6,5,3,6,9,3,9,8,3,2,6],[11,6,3,6,5,3,3,5,1],[0,5,1,0,11,5,5,11,6,0,8,11],[0,5,9,0,3,5,3,6,5,3,11,6],[5,9,6,6,9,11,9,8,11],[10,6,5,4,7,8],[5,10,6,7,3,0,7,0,4],[5,10,6,0,1,9,8,4,7],[4,5,9,6,7,10,7,1,10,7,3,1],[7,8,
4,2,3,11,10,6,5],[11,6,7,10,2,5,2,4,5,2,0,4],[11,6,7,8,0,3,1,10,2,9,4,5],[6,7,11,1,10,2,9,4,5],[7,8,4,5,1,2,5,2,6],[4,1,0,4,5,1,6,7,3,6,3,2],[9,4,5,8,0,7,0,6,7,0,2,6],[4,5,9,6,3,2,6,7,3],[6,7,11,4,5,8,5,3,8,5,1,3],[6,7,11,4,1,0,4,5,1],[4,5,9,3,8,0,11,6,7],[9,4,5,7,11,6],[10,6,4,10,4,9],[8,3,0,9,10,6,9,6,4],[1,10,0,10,6,0,0,6,4],[8,6,4,8,1,6,6,1,10,8,3,1],[2,3,11,6,4,9,6,9,10],[0,10,2,0,9,10,4,8,11,4,11,6],[10,2,1,11,6,3,6,0,3,6,4,0],[10,2,1,11,4,8,11,6,4],[9,1,4,1,2,4,4,2,6],[1,0,9,3,2,8,2,4,8,2,
6,4],[2,4,0,2,6,4],[3,2,8,8,2,4,2,6,4],[1,4,9,11,4,1,11,1,3,11,6,4],[0,9,1,4,11,6,4,8,11],[11,6,3,3,6,0,6,4,0],[8,6,4,8,11,6],[6,7,10,7,8,10,10,8,9],[9,3,0,6,3,9,6,9,10,6,7,3],[6,1,10,6,7,1,7,0,1,7,8,0],[6,7,10,10,7,1,7,3,1],[7,11,6,3,8,2,8,10,2,8,9,10],[11,6,7,10,0,9,10,2,0],[2,1,10,7,11,6,8,0,3],[1,10,2,6,7,11],[7,2,6,7,9,2,2,9,1,7,8,9],[1,0,9,3,6,7,3,2,6],[8,0,7,7,0,6,0,2,6],[2,7,3,2,6,7],[7,11,6,3,9,1,3,8,9],[9,1,0,11,6,7],[0,3,8,11,6,7],[11,6,7],[11,7,5,11,5,10],[3,0,8,7,5,10,7,10,11],[9,0,1,
10,11,7,10,7,5],[3,1,9,3,9,8,7,10,11,7,5,10],[10,2,5,2,3,5,5,3,7],[5,10,2,8,5,2,8,7,5,8,2,0],[9,0,1,10,2,5,5,2,3,5,3,7],[1,10,2,5,8,7,5,9,8],[2,11,1,11,7,1,1,7,5],[0,8,3,2,11,1,1,11,7,1,7,5],[9,0,2,9,2,7,2,11,7,9,7,5],[11,3,2,8,5,9,8,7,5],[1,3,7,1,7,5],[8,7,0,0,7,1,7,5,1],[0,3,9,9,3,5,3,7,5],[9,7,5,9,8,7],[4,5,8,5,10,8,8,10,11],[3,0,4,3,4,10,4,5,10,3,10,11],[0,1,9,4,5,8,8,5,10,8,10,11],[5,9,4,1,11,3,1,10,11],[3,8,4,3,4,2,2,4,5,2,5,10],[10,2,5,5,2,4,2,0,4],[0,3,8,5,9,4,10,2,1],[2,1,10,9,4,5],[8,4,
5,2,8,5,2,11,8,2,5,1],[3,2,11,1,4,5,1,0,4],[9,4,5,8,2,11,8,0,2],[11,3,2,9,4,5],[4,5,8,8,5,3,5,1,3],[5,0,4,5,1,0],[3,8,0,4,5,9],[9,4,5],[7,4,11,4,9,11,11,9,10],[3,0,8,7,4,11,11,4,9,11,9,10],[11,7,4,1,11,4,1,10,11,1,4,0],[8,7,4,11,1,10,11,3,1],[2,3,7,2,7,9,7,4,9,2,9,10],[4,8,7,0,10,2,0,9,10],[2,1,10,0,7,4,0,3,7],[10,2,1,8,7,4],[2,11,7,2,7,1,1,7,4,1,4,9],[3,2,11,4,8,7,9,1,0],[7,4,11,11,4,2,4,0,2],[2,11,3,7,4,8],[9,1,4,4,1,7,1,3,7],[1,0,9,8,7,4],[3,4,0,3,7,4],[8,7,4],[8,9,10,8,10,11],[0,9,3,3,9,11,9,
10,11],[1,10,0,0,10,8,10,11,8],[10,3,1,10,11,3],[3,8,2,2,8,10,8,9,10],[9,2,0,9,10,2],[8,0,3,1,10,2],[10,2,1],[2,11,1,1,11,9,11,8,9],[11,3,2,0,9,1],[11,0,2,11,8,0],[11,3,2],[8,1,3,8,9,1],[9,1,0],[8,0,3],[]];return t}();"undefined"===typeof console&&(console={log:function(){}});
WebMol.fa=function(){function t(a,v,b){var e=new Int32Array(a*v*b*3);this.set=function(a,c,q,g){a=3*((a*v+c)*b+q);e[a]=g.c;e[a+1]=g.d;e[a+2]=g.e};this.get=function(a,c,q){a=3*((a*v+c)*b+q);return{c:e[a],d:e[a+1],e:e[a+2]}}}function y(a){return a.elem&&"undefined"!=typeof G[a.elem]?a.elem:"X"}var E=0,D=0,s=0,p=2,m=0,z=0,d=0,c=0,e=null,f=null,a=null,b=0,A=0,u=0,h=0,C=0,w=0,G={H:1.2,Li:1.82,Na:2.27,K:2.75,C:1.7,N:1.55,O:1.52,F:1.47,P:1.8,S:1.8,CL:1.75,BR:1.85,SE:1.9,ZN:1.39,CU:1.4,NI:1.63,X:2},r={},
I={},x,n,v=[new Int32Array([1,0,0]),new Int32Array([-1,0,0]),new Int32Array([0,1,0]),new Int32Array([0,-1,0]),new Int32Array([0,0,1]),new Int32Array([0,0,-1]),new Int32Array([1,1,0]),new Int32Array([1,-1,0]),new Int32Array([-1,1,0]),new Int32Array([-1,-1,0]),new Int32Array([1,0,1]),new Int32Array([1,0,-1]),new Int32Array([-1,0,1]),new Int32Array([-1,0,-1]),new Int32Array([0,1,1]),new Int32Array([0,1,-1]),new Int32Array([0,-1,1]),new Int32Array([0,-1,-1]),new Int32Array([1,1,1]),new Int32Array([1,
1,-1]),new Int32Array([1,-1,1]),new Int32Array([-1,1,1]),new Int32Array([1,-1,-1]),new Int32Array([-1,-1,1]),new Int32Array([-1,1,-1]),new Int32Array([-1,-1,-1])];this.ta=function(v){var b={},H,c;H=0;for(c=v.length;H<c;H++)b[v[H]]=!0;v=n;H=0;for(c=v.length;H<c;H++)v[H].x=v[H].x/p-E,v[H].y=v[H].y/p-D,v[H].z=v[H].z/p-s;var d=[];H=0;for(c=x.length;H<c;H+=3){var B=x[H],q=x[H+1],g=x[H+2],m=v[q].atomid,h=v[g].atomid,A=v[B].atomid;m<A&&(A=m);h<A&&(A=h);b[A]&&B!==q&&q!==g&&B!==g&&(d.push(B),d.push(q),d.push(g))}a=
f=e=null;return{vertices:v,faces:d}};this.wa=function(v,N,H){1E6<H&&(p=1);H=1/p*5.5;b=v[0][0];h=v[1][0];A=v[0][1];C=v[1][1];u=v[0][2];w=v[1][2];N?(b-=1.4+H,A-=1.4+H,u-=1.4+H,h+=1.4+H,C+=1.4+H,w+=1.4+H):(b-=H,A-=H,u-=H,h+=H,C+=H,w+=H);b=Math.floor(b*p)/p;A=Math.floor(A*p)/p;u=Math.floor(u*p)/p;h=Math.ceil(h*p)/p;C=Math.ceil(C*p)/p;w=Math.ceil(w*p)/p;E=-b;D=-A;s=-u;d=Math.ceil(p*(h-b))+1;z=Math.ceil(p*(C-A))+1;m=Math.ceil(p*(w-u))+1;this.Q(N);c=1.4*p;e=new Uint8Array(d*z*m);f=new Float64Array(d*z*m);
a=new Int32Array(d*z*m);console.log("Box size: ",d,z,m,e.length)};this.Q=function(a){var v=[],b,e;flagradius=a;for(var c in G)if(G.hasOwnProperty(c))for(e=G[c],v[c]=a?(e+1.4)*p+.5:e*p+.5,e=v[c]*v[c],I[c]=Math.floor(v[c])+1,r[c]=new Int32Array(I[c]*I[c]),j=indx=0;j<I[c];j++)for(k=0;k<I[c];k++)b=j*j+k*k,b>e?r[c][indx]=-1:(b=Math.sqrt(e-b),r[c][indx]=Math.floor(b)),indx++};this.qa=function(v,b){var c,d;c=0;for(d=e.length;c<d;c++)e[c]=0,f[c]=-1,a[c]=-1;for(c in b)d=v[b[c]],void 0!==d&&this.oa(d,v);c=
0;for(d=e.length;c<d;c++)e[c]&1&&(e[c]|=2)};this.oa=function(v,c){var b,f,Q,B,q,g,h,A,n,l,F,Z,u,x,w,C,t;b=Math.floor(.5+p*(v.x+E));f=Math.floor(.5+p*(v.y+D));Q=Math.floor(.5+p*(v.z+s));var G=y(v),J=0,K=z*m;l=0;for(t=I[G];l<t;l++)for(F=0;F<t;F++){if(-1!=r[G][J])for(x=-1;2>x;x++)for(w=-1;2>w;w++)for(C=-1;2>C;C++)if(0!==x&&0!==w&&0!==C)for(h=x*l,n=C*F,Z=0;Z<=r[G][J];Z++)A=Z*w,B=b+h,q=f+A,u=Q+n,0>B||0>q||0>u||B>=d||q>=z||u>=m||(u=B*K+q*m+u,e[u]&1?(g=c[a[u]],B=Math.floor(.5+p*(g.x+E)),q=Math.floor(.5+
p*(g.y+D)),g=Math.floor(.5+p*(g.z+s)),h*h+A*A+n*n<B*B+q*q+g*g&&(a[u]=v.serial)):(e[u]|=1,a[u]=v.serial));J++}};this.ra=function(a,v){var c,b;c=0;for(b=e.length;c<b;c++)e[c]&=-3;for(c in v)b=a[v[c]],void 0!==b&&this.pa(b,a)};this.pa=function(v,c){var b,f,h,B,q,g,A=0,n,u,l,F,Z,x,w,C,t,G,V;b=Math.floor(.5+p*(v.x+E));f=Math.floor(.5+p*(v.y+D));h=Math.floor(.5+p*(v.z+s));var J=y(v),K=z*m;Z=0;for(V=I[J];Z<V;Z++)for(x=0;x<V;x++){if(-1!=r[J][A])for(C=-1;2>C;C++)for(t=-1;2>t;t++)for(G=-1;2>G;G++)if(0!==C&&
0!==t&&0!==G)for(n=C*Z,l=G*x,w=0;w<=r[J][A];w++)u=w*t,B=b+n,q=f+u,F=h+l,0>B||0>q||0>F||B>=d||q>=z||F>=m||(F=B*K+q*m+F,e[F]&2?(g=c[a[F]],B=Math.floor(.5+p*(g.x+E)),q=Math.floor(.5+p*(g.y+D)),g=Math.floor(.5+p*(g.z+s)),n*n+u*u+l*l<B*B+q*q+g*g&&(a[F]=v.serial)):(e[F]|=2,a[F]=v.serial));A++}};this.ha=function(){var a=z*m;for(i=0;i<d;i++)for(j=0;j<m;j++)for(k=0;k<z;k++){var c=i*a+k*m+j;if(e[c]&1)for(var b=0;26>b;){var f=i+v[b][0],h=j+v[b][2],B=k+v[b][1];if(-1<f&&f<d&&-1<B&&B<z&&-1<h&&h<m&&!(e[f*a+B*m+
h]&1)){e[c]|=4;break}else b++}}};this.ma=function(){var a,v,b,M=new t(d,z,m),h=z*m,B=c*c,q=[];b=[];var g;for(a=0;a<d;a++)for(v=0;v<z;v++)for(b=0;b<m;b++)if(g=a*h+v*m+b,e[g]&=-3,e[g]&1&&e[g]&4){var A={c:a,d:v,e:b};M.set(a,v,b,A);q.push(A);f[g]=0;e[g]|=2;e[g]&=-5}do for(b=this.na(q,M),q=[],a=0,v=b.length;a<v;a++)g=h*b[a].c+m*b[a].d+b[a].e,e[g]&=-5,f[g]<=1.0404*B&&q.push({c:b[a].c,d:b[a].d,e:b[a].e});while(0!==q.length);a=p-.5;0>a&&(a=0);B-=.5/(.1+a);for(a=0;a<d;a++)for(v=0;v<z;v++)for(b=0;b<m;b++)g=
a*h+v*m+b,e[g]&=-5,e[g]&1&&(!(e[g]&2)||e[g]&2&&f[g]>=B)&&(e[g]|=4)};this.na=function(a,b){var c,h,A,B,q,g,n,r,p,l,F,u=[];if(0===a.length)return u;tnv={c:-1,d:-1,e:-1};var x=z*m;n=0;for(p=a.length;n<p;n++)for(c=a[n].c,h=a[n].d,A=a[n].e,l=b.get(c,h,A),r=0;6>r;r++)tnv.c=c+v[r][0],tnv.d=h+v[r][1],tnv.e=A+v[r][2],tnv.c<d&&-1<tnv.c&&tnv.d<z&&-1<tnv.d&&tnv.e<m&&-1<tnv.e&&(F=tnv.c*x+m*tnv.d+tnv.e,e[F]&1&&!(e[F]&2)?(b.set(tnv.c,tnv.d,A+v[r][2],l),B=tnv.c-l.c,q=tnv.d-l.d,g=tnv.e-l.e,B=B*B+q*q+g*g,f[F]=B,e[F]|=
2,e[F]|=4,u.push({c:tnv.c,d:tnv.d,e:tnv.e})):e[F]&1&&e[F]&2&&(B=tnv.c-l.c,q=tnv.d-l.d,g=tnv.e-l.e,B=B*B+q*q+g*g,B<f[F]&&(b.set(tnv.c,tnv.d,tnv.e,l),f[F]=B,e[F]&4||(e[F]|=4,u.push({c:tnv.c,d:tnv.d,e:tnv.e})))));n=0;for(p=a.length;n<p;n++)for(c=a[n].c,h=a[n].d,A=a[n].e,l=b.get(c,h,A),r=6;18>r;r++)tnv.c=c+v[r][0],tnv.d=h+v[r][1],tnv.e=A+v[r][2],tnv.c<d&&-1<tnv.c&&tnv.d<z&&-1<tnv.d&&tnv.e<m&&-1<tnv.e&&(F=tnv.c*x+m*tnv.d+tnv.e,e[F]&1&&!(e[F]&2)?(b.set(tnv.c,tnv.d,A+v[r][2],l),B=tnv.c-l.c,q=tnv.d-l.d,g=
tnv.e-l.e,B=B*B+q*q+g*g,f[F]=B,e[F]|=2,e[F]|=4,u.push({c:tnv.c,d:tnv.d,e:tnv.e})):e[F]&1&&e[F]&2&&(B=tnv.c-l.c,q=tnv.d-l.d,g=tnv.e-l.e,B=B*B+q*q+g*g,B<f[F]&&(b.set(tnv.c,tnv.d,tnv.e,l),f[F]=B,e[F]&4||(e[F]|=4,u.push({c:tnv.c,d:tnv.d,e:tnv.e})))));n=0;for(p=a.length;n<p;n++)for(c=a[n].c,h=a[n].d,A=a[n].e,l=b.get(c,h,A),r=18;26>r;r++)tnv.c=c+v[r][0],tnv.d=h+v[r][1],tnv.e=A+v[r][2],tnv.c<d&&-1<tnv.c&&tnv.d<z&&-1<tnv.d&&tnv.e<m&&-1<tnv.e&&(F=tnv.c*x+m*tnv.d+tnv.e,e[F]&1&&!(e[F]&2)?(b.set(tnv.c,tnv.d,
A+v[r][2],l),B=tnv.c-l.c,q=tnv.d-l.d,g=tnv.e-l.e,B=B*B+q*q+g*g,f[F]=B,e[F]|=2,e[F]|=4,u.push({c:tnv.c,d:tnv.d,e:tnv.e})):e[F]&1&&e[F]&2&&(B=tnv.c-l.c,q=tnv.d-l.d,g=tnv.e-l.e,B=B*B+q*q+g*g,B<f[F]&&(b.set(tnv.c,tnv.d,tnv.e,l),f[F]=B,e[F]&4||(e[F]|=4,u.push({c:tnv.c,d:tnv.d,e:tnv.e})))));return u};this.ya=function(a){for(var v=0,b=e.length;v<b;v++)1==a?e[v]&=-5:4==a?(e[v]&=-3,e[v]&4&&(e[v]|=2),e[v]&=-5):2==a?e[v]&4&&e[v]&2?e[v]&=-5:e[v]&4&&!(e[v]&2)&&(e[v]|=2):3==a&&(e[v]&=-5)};this.xa=function(v){this.ya(v);
n=[];x=[];WebMol.o.U(e,n,x,{Ia:1,W:d,Y:z,Z:m});v=z*m;for(var b=0,c=n.length;b<c;b++)n[b].atomid=a[n[b].x*v+m*n[b].y+n[b].z];WebMol.o.T(1,n,x)}};WebMol.ea='self.onmessage=function(oEvent){var obj=oEvent.data,type=obj.type;if(0>type)self.atomData=obj.atoms,self.volume=obj.volume,self.ps=new ProteinSurface;else{var ps=self.ps;ps.initparm(obj.expandedExtent,1==type?!1:!0,self.volume),ps.fillvoxels(self.atomData,obj.extendedAtoms),ps.buildboundary(),(4===type||2===type)&&(ps.fastdistancemap(),ps.boundingatom(!1),ps.fillvoxelswaals(self.atomData,obj.extendedAtoms)),ps.marchingcube(type);var VandF=ps.getFacesAndVertices(obj.atomsToShow);self.postMessage(VandF)}};var Vector3=function(x,y,z){this.x=x||0,this.y=y||0,this.z=z||0};Vector3.prototype={constructor:Vector3,copy:function(v){return this.x=v.x,this.y=v.y,this.z=v.z,this},multiplyScalar:function(s){return this.x*=s,this.y*=s,this.z*=s,this}};var ISDONE=2,ProteinSurface=function (){var faces,verts,origextent,INOUT=1,ISDONE=2,ISBOUND=4,ptranx=0,ptrany=0,ptranz=0,probeRadius=1.4,defaultScaleFactor=2,scaleFactor=defaultScaleFactor,pHeight=0,pWidth=0,pLength=0,cutRadius=0,vpBits=null,vpDistance=null,vpAtomID=null,pminx=0,pminy=0,pminz=0,pmaxx=0,pmaxy=0,pmaxz=0,vdwRadii={H:1.2,Li:1.82,Na:2.27,K:2.75,C:1.7,N:1.55,O:1.52,F:1.47,P:1.8,S:1.8,CL:1.75,BR:1.85,SE:1.9,ZN:1.39,CU:1.4,NI:1.63,X:2},getVDWIndex=function(atom){return atom.elem&&"undefined"!=typeof vdwRadii[atom.elem]?atom.elem:"X"},depty={},widxz={},nb=[new Int32Array([1,0,0]),new Int32Array([-1,0,0]),new Int32Array([0,1,0]),new Int32Array([0,-1,0]),new Int32Array([0,0,1]),new Int32Array([0,0,-1]),new Int32Array([1,1,0]),new Int32Array([1,-1,0]),new Int32Array([-1,1,0]),new Int32Array([-1,-1,0]),new Int32Array([1,0,1]),new Int32Array([1,0,-1]),new Int32Array([-1,0,1]),new Int32Array([-1,0,-1]),new Int32Array([0,1,1]),new Int32Array([0,1,-1]),new Int32Array([0,-1,1]),new Int32Array([0,-1,-1]),new Int32Array([1,1,1]),new Int32Array([1,1,-1]),new Int32Array([1,-1,1]),new Int32Array([-1,1,1]),new Int32Array([1,-1,-1]),new Int32Array([-1,-1,1]),new Int32Array([-1,1,-1]),new Int32Array([-1,-1,-1])];this.getFacesAndVertices=function(atomlist){var i,il,atomsToShow={};for(i=0,il=atomlist.length;il>i;i++)atomsToShow[atomlist[i]]=!0;var vertices=verts;for(i=0,il=vertices.length;il>i;i++)vertices[i].x=vertices[i].x/scaleFactor-ptranx,vertices[i].y=vertices[i].y/scaleFactor-ptrany,vertices[i].z=vertices[i].z/scaleFactor-ptranz;var finalfaces=[];for(i=0,il=faces.length;il>i;i+=3){var fa=faces[i],fb=faces[i+1],fc=faces[i+2],a=vertices[fa].atomid,b=vertices[fb].atomid,c=vertices[fc].atomid,which=a;if(which>b&&(which=b),which>c&&(which=c),atomsToShow[which]){{vertices[faces[i]],vertices[faces[i+1]],vertices[faces[i+2]]}fa!==fb&&fb!==fc&&fa!==fc&&(finalfaces.push(fa),finalfaces.push(fb),finalfaces.push(fc))}}return vpBits=null,vpDistance=null,vpAtomID=null,{vertices:vertices,faces:finalfaces}},this.initparm=function(extent,btype,volume){volume>1e6&&(scaleFactor=defaultScaleFactor/2);var margin=1/scaleFactor*5.5;origextent=extent,pminx=extent[0][0],pmaxx=extent[1][0],pminy=extent[0][1],pmaxy=extent[1][1],pminz=extent[0][2],pmaxz=extent[1][2],btype?(pminx-=probeRadius+margin,pminy-=probeRadius+margin,pminz-=probeRadius+margin,pmaxx+=probeRadius+margin,pmaxy+=probeRadius+margin,pmaxz+=probeRadius+margin):(pminx-=margin,pminy-=margin,pminz-=margin,pmaxx+=margin,pmaxy+=margin,pmaxz+=margin),pminx=Math.floor(pminx*scaleFactor)/scaleFactor,pminy=Math.floor(pminy*scaleFactor)/scaleFactor,pminz=Math.floor(pminz*scaleFactor)/scaleFactor,pmaxx=Math.ceil(pmaxx*scaleFactor)/scaleFactor,pmaxy=Math.ceil(pmaxy*scaleFactor)/scaleFactor,pmaxz=Math.ceil(pmaxz*scaleFactor)/scaleFactor,ptranx=-pminx,ptrany=-pminy,ptranz=-pminz,pLength=Math.ceil(scaleFactor*(pmaxx-pminx))+1,pWidth=Math.ceil(scaleFactor*(pmaxy-pminy))+1,pHeight=Math.ceil(scaleFactor*(pmaxz-pminz))+1,this.boundingatom(btype),cutRadius=probeRadius*scaleFactor,vpBits=new Uint8Array(pLength*pWidth*pHeight),vpDistance=new Float64Array(pLength*pWidth*pHeight),vpAtomID=new Int32Array(pLength*pWidth*pHeight),console.log("Box size: ",pLength,pWidth,pHeight,vpBits.length)},this.boundingatom=function(btype){var txz,tdept,sradius,tradius=[];flagradius=btype;for(var i in vdwRadii)if(vdwRadii.hasOwnProperty(i)){var r=vdwRadii[i];for(tradius[i]=btype?(r+probeRadius)*scaleFactor+.5:r*scaleFactor+.5,sradius=tradius[i]*tradius[i],widxz[i]=Math.floor(tradius[i])+1,depty[i]=new Int32Array(widxz[i]*widxz[i]),indx=0,j=0;j<widxz[i];j++)for(k=0;k<widxz[i];k++)txz=j*j+k*k,txz>sradius?depty[i][indx]=-1:(tdept=Math.sqrt(sradius-txz),depty[i][indx]=Math.floor(tdept)),indx++}},this.fillvoxels=function(atoms,atomlist){var i,il;for(i=0,il=vpBits.length;il>i;i++)vpBits[i]=0,vpDistance[i]=-1,vpAtomID[i]=-1;for(i in atomlist){var atom=atoms[atomlist[i]];void 0!==atom&&this.fillAtom(atom,atoms)}for(i=0,il=vpBits.length;il>i;i++)vpBits[i]&INOUT&&(vpBits[i]|=ISDONE)},this.fillAtom=function(atom,atoms){var cx,cy,cz,ox,oy,oz,mi,mj,mk,i,j,k,si,sj,sk,ii,jj,kk,n;cx=Math.floor(.5+scaleFactor*(atom.x+ptranx)),cy=Math.floor(.5+scaleFactor*(atom.y+ptrany)),cz=Math.floor(.5+scaleFactor*(atom.z+ptranz));var at=getVDWIndex(atom),nind=0,pWH=pWidth*pHeight;for(i=0,n=widxz[at];n>i;i++)for(j=0;n>j;j++){if(-1!=depty[at][nind])for(ii=-1;2>ii;ii++)for(jj=-1;2>jj;jj++)for(kk=-1;2>kk;kk++)if(0!==ii&&0!==jj&&0!==kk)for(mi=ii*i,mk=kk*j,k=0;k<=depty[at][nind];k++)if(mj=k*jj,si=cx+mi,sj=cy+mj,sk=cz+mk,!(0>si||0>sj||0>sk||si>=pLength||sj>=pWidth||sk>=pHeight)){var index=si*pWH+sj*pHeight+sk;if(vpBits[index]&INOUT){var atom2=atoms[vpAtomID[index]];ox=Math.floor(.5+scaleFactor*(atom2.x+ptranx)),oy=Math.floor(.5+scaleFactor*(atom2.y+ptrany)),oz=Math.floor(.5+scaleFactor*(atom2.z+ptranz)),ox*ox+oy*oy+oz*oz>mi*mi+mj*mj+mk*mk&&(vpAtomID[index]=atom.serial)}else vpBits[index]|=INOUT,vpAtomID[index]=atom.serial}nind++}},this.fillvoxelswaals=function(atoms,atomlist){var i,il;for(i=0,il=vpBits.length;il>i;i++)vpBits[i]&=~ISDONE;for(i in atomlist){var atom=atoms[atomlist[i]];void 0!==atom&&this.fillAtomWaals(atom,atoms)}},this.fillAtomWaals=function(atom,atoms){var cx,cy,cz,ox,oy,oz,mi,mj,mk,si,sj,sk,i,j,k,ii,jj,kk,n,nind=0;cx=Math.floor(.5+scaleFactor*(atom.x+ptranx)),cy=Math.floor(.5+scaleFactor*(atom.y+ptrany)),cz=Math.floor(.5+scaleFactor*(atom.z+ptranz));var at=getVDWIndex(atom),pWH=pWidth*pHeight;for(i=0,n=widxz[at];n>i;i++)for(j=0;n>j;j++){if(-1!=depty[at][nind])for(ii=-1;2>ii;ii++)for(jj=-1;2>jj;jj++)for(kk=-1;2>kk;kk++)if(0!==ii&&0!==jj&&0!==kk)for(mi=ii*i,mk=kk*j,k=0;k<=depty[at][nind];k++)if(mj=k*jj,si=cx+mi,sj=cy+mj,sk=cz+mk,!(0>si||0>sj||0>sk||si>=pLength||sj>=pWidth||sk>=pHeight)){var index=si*pWH+sj*pHeight+sk;if(vpBits[index]&ISDONE){var atom2=atoms[vpAtomID[index]];ox=Math.floor(.5+scaleFactor*(atom2.x+ptranx)),oy=Math.floor(.5+scaleFactor*(atom2.y+ptrany)),oz=Math.floor(.5+scaleFactor*(atom2.z+ptranz)),ox*ox+oy*oy+oz*oz>mi*mi+mj*mj+mk*mk&&(vpAtomID[index]=atom.serial)}else vpBits[index]|=ISDONE,vpAtomID[index]=atom.serial}nind++}},this.buildboundary=function(){var pWH=pWidth*pHeight;for(i=0;pLength>i;i++)for(j=0;pHeight>j;j++)for(k=0;pWidth>k;k++){var index=i*pWH+k*pHeight+j;if(vpBits[index]&INOUT)for(var ii=0;26>ii;){var ti=i+nb[ii][0],tj=j+nb[ii][2],tk=k+nb[ii][1];if(ti>-1&&pLength>ti&&tk>-1&&pWidth>tk&&tj>-1&&pHeight>tj&&!(vpBits[ti*pWH+tk*pHeight+tj]&INOUT)){vpBits[index]|=ISBOUND;break}ii++}}};var PointGrid=function(length,width,height){var data=new Int32Array(length*width*height*3);this.set=function(x,y,z,pt){var index=3*((x*width+y)*height+z);data[index]=pt.ix,data[index+1]=pt.iy,data[index+2]=pt.iz},this.get=function(x,y,z){var index=3*((x*width+y)*height+z);return{ix:data[index],iy:data[index+1],iz:data[index+2]}}};this.fastdistancemap=function(){var i,j,k,n,index,boundPoint=new PointGrid(pLength,pWidth,pHeight),pWH=pWidth*pHeight,cutRSq=cutRadius*cutRadius,inarray=[],outarray=[];for(i=0;pLength>i;i++)for(j=0;pWidth>j;j++)for(k=0;pHeight>k;k++)if(index=i*pWH+j*pHeight+k,vpBits[index]&=~ISDONE,vpBits[index]&INOUT&&vpBits[index]&ISBOUND){var triple={ix:i,iy:j,iz:k};boundPoint.set(i,j,k,triple),inarray.push(triple),vpDistance[index]=0,vpBits[index]|=ISDONE,vpBits[index]&=~ISBOUND}do for(outarray=this.fastoneshell(inarray,boundPoint),inarray=[],i=0,n=outarray.length;n>i;i++)index=pWH*outarray[i].ix+pHeight*outarray[i].iy+outarray[i].iz,vpBits[index]&=~ISBOUND,vpDistance[index]<=1.0404*cutRSq&&inarray.push({ix:outarray[i].ix,iy:outarray[i].iy,iz:outarray[i].iz});while(0!==inarray.length);inarray=[],outarray=[],boundPoint=null;var cutsf=scaleFactor-.5;0>cutsf&&(cutsf=0);var cutoff=cutRSq-.5/(.1+cutsf);for(i=0;pLength>i;i++)for(j=0;pWidth>j;j++)for(k=0;pHeight>k;k++)index=i*pWH+j*pHeight+k,vpBits[index]&=~ISBOUND,vpBits[index]&INOUT&&(!(vpBits[index]&ISDONE)||vpBits[index]&ISDONE&&vpDistance[index]>=cutoff)&&(vpBits[index]|=ISBOUND)},this.fastoneshell=function(inarray,boundPoint){var tx,ty,tz,dx,dy,dz,i,j,n,square,bp,index,outarray=[];if(0===inarray.length)return outarray;tnv={ix:-1,iy:-1,iz:-1};var pWH=pWidth*pHeight;for(i=0,n=inarray.length;n>i;i++)for(tx=inarray[i].ix,ty=inarray[i].iy,tz=inarray[i].iz,bp=boundPoint.get(tx,ty,tz),j=0;6>j;j++)tnv.ix=tx+nb[j][0],tnv.iy=ty+nb[j][1],tnv.iz=tz+nb[j][2],tnv.ix<pLength&&tnv.ix>-1&&tnv.iy<pWidth&&tnv.iy>-1&&tnv.iz<pHeight&&tnv.iz>-1&&(index=tnv.ix*pWH+pHeight*tnv.iy+tnv.iz,vpBits[index]&INOUT&&!(vpBits[index]&ISDONE)?(boundPoint.set(tnv.ix,tnv.iy,tz+nb[j][2],bp),dx=tnv.ix-bp.ix,dy=tnv.iy-bp.iy,dz=tnv.iz-bp.iz,square=dx*dx+dy*dy+dz*dz,vpDistance[index]=square,vpBits[index]|=ISDONE,vpBits[index]|=ISBOUND,outarray.push({ix:tnv.ix,iy:tnv.iy,iz:tnv.iz})):vpBits[index]&INOUT&&vpBits[index]&ISDONE&&(dx=tnv.ix-bp.ix,dy=tnv.iy-bp.iy,dz=tnv.iz-bp.iz,square=dx*dx+dy*dy+dz*dz,square<vpDistance[index]&&(boundPoint.set(tnv.ix,tnv.iy,tnv.iz,bp),vpDistance[index]=square,vpBits[index]&ISBOUND||(vpBits[index]|=ISBOUND,outarray.push({ix:tnv.ix,iy:tnv.iy,iz:tnv.iz})))));for(i=0,n=inarray.length;n>i;i++)for(tx=inarray[i].ix,ty=inarray[i].iy,tz=inarray[i].iz,bp=boundPoint.get(tx,ty,tz),j=6;18>j;j++)tnv.ix=tx+nb[j][0],tnv.iy=ty+nb[j][1],tnv.iz=tz+nb[j][2],tnv.ix<pLength&&tnv.ix>-1&&tnv.iy<pWidth&&tnv.iy>-1&&tnv.iz<pHeight&&tnv.iz>-1&&(index=tnv.ix*pWH+pHeight*tnv.iy+tnv.iz,vpBits[index]&INOUT&&!(vpBits[index]&ISDONE)?(boundPoint.set(tnv.ix,tnv.iy,tz+nb[j][2],bp),dx=tnv.ix-bp.ix,dy=tnv.iy-bp.iy,dz=tnv.iz-bp.iz,square=dx*dx+dy*dy+dz*dz,vpDistance[index]=square,vpBits[index]|=ISDONE,vpBits[index]|=ISBOUND,outarray.push({ix:tnv.ix,iy:tnv.iy,iz:tnv.iz})):vpBits[index]&INOUT&&vpBits[index]&ISDONE&&(dx=tnv.ix-bp.ix,dy=tnv.iy-bp.iy,dz=tnv.iz-bp.iz,square=dx*dx+dy*dy+dz*dz,square<vpDistance[index]&&(boundPoint.set(tnv.ix,tnv.iy,tnv.iz,bp),vpDistance[index]=square,vpBits[index]&ISBOUND||(vpBits[index]|=ISBOUND,outarray.push({ix:tnv.ix,iy:tnv.iy,iz:tnv.iz})))));for(i=0,n=inarray.length;n>i;i++)for(tx=inarray[i].ix,ty=inarray[i].iy,tz=inarray[i].iz,bp=boundPoint.get(tx,ty,tz),j=18;26>j;j++)tnv.ix=tx+nb[j][0],tnv.iy=ty+nb[j][1],tnv.iz=tz+nb[j][2],tnv.ix<pLength&&tnv.ix>-1&&tnv.iy<pWidth&&tnv.iy>-1&&tnv.iz<pHeight&&tnv.iz>-1&&(index=tnv.ix*pWH+pHeight*tnv.iy+tnv.iz,vpBits[index]&INOUT&&!(vpBits[index]&ISDONE)?(boundPoint.set(tnv.ix,tnv.iy,tz+nb[j][2],bp),dx=tnv.ix-bp.ix,dy=tnv.iy-bp.iy,dz=tnv.iz-bp.iz,square=dx*dx+dy*dy+dz*dz,vpDistance[index]=square,vpBits[index]|=ISDONE,vpBits[index]|=ISBOUND,outarray.push({ix:tnv.ix,iy:tnv.iy,iz:tnv.iz})):vpBits[index]&INOUT&&vpBits[index]&ISDONE&&(dx=tnv.ix-bp.ix,dy=tnv.iy-bp.iy,dz=tnv.iz-bp.iz,square=dx*dx+dy*dy+dz*dz,square<vpDistance[index]&&(boundPoint.set(tnv.ix,tnv.iy,tnv.iz,bp),vpDistance[index]=square,vpBits[index]&ISBOUND||(vpBits[index]|=ISBOUND,outarray.push({ix:tnv.ix,iy:tnv.iy,iz:tnv.iz})))));return outarray},this.marchingcubeinit=function(stype){for(var i=0,lim=vpBits.length;lim>i;i++)1==stype?vpBits[i]&=~ISBOUND:4==stype?(vpBits[i]&=~ISDONE,vpBits[i]&ISBOUND&&(vpBits[i]|=ISDONE),vpBits[i]&=~ISBOUND):2==stype?vpBits[i]&ISBOUND&&vpBits[i]&ISDONE?vpBits[i]&=~ISBOUND:vpBits[i]&ISBOUND&&!(vpBits[i]&ISDONE)&&(vpBits[i]|=ISDONE):3==stype&&(vpBits[i]&=~ISBOUND)};this.marchingcube=function(stype){this.marchingcubeinit(stype),verts=[],faces=[],march(vpBits,verts,faces,{smooth:1,nX:pLength,nY:pWidth,nZ:pHeight});for(var pWH=pWidth*pHeight,i=0,vlen=verts.length;vlen>i;i++)verts[i].atomid=vpAtomID[verts[i].x*pWH+pHeight*verts[i].y+verts[i].z];laplacianSmooth(1,verts,faces)}},march=function (data,verts,faces,spec){var i,il,fulltable=!!spec.fulltable,origin=spec.hasOwnProperty("origin")&&spec.origin.hasOwnProperty("x")?spec.origin:{x:0,y:0,z:0},voxel=!!spec.voxel,nX=spec.nX||0,nY=spec.nY||0,nZ=spec.nZ||0,scale=spec.scale||1,unitCube=new Vector3(1,1,1).multiplyScalar(scale),vertnums=new Int32Array(nX*nY*nZ);for(i=0,il=vertnums.length;il>i;++i)vertnums[i]=-1;var getVertex=function(i,j,k,code,p1,p2){var pt=new Vector3;pt.copy(origin);var val1=!!(code&1<<p1),val2=!!(code&1<<p2),p=p1;!val1&&val2&&(p=p2),1&p&&k++,2&p&&j++,4&p&&i++,pt.x+=unitCube.x*i,pt.y+=unitCube.y*j,pt.z+=unitCube.z*k;var index=(nY*i+j)*nZ+k;return voxel?(verts.push(pt),verts.length-1):(vertnums[index]<0&&(vertnums[index]=verts.length,verts.push(pt)),vertnums[index])},intersects=new Int32Array(12),etable=fulltable?edgeTable2:edgeTable,tritable=fulltable?triTable2:triTable;for(i=0;nX-1>i;++i)for(var j=0;nY-1>j;++j)for(var k=0;nZ-1>k;++k){for(var code=0,p=0;8>p;++p){var index=(nY*(i+((4&p)>>2))+j+((2&p)>>1))*nZ+k+(1&p),val=!!(data[index]&ISDONE);code|=val<<p}if(0!==code&&255!==code){var ecode=etable[code];if(0!==ecode){var ttable=tritable[code];1&ecode&&(intersects[0]=getVertex(i,j,k,code,0,1)),2&ecode&&(intersects[1]=getVertex(i,j,k,code,1,3)),4&ecode&&(intersects[2]=getVertex(i,j,k,code,3,2)),8&ecode&&(intersects[3]=getVertex(i,j,k,code,2,0)),16&ecode&&(intersects[4]=getVertex(i,j,k,code,4,5)),32&ecode&&(intersects[5]=getVertex(i,j,k,code,5,7)),64&ecode&&(intersects[6]=getVertex(i,j,k,code,7,6)),128&ecode&&(intersects[7]=getVertex(i,j,k,code,6,4)),256&ecode&&(intersects[8]=getVertex(i,j,k,code,0,4)),512&ecode&&(intersects[9]=getVertex(i,j,k,code,1,5)),1024&ecode&&(intersects[10]=getVertex(i,j,k,code,3,7)),2048&ecode&&(intersects[11]=getVertex(i,j,k,code,2,6));for(var t=0;t<ttable.length;t+=3){var a=intersects[ttable[t]],b=intersects[ttable[t+1]],c=intersects[ttable[t+2]];voxel&&t>=3&&(verts.push(verts[a]),a=verts.length-1,verts.push(verts[b]),b=verts.length-1,verts.push(verts[c]),c=verts.length-1),faces.push(a),faces.push(b),faces.push(c)}}}}},laplacianSmooth=function (numiter,verts,faces){var i,il,j,jl,k,tps=new Array(verts.length);for(i=0,il=verts.length;il>i;i++)tps[i]={x:0,y:0,z:0};var flagvert,vertdeg=new Array(20);for(i=0;20>i;i++)vertdeg[i]=new Array(verts.length);for(i=0,il=verts.length;il>i;i++)vertdeg[0][i]=0;for(i=0,il=faces.length/3;il>i;i++){var aoffset=3*i,boffset=3*i+1,coffset=3*i+2;for(flagvert=!0,j=0,jl=vertdeg[0][faces[aoffset]];jl>j;j++)if(faces[boffset]==vertdeg[j+1][faces[aoffset]]){flagvert=!1;break}for(flagvert&&(vertdeg[0][faces[aoffset]]++,vertdeg[vertdeg[0][faces[aoffset]]][faces[aoffset]]=faces[boffset]),flagvert=!0,j=0,jl=vertdeg[0][faces[aoffset]];jl>j;j++)if(faces[coffset]==vertdeg[j+1][faces[aoffset]]){flagvert=!1;break}for(flagvert&&(vertdeg[0][faces[aoffset]]++,vertdeg[vertdeg[0][faces[aoffset]]][faces[aoffset]]=faces[coffset]),flagvert=!0,j=0,jl=vertdeg[0][faces[boffset]];jl>j;j++)if(faces[aoffset]==vertdeg[j+1][faces[boffset]]){flagvert=!1;break}for(flagvert&&(vertdeg[0][faces[boffset]]++,vertdeg[vertdeg[0][faces[boffset]]][faces[boffset]]=faces[aoffset]),flagvert=!0,j=0,jl=vertdeg[0][faces[boffset]];jl>j;j++)if(faces[coffset]==vertdeg[j+1][faces[boffset]]){flagvert=!1;break}for(flagvert&&(vertdeg[0][faces[boffset]]++,vertdeg[vertdeg[0][faces[boffset]]][faces[boffset]]=faces[coffset]),flagvert=!0,j=0;j<vertdeg[0][faces[coffset]];j++)if(faces[aoffset]==vertdeg[j+1][faces[coffset]]){flagvert=!1;break}for(flagvert&&(vertdeg[0][faces[coffset]]++,vertdeg[vertdeg[0][faces[coffset]]][faces[coffset]]=faces[aoffset]),flagvert=!0,j=0,jl=vertdeg[0][faces[coffset]];jl>j;j++)if(faces[boffset]==vertdeg[j+1][faces[coffset]]){flagvert=!1;break}flagvert&&(vertdeg[0][faces[coffset]]++,vertdeg[vertdeg[0][faces[coffset]]][faces[coffset]]=faces[boffset])}var wt=1,wt2=.5;for(k=0;numiter>k;k++){for(i=0,il=verts.length;il>i;i++)if(vertdeg[0][i]<3)tps[i].x=verts[i].x,tps[i].y=verts[i].y,tps[i].z=verts[i].z;else if(3==vertdeg[0][i]||4==vertdeg[0][i]){for(tps[i].x=0,tps[i].y=0,tps[i].z=0,j=0,jl=vertdeg[0][i];jl>j;j++)tps[i].x+=verts[vertdeg[j+1][i]].x,tps[i].y+=verts[vertdeg[j+1][i]].y,tps[i].z+=verts[vertdeg[j+1][i]].z;tps[i].x+=wt2*verts[i].x,tps[i].y+=wt2*verts[i].y,tps[i].z+=wt2*verts[i].z,tps[i].x/=wt2+vertdeg[0][i],tps[i].y/=wt2+vertdeg[0][i],tps[i].z/=wt2+vertdeg[0][i]}else{for(tps[i].x=0,tps[i].y=0,tps[i].z=0,j=0,jl=vertdeg[0][i];jl>j;j++)tps[i].x+=verts[vertdeg[j+1][i]].x,tps[i].y+=verts[vertdeg[j+1][i]].y,tps[i].z+=verts[vertdeg[j+1][i]].z;tps[i].x+=wt*verts[i].x,tps[i].y+=wt*verts[i].y,tps[i].z+=wt*verts[i].z,tps[i].x/=wt+vertdeg[0][i],tps[i].y/=wt+vertdeg[0][i],tps[i].z/=wt+vertdeg[0][i]}for(i=0,il=verts.length;il>i;i++)verts[i].x=tps[i].x,verts[i].y=tps[i].y,verts[i].z=tps[i].z}},edgeTable=new Uint32Array([0,0,0,0,0,0,0,2816,0,0,0,1792,0,3328,3584,3840,0,0,0,138,0,21,0,134,0,0,0,652,0,2067,3865,3600,0,0,0,42,0,0,0,294,0,0,21,28,0,3875,1049,3360,0,168,162,170,0,645,2475,2210,0,687,293,172,4010,3747,3497,3232,0,0,0,0,0,69,0,900,0,0,0,1792,138,131,1608,1920,0,81,0,2074,84,85,84,86,0,81,0,3676,330,1105,1881,1616,0,0,0,42,0,69,0,502,0,0,21,3580,138,2035,1273,1520,2816,104,2337,106,840,581,367,102,2816,3695,3429,3180,1898,1635,1385,1120,0,0,0,0,0,0,0,3910,0,0,69,588,42,2083,41,2880,0,0,0,1722,0,2293,4095,3830,0,255,757,764,2538,2291,3065,2800,0,0,81,338,0,3925,1119,3414,84,855,85,340,2130,2899,89,2384,1792,712,194,1162,4036,3781,3535,3270,708,719,197,204,3018,2755,2505,2240,0,0,0,0,168,420,168,1958,162,162,676,2988,170,163,680,928,3328,3096,3328,3642,52,53,1855,1590,2340,2111,2869,2620,298,51,825,560,3584,3584,3090,3482,1668,1941,1183,1430,146,2975,2069,2460,154,915,153,400,3840,3592,3329,3082,1796,1541,1295,1030,2818,2575,2309,2060,778,515,265,0]),triTable=[[],[],[],[],[],[],[],[11,9,8],[],[],[],[8,10,9],[],[10,8,11],[9,11,10],[8,10,9,8,11,10],[],[],[],[1,7,3],[],[4,2,0],[],[2,1,7],[],[],[],[2,7,3,2,9,7],[],[1,4,11,1,0,4],[3,8,0,11,9,4,11,10,9],[4,11,9,11,10,9],[],[],[],[5,3,1],[],[],[],[2,5,8,2,1,5],[],[],[2,4,0],[3,2,4],[],[0,9,1,8,10,5,8,11,10],[3,4,0,3,10,4],[5,8,10,8,11,10],[],[3,5,7],[7,1,5],[1,7,3,1,5,7],[],[9,2,0,9,7,2],[0,3,8,1,7,11,1,5,7],[11,1,7,1,5,7],[],[9,1,0,5,3,2,5,7,3],[8,2,5,8,0,2],[2,5,3,5,7,3],[3,9,1,3,8,9,7,11,10,7,10,5],[9,1,0,10,7,11,10,5,7],[3,8,0,7,10,5,7,11,10],[11,5,7,11,10,5],[],[],[],[],[],[0,6,2],[],[7,2,9,7,9,8],[],[],[],[8,10,9],[7,1,3],[7,1,0],[6,9,3,6,10,9],[7,10,8,10,9,8],[],[6,0,4],[],[11,1,4,11,3,1],[2,4,6],[2,0,4,2,4,6],[2,4,6],[1,4,2,4,6,2],[],[6,0,4],[],[2,11,3,6,9,4,6,10,9],[8,6,1,8,1,3],[10,0,6,0,4,6],[8,0,3,9,6,10,9,4,6],[10,4,6,10,9,4],[],[],[],[5,3,1],[],[0,6,2],[],[7,4,8,5,2,1,5,6,2],[],[],[2,4,0],[7,4,8,2,11,3,10,5,6],[7,1,3],[5,6,10,0,9,1,8,7,4],[5,6,10,7,0,3,7,4,0],[10,5,6,4,8,7],[9,11,8],[3,5,6],[0,5,11,0,11,8],[6,3,5,3,1,5],[3,9,6,3,8,9],[9,6,0,6,2,0],[0,3,8,2,5,6,2,1,5],[1,6,2,1,5,6],[9,11,8],[1,0,9,6,10,5,11,3,2],[6,10,5,2,8,0,2,11,8],[3,2,11,10,5,6],[10,5,6,9,3,8,9,1,3],[0,9,1,5,6,10],[8,0,3,10,5,6],[10,5,6],[],[],[],[],[],[],[],[1,10,2,9,11,6,9,8,11],[],[],[6,0,2],[3,6,9,3,2,6],[3,5,1],[0,5,1,0,11,5],[0,3,5],[6,9,11,9,8,11],[],[],[],[4,5,9,7,1,10,7,3,1],[],[11,6,7,2,4,5,2,0,4],[11,6,7,8,0,3,1,10,2,9,4,5],[6,7,11,1,10,2,9,4,5],[],[4,1,0,4,5,1,6,7,3,6,3,2],[9,4,5,0,6,7,0,2,6],[4,5,9,6,3,2,6,7,3],[6,7,11,5,3,8,5,1,3],[6,7,11,4,1,0,4,5,1],[4,5,9,3,8,0,11,6,7],[9,4,5,7,11,6],[],[],[0,6,4],[8,6,4,8,1,6],[],[0,10,2,0,9,10,4,8,11,4,11,6],[10,2,1,6,0,3,6,4,0],[10,2,1,11,4,8,11,6,4],[4,2,6],[1,0,9,2,4,8,2,6,4],[2,4,0,2,6,4],[8,2,4,2,6,4],[11,4,1,11,6,4],[0,9,1,4,11,6,4,8,11],[3,6,0,6,4,0],[8,6,4,8,11,6],[10,8,9],[6,3,9,6,7,3],[6,7,1],[10,7,1,7,3,1],[7,11,6,8,10,2,8,9,10],[11,6,7,10,0,9,10,2,0],[2,1,10,7,11,6,8,0,3],[1,10,2,6,7,11],[7,2,6,7,9,2],[1,0,9,3,6,7,3,2,6],[7,0,6,0,2,6],[2,7,3,2,6,7],[7,11,6,3,9,1,3,8,9],[9,1,0,11,6,7],[0,3,8,11,6,7],[11,6,7],[],[],[],[],[5,3,7],[8,5,2,8,7,5],[5,3,7],[1,10,2,5,8,7,5,9,8],[1,7,5],[1,7,5],[9,2,7,9,7,5],[11,3,2,8,5,9,8,7,5],[1,3,7,1,7,5],[0,7,1,7,5,1],[9,3,5,3,7,5],[9,7,5,9,8,7],[8,10,11],[3,4,10,3,10,11],[8,10,11],[5,9,4,1,11,3,1,10,11],[2,4,5],[5,2,4,2,0,4],[0,3,8,5,9,4,10,2,1],[2,1,10,9,4,5],[2,8,5,2,11,8],[3,2,11,1,4,5,1,0,4],[9,4,5,8,2,11,8,0,2],[11,3,2,9,4,5],[8,5,3,5,1,3],[5,0,4,5,1,0],[3,8,0,4,5,9],[9,4,5],[11,9,10],[11,9,10],[1,11,4,1,10,11],[8,7,4,11,1,10,11,3,1],[2,7,9,2,9,10],[4,8,7,0,10,2,0,9,10],[2,1,10,0,7,4,0,3,7],[10,2,1,8,7,4],[1,7,4],[3,2,11,4,8,7,9,1,0],[11,4,2,4,0,2],[2,11,3,7,4,8],[4,1,7,1,3,7],[1,0,9,8,7,4],[3,4,0,3,7,4],[8,7,4],[8,9,10,8,10,11],[3,9,11,9,10,11],[0,10,8,10,11,8],[10,3,1,10,11,3],[2,8,10,8,9,10],[9,2,0,9,10,2],[8,0,3,1,10,2],[10,2,1],[1,11,9,11,8,9],[11,3,2,0,9,1],[11,0,2,11,8,0],[11,3,2],[8,1,3,8,9,1],[9,1,0],[8,0,3],[]]';
WebMol.L=window.URL.createObjectURL(new Blob([WebMol.ea]));WebMol.workerString=WebMol.ea;WebMol.SurfaceWorker=WebMol.L;
$(document).ready(function(){void 0!==$("#webmoljs_viewer")[0]&&(WebMol.ga=!0);if(WebMol.ga){var t=WebMol.Ka=$("#webmoljs_viewer"),y=null;t.data("pdb")?y="http://www.pdb.org/pdb/files/"+t.data("pdb")+".pdb":t.data("href")&&(y=t.data("href"));var E=Number(t.data("backgroundcolor"))||0,D=t.data("style")||{line:{}};WebMol.t=WebMol.createViewer("webmoljs_viewer",{defaultcolors:WebMol.rasmolElementColors,callback:function(p){p.setBackgroundColor(E)}});if(y){var s=t.data("datatype")||"pdb";$.get(y,function(p){WebMol.t.addModel(p,
s);WebMol.t.setStyle({},D);WebMol.t.zoomTo();WebMol.t.render()},"text")}}});WebMol.ja=16716947;
WebMol.JmolElementColors={H:16777215,He:14286847,HE:14286847,Li:13402367,LI:13402367,B:16758197,C:9474192,N:3166456,O:16715021,F:9494608,Na:11230450,NA:11230450,Mg:9109248,MG:9109248,Al:12560038,AL:12560038,Si:1578E4,SI:1578E4,P:16744448,S:16777008,Cl:2093087,CL:2093087,Ca:4062976,CA:4062976,Ti:12567239,TI:12567239,Cr:9083335,CR:9083335,Mn:10255047,MN:10255047,Fe:14706227,FE:14706227,Ni:5296208,NI:5296208,Cu:13140019,CU:13140019,Zn:8224944,ZN:8224944,Br:10889513,BR:10889513,Ag:12632256,AG:12632256,
I:9699476,Ba:51456,BA:51456,Au:16765219,AU:16765219};
WebMol.rasmolElementColors={H:16777215,He:16761035,HE:16761035,Li:11674146,LI:11674146,B:65280,C:13158600,N:9408511,O:15728640,F:14329120,Na:255,NA:255,Mg:2263842,MG:2263842,Al:8421520,AL:8421520,Si:14329120,SI:14329120,P:16753920,S:16762930,Cl:65280,CL:65280,Ca:8421520,CA:8421520,Ti:8421520,TI:8421520,Cr:8421520,CR:8421520,Mn:8421520,MN:8421520,Fe:16753920,FE:16753920,Ni:10824234,NI:10824234,Cu:10824234,CU:10824234,Zn:10824234,ZN:10824234,Br:10824234,BR:10824234,Ag:8421520,AG:8421520,I:10494192,
Ba:16753920,BA:16753920,Au:14329120,AU:14329120};WebMol.R=WebMol.JmolElementColors;var WebMol=WebMol||{};
WebMol.RWB=function(t,y){this.valueToHex=function(E,D){var s,p;D?(s=D[0],p=D[1]):(s=t,p=y);if(void 0===E)return 16777215;E<s&&(E=s);E>p&&(E=p);var m=(p+s)/2;E<=m?(s=Math.floor(255*Math.sqrt((E-s)/(m-s))),s=16711680+256*s+s):(s=Math.floor(255*Math.sqrt(1-(E-m)/(p-m))),s=65536*s+256*s+255);return s};this.jmolID=function(){return"rwb"};this.range=function(){return"undefined"!=typeof t&&"undefined"!=typeof y?[t,y]:null}};
WebMol.ROYGB=function(t,y){this.valueToHex=function(E,D){var s,p;D?(s=D[0],p=D[1]):(s=t,p=y);if("undefined"==typeof E)return 16777215;E<s&&(E=s);E>p&&(E=p);var m=(s+p)/2,z=(s+m)/2,d=(m+p)/2;E<z?(s=Math.floor(255*Math.sqrt((E-s)/(z-s))),s=256*s+16711680):E<m?(s=Math.floor(255*Math.sqrt(1-(E-z)/(m-z))),s=65536*s+65280):E<d?(s=Math.floor(255*Math.sqrt((E-m)/(d-m))),s=65280+1*s):(s=Math.floor(255*Math.sqrt(1-(E-d)/(p-d))),s=256*s+255);return s};this.jmolID=function(){return"roygb"};this.range=function(){return"undefined"!=
typeof t&&"undefined"!=typeof y?[t,y]:null}};
WebMol.Sinebow=function(t,y){this.valueToHex=function(E,D){var s,p;D?(s=D[0],p=D[1]):(s=t,p=y);if("undefined"==typeof E)return 16777215;E<s&&(E=s);E>p&&(E=p);var m=(E-s)/(p-s)*5/6+.5;s=Math.sin(Math.PI*m);p=Math.sin(Math.PI*(m+1/3));m=Math.sin(Math.PI*(m+2/3));return 65536*Math.floor(255*s*s)+256*Math.floor(255*m*m)+1*Math.floor(255*p*p)};this.jmolID=function(){return"sinebow"};this.range=function(){return"undefined"!=typeof t&&"undefined"!=typeof y?[t,y]:null}};WebMol=WebMol||{};
WebMol.ka=function(){function t(t,D,s,p,m){if(!(2>D.length)){m=m||5;D=y(D,m);s=y(s,m);var z=new WebMol.Geometry(!0),d=[],c,e,f,a,b,A=[[0,2,-6,-8],[-4,-2,6,4],[7,-1,-5,3],[-3,5,1,-7]],u,h,C,w,G,r,I,x,n;r=0;for(I=D.length;r<I;r++){C=WebMol.h.color(p[Math.round((r-1)/m)]);d.push(e=D[r]);d.push(e);d.push(f=s[r]);d.push(f);r<I-1&&(u=D[r+1].clone().sub(D[r]),c=s[r].clone().sub(D[r]).cross(u).normalize().multiplyScalar(.4));d.push(a=D[r].clone().add(c));d.push(a);d.push(b=s[r].clone().add(c));d.push(b);
void 0!==e.atom&&(w=e.atom);n=z.updateGeoGroup(8);u=n.vertices;h=3*u;n.__vertexArray[h]=e.x;n.__vertexArray[h+1]=e.y;n.__vertexArray[h+2]=e.z;n.__vertexArray[h+3]=e.x;n.__vertexArray[h+4]=e.y;n.__vertexArray[h+5]=e.z;n.__vertexArray[h+6]=f.x;n.__vertexArray[h+7]=f.y;n.__vertexArray[h+8]=f.z;n.__vertexArray[h+9]=f.x;n.__vertexArray[h+10]=f.y;n.__vertexArray[h+11]=f.z;n.__vertexArray[h+12]=a.x;n.__vertexArray[h+13]=a.y;n.__vertexArray[h+14]=a.z;n.__vertexArray[h+15]=a.x;n.__vertexArray[h+16]=a.y;n.__vertexArray[h+
17]=a.z;n.__vertexArray[h+18]=b.x;n.__vertexArray[h+19]=b.y;n.__vertexArray[h+20]=b.z;n.__vertexArray[h+21]=b.x;n.__vertexArray[h+22]=b.y;n.__vertexArray[h+23]=b.z;for(e=0;8>e;++e)n.__colorArray[h+3*e]=C.r,n.__colorArray[h+1+3*e]=C.g,n.__colorArray[h+2+3*e]=C.b;if(0<r)for(h=void 0!==G&&void 0!==w&&G.serial!==w.serial,e=0;4>e;e++)if(f=[u+A[e][0],u+A[e][1],u+A[e][2],u+A[e][3]],b=n.faceidx,n.__faceArray[b]=f[0],n.__faceArray[b+1]=f[1],n.__faceArray[b+2]=f[3],n.__faceArray[b+3]=f[1],n.__faceArray[b+4]=
f[2],n.__faceArray[b+5]=f[3],n.faceidx+=6,w.clickable||G.clickable){x=d[f[3]].clone();b=d[f[0]].clone();var v=d[f[2]].clone(),X=d[f[1]].clone();x.atom=d[f[3]].atom||null;v.atom=d[f[2]].atom||null;b.atom=d[f[0]].atom||null;X.atom=d[f[1]].atom||null;if(h){var N=x.clone().add(b).multiplyScalar(.5),H=v.clone().add(X).multiplyScalar(.5),M=x.clone().add(X).multiplyScalar(.5);0===e%2?(G.clickable&&(f=new WebMol.Triangle(N,M,x),a=new WebMol.Triangle(H,v,M),x=new WebMol.Triangle(M,v,x),G.intersectionShape.triangle.push(f),
G.intersectionShape.triangle.push(a),G.intersectionShape.triangle.push(x)),w.clickable&&(f=new WebMol.Triangle(b,X,M),a=new WebMol.Triangle(X,H,M),x=new WebMol.Triangle(b,M,N),w.intersectionShape.triangle.push(f),w.intersectionShape.triangle.push(a),w.intersectionShape.triangle.push(x))):(w.clickable&&(f=new WebMol.Triangle(N,M,x),a=new WebMol.Triangle(H,v,M),x=new WebMol.Triangle(M,v,x),w.intersectionShape.triangle.push(f),w.intersectionShape.triangle.push(a),w.intersectionShape.triangle.push(x)),
G.clickable&&(f=new WebMol.Triangle(b,X,M),a=new WebMol.Triangle(X,H,M),x=new WebMol.Triangle(b,M,N),G.intersectionShape.triangle.push(f),G.intersectionShape.triangle.push(a),G.intersectionShape.triangle.push(x)))}else w.clickable&&(f=new WebMol.Triangle(b,X,x),a=new WebMol.Triangle(X,v,x),w.intersectionShape.triangle.push(f),w.intersectionShape.triangle.push(a))}n.vertices+=8;G=w}D=d.length-8;n=z.updateGeoGroup(8);u=n.vertices;h=3*u;b=n.faceidx;for(r=0;4>r;r++)d.push(d[2*r]),d.push(d[D+2*r]),s=d[2*
r],p=d[D+2*r],n.__vertexArray[h+6*r]=s.x,n.__vertexArray[h+1+6*r]=s.y,n.__vertexArray[h+2+6*r]=s.z,n.__vertexArray[h+3+6*r]=p.x,n.__vertexArray[h+4+6*r]=p.y,n.__vertexArray[h+5+6*r]=p.z,n.__colorArray[h+6*r]=C.r,n.__colorArray[h+1+6*r]=C.g,n.__colorArray[h+2+6*r]=C.b,n.__colorArray[h+3+6*r]=C.r,n.__colorArray[h+4+6*r]=C.g,n.__colorArray[h+5+6*r]=C.b;f=[u,u+2,u+6,u+4];a=[u+1,u+5,u+7,u+3];n.__faceArray[b]=f[0];n.__faceArray[b+1]=f[1];n.__faceArray[b+2]=f[3];n.__faceArray[b+3]=f[1];n.__faceArray[b+4]=
f[2];n.__faceArray[b+5]=f[3];n.__faceArray[b+6]=a[0];n.__faceArray[b+7]=a[1];n.__faceArray[b+8]=a[3];n.__faceArray[b+9]=a[1];n.__faceArray[b+10]=a[2];n.__faceArray[b+11]=a[3];n.faceidx+=12;n.vertices+=8;z.initTypedArrays();z.setUpNormals();d=new WebMol.MeshLambertMaterial;d.vertexColors=WebMol.FaceColors;d.side=WebMol.DoubleSide;z=new WebMol.Mesh(z,d);t.add(z)}}function y(t,D){var s=[],p=t,p=[];p.push(t[0]);var m,z,d,c,e,f;m=1;for(z=t.length-1;m<z;m++)c=t[m],e=t[m+1],c.Aa?p.push(new WebMol.Vector3((c.x+
e.x)/2,(c.y+e.y)/2,(c.z+e.z)/2)):p.push(c);p.push(t[t.length-1]);m=-1;for(z=p.length;m<=z-3;m++){d=p[-1===m?0:m];c=p[m+1];e=p[m+2];f=p[m===z-3?z-1:m+3];d=(new WebMol.Vector3).subVectors(e,d).multiplyScalar(.5);f=(new WebMol.Vector3).subVectors(f,c).multiplyScalar(.5);for(var a=0;a<D;a++){var b=1/D*a,b=new WebMol.Vector3(c.x+b*d.x+b*b*(-3*c.x+3*e.x-2*d.x-f.x)+b*b*b*(2*c.x-2*e.x+d.x+f.x),c.y+b*d.y+b*b*(-3*c.y+3*e.y-2*d.y-f.y)+b*b*b*(2*c.y-2*e.y+d.y+f.y),c.z+b*d.z+b*b*(-3*c.z+3*e.z-2*d.z-f.z)+b*b*b*
(2*c.z-2*e.z+d.z+f.z)),A=Math.floor((s.length+2)/D);void 0!==t[A]&&void 0!==t[A].atom&&(b.atom=t[A].atom);s.push(b)}}s.push(p[p.length-1]);return s}return function(E,D){var s,p,m;s=2;p=5;m=!1;var z=[],d,c,e;for(e=0;e<s;e++)z[e]=[];e=[];var f,a,b,A,u=null,h=null;for(d in D)if(c=D[d],void 0!==c&&("O"==c.atom||"CA"==c.atom)&&!c.hetflag)if("CA"==c.atom){if(f!=c.chain||b+1!=c.resi||a!=c.aa){t(E,z[0],z[s-1],e,p);z=[];for(e=0;e<s;e++)z[e]=[];e=[];u=null}A=new WebMol.Vector3(c.x,c.y,c.z);currentAtom=c;f=
c.chain;a=c.aa;b=c.resi;var h=c.ss,C=c.color;"undefined"!=typeof c.style.cartoon.color&&(C=c.style.cartoon.color);e.push(C);!0!==c.clickable||void 0!==c.intersectionShape&&void 0!==c.intersectionShape.triangle||(c.intersectionShape={sphere:null,cylinder:[],line:[],triangle:[]})}else for(c=new WebMol.Vector3(c.x,c.y,c.z),c.sub(A),c.normalize(),c.multiplyScalar("c"==h?.3:1.3),null!==u&&0>c.dot(u)&&c.negate(),u=c,c=0;c<s;c++)C=-1+2/(s-1)*c,C=new WebMol.Vector3(A.x+u.x*C,A.y+u.y*C,A.z+u.z*C),C.atom=currentAtom,
m||"s"!=h||(C.Aa=!0),z[c].push(C);t(E,z[0],z[s-1],e,p)}}();WebMol=WebMol||{};
WebMol.GLModel=function(){function t(d){var c=[],e,f;e=0;for(f=d.length;e<f;e++){d[e].index=e;var a=d[e];a.hetflag||"N"!==a.atom&&"O"!==a.atom||(c.push(a),a.J=null,a.m=Number.POSITIVE_INFINITY)}c.sort(function(a,b){return a.z-b.z});e=0;for(f=c.length;e<f;e++)for(a=c[e],d=e+1;d<f;d++){var b=c[d];if(3.5<b.z-a.z)break;var A=y(a,b);A<a.m&&(a.J=b,a.m=A);A<b.m&&(b.J=a,b.m=A)}}function y(d,c){if(d.chain==c.chain&&4>Math.abs(d.resi-c.resi))return Number.POSITIVE_INFINITY;if("O"===d.atom&&"N"===c.atom||"N"===
d.atom&&"O"===c.atom){var e=d.x-c.x;if(3.5<e)return Number.POSITIVE_INFINITY;var f=d.y-c.y;if(3.5<f)return Number.POSITIVE_INFINITY;var a=d.z-c.z;if(3.5<a)return Number.POSITIVE_INFINITY;e=Math.sqrt(e*e+f*f+a*a);if(3.5>e)return e}return Number.POSITIVE_INFINITY}function E(d){var c=[],e=[],f,a;f=0;for(a=d.length;f<a;f++){var b=d[f];b.index=f;b.hetflag?e.push(b):c.push(b)}D(e);c.sort(function(a,b){return a.chain!=b.chain?a.chain<b.chain?-1:1:a.resi-b.resi});var e=d=-1,A;f=0;for(a=c.length;f<a;f++){b=
c[f];b.resi!==d&&(d=b.resi,A||e++,A=!1);b.aa=e;for(var m=f+1;m<c.length;m++){var h=c[m];if(h.chain!=b.chain)break;if(1<h.resi-b.resi)break;s(b,h)&&(-1===b.bonds.indexOf(h.index)&&(b.bonds.push(h.index),b.bondOrder.push(1),h.bonds.push(b.index),h.bondOrder.push(1)),b.resi!==h.resi&&(A=!0))}}}function D(d){var c=d.slice(0),e,f;e=0;for(f=d.length;e<f;e++)d[e].index||(d[e].index=e);c.sort(function(a,b){return a.z-b.z});e=0;for(f=c.length;e<f;e++){var a=c[e];for(d=e+1;d<f;d++){var b=c[d];if(1.9<b.z-a.z)break;
s(a,b)&&-1==a.bonds.indexOf(b.index)&&(a.bonds.push(b.index),a.bondOrder.push(1),b.bonds.push(a.index),b.bondOrder.push(1))}}}function s(d,c){var e=d.x-c.x,e=e*e;if(3.6<e)return!1;var f=d.y-c.y,f=f*f;if(3.6<f)return!1;var a=d.z-c.z,a=a*a;if(3.6<a)return!1;e=e+f+a;return isNaN(e)||.5>e||1.3<e&&("H"==d.elem||"H"==c.elem||"D"==d.elem||"D"==c.elem)?!1:3.6>e&&("S"==d.elem||"S"==c.elem)?!0:2.78<e?!1:!0}function p(d,c){return d&&c?JSON.stringify(d)==JSON.stringify(c):d==c}var m={line:{}},z={H:1.2,Li:1.82,
Na:2.27,K:2.75,C:1.7,N:1.55,O:1.52,F:1.47,P:1.8,S:1.8,CL:1.75,BR:1.85,SE:1.9,ZN:1.39,CU:1.4,NI:1.63};return function(d,c){function e(a,b,c,e,f,d,B){if(b&&c){n++;var q=d||B,g=[c.x,c.y,c.z];g[0]-=b.x;g[1]-=b.y;g[2]-=b.z;var g=x(g),h=r.l(e);e=h.w;var m=h.va,A=q?m*e+2:2*e;a=a.updateGeoGroup(A);var l=h.vertices,F=h.i,h=h.j,p=h[m/2],u=h[m/2+1],z=a.vertices,w,C,t,s,J,K;for(t=0;t<e;++t)C=2*t,s=g[0]*l[C].x+g[3]*l[C].y+g[6]*l[C].z,J=g[1]*l[C].x+g[4]*l[C].y+g[7]*l[C].z,K=g[5]*l[C].y+g[8]*l[C].z,w=3*(z+C),C=
a.faceidx,a.__vertexArray[w]=s+b.x,a.__vertexArray[w+1]=J+b.y,a.__vertexArray[w+2]=K+b.z,a.__vertexArray[w+3]=s+c.x,a.__vertexArray[w+4]=J+c.y,a.__vertexArray[w+5]=K+c.z,a.__normalArray[w]=s,a.__normalArray[w+3]=s,a.__normalArray[w+1]=J,a.__normalArray[w+4]=J,a.__normalArray[w+2]=K,a.__normalArray[w+5]=K,a.__colorArray[w]=f.r,a.__colorArray[w+3]=f.r,a.__colorArray[w+1]=f.g,a.__colorArray[w+4]=f.g,a.__colorArray[w+2]=f.b,a.__colorArray[w+5]=f.b,a.__faceArray[C]=u[t]+z,a.__faceArray[C+1]=u[t+1]+z,a.__faceArray[C+
2]=p[t]+z,a.__faceArray[C+3]=p[t]+z,a.__faceArray[C+4]=u[t+1]+z,a.__faceArray[C+5]=p[t+1]+z,a.faceidx+=6;if(q){d=d?m+1:m/2+1;var W,O,S,G,E,P,L,D,U,y,ja,ka,I;for(J=B?0:m/2;J<d;J++)if(J!==m/2){var ea=J<=m/2?c:b;for(s=0;s<e;s++)C=a.faceidx,B=h[J][s+1],t=3*(B+z),q=h[J][s],K=3*(q+z),p=h[J+1][s],w=3*(p+z),u=h[J+1][s+1],I=3*(u+z),W=g[0]*l[B].x+g[3]*l[B].y+g[6]*l[B].z,O=g[0]*l[q].x+g[3]*l[q].y+g[6]*l[q].z,S=g[0]*l[p].x+g[3]*l[p].y+g[6]*l[p].z,G=g[0]*l[u].x+g[3]*l[u].y+g[6]*l[u].z,E=g[1]*l[B].x+g[4]*l[B].y+
g[7]*l[B].z,P=g[1]*l[q].x+g[4]*l[q].y+g[7]*l[q].z,L=g[1]*l[p].x+g[4]*l[p].y+g[7]*l[p].z,D=g[1]*l[u].x+g[4]*l[u].y+g[7]*l[u].z,U=g[5]*l[B].y+g[8]*l[B].z,y=g[5]*l[q].y+g[8]*l[q].z,ja=g[5]*l[p].y+g[8]*l[p].z,ka=g[5]*l[u].y+g[8]*l[u].z,a.__vertexArray[t]=W+ea.x,a.__vertexArray[K]=O+ea.x,a.__vertexArray[w]=S+ea.x,a.__vertexArray[I]=G+ea.x,a.__vertexArray[t+1]=E+ea.y,a.__vertexArray[K+1]=P+ea.y,a.__vertexArray[w+1]=L+ea.y,a.__vertexArray[I+1]=D+ea.y,a.__vertexArray[t+2]=U+ea.z,a.__vertexArray[K+2]=y+ea.z,
a.__vertexArray[w+2]=ja+ea.z,a.__vertexArray[I+2]=ka+ea.z,a.__colorArray[t]=f.r,a.__colorArray[K]=f.r,a.__colorArray[w]=f.r,a.__colorArray[I]=f.r,a.__colorArray[t+1]=f.g,a.__colorArray[K+1]=f.g,a.__colorArray[w+1]=f.g,a.__colorArray[I+1]=f.g,a.__colorArray[t+2]=f.b,a.__colorArray[K+2]=f.b,a.__colorArray[w+2]=f.b,a.__colorArray[I+2]=f.b,W=g[0]*F[B].x+g[3]*F[B].y+g[6]*F[B].z,O=g[0]*F[q].x+g[3]*F[q].y+g[6]*F[q].z,S=g[0]*F[p].x+g[3]*F[p].y+g[6]*F[p].z,G=g[0]*F[u].x+g[3]*F[u].y+g[6]*F[u].z,E=g[1]*F[B].x+
g[4]*F[B].y+g[7]*F[B].z,P=g[1]*F[q].x+g[4]*F[q].y+g[7]*F[q].z,L=g[1]*F[p].x+g[4]*F[p].y+g[7]*F[p].z,D=g[1]*F[u].x+g[4]*F[u].y+g[7]*F[u].z,U=g[5]*F[B].y+g[8]*F[B].z,y=g[5]*F[q].y+g[8]*F[q].z,ja=g[5]*F[p].y+g[8]*F[p].z,ka=g[5]*F[u].y+g[8]*F[u].z,0===J?(a.__normalArray[t]=W,a.__normalArray[w]=S,a.__normalArray[I]=G,a.__normalArray[t+1]=E,a.__normalArray[w+1]=L,a.__normalArray[I+1]=D,a.__normalArray[t+2]=U,a.__normalArray[w+2]=ja,a.__normalArray[I+2]=ka,a.__faceArray[C]=B+z,a.__faceArray[C+1]=p+z,a.__faceArray[C+
2]=u+z,a.faceidx+=3):J===d-1?(a.__normalArray[t]=W,a.__normalArray[K]=O,a.__normalArray[w]=S,a.__normalArray[t+1]=E,a.__normalArray[K+1]=P,a.__normalArray[w+1]=L,a.__normalArray[t+2]=U,a.__normalArray[K+2]=y,a.__normalArray[w+2]=ja,a.__faceArray[C]=B+z,a.__faceArray[C+1]=q+z,a.__faceArray[C+2]=p+z,a.faceidx+=3):(a.__normalArray[t]=W,a.__normalArray[K]=O,a.__normalArray[I]=G,a.__normalArray[t+1]=E,a.__normalArray[K+1]=P,a.__normalArray[I+1]=D,a.__normalArray[t+2]=U,a.__normalArray[K+2]=y,a.__normalArray[I+
2]=ka,a.__normalArray[K]=O,a.__normalArray[w]=S,a.__normalArray[I]=G,a.__normalArray[K+1]=P,a.__normalArray[w+1]=L,a.__normalArray[I+1]=D,a.__normalArray[K+2]=y,a.__normalArray[w+2]=ja,a.__normalArray[I+2]=ka,a.__faceArray[C]=B+z,a.__faceArray[C+1]=q+z,a.__faceArray[C+2]=u+z,a.__faceArray[C+3]=q+z,a.__faceArray[C+4]=p+z,a.__faceArray[C+5]=u+z,a.faceidx+=6)}}a.vertices+=A}}function f(b,c){if(b.style.sphere){var e=b.style.sphere;if(!e.hidden){var f=b.color;"undefined"!=typeof e.color&&(f=e.color);var d=
WebMol.h.color(f),h,e=a(b,e);!0===b.clickable&&void 0!==b.intersectionShape&&(f=new WebMol.Vector3(b.x,b.y,b.z),b.intersectionShape.sphere.push(new WebMol.Sphere(f,e)));h=y.l(e);for(var f=h.vertices,B=h.i,q=c.updateGeoGroup(f.length),g=q.vertices,m=0,A=f.length;m<A;++m){var n=3*(g+m),l=f[m];q.__vertexArray[n]=l.x+b.x;q.__vertexArray[n+1]=l.y+b.y;q.__vertexArray[n+2]=l.z+b.z;q.__colorArray[n]=d.r;q.__colorArray[n+1]=d.g;q.__colorArray[n+2]=d.b}q.vertices+=f.length;m=h.j;A=m.length-1;for(h=0;h<A;h++)for(n=
m[h].length-1,d=0;d<n;d++){var l=q.faceidx,p=m[h][d+1]+g,r=3*p,u=m[h][d]+g,w=3*u,z=m[h+1][d]+g,C=3*z,t=m[h+1][d+1]+g,x=3*t,J=B[p-g],K=B[u-g],W=B[z-g],O=B[t-g];Math.abs(f[p-g].y)===e?(q.__normalArray[r]=J.x,q.__normalArray[C]=W.x,q.__normalArray[x]=O.x,q.__normalArray[r+1]=J.y,q.__normalArray[C+1]=W.y,q.__normalArray[x+1]=O.y,q.__normalArray[r+2]=J.z,q.__normalArray[C+2]=W.z,q.__normalArray[x+2]=O.z,q.__faceArray[l]=p,q.__faceArray[l+1]=z,q.__faceArray[l+2]=t,q.faceidx+=3):Math.abs(f[z-g].y)===e?(q.__normalArray[r]=
J.x,q.__normalArray[w]=K.x,q.__normalArray[C]=W.x,q.__normalArray[r+1]=J.y,q.__normalArray[w+1]=K.y,q.__normalArray[C+1]=W.y,q.__normalArray[r+2]=J.z,q.__normalArray[w+2]=K.z,q.__normalArray[C+2]=W.z,q.__faceArray[l]=p,q.__faceArray[l+1]=u,q.__faceArray[l+2]=z,q.faceidx+=3):(q.__normalArray[r]=J.x,q.__normalArray[w]=K.x,q.__normalArray[x]=O.x,q.__normalArray[r+1]=J.y,q.__normalArray[w+1]=K.y,q.__normalArray[x+1]=O.y,q.__normalArray[r+2]=J.z,q.__normalArray[w+2]=K.z,q.__normalArray[x+2]=O.z,q.__normalArray[w]=
K.x,q.__normalArray[C]=W.x,q.__normalArray[x]=O.x,q.__normalArray[w+1]=K.y,q.__normalArray[C+1]=W.y,q.__normalArray[x+1]=O.y,q.__normalArray[w+2]=K.z,q.__normalArray[C+2]=W.z,q.__normalArray[x+2]=O.z,q.__faceArray[l]=p,q.__faceArray[l+1]=u,q.__faceArray[l+2]=t,q.__faceArray[l+3]=u,q.__faceArray[l+4]=z,q.__faceArray[l+5]=t,q.faceidx+=6)}}}}function a(a,b){var c=1.5;"undefined"!=typeof b.radius?c=b.radius:z[a.elem]&&(c=z[a.elem]);"undefined"!=typeof b.scale&&(c*=b.scale);return c}var b=[],A=null,u=
null,h=null,C=null,w=WebMol.ja,s=c?c:WebMol.R,r={p:function(){var a=[];a[0]=new WebMol.Vector3(-1,0,0);a[4]=new WebMol.Vector3(0,0,1);a[8]=new WebMol.Vector3(1,0,0);a[12]=new WebMol.Vector3(0,0,-1);a[2]=a[0].clone().add(a[4]).normalize();a[6]=a[4].clone().add(a[8]).normalize();a[10]=a[8].clone().add(a[12]).normalize();a[14]=a[12].clone().add(a[0]).normalize();a[1]=a[0].clone().add(a[2]).normalize();a[3]=a[2].clone().add(a[4]).normalize();a[5]=a[4].clone().add(a[6]).normalize();a[7]=a[6].clone().add(a[8]).normalize();
a[9]=a[8].clone().add(a[10]).normalize();a[11]=a[10].clone().add(a[12]).normalize();a[13]=a[12].clone().add(a[14]).normalize();a[15]=a[14].clone().add(a[0]).normalize();return a}(),f:{},l:function(a){if(void 0!==this.f[a])return this.f[a];new WebMol.Vector3(0,1,0);for(var b=this.p.length,c=[],e=[],f,d=0;d<b;d++)c.push(this.p[d].clone().multiplyScalar(a)),c.push(this.p[d].clone().multiplyScalar(a)),f=this.p[d].clone().normalize(),e.push(f),e.push(f);var d=[],h=2*Math.PI,q=Math.PI,g,m,A=!1,n=!1;for(m=
0;10>=m;m++){var A=0===m||10===m?!0:!1,n=5===m?!0:!1,l=[],p=[];for(g=0;g<=b;g++)if(n){var r=g<b?2*g:0;p.push(r+1);l.push(r)}else{f=g/b;var w=m/10;A&&0!==g?A&&l.push(c.length-1):g<b?(r=new WebMol.Vector3,r.x=-a*Math.cos(0+f*h)*Math.sin(0+w*q),r.y=a*Math.cos(0+w*q),r.z=a*Math.sin(0+f*h)*Math.sin(0+w*q),1E-5>Math.abs(r.x)&&(r.x=0),1E-5>Math.abs(r.y)&&(r.y=0),1E-5>Math.abs(r.z)&&(r.z=0),f=new WebMol.Vector3(r.x,r.y,r.z),f.normalize(),c.push(r),e.push(f),l.push(c.length-1)):l.push(c.length-b)}n&&d.push(p);
d.push(l)}b={vertices:c,i:e,j:d,w:b,va:10};return this.f[a]=b}},y={f:{},l:function(a){if("undefined"!=typeof this.f[a])return this.f[a];var b={vertices:[],j:[],i:[]},c=12,e=10;1>a&&(c=8,e=6);var f=2*Math.PI,d=Math.PI,h,q;for(q=0;q<=e;q++){var g=[];for(h=0;h<=c;h++){var m=h/c,A=q/e,r={};r.x=-a*Math.cos(0+m*f)*Math.sin(0+A*d);r.y=a*Math.cos(0+A*d);r.z=a*Math.sin(0+m*f)*Math.sin(0+A*d);m=new WebMol.Vector3(r.x,r.y,r.z);m.normalize();b.vertices.push(r);b.i.push(m);g.push(b.vertices.length-1)}b.j.push(g)}return this.f[a]=
b}},x=function(){var a=new WebMol.Vector3;return function(b){a.set(b[0],b[1],b[2]);var c=a.x,e=a.y,f=a.z,d=Math.sqrt(c*c+e*e);1E-4>d?(b=0,d=1):(b=-c/d,d=e/d);e=-b*c+d*e;c=Math.sqrt(e*e+f*f);1E-4>c?(f=0,e=1):(f/=c,e/=c);rot=new Float32Array(9);rot[0]=d;rot[1]=b;rot[2]=0;rot[3]=-b*e;rot[4]=d*e;rot[5]=f;rot[6]=b*f;rot[7]=-d*f;rot[8]=e;return rot}}(),n=0;this.getID=function(){return d};this.addMolData=function(a,c){a||console.error("Erorr with addMolData: No input data specified");switch(c){case "xyz":var e=
b,f=a.split("\n");if(!(3>f.length)){var h=parseInt(f[0].substr(0,3));if(!(isNaN(h)||0>=h||f.length<h+2)){for(var A=2,r=e.length,h=r+h;r<h;r++){var q=f[A++].replace(/^\s+/,"").replace(/\s+/g," ").split(" "),g={};g.serial=r;g.atom=g.elem=q[0];g.x=parseFloat(q[1]);g.y=parseFloat(q[2]);g.z=parseFloat(q[3]);g.hetflag=!0;g.bonds=[];g.bondOrder=[];g.singleBonds=!0;g.properties={};e[r]=g}D(e)}}break;case "pdb":var e=b,f=e.length,n,A=[],h=[],q=[],g=a.split("\n"),p,u,l;for(p=0;p<g.length;p++){l=g[p].replace(/^\s*/,
"");n=l.substr(0,6);var z;if("ATOM  "==n||"HETATM"==n){var C,x,y,I,ga,la,V,J,K;n=l.substr(16,1);if(" "==n||"A"==n)J=parseInt(l.substr(6,5)),n=l.substr(12,4).replace(/ /g,""),u=l.substr(17,3),z=l.substr(21,1),C=parseInt(l.substr(22,4)),x=l.substr(26,1),y=parseFloat(l.substr(30,8)),I=parseFloat(l.substr(38,8)),ga=parseFloat(l.substr(46,8)),K=parseFloat(l.substr(60,8)),V=l.substr(76,2).replace(/ /g,""),""===V&&(V=l.substr(12,2).replace(/ /g,"")),"H"!=V&&"HH"!=V&&"HD"!=V&&(la="H"==l[0]?!0:!1,q[J]=e.length,
e.push({resn:u,x:y,y:I,z:ga,elem:V,hetflag:la,chain:z,resi:C,icode:x,rescode:C+(" "!=x?"^"+x:""),serial:J,atom:n,bonds:[],ss:"c",singleBonds:!0,bondOrder:[],properties:{},b:K,pdbline:l}))}else if("SHEET "==n)n=l.substr(21,1),u=parseInt(l.substr(22,4)),z=l.substr(32,1),l=parseInt(l.substr(33,4)),A.push([n,u,z,l]);else if("CONECT"==n)for(n=e[q[parseInt(l.substr(6,5))]],u=0;4>u;u++)z=parseInt(l.substr([11,16,21,26][u],5)),C=e[q[z]],void 0!==n&&void 0!==C&&(n.bonds.push(q[z]),n.bondOrder.push(1));else"HELIX "==
n&&(n=l.substr(19,1),u=parseInt(l.substr(21,4)),z=l.substr(31,1),l=parseInt(l.substr(33,4)),h.push([n,u,z,l]))}q=(new Date).getTime();E(e);console.log("bond connecting "+((new Date).getTime()-q));q=(new Date).getTime();t(e);g={};l=0;for(n=e.length;l<n;l++)u=e[l],"undefined"===typeof g[u.chain]&&(g[u.chain]=[]),isFinite(u.m)&&(g[u.chain][u.resi]=4===Math.abs(u.J.resi-u.resi)?"h":"s");for(r in g){for(l=1;l<g[r].length-1;l++)n=g[r][l-1],u=g[r][l+1],p=g[r][l],n==u&&p!=n&&(g[r][l]=n);for(l=0;l<g[r].length;l++)p=
g[r][l],"h"!=p&&"s"!=p||g[r][l-1]==p||g[r][l+1]==p||delete g[r][l]}l=0;for(n=e.length;l<n;l++)u=e[l],p=g[u.chain][u.resi],"undefined"!=typeof p&&(u.ss=p,g[u.chain][u.resi-1]!=p&&(u.ba=!0),g[u.chain][u.resi+1]!=p&&(u.ca=!0));console.log("secondary structure "+((new Date).getTime()-q));for(p=f;p<e.length;p++)if(n=e[p],void 0!==n){for(u=0;u<A.length;u++)n.chain!=A[u][0]||n.resi<A[u][1]||n.resi>A[u][3]||(n.ss="s",n.resi==A[u][1]&&(n.ba=!0),n.resi==A[u][3]&&(n.ca=!0));for(u=0;u<h.length;u++)n.chain!=h[u][0]||
n.resi<h[u][1]||n.resi>h[u][3]||(n.ss="h",n.resi==h[u][1]?n.ba=!0:n.resi==h[u][3]&&(n.ca=!0))}break;case "sdf":e=b;f=a.split("\n");if(!(4>f.length||(q=parseInt(f[3].substr(0,3)),isNaN(q)||0>=q||(A=parseInt(f[3].substr(3,3)),h=4,f.length<4+q+A)))){r=e.length;p=r+q;for(q=r;q<p;q++)g=f[h],h++,l={},l.serial=q,l.x=parseFloat(g.substr(0,10)),l.y=parseFloat(g.substr(10,10)),l.z=parseFloat(g.substr(20,10)),l.hetflag=!0,l.singleBonds=!0,l.atom=l.elem=g.substr(31,3).replace(/ /g,""),l.bonds=[],l.bondOrder=
[],l.properties={},e[q]=l;for(q=0;q<A;q++)g=f[h],h++,p=parseInt(g.substr(0,3))-1+r,l=parseInt(g.substr(3,3))-1+r,g=parseInt(g.substr(6,3)),1<g&&(e[p].singleBonds=!1,e[l].singleBonds=!1),e[p].bonds.push(l),e[p].bondOrder.push(g),e[l].bonds.push(p),e[l].bondOrder.push(g)}break;case "mol2":e=b;A=a.search(/@<TRIPOS>MOLECULE/);f=a.search(/@<TRIPOS>ATOM/);if(-1!=A&&-1!=f){f=[];A=a.substr(A,a.length).split("\n");g=A[2].replace(/^\s+/,"").replace(/\s+/g," ").split(" ");p=parseInt(g[0]);h=0;1<g.length&&(h=
parseInt(g[1]));r=4;for(q=3;q<A.length;q++)if("@<TRIPOS>ATOM"==A[q]){r=q+1;break}q=e.length;for(p=q+p;q<p;q++)g=A[r++],g=g.replace(/^\s+/,"").replace(/\s+/g," ").split(" "),l={},n=q,u=parseInt(g[0]),l.serial=u,l.x=parseFloat(g[2]),l.y=parseFloat(g[3]),l.z=parseFloat(g[4]),l.atom=l.elem=g[5].split(".")[0],l.singleBonds=!0,"H"!=l.elem&&(l.bonds=[],l.bondOrder=[],l.properties={},f[u]=n,e.push(l));for(q=!1;r<A.length;)if("@<TRIPOS>BOND"==A[r++]){q=!0;break}if(q&&h)for(q=0;q<h;q++)g=A[r++],g=g.replace(/^\s+/,
"").replace(/\s+/g," ").split(" "),p=parseInt(g[1]),fromAtom=e[f[p]],l=parseInt(g[2]),toAtom=e[f[l]],g=parseInt(g[3]),isNaN(g)&&(g=1),1<g&&(fromAtom.singleBonds=!1,toAtom.singleBonds=!1),void 0!==fromAtom&&void 0!==toAtom&&(fromAtom.bonds.push(f[l]),fromAtom.bondOrder.push(g),toAtom.bonds.push(f[p]),toAtom.bondOrder.push(g))}break;case "cube":if(e=b,f=a.replace(/^\s+/,"").split(/[\n\r]+/),!(6>f.length)){A=f[2].replace(/^\s+/,"").replace(/\s+/g," ").split(" ");h=Math.abs(parseFloat(A[0]));A=f[3].replace(/^\s+/,
"").replace(/\s+/g," ").split(" ");A=0<parseFloat(A[0])?.529177:1;f=f.splice(6,h);h=e.length;r=h+f.length;for(q=h;q<r;++q)g={},g.serial=q,p=f[q-h].replace(/^\s+/,"").replace(/\s+/g," ").split(" "),6==p[0]?g.elem="C":1==p[0]?g.elem="H":8==p[0]?g.elem="O":17==p[0]&&(g.elem="CL"),g.x=parseFloat(p[2])*A,g.y=parseFloat(p[3])*A,g.z=parseFloat(p[4])*A,g.hetflag=!0,g.singleBonds=!0,g.bonds=[],g.bondOrder=[],g.properties={},e.push(g);D(e)}}e=b;for(f=0;f<e.length;f++)if(A=e[f])A.style=A.style||m,A.color=A.color||
s[A.elem]||w,A.v=d,A.clickable&&(A.intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]})};this.atomIsSelected=function(a,b){if("undefined"===typeof b)return!0;var c=!!b.Fa,e=!0,f;for(f in b)if(b.hasOwnProperty(f)&&"props"!=f&&"invert"!=f&&"model"!=f){if("undefined"===typeof a[f]){e=!1;break}var d=!1;if($.isArray(b[f])){for(var h=b[f],q=0;q<h.length;q++)if(a[f]==h[q]){d=!0;break}if(!d){e=!1;break}}else if(a[f]!=b[f]){e=!1;break}}return c?!e:e};this.selectedAtoms=function(a){for(var e=[],c=
0;c<b.length;c++){var f=b[c];f&&this.atomIsSelected(f,a)&&e.push(f)}return e};this.addAtoms=function(a){A=null;var e=b.length,c=[],f;for(f=0;f<a.length;f++)c[a[f].index]=e+f;for(f=0;f<a.length;f++){var e=a[f],d=c[e.index],h=$.extend(!1,{},e);h.index=d;h.bonds=[];h.bondOrder=[];for(d=0;d<e.bonds.length;d++){var n=c[e.bonds[d]];"undefined"!=typeof n&&(h.bonds.push(n),h.bondOrder.push(e.bondOrder[d]))}b.push(h)}};this.removeAtoms=function(a){A=null;var e=[],c;for(c=0;c<a.length;c++)e[a[c].index]=!0;
a=[];for(c=0;c<b.length;c++){var f=b[c];e[f.index]||a.push(f)}b=[];this.addAtoms(a)};this.setStyle=function(a,c,e){if(e||null===A||!p(c,h)){h=e?null:c;c=$.extend(!0,{},c);for(var f=!1,d=0;d<b.length;d++)if(b[d].q=!1,this.atomIsSelected(b[d],a)){f=!0;b[d].clickable&&(b[d].intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]});e||(b[d].style={});for(var n in c)c.hasOwnProperty(n)&&(b[d].style[n]=c[n])}f&&(A=null)}};this.setColorByElement=function(a,b){if(null===A||!p(b,C)){C=b;var c=this.selectedAtoms(a);
0<c.length&&(A=null);for(var e=0;e<c.length;e++){var f=c[e];"undefined"!==typeof b[f.elem]&&(f.color=b[f.elem])}}};this.setColorByProperty=function(a,b,c){a=this.selectedAtoms(a);C=null;0<a.length&&(A=null);var e=Number.POSITIVE_INFINITY,f=Number.NEGATIVE_INFINITY,d,h;for(d=0;d<a.length;d++)h=a[d],h.properties&&void 0!==typeof h.properties[b]&&(h=parseFloat(h.properties[b]),h<e&&(e=h),h>f&&(f=h));for(d=0;d<a.length;d++)if(h=a[d],h.properties&&void 0!==typeof h.properties[b]){var q=c.valueToHex(parseFloat(h.properties[b]),
[e,f]);h.color=q}};this.globj=function(c){var h=new Date;if(null===A){var n=b;console.log("creating for "+d);var r=new WebMol.Object3D,p=[],m={},z={},q=new WebMol.Geometry(!0),g=new WebMol.Geometry(!0),w,C;w=0;for(C=n.length;w<C;w++){var x=n[w];if(x&&x.style){x.clickable&&void 0===x.intersectionShape&&(x.intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]});f(x,q);var l=x,t=z;if(l.style.cross){var s=l.style.cross;if(!s.hidden){var G=s.linewidth||1;t[G]||(t[G]=new WebMol.Geometry);t=t[G].updateGeoGroup(6);
s=a(l,s);s=[[s,0,0],[-s,0,0],[0,s,0],[0,-s,0],[0,0,s],[0,0,-s]];(G=l.clickable)&&void 0===l.intersectionShape&&(l.intersectionShape={sphere:[],cylinder:[],line:[]});for(var E=WebMol.h.color(l.color),D=0;6>D;D++){var y=3*t.vertices;t.vertices++;t.__vertexArray[y]=l.x+s[D][0];t.__vertexArray[y+1]=l.y+s[D][1];t.__vertexArray[y+2]=l.z+s[D][2];t.__colorArray[y]=E.r;t.__colorArray[y+1]=E.g;t.__colorArray[y+2]=E.b;G&&(y=new WebMol.Vector3(s[D][0],s[D][1],s[D][2]),y.multiplyScalar(.1),y.set(y.x+l.x,y.y+l.y,
y.z+l.z),l.intersectionShape.line.push(y))}}}l=x;t=n;s=m;if(l.style.line&&(G=l.style.line,!G.hidden))for(G=G.linewidth||1,s[G]||(s[G]=new WebMol.Geometry),s=s[G].updateGeoGroup(2*l.bonds.length),G=0;G<l.bonds.length;G++)if(D=t[l.bonds[G]],D.style.line){E=new WebMol.Vector3(l.x,l.y,l.z);D=new WebMol.Vector3(D.x,D.y,D.z);D=E.clone().add(D).multiplyScalar(.5);l.clickable&&(void 0===l.intersectionShape&&(l.intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]}),l.intersectionShape.line.push(E),
l.intersectionShape.line.push(D));var y=WebMol.h.color(l.color),I=3*s.vertices;s.vertices+=2;s.__vertexArray[I]=E.x;s.__vertexArray[I+1]=E.y;s.__vertexArray[I+2]=E.z;s.__colorArray[I]=y.r;s.__colorArray[I+1]=y.g;s.__colorArray[I+2]=y.b;s.__vertexArray[I+3]=D.x;s.__vertexArray[I+4]=D.y;s.__vertexArray[I+5]=D.z;s.__colorArray[I+3]=y.r;s.__colorArray[I+4]=y.g;s.__colorArray[I+5]=y.b}l=x;E=n;t=g;if(l.style.stick&&(D=l.style.stick,!D.hidden)){s=D.radius||.25;I=y=!1;G=l.color;"undefined"!=typeof D.color&&
(G=D.color);var V=WebMol.h.color(G),J=void 0,K=void 0;!l.q&&4>l.bonds.length&&(y=!0);for(var W=0;W<l.bonds.length;W++){var O=E[l.bonds[W]];if(l.serial<O.serial&&O.style.stick){var S=new WebMol.Vector3(l.x,l.y,l.z),ba=new WebMol.Vector3(O.x,O.y,O.z),J=O.color;"undefined"!=typeof D.color&&(J=D.color);var da=WebMol.h.color(J);if(1===l.bondOrder[W]){if(!O.q&&4>O.bonds.length&&(I=!0),G!=J?(J=(new WebMol.Vector3).addVectors(S,ba).multiplyScalar(.5),e(t,S,J,s,V,y,!1),e(t,J,ba,s,da,!1,I)):e(t,S,ba,s,V,y,
I),l.clickable||O.clickable)J=(new WebMol.Vector3).addVectors(S,ba).multiplyScalar(.5),l.clickable&&(da=new WebMol.Cylinder(S,J,s),S=new WebMol.Sphere(S,s),l.intersectionShape.cylinder.push(da),l.intersectionShape.sphere.push(S)),O.clickable&&(S=new WebMol.Cylinder(ba,J,s),ba=new WebMol.Sphere(ba,s),O.intersectionShape.cylinder.push(S),O.intersectionShape.sphere.push(ba))}else if(1<l.bondOrder[W]){var I=y=!1,K=ba.clone(),P=null;K.sub(S);var L,aa,U,ca;1===l.bonds.length?1===O.bonds.length?(P=K.clone(),
1E-4<Math.abs(P.x)?P.y+=1:P.x+=1):(L=(W+1)%O.bonds.length,L=O.bonds[L],L=E[L],L=new WebMol.Vector3(L.x,L.y,L.z),L=L.clone(),L.sub(S),P=L.clone(),P.cross(K)):(L=(W+1)%l.bonds.length,L=l.bonds[L],L=E[L],L=new WebMol.Vector3(L.x,L.y,L.z),L=L.clone(),L.sub(S),P=L.clone(),P.cross(K));if(2==l.bondOrder[W]){if(L=s/2.5,P.cross(K),P.normalize(),P.multiplyScalar(1.5*L),aa=S.clone(),aa.add(P),U=S.clone(),U.sub(P),P=aa.clone(),P.add(K),ca=U.clone(),ca.add(K),G!=J?(J=(new WebMol.Vector3).addVectors(aa,P).multiplyScalar(.5),
K=(new WebMol.Vector3).addVectors(U,ca).multiplyScalar(.5),e(t,aa,J,L,V,y,!1),e(t,J,P,L,da,!1,I),e(t,U,K,L,V,y,!1),e(t,K,ca,L,da,!1,I)):(e(t,aa,P,L,V,y,I),e(t,U,ca,L,V,y,I)),l.clickable||O.clickable)J=(new WebMol.Vector3).addVectors(aa,P).multiplyScalar(.5),K=(new WebMol.Vector3).addVectors(U,ca).multiplyScalar(.5),l.clickable&&(da=new WebMol.Cylinder(aa,J,L),U=new WebMol.Cylinder(U,K,L),l.intersectionShape.cylinder.push(da),l.intersectionShape.cylinder.push(U)),O.clickable&&(cylinder2a=new WebMol.Cylinder(P,
J,L),cylinder2b=new WebMol.Cylinder(ca,K,L),O.intersectionShape.cylinder.push(cylinder2a),O.intersectionShape.cylinder.push(cylinder2b))}else 3==l.bondOrder[W]&&(L=s/4,P.cross(K),P.normalize(),P.multiplyScalar(3*L),aa=S.clone(),aa.add(P),U=S.clone(),U.sub(P),P=aa.clone(),P.add(K),ca=U.clone(),ca.add(K),G!=J?(J=(new WebMol.Vector3).addVectors(aa,P).multiplyScalar(.5),K=(new WebMol.Vector3).addVectors(U,ca).multiplyScalar(.5),mp3=(new WebMol.Vector3).addVectors(S,ba).multiplyScalar(.5),e(t,aa,J,L,V,
y,!1),e(t,J,P,L,da,!1,I),e(t,S,mp3,L,V,y,!1),e(t,mp3,ba,L,da,!1,I),e(t,U,K,L,V,y,!1),e(t,K,ca,L,da,!1,I)):(e(t,aa,P,L,V,y,I),e(t,S,ba,L,V,y,I),e(t,U,ca,L,V,y,I)),l.clickable||O.clickable)&&(J=(new WebMol.Vector3).addVectors(aa,P).multiplyScalar(.5),K=(new WebMol.Vector3).addVectors(U,ca).multiplyScalar(.5),mp3=(new WebMol.Vector3).addVectors(S,ba).multiplyScalar(.5),l.clickable&&(da=new WebMol.Cylinder(aa.clone(),J.clone(),L),U=new WebMol.Cylinder(U.clone(),K.clone(),L),S=new WebMol.Cylinder(S.clone(),
mp3.clone(),L),l.intersectionShape.cylinder.push(da),l.intersectionShape.cylinder.push(U),l.intersectionShape.cylinder.push(S)),O.clickable&&(cylinder2a=new WebMol.Cylinder(P.clone(),J.clone(),L),cylinder2b=new WebMol.Cylinder(ca.clone(),K.clone(),L),cylinder2c=new WebMol.Cylinder(ba.clone(),mp3.clone(),L),O.intersectionShape.cylinder.push(cylinder2a),O.intersectionShape.cylinder.push(cylinder2b),O.intersectionShape.cylinder.push(cylinder2c)))}if(I||3<O.bonds.length)O.q=!0;if(y||3<l.bonds.length)l.q=
!0}}if(!l.singleBonds&&1===l.bonds.length||!l.bonds.length)E=l.style,l.style={sphere:{radius:s,color:G}},f(l,t),l.style=E}"undefined"===typeof x.style.cartoon||x.style.cartoon.hidden||p.push(x)}}if(0<p.length)for(WebMol.ka(r,p,!1),w=0;w<r.children.length;w++);0<q.vertices&&(n=new WebMol.MeshLambertMaterial({ambient:0,vertexColors:!0,reflectivity:0}),q.initTypedArrays(),n=new WebMol.Mesh(q,n),console.log("sphere geometry "+q.vertices.length),r.add(n));0<g.vertices&&(q=new WebMol.MeshLambertMaterial({vertexColors:!0,
ambient:0,reflectivity:0}),g.initTypedArrays(),q.wireframe&&g.setUpWireframe(),g=new WebMol.Mesh(g,q),r.add(g));for(w in m)m.hasOwnProperty(w)&&(g=w,g=new WebMol.LineBasicMaterial({linewidth:g,vertexColors:!0}),m[w].initTypedArrays(),g=new WebMol.Line(m[w],g,WebMol.LinePieces),r.add(g));for(w in z)z.hasOwnProperty(w)&&(g=w,m=new WebMol.LineBasicMaterial({linewidth:g,vertexColors:!0}),z[w].initTypedArrays(),m=new WebMol.Line(z[w],m,WebMol.LinePieces),r.add(m));A=r;console.log("object creation time: "+
(new Date-h));u&&(c.remove(u),u=null);u=A.clone();c.add(u)}};this.removegl=function(a){u&&(void 0!==u.geometry&&u.geometry.dispose(),void 0!==u.material&&u.material.dispose(),a.remove(u),u=null);A=null}}}();
WebMol.GLShape=function(){function t(p,m){m=m||{};WebMol.ShapeIDCount++;this.id=p;this.boundingSphere=new WebMol.Sphere;this.intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]};y(this,m);var t=[],d=null,c=null,e=new WebMol.Geometry(!0);this.updateStyle=function(c){for(var a in c)m[a]=c[a];y(this,m)};this.addCustom=function(c){c.vertexArr=c.vertexArr||[];c.faceArr=c.faceArr||[];c.normalArr=c.normalArr||[];c.lineArr=c.lineArr||[];var a=e.addGeoGroup();D(this,a,c);a.truncateArrayBuffers(!0);
for(c=0;c<a.__colorArray.length/3;++c)a.__colorArray[3*c]=this.color.r,a.__colorArray[3*c+1]=this.color.g,a.__colorArray[3*c+2]=this.color.b;t.push({id:a.id,G:a,s:a.getCentroid()});E(this.boundingSphere,t,a.__vertexArray)};this.addSphere=function(c){c.center=c.center||{x:0,y:0,z:0};c.radius=c.radius?WebMol.Math.clamp(c.radius,0,Infinity):1.5;var a=e.addGeoGroup(),b=c.center,d=c.radius,m=new WebMol.Vector3(b.x,b.y,b.z);this.intersectionShape.sphere.push(new WebMol.Sphere(m,d));var h;h=s.l(d);for(var m=
h.vertices,p=h.i,w=a.vertices,G=0,r=m.length;G<r;++G){var y=3*(w+G),x=m[G];a.__vertexArray[y]=x.x+b.x;a.__vertexArray[y+1]=x.y+b.y;a.__vertexArray[y+2]=x.z+b.z}a.vertices+=m.length;G=h.j;r=G.length-1;for(h=0;h<r;h++)for(y=G[h].length-1,b=0;b<y;b++){var x=a.faceidx,n=a.lineidx,v=G[h][b+1]+w,D=3*v,N=G[h][b]+w,H=3*N,M=G[h+1][b]+w,Q=3*M,B=G[h+1][b+1]+w,q=3*B,g=p[v-w],Y=p[N-w],R=p[M-w],T=p[B-w];Math.abs(m[v-w].y)===d?(a.__normalArray[D]=g.x,a.__normalArray[Q]=R.x,a.__normalArray[q]=T.x,a.__normalArray[D+
1]=g.y,a.__normalArray[Q+1]=R.y,a.__normalArray[q+1]=T.y,a.__normalArray[D+2]=g.z,a.__normalArray[Q+2]=R.z,a.__normalArray[q+2]=T.z,a.__faceArray[x]=v,a.__faceArray[x+1]=M,a.__faceArray[x+2]=B,a.__lineArray[n]=v,a.__lineArray[n+1]=M,a.__lineArray[n+2]=v,a.__lineArray[n+3]=B,a.__lineArray[n+4]=M,a.__lineArray[n+5]=B,a.faceidx+=3,a.lineidx+=6):Math.abs(m[M-w].y)===d?(a.__normalArray[D]=g.x,a.__normalArray[H]=Y.x,a.__normalArray[Q]=R.x,a.__normalArray[D+1]=g.y,a.__normalArray[H+1]=Y.y,a.__normalArray[Q+
1]=R.y,a.__normalArray[D+2]=g.z,a.__normalArray[H+2]=Y.z,a.__normalArray[Q+2]=R.z,a.__faceArray[x]=v,a.__faceArray[x+1]=N,a.__faceArray[x+2]=M,a.__lineArray[n]=v,a.__lineArray[n+1]=N,a.__lineArray[n+2]=v,a.__lineArray[n+3]=M,a.__lineArray[n+4]=N,a.__lineArray[n+5]=M,a.faceidx+=3,a.lineidx+=6):(a.__normalArray[D]=g.x,a.__normalArray[H]=Y.x,a.__normalArray[q]=T.x,a.__normalArray[D+1]=g.y,a.__normalArray[H+1]=Y.y,a.__normalArray[q+1]=T.y,a.__normalArray[D+2]=g.z,a.__normalArray[H+2]=Y.z,a.__normalArray[q+
2]=T.z,a.__normalArray[H]=Y.x,a.__normalArray[Q]=R.x,a.__normalArray[q]=T.x,a.__normalArray[H+1]=Y.y,a.__normalArray[Q+1]=R.y,a.__normalArray[q+1]=T.y,a.__normalArray[H+2]=Y.z,a.__normalArray[Q+2]=R.z,a.__normalArray[q+2]=T.z,a.__faceArray[x]=v,a.__faceArray[x+1]=N,a.__faceArray[x+2]=B,a.__faceArray[x+3]=N,a.__faceArray[x+4]=M,a.__faceArray[x+5]=B,a.__lineArray[n]=v,a.__lineArray[n+1]=N,a.__lineArray[n+2]=v,a.__lineArray[n+3]=B,a.__lineArray[n+4]=N,a.__lineArray[n+5]=M,a.__lineArray[n+6]=M,a.__lineArray[n+
7]=B,a.faceidx+=6,a.lineidx+=8)}a.truncateArrayBuffers(!0);t.push({id:a.id,G:a,s:new WebMol.Vector3(c.center.x,c.center.y,c.center.z)});E(this.boundingSphere,t,a.__vertexArray)};this.addArrow=function(c){c.start=c.start||{};c.end=c.end||{};c.start=new WebMol.Vector3(c.start.x||0,c.start.y||0,c.start.z||0);c.end=new WebMol.Vector3(c.end.x||3,c.end.y||0,c.end.z||0);c.radius=c.radius||.25;c.radiusRatio=c.radiusRatio||1.618034;c.mid=0<c.mid&&1>c.mid?c.mid:.618034;var a=e.addGeoGroup(),b=c.start,d=c.end,
m=c.radius,h=c.radiusRatio,p=c.mid;if(b&&d){var w=d.clone();w.sub(b).multiplyScalar(p);var s=b.clone().add(w),p=w.clone().negate();this.intersectionShape.cylinder.push(new WebMol.Cylinder(b.clone(),s.clone(),m));this.intersectionShape.sphere.push(new WebMol.Sphere(b.clone(),m));var r=[];r[0]=w.clone();1E-4<Math.abs(r[0].x)?r[0].y+=1:r[0].x+=1;r[0].cross(w);r[0].normalize();r[0]=r[0];r[4]=r[0].clone();r[4].crossVectors(r[0],w);r[4].normalize();r[8]=r[0].clone().negate();r[12]=r[4].clone().negate();
r[2]=r[0].clone().add(r[4]).normalize();r[6]=r[4].clone().add(r[8]).normalize();r[10]=r[8].clone().add(r[12]).normalize();r[14]=r[12].clone().add(r[0]).normalize();r[1]=r[0].clone().add(r[2]).normalize();r[3]=r[2].clone().add(r[4]).normalize();r[5]=r[4].clone().add(r[6]).normalize();r[7]=r[6].clone().add(r[8]).normalize();r[9]=r[8].clone().add(r[10]).normalize();r[11]=r[10].clone().add(r[12]).normalize();r[13]=r[12].clone().add(r[14]).normalize();r[15]=r[14].clone().add(r[0]).normalize();var y=a.vertices,
x,n,v;n=0;for(v=r.length;n<v;++n){x=3*(y+3*n);var D=r[n].clone().multiplyScalar(m).add(b),N=r[n].clone().multiplyScalar(m).add(s),H=r[n].clone().multiplyScalar(m*h).add(s);a.__vertexArray[x]=D.x;a.__vertexArray[x+1]=D.y;a.__vertexArray[x+2]=D.z;a.__vertexArray[x+3]=N.x;a.__vertexArray[x+4]=N.y;a.__vertexArray[x+5]=N.z;a.__vertexArray[x+6]=H.x;a.__vertexArray[x+7]=H.y;a.__vertexArray[x+8]=H.z;0<n&&(x=new WebMol.Vector3(a.__vertexArray[x-3],a.__vertexArray[x-2],a.__vertexArray[x-1]),D=d.clone(),N=s.clone(),
H=new WebMol.Vector3(H.x,H.y,H.z),this.intersectionShape.triangle.push(new WebMol.Triangle(H,D,x)),this.intersectionShape.triangle.push(new WebMol.Triangle(x.clone(),N,H.clone())))}a.vertices+=48;x=3*a.vertices;a.__vertexArray[x]=b.x;a.__vertexArray[x+1]=b.y;a.__vertexArray[x+2]=b.z;a.__vertexArray[x+3]=s.x;a.__vertexArray[x+4]=s.y;a.__vertexArray[x+5]=s.z;a.__vertexArray[x+6]=d.x;a.__vertexArray[x+7]=d.y;a.__vertexArray[x+8]=d.z;a.vertices+=3;var M,Q,B,q,g,Y,R,T,l,F=a.vertices-3,Z=a.vertices-2,fa=
a.vertices-1,ha=3*F,ia=3*Z,ga=3*fa;n=0;for(v=r.length-1;n<v;++n)M=y+3*n,b=a.faceidx,d=a.lineidx,m=M,D=3*m,h=M+1,N=3*h,s=M+2,Q=3*s,H=M+4,B=3*H,x=M+5,q=3*x,M+=3,g=3*M,Y=R=r[n],T=l=r[n+1],a.__normalArray[D]=Y.x,a.__normalArray[N]=R.x,a.__normalArray[g]=l.x,a.__normalArray[D+1]=Y.y,a.__normalArray[N+1]=R.y,a.__normalArray[g+1]=l.y,a.__normalArray[D+2]=Y.z,a.__normalArray[N+2]=R.z,a.__normalArray[g+2]=l.z,a.__normalArray[N]=R.x,a.__normalArray[B]=T.x,a.__normalArray[g]=l.x,a.__normalArray[N+1]=R.y,a.__normalArray[B+
1]=T.y,a.__normalArray[g+1]=l.y,a.__normalArray[N+2]=R.z,a.__normalArray[B+2]=T.z,a.__normalArray[g+2]=l.z,a.__normalArray[Q]=R.x,a.__normalArray[q]=T.x,a.__normalArray[Q+1]=R.y,a.__normalArray[q+1]=T.y,a.__normalArray[Q+2]=R.z,a.__normalArray[q+2]=T.z,a.__faceArray[b]=m,a.__faceArray[b+1]=h,a.__faceArray[b+2]=M,a.__faceArray[b+3]=h,a.__faceArray[b+4]=H,a.__faceArray[b+5]=M,a.__faceArray[b+6]=m,a.__faceArray[b+7]=M,a.__faceArray[b+8]=F,a.__faceArray[b+9]=s,a.__faceArray[b+10]=Z,a.__faceArray[b+11]=
x,a.__faceArray[b+12]=s,a.__faceArray[b+13]=fa,a.__faceArray[b+14]=x,a.__lineArray[d]=m,a.__lineArray[d+1]=h,a.__lineArray[d+2]=m,a.__lineArray[d+3]=M,a.__lineArray[d+4]=H,a.__lineArray[d+5]=M,a.__lineArray[d+6]=m,a.__lineArray[d+7]=M,a.__lineArray[d+8]=s,a.__lineArray[d+9]=h,a.__lineArray[d+10]=s,a.__lineArray[d+11]=x,a.__lineArray[d+12]=H,a.__lineArray[d+13]=x,a.__lineArray[d+14]=s,a.__lineArray[d+15]=fa,a.__lineArray[d+16]=s,a.__lineArray[d+17]=x,a.__lineArray[d+18]=fa,a.__lineArray[d+19]=x,a.faceidx+=
15,a.lineidx+=20;y=[y+45,y+46,y+1,y,y+47,y+2];b=a.faceidx;d=a.lineidx;m=y[0];D=3*m;h=y[1];N=3*h;s=y[4];Q=3*s;H=y[2];B=3*H;x=y[5];q=3*x;M=y[3];g=3*M;Y=R=r[15];T=l=r[0];a.__normalArray[D]=Y.x;a.__normalArray[N]=R.x;a.__normalArray[g]=l.x;a.__normalArray[D+1]=Y.y;a.__normalArray[N+1]=R.y;a.__normalArray[g+1]=l.y;a.__normalArray[D+2]=Y.z;a.__normalArray[N+2]=R.z;a.__normalArray[g+2]=l.z;a.__normalArray[N]=R.x;a.__normalArray[B]=T.x;a.__normalArray[g]=l.x;a.__normalArray[N+1]=R.y;a.__normalArray[B+1]=
T.y;a.__normalArray[g+1]=l.y;a.__normalArray[N+2]=R.z;a.__normalArray[B+2]=T.z;a.__normalArray[g+2]=l.z;a.__normalArray[Q]=R.x;a.__normalArray[q]=T.x;a.__normalArray[Q+1]=R.y;a.__normalArray[q+1]=T.y;a.__normalArray[Q+2]=R.z;a.__normalArray[q+2]=T.z;w.normalize();p.normalize();a.__normalArray[ha]=p.x;a.__normalArray[ia]=a.__normalArray[ga]=w.x;a.__normalArray[ha+1]=p.y;a.__normalArray[ia+1]=a.__normalArray[ga+1]=w.y;a.__normalArray[ha+2]=p.z;a.__normalArray[ia+2]=a.__normalArray[ga+2]=w.z;a.__faceArray[b]=
m;a.__faceArray[b+1]=h;a.__faceArray[b+2]=M;a.__faceArray[b+3]=h;a.__faceArray[b+4]=H;a.__faceArray[b+5]=M;a.__faceArray[b+6]=m;a.__faceArray[b+7]=M;a.__faceArray[b+8]=F;a.__faceArray[b+9]=s;a.__faceArray[b+10]=Z;a.__faceArray[b+11]=x;a.__faceArray[b+12]=s;a.__faceArray[b+13]=fa;a.__faceArray[b+14]=x;a.__lineArray[d]=m;a.__lineArray[d+1]=h;a.__lineArray[d+2]=m;a.__lineArray[d+3]=M;a.__lineArray[d+4]=H;a.__lineArray[d+5]=M;a.__lineArray[d+6]=m;a.__lineArray[d+7]=M;a.__lineArray[d+8]=s;a.__lineArray[d+
9]=h;a.__lineArray[d+10]=s;a.__lineArray[d+11]=x;a.__lineArray[d+12]=H;a.__lineArray[d+13]=x;a.__lineArray[d+14]=s;a.__lineArray[d+15]=fa;a.__lineArray[d+16]=s;a.__lineArray[d+17]=x;a.__lineArray[d+18]=fa;a.__lineArray[d+19]=x;a.faceidx+=15;a.lineidx+=20}a.truncateArrayBuffers(!0);w=new WebMol.Vector3;t.push({id:a.id,G:a,s:w.addVectors(c.start,c.end).multiplyScalar(.5)});E(this.boundingSphere,t,a.__vertexArray)};this.addVolumetricData=function(c,a,b){var d=void 0!==b.isoval&&"number"===typeof b.isoval?
b.isoval:0,m=b.voxel?!0:!1,h=e.addGeoGroup();switch(a){case "cube":var p=c.replace(/^\s+/,"").split(/[\n\r]+/);if(!(6>p.length)){var s=p[2].replace(/^\s+/,"").replace(/\s+/g," ").split(" "),y=Math.abs(parseFloat(s[0]));c=new WebMol.Vector3(parseFloat(s[1]),parseFloat(s[2]),parseFloat(s[3]));var s=p[3].replace(/^\s+/,"").replace(/\s+/g," ").split(" "),r=0<parseFloat(s[0])?.529177:1;c.multiplyScalar(r);a=Math.abs(s[0]);var I=(new WebMol.Vector3(parseFloat(s[1]),parseFloat(s[2]),parseFloat(s[3]))).multiplyScalar(r),
s=p[4].replace(/^\s+/,"").replace(/\s+/g," ").split(" "),x=Math.abs(s[0]);(new WebMol.Vector3(parseFloat(s[1]),parseFloat(s[2]),parseFloat(s[3]))).multiplyScalar(r);var s=p[5].replace(/^\s+/,"").replace(/\s+/g," ").split(" "),n=Math.abs(s[0]);(new WebMol.Vector3(parseFloat(s[1]),parseFloat(s[2]),parseFloat(s[3]))).multiplyScalar(r);p=new Float32Array(p.splice(y+7).join(" ").replace(/^\s+/,"").split(/[\s\r]+/));s=new Int16Array(a*x*n);y=0;for(r=s.length;y<r;++y)s[y]=-1;s=new Uint8Array(a*x*n);y=0;
for(r=p.length;y<r;++y)0<(0<=d?p[y]-d:d-p[y])&&(s[y]|=2);d=[];p=[];WebMol.o.U(s,d,p,{sa:!0,voxel:m,scale:I.length(),origin:c,W:a,Y:x,Z:n});m||WebMol.o.T(10,d,p);D(this,h,{vertexArr:d,faceArr:p,normalArr:[],lineArr:[]})}}t.push({id:h.id,G:h,s:h.getCentroid()});this.updateStyle(b);E(this.boundingSphere,t,h.__vertexArray)};this.globj=function(f){e.initTypedArrays();var a=this.color,a=a||WebMol.h.color(a);e.colorsNeedUpdate=!0;for(var b in e.geometryGroups)for(var m=e.geometryGroups[b],p=m.__colorArray,
h=0,m=m.vertices;h<m;++h)p[3*h]=a.r,p[3*h+1]=a.g,p[3*h+2]=a.b;d=new WebMol.Object3D;b=new WebMol.MeshLambertMaterial({wireframe:this.wireframe,vertexColors:!0,ambient:0,reflectivity:0,side:this.side,transparent:1>this.alpha?!0:!1,opacity:this.alpha});b=new WebMol.Mesh(e,b);d.add(b);c&&(f.remove(c),c=null);c=d.clone();f.add(c)}}function y(p,m){p.color=m.color||new WebMol.Color;p.wireframe=m.wireframe?!0:!1;p.alpha=m.alpha?WebMol.Math.clamp(m.alpha,0,1):1;p.side=void 0!==m.side?m.side:WebMol.DoubleSide;
p.clickable=m.clickable?!0:!1;p.callback="function"===typeof m.callback?m.callback:null}function E(p,m,s){p.center.set(0,0,0);var d,c;if(0<m.length){d=0;for(c=m.length;d<c;++d)p.center.add(m[d].s);p.center.divideScalar(m.length)}m=p.radius*p.radius;d=0;for(c=s.length/3;d<c;d++){var e=p.center.distanceToSquared({x:s[3*d],y:s[3*d+1],z:s[3*d+2]});m=Math.max(m,e)}p.radius=Math.sqrt(m)}function D(p,m,s){var d=s.vertexArr,c=s.normalArr,e=s.faceArr;s=s.lineArr;0!==d.length&&0!==e.length||console.warn("Error adding custom shape component: No vertices and/or face indices supplied!");
m.vertices=d.length;m.faceidx=e.length;var f,a,b,t,u;t=0;for(u=m.vertices;t<u;++t)f=3*t,a=d[t],m.__vertexArray[f]=a.x,m.__vertexArray[f+1]=a.y,m.__vertexArray[f+2]=a.z;t=0;for(u=m.faceidx/3;t<u;++t){f=3*t;a=e[f];b=e[f+1];f=e[f+2];var h=new WebMol.Vector3,y=new WebMol.Vector3,w=new WebMol.Vector3;p.intersectionShape.triangle.push(new WebMol.Triangle(h.copy(d[a]),y.copy(d[b]),w.copy(d[f])))}m.__faceArray=new Uint16Array(e);m.truncateArrayBuffers(!0);if(c.length<m.vertices)m.setNormals();else for(m.__normalArray=
new Float32Array(3*m.vertices),t=0,u=m.vertices;t<u;++t)f=3*t,p=c[t],m.__normalArray[f]=p.x,m.__normalArray[f+1]=p.y,m.__normalArray[f+2]=p.z;s.length?m.__lineArray=new Uint16Array(s):m.setLineIndices();m.lineidx=m.__lineArray.length}var s={f:{},l:function(p){if("undefined"!==typeof this.f[p])return this.f[p];var m={vertices:[],j:[],i:[]},s=16,d=10;1>p&&(s=8,d=6);var c=2*Math.PI,e=Math.PI,f,a;for(a=0;a<=d;a++){var b=[];for(f=0;f<=s;f++){var t=f/s,u=a/d,h={};h.x=-p*Math.cos(0+t*c)*Math.sin(0+u*e);
h.y=p*Math.cos(0+u*e);h.z=p*Math.sin(0+t*c)*Math.sin(0+u*e);t=new WebMol.Vector3(h.x,h.y,h.z);t.normalize();m.vertices.push(h);m.i.push(t);b.push(m.vertices.length-1)}m.j.push(b)}return this.f[p]=m}};Object.defineProperty(t.prototype,"position",{get:function(){return this.boundingSphere.center}});Object.defineProperty(t.prototype,"x",{get:function(){return this.boundingSphere.center.x}});Object.defineProperty(t.prototype,"y",{get:function(){return this.boundingSphere.center.y}});Object.defineProperty(t.prototype,
"z",{get:function(){return this.boundingSphere.center.z}});return t}();WebMol.ShapeIDCount=0;WebMol.LabelCount=0;WebMol.Label=function(t,y){this.id=WebMol.LabelCount++;this.stylespec=y||{};this.canvas=document.createElement("canvas");this.context=this.canvas.getContext("2d");this.sprite=new WebMol.Sprite;this.text=t};
WebMol.Label.prototype={setContext:function(){this.font=this.stylespec.font=this.stylespec.font?this.stylespec.font:"Arial";this.fontSize=this.stylespec.fontSize=this.stylespec.fontSize?this.stylespec.fontSize:20;this.fontColor=this.stylespec.fontColor=this.stylespec.fontColor?this.stylespec.fontColor:{r:255,g:255,b:255,a:1};this.borderThickness=this.stylespec.borderThickness=this.stylespec.borderThickness?this.stylespec.borderThickness:4;this.borderColor=this.stylespec.borderColor=this.stylespec.borderColor?
this.stylespec.borderColor:{r:0,g:0,b:0,a:1};this.backgroundColor=this.stylespec.backgroundColor=this.stylespec.backgroundColor?this.stylespec.backgroundColor:{r:0,g:0,b:0,a:1};this.position=this.stylespec.position=this.stylespec.position?this.stylespec.position:{x:-10,y:1,z:1};this.inFront=this.stylespec.inFront=void 0!==this.stylespec.inFront?this.stylespec.inFront:!0;this.context.clearRect(0,0,this.canvas.width,this.canvas.height);var t=WebMol.SpriteAlignment.topLeft;this.context.font=this.fontSize+
"pt "+this.font;var y=this.context.measureText(this.text).width;this.context.fillStyle="rgba("+this.backgroundColor.r+","+this.backgroundColor.g+","+this.backgroundColor.b+","+this.backgroundColor.a+")";this.context.strokeStyle="rgba("+this.borderColor.r+","+this.borderColor.g+","+this.borderColor.b+","+this.borderColor.a+")";this.context.lineWidth=this.borderThickness;var E=this.context,D=this.borderThickness/2,s=this.borderThickness/2,p=y+this.borderThickness,m=1.4*this.fontSize+this.borderThickness;
E.beginPath();E.moveTo(D+6,s);E.lineTo(D+p-6,s);E.quadraticCurveTo(D+p,s,D+p,s+6);E.lineTo(D+p,s+m-6);E.quadraticCurveTo(D+p,s+m,D+p-6,s+m);E.lineTo(D+6,s+m);E.quadraticCurveTo(D,s+m,D,s+m-6);E.lineTo(D,s+6);E.quadraticCurveTo(D,s,D+6,s);E.closePath();E.fill();this.context.fillStyle="rgba("+this.fontColor.r+","+this.fontColor.g+","+this.fontColor.b+","+this.fontColor.a+")";this.context.fillText(this.text,this.borderThickness,this.fontSize+this.borderThickness,y);y=new WebMol.Texture(this.canvas);
y.needsUpdate=!0;this.sprite.material=new WebMol.SpriteMaterial({map:y,useScreenCoordinates:!1,alignment:t,depthTest:!this.inFront});this.sprite.scale.set(2*this.fontSize,this.fontSize,1);this.sprite.position.set(this.position.x,this.position.y,this.position.z)},dispose:function(){void 0!==this.sprite.material.map&&this.sprite.material.map.dispose();void 0!==this.sprite.material&&this.sprite.material.dispose()}};
WebMol.GLViewer=function(){function t(t){var E,D,s,p,m,z,d,c,e,f;E=D=s=9999;p=m=z=-9999;d=c=e=f=0;if(0===t.length)return[[0,0,0],[0,0,0],[0,0,0]];for(var a=0;a<t.length;a++){var b=t[a];void 0!==b&&(f++,d+=b.x,c+=b.y,e+=b.z,E=E<b.x?E:b.x,D=D<b.y?D:b.y,s=s<b.z?s:b.z,p=p>b.x?p:b.x,m=m>b.y?m:b.y,z=z>b.z?z:b.z)}return[[E,D,s],[p,m,z],[d/f,c/f,e/f]]}return function(y,E,D){function s(a,c,b,e,d,f){var g=new Date,h=new WebMol.fa;h.wa(c,1===a?!1:!0,f);f=new Date;console.log("initialize "+(f-g)+"ms");h.qa(d,
b);c=new Date;console.log("fillvoxels "+(c-f)+"  "+(c-g)+"ms");h.ha();a==WebMol.SurfaceType.SES&&(h.ma(),h.Q(!1),h.ra(d,b));b=new Date;console.log("buildboundaryetc "+(b-c)+"  "+(b-g)+"ms");h.xa(a);a=new Date;console.log("marching cube "+(a-b)+"  "+(a-g)+"ms");return h.ta(e)}function p(a,c,b){var e=new WebMol.Geometry(!0),d=e.updateGeoGroup(0),f=c.vertices,g,h,l;h=0;for(l=f.length;h<l;h++)g=3*d.vertices,d.__vertexArray[g]=f[h].x,d.__vertexArray[g+1]=f[h].y,d.__vertexArray[g+2]=f[h].z,d.vertices++;
c=c.faces;d.faceidx=c.length;e.initTypedArrays();g=[];h=0;for(l=a.length;h<l;h++){var m=a[h];m&&("undefined"!=typeof m.surfaceColor?g[h]=WebMol.h.color(m.surfaceColor):m.color&&(g[h]=WebMol.h.color(m.color)))}a=d.__vertexArray;var p,q,n;h=0;for(l=c.length;h<l;h+=3){p=h;var m=c[h],s=c[h+1],r=c[h+2];q=f[m].atomid;n=f[s].atomid;var t=f[r].atomid,m=3*m,s=3*s,r=3*r;d.__faceArray[p]=c[h].a;d.__faceArray[p+1]=c[h].b;d.__faceArray[p+2]=c[h].Da;d.__colorArray[m]=g[q].r;d.__colorArray[m+1]=g[q].g;d.__colorArray[m+
2]=g[q].b;d.__colorArray[s]=g[n].r;d.__colorArray[s+1]=g[n].g;d.__colorArray[s+2]=g[n].b;d.__colorArray[r]=g[t].r;d.__colorArray[r+1]=g[t].g;d.__colorArray[r+2]=g[t].b;p=new WebMol.Vector3(a[m],a[m+1],a[m+2]);q=new WebMol.Vector3(a[s],a[s+1],a[s+2]);n=new WebMol.Vector3(a[r],a[r+1],a[r+2]);n.subVectors(n,q);p.subVectors(p,q);n.cross(p);p=n;p.normalize();d.__normalArray[m]+=p.x;d.__normalArray[s]+=p.x;d.__normalArray[r]+=p.x;d.__normalArray[m+1]+=p.y;d.__normalArray[s+1]+=p.y;d.__normalArray[r+1]+=
p.y;d.__normalArray[m+2]+=p.z;d.__normalArray[s+2]+=p.z;d.__normalArray[r+2]+=p.z}d.__faceArray=new Uint16Array(c);b=new WebMol.Mesh(e,b);b.Ea=!0;return b}function m(a,c,b){function e(a){if(64E3>z(a))return[a];var c=a[1][0]-a[0][0],b=a[1][1]-a[0][1],d=a[1][2]-a[0][2],b=c>b&&c>d?0:b>c&&b>d?1:2,d=g(a),c=g(a);a=(a[1][b]-a[0][b])/2+a[0][b];d[1][b]=a;c[0][b]=a;a=e(d);c=e(c);return a.concat(c)}function g(a){var c=[];c[0]=[a[0][0],a[0][1],a[0][2]];c[1]=[a[1][0],a[1][1],a[1][2]];return c}var f=[];a=e(a);
for(var h=0,m=a.length;h<m;h++){var l=g(a[h]);l[0][0]-=6;l[0][1]-=6;l[0][2]-=6;l[1][0]+=6;l[1][1]+=6;l[1][2]+=6;var l=d(c,l),p=d(b,a[h]);f.push({A:a[h],M:l,da:p})}return f}function z(a){return(a[1][0]-a[0][0])*(a[1][1]-a[0][1])*(a[1][2]-a[0][2])}function d(a,c){for(var b=[],d=0;d<a.length;d++){var e=a[d];"undefined"!=typeof e&&(e.x<c[0][0]||e.x>c[1][0]||e.y<c[0][1]||e.y>c[1][1]||e.z<c[0][2]||e.z>c[1][2]||b.push(d))}return b}function c(){if(Q){var a=v.position.z-B.position.z;1>a&&(a=1);v.near=a+Y;
1>v.near&&(v.near=1);v.far=a+R;v.near+1>v.far&&(v.far=v.near+1);v instanceof WebMol.Camera?v.fov=20:(v.right=a*Math.tan(Math.PI/180*20),v.left=-v.right,v.top=v.right/x,v.bottom=-v.top);v.updateProjectionMatrix();Q.fog.near=v.near+.4*(v.far-v.near);Q.fog.far=v.far;n.render(Q,v)}}function e(a){var c=[];"undefined"===typeof a&&(a={});var b=[],d;if("undefined"===typeof a.v)for(d=0;d<h.length;d++)h[d]&&b.push(h[d]);else b=a.v,$.isArray(b)||(b=[b]);for(d=0;d<b.length;d++)c=c.concat(b[d].selectedAtoms(a));
return c}function f(a,c,b,d){for(var e=0;e<h.length;e++)if(h[e])h[e][a](c,b,d)}function a(a){var c=new WebMol.MeshLambertMaterial;c.vertexColors=WebMol.VertexColors;for(var b in a)"color"===b?(c[b]=WebMol.h.color(a.color),delete c.vertexColors):"map"!==b&&a.hasOwnProperty(b)&&(c[b]=a[b]);void 0!==a.opacity&&(c.transparent=1===a.opacity?!1:!0);return c}function b(a,c){for(var b=Number.POSITIVE_INFINITY,d=Number.NEGATIVE_INFINITY,e=0,g=a.length;e<g;e++){var f=a[e];f.properties&&"undefined"!=typeof f.properties[c]&&
(f=f.properties[c],f<b&&(b=f),f>d&&(d=f))}isFinite(b)||isFinite(d)?isFinite(b)?isFinite(d)||(d=b):b=d:b=d=0;return[b,d]}var A=this,u=y.id,h=[],C=[],w=[],G=y.width(),r=y.height(),I=$('<div class="glviewerSpinnerWrap" style = "position: absolute; width: 100%; height: 100%; display: table; z-index: 1;"><div class="glviewerSpinner" style="display: table-cell; text-align: center; vertical-align: middle; z-index:1"><img src="webmol/spinner.gif"></div></div>');$(y).append(I);I.hide();var x=G/r,n=new WebMol.Renderer({antialias:!0});
n.domElement.style.width="100%";n.domElement.style.height="100%";n.domElement.style.position="absolute";n.domElement.style.top="0px";n.domElement.style.zIndex="0";y.append(n.domElement);n.setSize(G,r);var v=new WebMol.Camera(20,x,1,800);v.position=new WebMol.Vector3(0,0,150);var X=new WebMol.Vector3;v.lookAt(X);var N=new WebMol.Raycaster(new WebMol.Vector3(0,0,0),new WebMol.Vector3(0,0,0)),H=new WebMol.Projector,M=new WebMol.Vector3(0,0,0),Q=null,B=null,q=null,g=0,Y=-50,R=50,T=new WebMol.Quaternion(0,
0,0,1),l=new WebMol.Quaternion(0,0,0,1),F=!1,Z=0,fa=0,ha=0,ia=0,ga=0,la=0;(function(){Q=new WebMol.Scene;Q.fog=new WebMol.Fog(g,100,200);q=new WebMol.Object3D;B=new WebMol.Object3D;B.useQuaternion=!0;B.quaternion=new WebMol.Quaternion(0,0,0,1);B.add(q);Q.add(B);var a=new WebMol.Light(16777215);a.position=(new WebMol.Vector3(.2,.2,1)).normalize();a.intensity=1;Q.add(a)})();n.setClearColorHex(g,1);Q.fog.color=WebMol.h.color(g);X=$(n.domElement);X.bind("mousedown touchstart",function(a){a.preventDefault();
if(Q){var b=a.pageX,d=a.pageY;a.originalEvent.targetTouches&&a.originalEvent.targetTouches[0]&&(b=a.originalEvent.targetTouches[0].pageX,d=a.originalEvent.targetTouches[0].pageY);if(void 0!==b){F=!0;mouseButton=a.which;Z=b;fa=d;T=B.quaternion;ia=B.position.z;ha=q.position.clone();ga=Y;la=R;a=b/$(window).width()*2-1;M.set(a,2*-(d/r)+1,-1);H.unprojectVector(M,v);M.sub(v.position).normalize();N.set(v.position,M);d=[];a=[];a=0;for(b=h.length;a<b;a++)var e=h[a].selectedAtoms({clickable:!0}),d=d.concat(e);
a=0;for(b=w.length;a<b;a++)e=w[a],e.clickable&&d.push(e);a=N.intersectObjects(q,d);a.length&&(d=a[0].clickable,void 0!==d.callback&&"function"===typeof d.callback&&d.callback(d,A));c()}}});X.bind("DOMMouseScroll mousewheel",function(a){a.preventDefault();if(Q){var b=.85*(150-B.position.z);a.originalEvent.detail?B.position.z+=b*a.originalEvent.detail/10:a.originalEvent.wheelDelta&&(B.position.z-=b*a.originalEvent.wheelDelta/400);c()}});X.bind("contextmenu",function(a){a.preventDefault()});$("body").bind("mouseup touchend",
function(){F=!1});X.bind("mousemove touchmove",function(a){a.preventDefault();if(Q&&F){var b=0,d=$("input[name="+u+"_mouseMode]:checked");0<d.length&&(b=parseInt(d.val()));var d=a.pageX,e=a.pageY;a.originalEvent.targetTouches&&a.originalEvent.targetTouches[0]&&(d=a.originalEvent.targetTouches[0].pageX,e=a.originalEvent.targetTouches[0].pageY);if(void 0!==d){var d=(d-Z)/G,e=(e-fa)/r,f=Math.sqrt(d*d+e*e);3==b||3==mouseButton&&a.ctrlKey?(Y=ga+100*d,R=la+100*e):2==b||3==mouseButton||a.shiftKey?(a=.85*
(150-B.position.z),80>a&&(a=80),B.position.z=ia-e*a):1==b||2==mouseButton||a.ctrlKey?(a=.85*(150-B.position.z),20>a&&(a=20),a=new WebMol.Vector3(d*a,-e*a,0),b=B.quaternion,b=(new WebMol.Quaternion(b.x,b.y,b.z,b.w)).inverse().normalize(),a=a.applyQuaternion(b),q.position.x=ha.x+a.x,q.position.y=ha.y+a.y,q.position.z=ha.z+a.z):0!==b&&1!=mouseButton||0===f||(a=Math.sin(f*Math.PI)/f,l.x=Math.cos(f*Math.PI),l.y=0,l.z=a*d,l.w=-a*e,B.quaternion=new WebMol.Quaternion(1,0,0,0),B.quaternion.multiply(l),B.quaternion.multiply(T));
c()}}});this.setBackgroundColor=function(a,b){g=a;n.setClearColorHex(a,b|1);Q.fog.color=WebMol.h.color(a);c()};this.setWidth=function(a){G=a||G;n.setSize(G,r)};this.setHeight=function(a){r=a||r;n.setSize(G,r)};this.resize=function(){G=y.width();r=y.height();x=G/r;n.setSize(G,r);v.aspect=x;v.updateProjectionMatrix();c()};$(window).resize(this.resize);this.getModel=function(a){a=a||h.length-1;return h[a]};this.getView=function(){if(!q)return[0,0,0,0,0,0,0,1];var a=q.position,c=B.quaternion;return[a.x,
a.y,a.z,B.position.z,c.x,c.y,c.z,c.w]};this.setView=function(a){void 0!==a&&(a instanceof Array||8!==a.length)&&q&&B&&(q.position.x=a[0],q.position.y=a[1],q.position.z=a[2],B.position.z=a[3],B.quaternion.x=a[4],B.quaternion.y=a[5],B.quaternion.z=a[6],B.quaternion.w=a[7],c())};this.render=function(){var a=new Date,c=this.getView(),b;for(b=0;b<h.length;b++)h[b]&&h[b].globj(q);for(b=0;b<w.length;b++)w[b]&&w[b].globj(q);for(b in C)if(C.hasOwnProperty(b)){var d=C[b].k;C[b].D||(d.verticesNeedUpdate=!0,
d.elementsNeedUpdate=!0,d.normalsNeedUpdate=!0,d.colorsNeedUpdate=!0,d.buffersNeedUpdate=!0,d.boundingSphere=null,C[b].done&&(C[b].D=!0),C[b].u&&q.remove(C[b].u),d=new WebMol.Mesh(d,C[b].n),C[b].u=d,q.add(d))}this.setView(c);c=new Date;I.hide();console.log("render time: "+(c-a))};this.pdbData=function(a){a=e(a);for(var c="",b=0,d=a.length;b<d;++b)c+=a[b].pdbline+"\n";return c};this.zoomTo=function(a){a=e(a).concat(w);var b=e({}).concat(w);a=t(a);var b=t(b),d=new WebMol.Vector3(a[2][0],a[2][1],a[2][2]);
q.position=d.multiplyScalar(-1);var d=b[1][0]-b[0][0],f=b[1][1]-b[0][1],b=b[1][2]-b[0][2],b=Math.sqrt(d*d+f*f+b*b);25>b&&(b=25);Y=-b/1.9;R=b/3;d=a[1][0]-a[0][0];f=a[1][1]-a[0][1];b=a[1][2]-a[0][2];b=Math.sqrt(d*d+f*f+b*b);25>b&&(b=25);B.position.z=-(.35*b/Math.tan(Math.PI/180*v.fov/2)-150);c()};this.addLabel=function(a,b){var c=new WebMol.Label(a,b);c.setContext();q.add(c.sprite);return c};this.removeLabel=function(a){a.dispose();q.remove(a.sprite)};this.setLabelStyle=function(a,b){a.dispose();a.stylespec=
b;a.setContext();q.add(a.sprite);return a};this.setLabelText=function(a,b){a.dispose();a.text=b;a.setContext();q.add(a.sprite);return a};this.addShape=function(a){a=a||{};a=new WebMol.GLShape(w.length,a);w.push(a);return a};this.addSphere=function(a){var b=new WebMol.GLShape(w.length);a=a||{};b.addSphere(a);w.push(b);return b};this.addArrow=function(a){var b=new WebMol.GLShape(w.length);a=a||{};b.addArrow(a);w.push(b);return b};this.addCustom=function(a){var b=new WebMol.GLShape(w.length);a=a||{};
b.addCustom(a);w.push(b);return b};this.addVolumetricData=function(a,b,c){var d=new WebMol.GLShape(w.length);c=c||{};d.addVolumetricData(a,b,c);w.push(d);return d};this.addModel=function(a,b){var c=new WebMol.GLModel(h.length,D);c.addMolData(a,b);h.push(c);return c};this.removeModel=function(a){if(a)for(a.removegl(q),delete h[a.getID()];0<h.length&&"undefined"===typeof h[h.length-1];)h.pop()};this.removeAllModels=function(){for(var a=0;a<h.length;a++)h[a].removegl(q);h=[]};this.createModelFrom=function(a,
b){for(var c=new WebMol.GLModel(h.length,D),d=0;d<h.length;d++)if(h[d]){var e=h[d].selectedAtoms(a);c.addAtoms(e);b&&h[d].removeAtoms(e)}h.push(c);return c};this.setStyle=function(a,b){f("setStyle",a,b,!1)};this.addStyle=function(a,b){f("setStyle",a,b,!0)};this.setColorByProperty=function(a,b,c){f("setColorByProperty",a,b,c)};this.setColorByElement=function(a,b){f("setColorByElement",a,b)};this.addSurface=function(c,d,f,g,h){f=e(f);var l=e(g),q=e(h),n,r=new Date,v=a(d),u=t(f);if(d.map&&d.map.prop){h=
d.map.prop;var w=d.map.scheme||new WebMol.RWB,x=w.range();x||(x=b(f,h));d=0;for(g=f.length;d<g;d++)n=f[d],n.surfaceColor=w.valueToHex(n.properties[h],x)}h=z(u);var y=m(u,l,f);if(q&&q.length&&0<q.length){var B=t(q);y.sort(function(a,b){function c(a,b){var d=a.A,e=d[1][1]-d[0][1],f=d[1][2]-d[0][2],d=d[1][0]-d[0][0]-b[2][0],e=e-b[2][1],f=f-b[2][2];return d*d+e*e+f*f}return c(a,B)-c(b,B)})}console.log("Extents "+y.length+"  "+(+new Date-r)+"ms");var D={k:new WebMol.Geometry(!0),n:v,done:!1,D:!1};f=C.length;
C[f]=D;q=[];d=0;for(g=l.length;d<g;d++)n=l[d],q[d]={x:n.x,y:n.y,z:n.z,serial:d,elem:n.elem};if(WebMol.syncSurface)for(d=0,g=y.length;d<g;d++)n=s(c,y[d].A,y[d].M,y[d].da,q,h),n=p(l,n,v),WebMol.V(D.k,n),A.render();else{n=[];0>c&&(c=0);d=0;for(g=4;d<g;d++)u=new Worker(WebMol.L),n.push(u),u.postMessage({type:-1,atoms:q,volume:h});var E=0;g=function(a){a=p(l,a.data,v);WebMol.V(D.k,a);A.render();console.log("async mesh generation "+(+new Date-r)+"ms");E++;E==y.length&&(D.done=!0)};h=function(a){console.log(a.message+
" ("+a.filename+":"+a.Ga+")")};for(d=0;d<y.length;d++)q=n[d%n.length],q.onmessage=g,q.onerror=h,q.postMessage({type:c,expandedExtent:y[d].A,extendedAtoms:y[d].M,atomsToShow:y[d].da})}console.log("full mesh generation "+(+new Date-r)+"ms");return f};this.setSurfaceMaterialStyle=function(b,c){C[b]&&(C[b].n=a(c),C[b].n.side=WebMol.FrontSide,C[b].D=!1)};this.removeSurface=function(a){C[a]&&C[a].u&&(void 0!==C[a].k&&C[a].k.dispose(),void 0!==C[a].n&&C[a].n.dispose(),q.remove(C[a].u));delete C[a];c()};
this.clear=function(){C=[];this.removeAllModels();c()};this.mapAtomProperties=function(a){for(var b=e({}),c=0,d=b.length;c<d;c++)for(var f=b[c],g=0,l=a.length;g<l;g++){var m=a[g];if(m.props)for(var p in m.props){var n;if(n=m.props.hasOwnProperty(p))a:{n=f;var q=m;"undefined"===typeof q&&(q={});var r=[],s=void 0;if("undefined"===typeof q.v)for(s=0;s<h.length;s++)h[s]&&r.push(h[s]);else r=q.v,$.isArray(r)||(r=[r]);for(s=0;s<r.length;s++)if(r[s].atomIsSelected(n,q)){n=!0;break a}n=!1}n&&(f.properties||
(f.properties={}),f.properties[p]=m.props[p])}}};try{"function"===typeof E&&E(this)}catch(V){console.log("error with glviewer callback: "+V)}}}();WebMol.glmolViewer=WebMol.GLViewer;WebMol=WebMol||{};
WebMol.za=[{resn:"ALA",atom:"N",props:{partialCharge:-.15}},{resn:"ALA",atom:"CA",props:{partialCharge:.1}},{resn:"ALA",atom:"CB",props:{partialCharge:0}},{resn:"ALA",atom:"C",props:{partialCharge:.6}},{resn:"ALA",atom:"O",props:{partialCharge:-.55}},{resn:"ARG",atom:"N",props:{partialCharge:-.15}},{resn:"ARG",atom:"CA",props:{partialCharge:.1}},{resn:"ARG",atom:"CB",props:{partialCharge:0}},{resn:"ARG",atom:"CG",props:{partialCharge:0}},{resn:"ARG",atom:"CD",props:{partialCharge:.1}},{resn:"ARG",
atom:"NE",props:{partialCharge:-.1}},{resn:"ARG",atom:"CZ",props:{partialCharge:.5}},{resn:"ARG",atom:"NH1",props:{partialCharge:.25}},{resn:"ARG",atom:"NH2",props:{partialCharge:.25}},{resn:"ARG",atom:"C",props:{partialCharge:.6}},{resn:"ARG",atom:"O",props:{partialCharge:-.55}},{resn:"ASN",atom:"N",props:{partialCharge:-.15}},{resn:"ASN",atom:"CA",props:{partialCharge:.1}},{resn:"ASN",atom:"CB",props:{partialCharge:0}},{resn:"ASN",atom:"CG",props:{partialCharge:.55}},{resn:"ASN",atom:"OD1",props:{partialCharge:-.55}},
{resn:"ASN",atom:"ND2",props:{partialCharge:0}},{resn:"ASN",atom:"C",props:{partialCharge:.6}},{resn:"ASN",atom:"O",props:{partialCharge:-.55}},{resn:"ASP",atom:"N",props:{partialCharge:-.15}},{resn:"ASP",atom:"CA",props:{partialCharge:.1}},{resn:"ASP",atom:"CB",props:{partialCharge:0}},{resn:"ASP",atom:"CG",props:{partialCharge:.14}},{resn:"ASP",atom:"OD1",props:{partialCharge:-.57}},{resn:"ASP",atom:"OD2",props:{partialCharge:-.57}},{resn:"ASP",atom:"C",props:{partialCharge:.6}},{resn:"ASP",atom:"O",
props:{partialCharge:-.55}},{resn:"CYS",atom:"N",props:{partialCharge:-.15}},{resn:"CYS",atom:"CA",props:{partialCharge:.1}},{resn:"CYS",atom:"CB",props:{partialCharge:.19}},{resn:"CYS",atom:"SG",props:{partialCharge:-.19}},{resn:"CYS",atom:"C",props:{partialCharge:.6}},{resn:"CYS",atom:"O",props:{partialCharge:-.55}},{resn:"GLN",atom:"N",props:{partialCharge:-.15}},{resn:"GLN",atom:"CA",props:{partialCharge:.1}},{resn:"GLN",atom:"CB",props:{partialCharge:0}},{resn:"GLN",atom:"CG",props:{partialCharge:0}},
{resn:"GLN",atom:"CD",props:{partialCharge:.55}},{resn:"GLN",atom:"OE1",props:{partialCharge:-.55}},{resn:"GLN",atom:"NE2",props:{partialCharge:0}},{resn:"GLN",atom:"C",props:{partialCharge:.6}},{resn:"GLN",atom:"O",props:{partialCharge:-.55}},{resn:"GLU",atom:"N",props:{partialCharge:-.15}},{resn:"GLU",atom:"CA",props:{partialCharge:.1}},{resn:"GLU",atom:"CB",props:{partialCharge:0}},{resn:"GLU",atom:"CG",props:{partialCharge:0}},{resn:"GLU",atom:"CD",props:{partialCharge:.14}},{resn:"GLU",atom:"OE1",
props:{partialCharge:-.57}},{resn:"GLU",atom:"OE2",props:{partialCharge:-.57}},{resn:"GLU",atom:"C",props:{partialCharge:.6}},{resn:"GLU",atom:"O",props:{partialCharge:-.55}},{resn:"GLY",atom:"N",props:{partialCharge:-.15}},{resn:"GLY",atom:"CA",props:{partialCharge:.1}},{resn:"GLY",atom:"C",props:{partialCharge:.6}},{resn:"GLY",atom:"O",props:{partialCharge:-.55}},{resn:"HIS",atom:"N",props:{partialCharge:-.15}},{resn:"HIS",atom:"CA",props:{partialCharge:.1}},{resn:"HIS",atom:"CB",props:{partialCharge:0}},
{resn:"HIS",atom:"CG",props:{partialCharge:.1}},{resn:"HIS",atom:"ND1",props:{partialCharge:-.1}},{resn:"HIS",atom:"CD2",props:{partialCharge:.1}},{resn:"HIS",atom:"NE2",props:{partialCharge:-.4}},{resn:"HIS",atom:"CE1",props:{partialCharge:.3}},{resn:"HIS",atom:"C",props:{partialCharge:.6}},{resn:"HIS",atom:"O",props:{partialCharge:-.55}},{resn:"ILE",atom:"N",props:{partialCharge:-.15}},{resn:"ILE",atom:"CA",props:{partialCharge:.1}},{resn:"ILE",atom:"CB",props:{partialCharge:0}},{resn:"ILE",atom:"CG2",
props:{partialCharge:0}},{resn:"ILE",atom:"CG1",props:{partialCharge:0}},{resn:"ILE",atom:"CD",props:{partialCharge:0}},{resn:"ILE",atom:"C",props:{partialCharge:.6}},{resn:"ILE",atom:"O",props:{partialCharge:-.55}},{resn:"LEU",atom:"N",props:{partialCharge:-.15}},{resn:"LEU",atom:"CA",props:{partialCharge:.1}},{resn:"LEU",atom:"CB",props:{partialCharge:0}},{resn:"LEU",atom:"CG",props:{partialCharge:0}},{resn:"LEU",atom:"CD1",props:{partialCharge:0}},{resn:"LEU",atom:"CD2",props:{partialCharge:0}},
{resn:"LEU",atom:"C",props:{partialCharge:.6}},{resn:"LEU",atom:"O",props:{partialCharge:-.55}},{resn:"LYS",atom:"N",props:{partialCharge:-.15}},{resn:"LYS",atom:"CA",props:{partialCharge:.1}},{resn:"LYS",atom:"CB",props:{partialCharge:0}},{resn:"LYS",atom:"CG",props:{partialCharge:0}},{resn:"LYS",atom:"CD",props:{partialCharge:0}},{resn:"LYS",atom:"CE",props:{partialCharge:.25}},{resn:"LYS",atom:"NZ",props:{partialCharge:.75}},{resn:"LYS",atom:"C",props:{partialCharge:.6}},{resn:"LYS",atom:"O",props:{partialCharge:-.55}},
{resn:"MET",atom:"N",props:{partialCharge:-.15}},{resn:"MET",atom:"CA",props:{partialCharge:.1}},{resn:"MET",atom:"CB",props:{partialCharge:0}},{resn:"MET",atom:"CG",props:{partialCharge:.06}},{resn:"MET",atom:"SD",props:{partialCharge:-.12}},{resn:"MET",atom:"CE",props:{partialCharge:.06}},{resn:"MET",atom:"C",props:{partialCharge:.6}},{resn:"MET",atom:"O",props:{partialCharge:-.55}},{resn:"PHE",atom:"N",props:{partialCharge:-.15}},{resn:"PHE",atom:"CA",props:{partialCharge:.1}},{resn:"PHE",atom:"CB",
props:{partialCharge:0}},{resn:"PHE",atom:"CG",props:{partialCharge:0}},{resn:"PHE",atom:"CD1",props:{partialCharge:0}},{resn:"PHE",atom:"CD2",props:{partialCharge:0}},{resn:"PHE",atom:"CE1",props:{partialCharge:0}},{resn:"PHE",atom:"CE2",props:{partialCharge:0}},{resn:"PHE",atom:"CZ",props:{partialCharge:0}},{resn:"PHE",atom:"C",props:{partialCharge:.6}},{resn:"PHE",atom:"O",props:{partialCharge:-.55}},{resn:"PRO",atom:"N",props:{partialCharge:-.25}},{resn:"PRO",atom:"CD",props:{partialCharge:.1}},
{resn:"PRO",atom:"CA",props:{partialCharge:.1}},{resn:"PRO",atom:"CB",props:{partialCharge:0}},{resn:"PRO",atom:"CG",props:{partialCharge:0}},{resn:"PRO",atom:"C",props:{partialCharge:.6}},{resn:"PRO",atom:"O",props:{partialCharge:-.55}},{resn:"SER",atom:"N",props:{partialCharge:-.15}},{resn:"SER",atom:"CA",props:{partialCharge:.1}},{resn:"SER",atom:"CB",props:{partialCharge:.25}},{resn:"SER",atom:"OG",props:{partialCharge:-.25}},{resn:"SER",atom:"C",props:{partialCharge:.6}},{resn:"SER",atom:"O",
props:{partialCharge:-.55}},{resn:"THR",atom:"N",props:{partialCharge:-.15}},{resn:"THR",atom:"CA",props:{partialCharge:.1}},{resn:"THR",atom:"CB",props:{partialCharge:.25}},{resn:"THR",atom:"OG1",props:{partialCharge:-.25}},{resn:"THR",atom:"CG2",props:{partialCharge:0}},{resn:"THR",atom:"C",props:{partialCharge:.6}},{resn:"THR",atom:"O",props:{partialCharge:-.55}},{resn:"TRP",atom:"N",props:{partialCharge:-.15}},{resn:"TRP",atom:"CA",props:{partialCharge:.1}},{resn:"TRP",atom:"CB",props:{partialCharge:0}},
{resn:"TRP",atom:"CG",props:{partialCharge:-.03}},{resn:"TRP",atom:"CD2",props:{partialCharge:.1}},{resn:"TRP",atom:"CE2",props:{partialCharge:-.04}},{resn:"TRP",atom:"CE3",props:{partialCharge:-.03}},{resn:"TRP",atom:"CD1",props:{partialCharge:.06}},{resn:"TRP",atom:"NE1",props:{partialCharge:-.06}},{resn:"TRP",atom:"CZ2",props:{partialCharge:0}},{resn:"TRP",atom:"CZ3",props:{partialCharge:0}},{resn:"TRP",atom:"CH2",props:{partialCharge:0}},{resn:"TRP",atom:"C",props:{partialCharge:.6}},{resn:"TRP",
atom:"O",props:{partialCharge:-.55}},{resn:"TYR",atom:"N",props:{partialCharge:-.15}},{resn:"TYR",atom:"CA",props:{partialCharge:.1}},{resn:"TYR",atom:"CB",props:{partialCharge:0}},{resn:"TYR",atom:"CG",props:{partialCharge:0}},{resn:"TYR",atom:"CD1",props:{partialCharge:0}},{resn:"TYR",atom:"CE1",props:{partialCharge:0}},{resn:"TYR",atom:"CD2",props:{partialCharge:0}},{resn:"TYR",atom:"CE2",props:{partialCharge:0}},{resn:"TYR",atom:"CZ",props:{partialCharge:.25}},{resn:"TYR",atom:"OH",props:{partialCharge:-.25}},
{resn:"TYR",atom:"C",props:{partialCharge:.6}},{resn:"TYR",atom:"O",props:{partialCharge:-.55}},{resn:"VAL",atom:"N",props:{partialCharge:-.15}},{resn:"VAL",atom:"CA",props:{partialCharge:.1}},{resn:"VAL",atom:"CB",props:{partialCharge:0}},{resn:"VAL",atom:"CG1",props:{partialCharge:0}},{resn:"VAL",atom:"CG2",props:{partialCharge:0}},{resn:"VAL",atom:"C",props:{partialCharge:.6}},{resn:"VAL",atom:"O",props:{partialCharge:-.55}}];WebMol.partialCharges=WebMol.za;
