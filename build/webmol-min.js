(function(a,c){function e(b){var g=b.length,r=d.type(b);return d.isWindow(b)?!1:1===b.nodeType&&g?!0:"array"===r||"function"!==r&&(0===g||"number"===typeof g&&0<g&&g-1 in b)}function f(b){var g=$a[b]={};d.each(b.match($)||[],function(b,d){g[d]=!0});return g}function l(b,g,r,a){if(d.acceptData(b)){var q=d.expando,k="string"===typeof g,F=b.nodeType,e=F?d.cache:b,f=F?b[q]:b[q]&&q;if(f&&e[f]&&(a||e[f].data)||!k||r!==c){f||(F?b[q]=f=z.pop()||d.guid++:f=q);e[f]||(e[f]={},F||(e[f].toJSON=d.noop));if("object"===
typeof g||"function"===typeof g)a?e[f]=d.extend(e[f],g):e[f].data=d.extend(e[f].data,g);b=e[f];a||(b.data||(b.data={}),b=b.data);r!==c&&(b[d.camelCase(g)]=r);k?(r=b[g],null==r&&(r=b[d.camelCase(g)])):r=b;return r}}}function s(b,g,r){if(d.acceptData(b)){var a,c,k,F=b.nodeType,e=F?d.cache:b,f=F?b[d.expando]:d.expando;if(e[f]){if(g&&(k=r?e[f]:e[f].data)){d.isArray(g)?g=g.concat(d.map(g,d.camelCase)):g in k?g=[g]:(g=d.camelCase(g),g=g in k?[g]:g.split(" "));a=0;for(c=g.length;a<c;a++)delete k[g[a]];if(!(r?
p:d.isEmptyObject)(k))return}if(!r&&(delete e[f].data,!p(e[f])))return;F?d.cleanData([b],!0):d.support.deleteExpando||e!=e.window?delete e[f]:e[f]=null}}}function m(b,g,r){if(r===c&&1===b.nodeType)if(r="data-"+g.replace(yb,"-$1").toLowerCase(),r=b.getAttribute(r),"string"===typeof r){try{r="true"===r?!0:"false"===r?!1:"null"===r?null:+r+""===r?+r:zb.test(r)?d.parseJSON(r):r}catch(a){}d.data(b,g,r)}else r=c;return r}function p(b){for(var g in b)if(("data"!==g||!d.isEmptyObject(b[g]))&&"toJSON"!==g)return!1;
return!0}function t(){return!0}function v(){return!1}function B(b,g){do b=b[g];while(b&&1!==b.nodeType);return b}function K(b,g,r){g=g||0;if(d.isFunction(g))return d.grep(b,function(b,d){return!!g.call(b,d,b)===r});if(g.nodeType)return d.grep(b,function(b){return b===g===r});if("string"===typeof g){var a=d.grep(b,function(b){return 1===b.nodeType});if(Ab.test(g))return d.filter(g,a,!r);g=d.filter(g,a)}return d.grep(b,function(b){return 0<=d.inArray(b,g)===r})}function D(b){var g=ab.split("|");b=b.createDocumentFragment();
if(b.createElement)for(;g.length;)b.createElement(g.pop());return b}function I(b,g){return b.getElementsByTagName(g)[0]||b.appendChild(b.ownerDocument.createElement(g))}function G(b){var g=b.getAttributeNode("type");b.type=(g&&g.specified)+"/"+b.type;return b}function E(b){var g=Bb.exec(b.type);g?b.type=g[1]:b.removeAttribute("type");return b}function w(b,g){for(var r,a=0;null!=(r=b[a]);a++)d._data(r,"globalEval",!g||d._data(g[a],"globalEval"))}function A(b,g){if(1===g.nodeType&&d.hasData(b)){var r,
a,c;a=d._data(b);var k=d._data(g,a),F=a.events;if(F)for(r in delete k.handle,k.events={},F)for(a=0,c=F[r].length;a<c;a++)d.event.add(g,r,F[r][a]);k.data&&(k.data=d.extend({},k.data))}}function y(b,g){var r,a,q=0,k=typeof b.getElementsByTagName!==h?b.getElementsByTagName(g||"*"):typeof b.querySelectorAll!==h?b.querySelectorAll(g||"*"):c;if(!k)for(k=[],r=b.childNodes||b;null!=(a=r[q]);q++)!g||d.nodeName(a,g)?k.push(a):d.merge(k,y(a,g));return g===c||g&&d.nodeName(b,g)?d.merge([b],k):k}function J(b){Na.test(b.type)&&
(b.defaultChecked=b.checked)}function S(b,g){if(g in b)return g;for(var d=g.charAt(0).toUpperCase()+g.slice(1),a=g,c=bb.length;c--;)if(g=bb[c]+d,g in b)return g;return a}function M(b,g){b=g||b;return"none"===d.css(b,"display")||!d.contains(b.ownerDocument,b)}function P(b,g){for(var a,c,q,k=[],F=0,e=b.length;F<e;F++)c=b[F],c.style&&(k[F]=d._data(c,"olddisplay"),a=c.style.display,g?(k[F]||"none"!==a||(c.style.display=""),""===c.style.display&&M(c)&&(k[F]=d._data(c,"olddisplay",Q(c.nodeName)))):k[F]||
(q=M(c),(a&&"none"!==a||!q)&&d._data(c,"olddisplay",q?a:d.css(c,"display"))));for(F=0;F<e;F++)c=b[F],!c.style||g&&"none"!==c.style.display&&""!==c.style.display||(c.style.display=g?k[F]||"":"none");return b}function H(b,g,d){return(b=Cb.exec(g))?Math.max(0,b[1]-(d||0))+(b[2]||"px"):g}function u(b,g,a,c,q){g=a===(c?"border":"content")?4:"width"===g?1:0;for(var k=0;4>g;g+=2)"margin"===a&&(k+=d.css(b,a+ga[g],!0,q)),c?("content"===a&&(k-=d.css(b,"padding"+ga[g],!0,q)),"margin"!==a&&(k-=d.css(b,"border"+
ga[g]+"Width",!0,q))):(k+=d.css(b,"padding"+ga[g],!0,q),"padding"!==a&&(k+=d.css(b,"border"+ga[g]+"Width",!0,q)));return k}function L(b,g,a){var c=!0,q="width"===g?b.offsetWidth:b.offsetHeight,k=ia(b),F=d.support.boxSizing&&"border-box"===d.css(b,"boxSizing",!1,k);if(0>=q||null==q){q=oa(b,g,k);if(0>q||null==q)q=b.style[g];if(Fa.test(q))return q;c=F&&(d.support.boxSizingReliable||q===b.style[g]);q=parseFloat(q)||0}return q+u(b,g,a||(F?"border":"content"),c,k)+"px"}function Q(b){var g=C,a=cb[b];a||
(a=X(b,g),"none"!==a&&a||(Ba=(Ba||d("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(g.documentElement),g=(Ba[0].contentWindow||Ba[0].contentDocument).document,g.write("<!doctype html><html><body>"),g.close(),a=X(b,g),Ba.detach()),cb[b]=a);return a}function X(b,g){var a=d(g.createElement(b)).appendTo(g.body),c=d.css(a[0],"display");a.remove();return c}function U(b,g,a,c){var q;if(d.isArray(g))d.each(g,function(g,d){a||Db.test(b)?c(b,d):U(b+"["+
("object"===typeof d?g:"")+"]",d,a,c)});else if(a||"object"!==d.type(g))c(b,g);else for(q in g)U(b+"["+q+"]",g[q],a,c)}function N(b){return function(g,a){"string"!==typeof g&&(a=g,g="*");var c,q=0,k=g.toLowerCase().match($)||[];if(d.isFunction(a))for(;c=k[q++];)"+"===c[0]?(c=c.slice(1)||"*",(b[c]=b[c]||[]).unshift(a)):(b[c]=b[c]||[]).push(a)}}function V(b,g,a,c){function q(e){var f;k[e]=!0;d.each(b[e]||[],function(b,d){var e=d(g,a,c);if("string"===typeof e&&!F&&!k[e])return g.dataTypes.unshift(e),
q(e),!1;if(F)return!(f=e)});return f}var k={},F=b===Oa;return q(g.dataTypes[0])||!k["*"]&&q("*")}function da(b,g){var a,n,q=d.ajaxSettings.flatOptions||{};for(n in g)g[n]!==c&&((q[n]?b:a||(a={}))[n]=g[n]);a&&d.extend(!0,b,a);return b}function fa(){try{return new a.XMLHttpRequest}catch(b){}}function ea(){setTimeout(function(){xa=c});return xa=d.now()}function aa(b,g){d.each(g,function(g,d){for(var a=(Ca[g]||[]).concat(Ca["*"]),c=0,F=a.length;c<F&&!a[c].call(b,g,d);c++);})}function Ga(b,g,a){var c,
q=0,k=Ha.length,F=d.Deferred().always(function(){delete e.elem}),e=function(){if(c)return!1;for(var g=xa||ea(),g=Math.max(0,f.startTime+f.duration-g),a=1-(g/f.duration||0),d=0,r=f.tweens.length;d<r;d++)f.tweens[d].run(a);F.notifyWith(b,[f,a,g]);if(1>a&&r)return g;F.resolveWith(b,[f]);return!1},f=F.promise({elem:b,props:d.extend({},g),opts:d.extend(!0,{specialEasing:{}},a),originalProperties:g,originalOptions:a,startTime:xa||ea(),duration:a.duration,tweens:[],createTween:function(g,a){var r=d.Tween(b,
f.opts,g,a,f.opts.specialEasing[g]||f.opts.easing);f.tweens.push(r);return r},stop:function(g){var a=0,d=g?f.tweens.length:0;if(c)return this;for(c=!0;a<d;a++)f.tweens[a].run(1);g?F.resolveWith(b,[f,g]):F.rejectWith(b,[f,g]);return this}});a=f.props;for(Ia(a,f.opts.specialEasing);q<k;q++)if(g=Ha[q].call(f,b,a,f.opts))return g;aa(f,a);d.isFunction(f.opts.start)&&f.opts.start.call(b,f);d.fx.timer(d.extend(e,{elem:b,anim:f,queue:f.opts.queue}));return f.progress(f.opts.progress).done(f.opts.done,f.opts.complete).fail(f.opts.fail).always(f.opts.always)}
function Ia(b,g){var a,c,q,k,F;for(q in b)if(c=d.camelCase(q),k=g[c],a=b[q],d.isArray(a)&&(k=a[1],a=b[q]=a[0]),q!==c&&(b[c]=a,delete b[q]),(F=d.cssHooks[c])&&"expand"in F)for(q in a=F.expand(a),delete b[c],a)q in b||(b[q]=a[q],g[q]=k);else g[c]=k}function T(b,g,a,d,c){return new T.prototype.init(b,g,a,d,c)}function ja(b,g){var a,d={height:b},c=0;for(g=g?1:0;4>c;c+=2-g)a=ga[c],d["margin"+a]=d["padding"+a]=b;g&&(d.opacity=d.width=b);return d}function pa(b){return d.isWindow(b)?b:9===b.nodeType?b.defaultView||
b.parentWindow:!1}var ka,qa,h=typeof c,C=a.document,Ja=a.location,Ka=a.jQuery,La=a.$,ra={},z=[],x=z.concat,ca=z.push,Y=z.slice,O=z.indexOf,ha=ra.toString,Z=ra.hasOwnProperty,la="1.9.1".trim,d=function(b,g){return new d.fn.init(b,g,qa)},ua=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,$=/\S+/g,Da=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,Eb=/^(?:(<[\w\W]+>)[^>]*|#([\w-]*))$/,db=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,ya=/^[\],:{}\s]*$/,Fb=/(?:^|:|,)(?:\s*\[)+/g,Gb=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,Hb=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,
Ib=/^-ms-/,Jb=/-([\da-z])/gi,Kb=function(b,g){return g.toUpperCase()},ma=function(b){if(C.addEventListener||"load"===b.type||"complete"===C.readyState)eb(),d.ready()},eb=function(){C.addEventListener?(C.removeEventListener("DOMContentLoaded",ma,!1),a.removeEventListener("load",ma,!1)):(C.detachEvent("onreadystatechange",ma),a.detachEvent("onload",ma))};d.fn=d.prototype={jquery:"1.9.1",constructor:d,init:function(b,g,a){var n;if(!b)return this;if("string"===typeof b){n="<"===b.charAt(0)&&">"===b.charAt(b.length-
1)&&3<=b.length?[null,b,null]:Eb.exec(b);if(!n||!n[1]&&g)return!g||g.jquery?(g||a).find(b):this.constructor(g).find(b);if(n[1]){if(g=g instanceof d?g[0]:g,d.merge(this,d.parseHTML(n[1],g&&g.nodeType?g.ownerDocument||g:C,!0)),db.test(n[1])&&d.isPlainObject(g))for(n in g)if(d.isFunction(this[n]))this[n](g[n]);else this.attr(n,g[n])}else{if((g=C.getElementById(n[2]))&&g.parentNode){if(g.id!==n[2])return a.find(b);this.length=1;this[0]=g}this.context=C;this.selector=b}return this}if(b.nodeType)return this.context=
this[0]=b,this.length=1,this;if(d.isFunction(b))return a.ready(b);b.selector!==c&&(this.selector=b.selector,this.context=b.context);return d.makeArray(b,this)},selector:"",length:0,size:function(){return this.length},toArray:function(){return Y.call(this)},get:function(b){return null==b?this.toArray():0>b?this[this.length+b]:this[b]},pushStack:function(b){b=d.merge(this.constructor(),b);b.prevObject=this;b.context=this.context;return b},each:function(b,g){return d.each(this,b,g)},ready:function(b){d.ready.promise().done(b);
return this},slice:function(){return this.pushStack(Y.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(b){var g=this.length;b=+b+(0>b?g:0);return this.pushStack(0<=b&&b<g?[this[b]]:[])},map:function(b){return this.pushStack(d.map(this,function(g,a){return b.call(g,a,g)}))},end:function(){return this.prevObject||this.constructor(null)},push:ca,sort:[].sort,splice:[].splice};d.fn.init.prototype=d.fn;d.extend=d.fn.extend=function(){var b,g,a,
n,q,k=arguments[0]||{},F=1,e=arguments.length,f=!1;"boolean"===typeof k&&(f=k,k=arguments[1]||{},F=2);"object"===typeof k||d.isFunction(k)||(k={});e===F&&(k=this,--F);for(;F<e;F++)if(null!=(q=arguments[F]))for(n in q)b=k[n],a=q[n],k!==a&&(f&&a&&(d.isPlainObject(a)||(g=d.isArray(a)))?(g?(g=!1,b=b&&d.isArray(b)?b:[]):b=b&&d.isPlainObject(b)?b:{},k[n]=d.extend(f,b,a)):a!==c&&(k[n]=a));return k};d.extend({noConflict:function(b){a.$===d&&(a.$=La);b&&a.jQuery===d&&(a.jQuery=Ka);return d},isReady:!1,readyWait:1,
holdReady:function(b){b?d.readyWait++:d.ready(!0)},ready:function(b){if(!0===b?!--d.readyWait:!d.isReady){if(!C.body)return setTimeout(d.ready);d.isReady=!0;!0!==b&&0<--d.readyWait||(ka.resolveWith(C,[d]),d.fn.trigger&&d(C).trigger("ready").off("ready"))}},isFunction:function(b){return"function"===d.type(b)},isArray:Array.isArray||function(b){return"array"===d.type(b)},isWindow:function(b){return null!=b&&b==b.window},isNumeric:function(b){return!isNaN(parseFloat(b))&&isFinite(b)},type:function(b){return null==
b?String(b):"object"===typeof b||"function"===typeof b?ra[ha.call(b)]||"object":typeof b},isPlainObject:function(b){if(!b||"object"!==d.type(b)||b.nodeType||d.isWindow(b))return!1;try{if(b.constructor&&!Z.call(b,"constructor")&&!Z.call(b.constructor.prototype,"isPrototypeOf"))return!1}catch(g){return!1}for(var a in b);return a===c||Z.call(b,a)},isEmptyObject:function(b){for(var g in b)return!1;return!0},error:function(b){throw Error(b);},parseHTML:function(b,g,a){if(!b||"string"!==typeof b)return null;
"boolean"===typeof g&&(a=g,g=!1);g=g||C;var c=db.exec(b);a=!a&&[];if(c)return[g.createElement(c[1])];c=d.buildFragment([b],g,a);a&&d(a).remove();return d.merge([],c.childNodes)},parseJSON:function(b){if(a.JSON&&a.JSON.parse)return a.JSON.parse(b);if(null===b)return b;if("string"===typeof b&&(b=d.trim(b))&&ya.test(b.replace(Gb,"@").replace(Hb,"]").replace(Fb,"")))return(new Function("return "+b))();d.error("Invalid JSON: "+b)},parseXML:function(b){var g,r;if(!b||"string"!==typeof b)return null;try{a.DOMParser?
(r=new DOMParser,g=r.parseFromString(b,"text/xml")):(g=new ActiveXObject("Microsoft.XMLDOM"),g.async="false",g.loadXML(b))}catch(n){g=c}g&&g.documentElement&&!g.getElementsByTagName("parsererror").length||d.error("Invalid XML: "+b);return g},noop:function(){},globalEval:function(b){b&&d.trim(b)&&(a.execScript||function(b){a.eval.call(a,b)})(b)},camelCase:function(b){return b.replace(Ib,"ms-").replace(Jb,Kb)},nodeName:function(b,g){return b.nodeName&&b.nodeName.toLowerCase()===g.toLowerCase()},each:function(b,
g,a){var d,c=0,k=b.length;d=e(b);if(a)if(d)for(;c<k&&(d=g.apply(b[c],a),!1!==d);c++);else for(c in b){if(d=g.apply(b[c],a),!1===d)break}else if(d)for(;c<k&&(d=g.call(b[c],c,b[c]),!1!==d);c++);else for(c in b)if(d=g.call(b[c],c,b[c]),!1===d)break;return b},trim:la&&!la.call("\ufeff\u00a0")?function(b){return null==b?"":la.call(b)}:function(b){return null==b?"":(b+"").replace(Da,"")},makeArray:function(b,g){var a=g||[];null!=b&&(e(Object(b))?d.merge(a,"string"===typeof b?[b]:b):ca.call(a,b));return a},
inArray:function(b,g,a){var d;if(g){if(O)return O.call(g,b,a);d=g.length;for(a=a?0>a?Math.max(0,d+a):a:0;a<d;a++)if(a in g&&g[a]===b)return a}return-1},merge:function(b,g){var a=g.length,d=b.length,q=0;if("number"===typeof a)for(;q<a;q++)b[d++]=g[q];else for(;g[q]!==c;)b[d++]=g[q++];b.length=d;return b},grep:function(b,g,a){var d,c=[],k=0,F=b.length;for(a=!!a;k<F;k++)d=!!g(b[k],k),a!==d&&c.push(b[k]);return c},map:function(b,g,a){var d,c=0,k=b.length,F=[];if(e(b))for(;c<k;c++)d=g(b[c],c,a),null!=
d&&(F[F.length]=d);else for(c in b)d=g(b[c],c,a),null!=d&&(F[F.length]=d);return x.apply([],F)},guid:1,proxy:function(b,g){var a,n;"string"===typeof g&&(n=b[g],g=b,b=n);if(!d.isFunction(b))return c;a=Y.call(arguments,2);n=function(){return b.apply(g||this,a.concat(Y.call(arguments)))};n.guid=b.guid=b.guid||d.guid++;return n},access:function(b,g,a,n,q,k,F){var e=0,f=b.length,h=null==a;if("object"===d.type(a))for(e in q=!0,a)d.access(b,g,e,a[e],!0,k,F);else if(n!==c&&(q=!0,d.isFunction(n)||(F=!0),h&&
(F?(g.call(b,n),g=null):(h=g,g=function(b,g,a){return h.call(d(b),a)})),g))for(;e<f;e++)g(b[e],a,F?n:n.call(b[e],e,g(b[e],a)));return q?b:h?g.call(b):f?g(b[0],a):k},now:function(){return(new Date).getTime()}});d.ready.promise=function(b){if(!ka)if(ka=d.Deferred(),"complete"===C.readyState)setTimeout(d.ready);else if(C.addEventListener)C.addEventListener("DOMContentLoaded",ma,!1),a.addEventListener("load",ma,!1);else{C.attachEvent("onreadystatechange",ma);a.attachEvent("onload",ma);var g=!1;try{g=
null==a.frameElement&&C.documentElement}catch(c){}g&&g.doScroll&&function q(){if(!d.isReady){try{g.doScroll("left")}catch(b){return setTimeout(q,50)}eb();d.ready()}}()}return ka.promise(b)};d.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(b,g){ra["[object "+g+"]"]=g.toLowerCase()});qa=d(C);var $a={};d.Callbacks=function(b){b="string"===typeof b?$a[b]||f(b):d.extend({},b);var g,a,n,q,k,e,R=[],h=!b.once&&[],l=function(d){a=b.memory&&d;n=!0;k=e||0;e=0;q=R.length;
for(g=!0;R&&k<q;k++)if(!1===R[k].apply(d[0],d[1])&&b.stopOnFalse){a=!1;break}g=!1;R&&(h?h.length&&l(h.shift()):a?R=[]:z.disable())},z={add:function(){if(R){var c=R.length;(function Lb(g){d.each(g,function(g,a){var c=d.type(a);"function"===c?b.unique&&z.has(a)||R.push(a):a&&a.length&&"string"!==c&&Lb(a)})})(arguments);g?q=R.length:a&&(e=c,l(a))}return this},remove:function(){R&&d.each(arguments,function(b,a){for(var c;-1<(c=d.inArray(a,R,c));)R.splice(c,1),g&&(c<=q&&q--,c<=k&&k--)});return this},has:function(b){return b?
-1<d.inArray(b,R):!(!R||!R.length)},empty:function(){R=[];return this},disable:function(){R=h=a=c;return this},disabled:function(){return!R},lock:function(){h=c;a||z.disable();return this},locked:function(){return!h},fireWith:function(b,a){a=a||[];a=[b,a.slice?a.slice():a];!R||n&&!h||(g?h.push(a):l(a));return this},fire:function(){z.fireWith(this,arguments);return this},fired:function(){return!!n}};return z};d.extend({Deferred:function(b){var a=[["resolve","done",d.Callbacks("once memory"),"resolved"],
["reject","fail",d.Callbacks("once memory"),"rejected"],["notify","progress",d.Callbacks("memory")]],c="pending",n={state:function(){return c},always:function(){q.done(arguments).fail(arguments);return this},then:function(){var b=arguments;return d.Deferred(function(c){d.each(a,function(a,g){var r=g[0],e=d.isFunction(b[a])&&b[a];q[g[1]](function(){var b=e&&e.apply(this,arguments);if(b&&d.isFunction(b.promise))b.promise().done(c.resolve).fail(c.reject).progress(c.notify);else c[r+"With"](this===n?
c.promise():this,e?[b]:arguments)})});b=null}).promise()},promise:function(b){return null!=b?d.extend(b,n):n}},q={};n.pipe=n.then;d.each(a,function(b,d){var e=d[2],f=d[3];n[d[1]]=e.add;f&&e.add(function(){c=f},a[b^1][2].disable,a[2][2].lock);q[d[0]]=function(){q[d[0]+"With"](this===q?n:this,arguments);return this};q[d[0]+"With"]=e.fireWith});n.promise(q);b&&b.call(q,q);return q},when:function(b){var a=0,c=Y.call(arguments),n=c.length,q=1!==n||b&&d.isFunction(b.promise)?n:0,k=1===q?b:d.Deferred(),
e=function(b,a,g){return function(d){a[b]=this;g[b]=1<arguments.length?Y.call(arguments):d;g===f?k.notifyWith(a,g):--q||k.resolveWith(a,g)}},f,h,l;if(1<n)for(f=Array(n),h=Array(n),l=Array(n);a<n;a++)c[a]&&d.isFunction(c[a].promise)?c[a].promise().done(e(a,l,c)).fail(k.reject).progress(e(a,h,f)):--q;q||k.resolveWith(l,c);return k.promise()}});d.support=function(){var b,g,c,n,q,k,e,f=C.createElement("div");f.setAttribute("className","t");f.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>";
g=f.getElementsByTagName("*");c=f.getElementsByTagName("a")[0];if(!g||!c||!g.length)return{};n=C.createElement("select");q=n.appendChild(C.createElement("option"));g=f.getElementsByTagName("input")[0];c.style.cssText="top:1px;float:left;opacity:.5";b={getSetAttribute:"t"!==f.className,leadingWhitespace:3===f.firstChild.nodeType,tbody:!f.getElementsByTagName("tbody").length,htmlSerialize:!!f.getElementsByTagName("link").length,style:/top/.test(c.getAttribute("style")),hrefNormalized:"/a"===c.getAttribute("href"),
opacity:/^0.5/.test(c.style.opacity),cssFloat:!!c.style.cssFloat,checkOn:!!g.value,optSelected:q.selected,enctype:!!C.createElement("form").enctype,html5Clone:"<:nav></:nav>"!==C.createElement("nav").cloneNode(!0).outerHTML,boxModel:"CSS1Compat"===C.compatMode,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,boxSizingReliable:!0,pixelPosition:!1};g.checked=!0;b.noCloneChecked=g.cloneNode(!0).checked;n.disabled=!0;b.optDisabled=!q.disabled;try{delete f.test}catch(l){b.deleteExpando=
!1}g=C.createElement("input");g.setAttribute("value","");b.input=""===g.getAttribute("value");g.value="t";g.setAttribute("type","radio");b.radioValue="t"===g.value;g.setAttribute("checked","t");g.setAttribute("name","t");c=C.createDocumentFragment();c.appendChild(g);b.appendChecked=g.checked;b.checkClone=c.cloneNode(!0).cloneNode(!0).lastChild.checked;f.attachEvent&&(f.attachEvent("onclick",function(){b.noCloneEvent=!1}),f.cloneNode(!0).click());for(e in{submit:!0,change:!0,focusin:!0})f.setAttribute(c=
"on"+e,"t"),b[e+"Bubbles"]=c in a||!1===f.attributes[c].expando;f.style.backgroundClip="content-box";f.cloneNode(!0).style.backgroundClip="";b.clearCloneStyle="content-box"===f.style.backgroundClip;d(function(){var g,d,c=C.getElementsByTagName("body")[0];c&&(g=C.createElement("div"),g.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",c.appendChild(g).appendChild(f),f.innerHTML="<table><tr><td></td><td>t</td></tr></table>",d=f.getElementsByTagName("td"),
d[0].style.cssText="padding:0;margin:0;border:0;display:none",k=0===d[0].offsetHeight,d[0].style.display="",d[1].style.display="none",b.reliableHiddenOffsets=k&&0===d[0].offsetHeight,f.innerHTML="",f.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",b.boxSizing=4===f.offsetWidth,b.doesNotIncludeMarginInBodyOffset=1!==c.offsetTop,a.getComputedStyle&&(b.pixelPosition="1%"!==
(a.getComputedStyle(f,null)||{}).top,b.boxSizingReliable="4px"===(a.getComputedStyle(f,null)||{width:"4px"}).width,d=f.appendChild(C.createElement("div")),d.style.cssText=f.style.cssText="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",d.style.marginRight=d.style.width="0",f.style.width="1px",b.reliableMarginRight=!parseFloat((a.getComputedStyle(d,null)||{}).marginRight)),typeof f.style.zoom!==h&&(f.innerHTML="",f.style.cssText=
"padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;width:1px;padding:1px;display:inline;zoom:1",b.inlineBlockNeedsLayout=3===f.offsetWidth,f.style.display="block",f.innerHTML="<div></div>",f.firstChild.style.width="5px",b.shrinkWrapBlocks=3!==f.offsetWidth,b.inlineBlockNeedsLayout&&(c.style.zoom=1)),c.removeChild(g),f=null)});g=n=c=q=c=g=null;return b}();var zb=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,yb=/([A-Z])/g;d.extend({cache:{},
expando:"jQuery"+("1.9.1"+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(b){b=b.nodeType?d.cache[b[d.expando]]:b[d.expando];return!!b&&!p(b)},data:function(b,a,d){return l(b,a,d)},removeData:function(b,a){return s(b,a)},_data:function(b,a,d){return l(b,a,d,!0)},_removeData:function(b,a){return s(b,a,!0)},acceptData:function(b){if(b.nodeType&&1!==b.nodeType&&9!==b.nodeType)return!1;var a=b.nodeName&&d.noData[b.nodeName.toLowerCase()];
return!a||!0!==a&&b.getAttribute("classid")===a}});d.fn.extend({data:function(b,a){var r,n,q=this[0],k=0,e=null;if(b===c){if(this.length&&(e=d.data(q),1===q.nodeType&&!d._data(q,"parsedAttrs"))){for(r=q.attributes;k<r.length;k++)n=r[k].name,n.indexOf("data-")||(n=d.camelCase(n.slice(5)),m(q,n,e[n]));d._data(q,"parsedAttrs",!0)}return e}return"object"===typeof b?this.each(function(){d.data(this,b)}):d.access(this,function(a){if(a===c)return q?m(q,b,d.data(q,b)):null;this.each(function(){d.data(this,
b,a)})},null,a,1<arguments.length,null,!0)},removeData:function(b){return this.each(function(){d.removeData(this,b)})}});d.extend({queue:function(b,a,c){var n;if(b)return a=(a||"fx")+"queue",n=d._data(b,a),c&&(!n||d.isArray(c)?n=d._data(b,a,d.makeArray(c)):n.push(c)),n||[]},dequeue:function(b,a){a=a||"fx";var c=d.queue(b,a),n=c.length,q=c.shift(),k=d._queueHooks(b,a),e=function(){d.dequeue(b,a)};"inprogress"===q&&(q=c.shift(),n--);if(k.cur=q)"fx"===a&&c.unshift("inprogress"),delete k.stop,q.call(b,
e,k);!n&&k&&k.empty.fire()},_queueHooks:function(b,a){var c=a+"queueHooks";return d._data(b,c)||d._data(b,c,{empty:d.Callbacks("once memory").add(function(){d._removeData(b,a+"queue");d._removeData(b,c)})})}});d.fn.extend({queue:function(b,a){var r=2;"string"!==typeof b&&(a=b,b="fx",r--);return arguments.length<r?d.queue(this[0],b):a===c?this:this.each(function(){var c=d.queue(this,b,a);d._queueHooks(this,b);"fx"===b&&"inprogress"!==c[0]&&d.dequeue(this,b)})},dequeue:function(b){return this.each(function(){d.dequeue(this,
b)})},delay:function(b,a){b=d.fx?d.fx.speeds[b]||b:b;return this.queue(a||"fx",function(a,g){var d=setTimeout(a,b);g.stop=function(){clearTimeout(d)}})},clearQueue:function(b){return this.queue(b||"fx",[])},promise:function(b,a){var r,n=1,q=d.Deferred(),k=this,e=this.length,f=function(){--n||q.resolveWith(k,[k])};"string"!==typeof b&&(a=b,b=c);for(b=b||"fx";e--;)(r=d._data(k[e],b+"queueHooks"))&&r.empty&&(n++,r.empty.add(f));f();return q.promise(a)}});var za,fb,Pa=/[\t\r\n]/g,Mb=/\r/g,Nb=/^(?:input|select|textarea|button|object)$/i,
Ob=/^(?:a|area)$/i,gb=/^(?:checked|selected|autofocus|autoplay|async|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped)$/i,Qa=/^(?:checked|selected)$/i,sa=d.support.getSetAttribute,Ra=d.support.input;d.fn.extend({attr:function(b,a){return d.access(this,d.attr,b,a,1<arguments.length)},removeAttr:function(b){return this.each(function(){d.removeAttr(this,b)})},prop:function(b,a){return d.access(this,d.prop,b,a,1<arguments.length)},removeProp:function(b){b=d.propFix[b]||b;return this.each(function(){try{this[b]=
c,delete this[b]}catch(a){}})},addClass:function(b){var a,c,n,q,k,e=0,f=this.length;a="string"===typeof b&&b;if(d.isFunction(b))return this.each(function(a){d(this).addClass(b.call(this,a,this.className))});if(a)for(a=(b||"").match($)||[];e<f;e++)if(c=this[e],n=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(Pa," "):" ")){for(k=0;q=a[k++];)0>n.indexOf(" "+q+" ")&&(n+=q+" ");c.className=d.trim(n)}return this},removeClass:function(b){var a,c,n,q,k,e=0,f=this.length;a=0===arguments.length||
"string"===typeof b&&b;if(d.isFunction(b))return this.each(function(a){d(this).removeClass(b.call(this,a,this.className))});if(a)for(a=(b||"").match($)||[];e<f;e++)if(c=this[e],n=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(Pa," "):"")){for(k=0;q=a[k++];)for(;0<=n.indexOf(" "+q+" ");)n=n.replace(" "+q+" "," ");c.className=b?d.trim(n):""}return this},toggleClass:function(b,a){var c=typeof b,n="boolean"===typeof a;return d.isFunction(b)?this.each(function(c){d(this).toggleClass(b.call(this,
c,this.className,a),a)}):this.each(function(){if("string"===c)for(var q,k=0,e=d(this),f=a,l=b.match($)||[];q=l[k++];)f=n?f:!e.hasClass(q),e[f?"addClass":"removeClass"](q);else if(c===h||"boolean"===c)this.className&&d._data(this,"__className__",this.className),this.className=this.className||!1===b?"":d._data(this,"__className__")||""})},hasClass:function(b){b=" "+b+" ";for(var a=0,d=this.length;a<d;a++)if(1===this[a].nodeType&&0<=(" "+this[a].className+" ").replace(Pa," ").indexOf(b))return!0;return!1},
val:function(b){var a,r,n,q=this[0];if(arguments.length)return n=d.isFunction(b),this.each(function(a){var g=d(this);1===this.nodeType&&(a=n?b.call(this,a,g.val()):b,null==a?a="":"number"===typeof a?a+="":d.isArray(a)&&(a=d.map(a,function(b){return null==b?"":b+""})),r=d.valHooks[this.type]||d.valHooks[this.nodeName.toLowerCase()],r&&"set"in r&&r.set(this,a,"value")!==c||(this.value=a))});if(q){if((r=d.valHooks[q.type]||d.valHooks[q.nodeName.toLowerCase()])&&"get"in r&&(a=r.get(q,"value"))!==c)return a;
a=q.value;return"string"===typeof a?a.replace(Mb,""):null==a?"":a}}});d.extend({valHooks:{option:{get:function(b){var a=b.attributes.value;return!a||a.specified?b.value:b.text}},select:{get:function(b){for(var a,c=b.options,n=b.selectedIndex,q=(b="select-one"===b.type||0>n)?null:[],k=b?n+1:c.length,e=0>n?k:b?n:0;e<k;e++)if(a=c[e],!(!a.selected&&e!==n||(d.support.optDisabled?a.disabled:null!==a.getAttribute("disabled"))||a.parentNode.disabled&&d.nodeName(a.parentNode,"optgroup"))){a=d(a).val();if(b)return a;
q.push(a)}return q},set:function(b,a){var c=d.makeArray(a);d(b).find("option").each(function(){this.selected=0<=d.inArray(d(this).val(),c)});c.length||(b.selectedIndex=-1);return c}}},attr:function(b,a,r){var n,q,k;q=b.nodeType;if(b&&3!==q&&8!==q&&2!==q){if(typeof b.getAttribute===h)return d.prop(b,a,r);if(q=1!==q||!d.isXMLDoc(b))a=a.toLowerCase(),n=d.attrHooks[a]||(gb.test(a)?fb:za);if(r!==c)if(null===r)d.removeAttr(b,a);else{if(n&&q&&"set"in n&&(k=n.set(b,r,a))!==c)return k;b.setAttribute(a,r+"");
return r}else{if(n&&q&&"get"in n&&null!==(k=n.get(b,a)))return k;typeof b.getAttribute!==h&&(k=b.getAttribute(a));return null==k?c:k}}},removeAttr:function(b,a){var c,n,q=0,k=a&&a.match($);if(k&&1===b.nodeType)for(;c=k[q++];)n=d.propFix[c]||c,gb.test(c)?!sa&&Qa.test(c)?b[d.camelCase("default-"+c)]=b[n]=!1:b[n]=!1:d.attr(b,c,""),b.removeAttribute(sa?c:n)},attrHooks:{type:{set:function(b,a){if(!d.support.radioValue&&"radio"===a&&d.nodeName(b,"input")){var c=b.value;b.setAttribute("type",a);c&&(b.value=
c);return a}}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(b,a,r){var n,q,k;k=b.nodeType;if(b&&3!==k&&8!==k&&2!==k){if(k=1!==k||!d.isXMLDoc(b))a=d.propFix[a]||a,q=d.propHooks[a];return r!==c?q&&"set"in q&&(n=q.set(b,r,a))!==c?n:b[a]=r:q&&"get"in q&&null!==(n=
q.get(b,a))?n:b[a]}},propHooks:{tabIndex:{get:function(b){var a=b.getAttributeNode("tabindex");return a&&a.specified?parseInt(a.value,10):Nb.test(b.nodeName)||Ob.test(b.nodeName)&&b.href?0:c}}}});fb={get:function(b,a){var r=d.prop(b,a),n="boolean"===typeof r&&b.getAttribute(a);return(r="boolean"===typeof r?Ra&&sa?null!=n:Qa.test(a)?b[d.camelCase("default-"+a)]:!!n:b.getAttributeNode(a))&&!1!==r.value?a.toLowerCase():c},set:function(b,a,c){!1===a?d.removeAttr(b,c):Ra&&sa||!Qa.test(c)?b.setAttribute(!sa&&
d.propFix[c]||c,c):b[d.camelCase("default-"+c)]=b[c]=!0;return c}};Ra&&sa||(d.attrHooks.value={get:function(b,a){var r=b.getAttributeNode(a);return d.nodeName(b,"input")?b.defaultValue:r&&r.specified?r.value:c},set:function(b,a,c){if(d.nodeName(b,"input"))b.defaultValue=a;else return za&&za.set(b,a,c)}});sa||(za=d.valHooks.button={get:function(b,a){var d=b.getAttributeNode(a);return d&&("id"===a||"name"===a||"coords"===a?""!==d.value:d.specified)?d.value:c},set:function(b,a,d){var n=b.getAttributeNode(d);
n||b.setAttributeNode(n=b.ownerDocument.createAttribute(d));n.value=a+="";return"value"===d||a===b.getAttribute(d)?a:c}},d.attrHooks.contenteditable={get:za.get,set:function(b,a,d){za.set(b,""===a?!1:a,d)}},d.each(["width","height"],function(b,a){d.attrHooks[a]=d.extend(d.attrHooks[a],{set:function(b,d){if(""===d)return b.setAttribute(a,"auto"),d}})}));d.support.hrefNormalized||(d.each(["href","src","width","height"],function(b,a){d.attrHooks[a]=d.extend(d.attrHooks[a],{get:function(b){b=b.getAttribute(a,
2);return null==b?c:b}})}),d.each(["href","src"],function(b,a){d.propHooks[a]={get:function(b){return b.getAttribute(a,4)}}}));d.support.style||(d.attrHooks.style={get:function(b){return b.style.cssText||c},set:function(b,a){return b.style.cssText=a+""}});d.support.optSelected||(d.propHooks.selected=d.extend(d.propHooks.selected,{get:function(b){if(b=b.parentNode)b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex;return null}}));d.support.enctype||(d.propFix.enctype="encoding");d.support.checkOn||
d.each(["radio","checkbox"],function(){d.valHooks[this]={get:function(b){return null===b.getAttribute("value")?"on":b.value}}});d.each(["radio","checkbox"],function(){d.valHooks[this]=d.extend(d.valHooks[this],{set:function(b,a){if(d.isArray(a))return b.checked=0<=d.inArray(d(b).val(),a)}})});var Sa=/^(?:input|select|textarea)$/i,Pb=/^key/,Qb=/^(?:mouse|contextmenu)|click/,hb=/^(?:focusinfocus|focusoutblur)$/,ib=/^([^.]*)(?:\.(.+)|)$/;d.event={global:{},add:function(b,a,r,n,q){var k,e,f,l,z,m,s,p,
x;if(f=d._data(b)){r.handler&&(l=r,r=l.handler,q=l.selector);r.guid||(r.guid=d.guid++);(e=f.events)||(e=f.events={});(z=f.handle)||(z=f.handle=function(b){return typeof d===h||b&&d.event.triggered===b.type?c:d.event.dispatch.apply(z.elem,arguments)},z.elem=b);a=(a||"").match($)||[""];for(f=a.length;f--;)k=ib.exec(a[f])||[],p=m=k[1],x=(k[2]||"").split(".").sort(),k=d.event.special[p]||{},p=(q?k.delegateType:k.bindType)||p,k=d.event.special[p]||{},m=d.extend({type:p,origType:m,data:n,handler:r,guid:r.guid,
selector:q,needsContext:q&&d.expr.match.needsContext.test(q),namespace:x.join(".")},l),(s=e[p])||(s=e[p]=[],s.delegateCount=0,k.setup&&!1!==k.setup.call(b,n,x,z)||(b.addEventListener?b.addEventListener(p,z,!1):b.attachEvent&&b.attachEvent("on"+p,z))),k.add&&(k.add.call(b,m),m.handler.guid||(m.handler.guid=r.guid)),q?s.splice(s.delegateCount++,0,m):s.push(m),d.event.global[p]=!0;b=null}},remove:function(b,a,c,n,q){var k,e,f,h,l,z,m,s,p,x,Y,t=d.hasData(b)&&d._data(b);if(t&&(z=t.events)){a=(a||"").match($)||
[""];for(l=a.length;l--;)if(f=ib.exec(a[l])||[],p=Y=f[1],x=(f[2]||"").split(".").sort(),p){m=d.event.special[p]||{};p=(n?m.delegateType:m.bindType)||p;s=z[p]||[];f=f[2]&&new RegExp("(^|\\.)"+x.join("\\.(?:.*\\.|)")+"(\\.|$)");for(h=k=s.length;k--;)e=s[k],!q&&Y!==e.origType||c&&c.guid!==e.guid||f&&!f.test(e.namespace)||n&&n!==e.selector&&("**"!==n||!e.selector)||(s.splice(k,1),e.selector&&s.delegateCount--,m.remove&&m.remove.call(b,e));h&&!s.length&&(m.teardown&&!1!==m.teardown.call(b,x,t.handle)||
d.removeEvent(b,p,t.handle),delete z[p])}else for(p in z)d.event.remove(b,p+a[l],c,n,!0);d.isEmptyObject(z)&&(delete t.handle,d._removeData(b,"events"))}},trigger:function(b,g,r,n){var q,k,e,f,h,l,z=[r||C],m=Z.call(b,"type")?b.type:b;h=Z.call(b,"namespace")?b.namespace.split("."):[];e=q=r=r||C;if(3!==r.nodeType&&8!==r.nodeType&&!hb.test(m+d.event.triggered)&&(0<=m.indexOf(".")&&(h=m.split("."),m=h.shift(),h.sort()),k=0>m.indexOf(":")&&"on"+m,b=b[d.expando]?b:new d.Event(m,"object"===typeof b&&b),
b.isTrigger=!0,b.namespace=h.join("."),b.namespace_re=b.namespace?new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=c,b.target||(b.target=r),g=null==g?[b]:d.makeArray(g,[b]),h=d.event.special[m]||{},n||!h.trigger||!1!==h.trigger.apply(r,g))){if(!n&&!h.noBubble&&!d.isWindow(r)){f=h.delegateType||m;hb.test(f+m)||(e=e.parentNode);for(;e;e=e.parentNode)z.push(e),q=e;q===(r.ownerDocument||C)&&z.push(q.defaultView||q.parentWindow||a)}for(l=0;(e=z[l++])&&!b.isPropagationStopped();)b.type=
1<l?f:h.bindType||m,(q=(d._data(e,"events")||{})[b.type]&&d._data(e,"handle"))&&q.apply(e,g),(q=k&&e[k])&&d.acceptData(e)&&q.apply&&!1===q.apply(e,g)&&b.preventDefault();b.type=m;if(!(n||b.isDefaultPrevented()||h._default&&!1!==h._default.apply(r.ownerDocument,g)||"click"===m&&d.nodeName(r,"a"))&&d.acceptData(r)&&k&&r[m]&&!d.isWindow(r)){(q=r[k])&&(r[k]=null);d.event.triggered=m;try{r[m]()}catch(s){}d.event.triggered=c;q&&(r[k]=q)}return b.result}},dispatch:function(b){b=d.event.fix(b);var a,r,n,
q,e=[],f=Y.call(arguments);a=(d._data(this,"events")||{})[b.type]||[];var h=d.event.special[b.type]||{};f[0]=b;b.delegateTarget=this;if(!h.preDispatch||!1!==h.preDispatch.call(this,b)){e=d.event.handlers.call(this,b,a);for(a=0;(n=e[a++])&&!b.isPropagationStopped();)for(b.currentTarget=n.elem,q=0;(r=n.handlers[q++])&&!b.isImmediatePropagationStopped();)if(!b.namespace_re||b.namespace_re.test(r.namespace))b.handleObj=r,b.data=r.data,r=((d.event.special[r.origType]||{}).handle||r.handler).apply(n.elem,
f),r!==c&&!1===(b.result=r)&&(b.preventDefault(),b.stopPropagation());h.postDispatch&&h.postDispatch.call(this,b);return b.result}},handlers:function(b,a){var r,n,q,e,f=[],h=a.delegateCount,l=b.target;if(h&&l.nodeType&&(!b.button||"click"!==b.type))for(;l!=this;l=l.parentNode||this)if(1===l.nodeType&&(!0!==l.disabled||"click"!==b.type)){q=[];for(e=0;e<h;e++)n=a[e],r=n.selector+" ",q[r]===c&&(q[r]=n.needsContext?0<=d(r,this).index(l):d.find(r,this,null,[l]).length),q[r]&&q.push(n);q.length&&f.push({elem:l,
handlers:q})}h<a.length&&f.push({elem:this,handlers:a.slice(h)});return f},fix:function(b){if(b[d.expando])return b;var a,c,n;a=b.type;var q=b,e=this.fixHooks[a];e||(this.fixHooks[a]=e=Qb.test(a)?this.mouseHooks:Pb.test(a)?this.keyHooks:{});n=e.props?this.props.concat(e.props):this.props;b=new d.Event(q);for(a=n.length;a--;)c=n[a],b[c]=q[c];b.target||(b.target=q.srcElement||C);3===b.target.nodeType&&(b.target=b.target.parentNode);b.metaKey=!!b.metaKey;return e.filter?e.filter(b,q):b},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),
fixHooks:{},keyHooks:{props:["char","charCode","key","keyCode"],filter:function(b,a){null==b.which&&(b.which=null!=a.charCode?a.charCode:a.keyCode);return b}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(b,a){var d,n,q=a.button,e=a.fromElement;null==b.pageX&&null!=a.clientX&&(d=b.target.ownerDocument||C,n=d.documentElement,d=d.body,b.pageX=a.clientX+(n&&n.scrollLeft||d&&d.scrollLeft||0)-(n&&n.clientLeft||
d&&d.clientLeft||0),b.pageY=a.clientY+(n&&n.scrollTop||d&&d.scrollTop||0)-(n&&n.clientTop||d&&d.clientTop||0));!b.relatedTarget&&e&&(b.relatedTarget=e===b.target?a.toElement:e);b.which||q===c||(b.which=q&1?1:q&2?3:q&4?2:0);return b}},special:{load:{noBubble:!0},click:{trigger:function(){if(d.nodeName(this,"input")&&"checkbox"===this.type&&this.click)return this.click(),!1}},focus:{trigger:function(){if(this!==C.activeElement&&this.focus)try{return this.focus(),!1}catch(b){}},delegateType:"focusin"},
blur:{trigger:function(){if(this===C.activeElement&&this.blur)return this.blur(),!1},delegateType:"focusout"},beforeunload:{postDispatch:function(b){b.result!==c&&(b.originalEvent.returnValue=b.result)}}},simulate:function(b,a,c,n){b=d.extend(new d.Event,c,{type:b,isSimulated:!0,originalEvent:{}});n?d.event.trigger(b,null,a):d.event.dispatch.call(a,b);b.isDefaultPrevented()&&c.preventDefault()}};d.removeEvent=C.removeEventListener?function(b,a,d){b.removeEventListener&&b.removeEventListener(a,d,!1)}:
function(b,a,d){a="on"+a;b.detachEvent&&(typeof b[a]===h&&(b[a]=null),b.detachEvent(a,d))};d.Event=function(b,a){if(!(this instanceof d.Event))return new d.Event(b,a);b&&b.type?(this.originalEvent=b,this.type=b.type,this.isDefaultPrevented=b.defaultPrevented||!1===b.returnValue||b.getPreventDefault&&b.getPreventDefault()?t:v):this.type=b;a&&d.extend(this,a);this.timeStamp=b&&b.timeStamp||d.now();this[d.expando]=!0};d.Event.prototype={isDefaultPrevented:v,isPropagationStopped:v,isImmediatePropagationStopped:v,
preventDefault:function(){var b=this.originalEvent;this.isDefaultPrevented=t;b&&(b.preventDefault?b.preventDefault():b.returnValue=!1)},stopPropagation:function(){var b=this.originalEvent;this.isPropagationStopped=t;b&&(b.stopPropagation&&b.stopPropagation(),b.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=t;this.stopPropagation()}};d.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(b,a){d.event.special[b]={delegateType:a,bindType:a,handle:function(b){var c,
e=b.relatedTarget,k=b.handleObj;if(!e||e!==this&&!d.contains(this,e))b.type=k.origType,c=k.handler.apply(this,arguments),b.type=a;return c}}});d.support.submitBubbles||(d.event.special.submit={setup:function(){if(d.nodeName(this,"form"))return!1;d.event.add(this,"click._submit keypress._submit",function(b){b=b.target;(b=d.nodeName(b,"input")||d.nodeName(b,"button")?b.form:c)&&!d._data(b,"submitBubbles")&&(d.event.add(b,"submit._submit",function(b){b._submit_bubble=!0}),d._data(b,"submitBubbles",!0))})},
postDispatch:function(b){b._submit_bubble&&(delete b._submit_bubble,this.parentNode&&!b.isTrigger&&d.event.simulate("submit",this.parentNode,b,!0))},teardown:function(){if(d.nodeName(this,"form"))return!1;d.event.remove(this,"._submit")}});d.support.changeBubbles||(d.event.special.change={setup:function(){if(Sa.test(this.nodeName)){if("checkbox"===this.type||"radio"===this.type)d.event.add(this,"propertychange._change",function(b){"checked"===b.originalEvent.propertyName&&(this._just_changed=!0)}),
d.event.add(this,"click._change",function(b){this._just_changed&&!b.isTrigger&&(this._just_changed=!1);d.event.simulate("change",this,b,!0)});return!1}d.event.add(this,"beforeactivate._change",function(b){b=b.target;Sa.test(b.nodeName)&&!d._data(b,"changeBubbles")&&(d.event.add(b,"change._change",function(b){!this.parentNode||b.isSimulated||b.isTrigger||d.event.simulate("change",this.parentNode,b,!0)}),d._data(b,"changeBubbles",!0))})},handle:function(b){var a=b.target;if(this!==a||b.isSimulated||
b.isTrigger||"radio"!==a.type&&"checkbox"!==a.type)return b.handleObj.handler.apply(this,arguments)},teardown:function(){d.event.remove(this,"._change");return!Sa.test(this.nodeName)}});d.support.focusinBubbles||d.each({focus:"focusin",blur:"focusout"},function(b,a){var c=0,n=function(b){d.event.simulate(a,b.target,d.event.fix(b),!0)};d.event.special[a]={setup:function(){0===c++&&C.addEventListener(b,n,!0)},teardown:function(){0===--c&&C.removeEventListener(b,n,!0)}}});d.fn.extend({on:function(b,
a,r,n,e){var k,f;if("object"===typeof b){"string"!==typeof a&&(r=r||a,a=c);for(k in b)this.on(k,a,r,b[k],e);return this}null==r&&null==n?(n=a,r=a=c):null==n&&("string"===typeof a?(n=r,r=c):(n=r,r=a,a=c));if(!1===n)n=v;else if(!n)return this;1===e&&(f=n,n=function(b){d().off(b);return f.apply(this,arguments)},n.guid=f.guid||(f.guid=d.guid++));return this.each(function(){d.event.add(this,b,n,r,a)})},one:function(b,a,d,c){return this.on(b,a,d,c,1)},off:function(b,a,r){var n;if(b&&b.preventDefault&&b.handleObj)return n=
b.handleObj,d(b.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"===typeof b){for(n in b)this.off(n,a,b[n]);return this}if(!1===a||"function"===typeof a)r=a,a=c;!1===r&&(r=v);return this.each(function(){d.event.remove(this,b,r,a)})},bind:function(b,a,d){return this.on(b,null,a,d)},unbind:function(b,a){return this.off(b,null,a)},delegate:function(b,a,d,c){return this.on(a,b,d,c)},undelegate:function(b,a,d){return 1===arguments.length?this.off(b,
"**"):this.off(a,b||"**",d)},trigger:function(b,a){return this.each(function(){d.event.trigger(b,a,this)})},triggerHandler:function(b,a){var c=this[0];if(c)return d.event.trigger(b,a,c,!0)}});(function(b,a){function c(b){return oa.test(b+"")}function n(){var b,a=[];return b=function(d,c){a.push(d+=" ")>O.cacheLength&&delete b[a.shift()];return b[d]=c}}function e(b){b[W]=!0;return b}function f(b){var a=A.createElement("div");try{return b(a)}catch(d){return!1}finally{}}function h(b,a,d,c){var g,r,e,
n,q;(a?a.ownerDocument||a:P)!==A&&I(a);a=a||A;d=d||[];if(!b||"string"!==typeof b)return d;if(1!==(n=a.nodeType)&&9!==n)return[];if(!G&&!c){if(g=pa.exec(b))if(e=g[1])if(9===n)if((r=a.getElementById(e))&&r.parentNode){if(r.id===e)return d.push(r),d}else return d;else{if(a.ownerDocument&&(r=a.ownerDocument.getElementById(e))&&M(a,r)&&r.id===e)return d.push(r),d}else{if(g[2])return aa.apply(d,ba.call(a.getElementsByTagName(b),0)),d;if((e=g[3])&&N.getByClassName&&a.getElementsByClassName)return aa.apply(d,
ba.call(a.getElementsByClassName(e),0)),d}if(N.qsa&&!H.test(b)){g=!0;r=W;e=a;q=9===n&&b;if(1===n&&"object"!==a.nodeName.toLowerCase()){n=p(b);(g=a.getAttribute("id"))?r=g.replace(sa,"\\$&"):a.setAttribute("id",r);r="[id='"+r+"'] ";for(e=n.length;e--;)n[e]=r+x(n[e]);e=ia.test(b)&&a.parentNode||a;q=n.join(",")}if(q)try{return aa.apply(d,ba.call(e.querySelectorAll(q),0)),d}catch(f){}finally{g||a.removeAttribute("id")}}}var k;a:{b=b.replace(ya,"$1");r=p(b);if(!c&&1===r.length){g=r[0]=r[0].slice(0);if(2<
g.length&&"ID"===(k=g[0]).type&&9===a.nodeType&&!G&&O.relative[g[1].type]){a=O.find.ID(k.matches[0].replace(va,wa),a)[0];if(!a){k=d;break a}b=b.slice(g.shift().value.length)}for(n=ga.needsContext.test(b)?0:g.length;n--;){k=g[n];if(O.relative[e=k.type])break;if(e=O.find[e])if(c=e(k.matches[0].replace(va,wa),ia.test(g[0].type)&&a.parentNode||a)){g.splice(n,1);b=c.length&&x(g);if(!b){aa.apply(d,ba.call(c,0));k=d;break a}break}}}E(b,r)(c,a,G,d,ia.test(b));k=d}return k}function l(b,a){var d=a&&b,c=d&&
(~a.sourceIndex||-2147483648)-(~b.sourceIndex||-2147483648);if(c)return c;if(d)for(;d=d.nextSibling;)if(d===a)return-1;return b?1:-1}function z(b){return function(a){return"input"===a.nodeName.toLowerCase()&&a.type===b}}function m(b){return function(a){var d=a.nodeName.toLowerCase();return("input"===d||"button"===d)&&a.type===b}}function s(b){return e(function(a){a=+a;return e(function(d,c){for(var g,r=b([],d.length,a),e=r.length;e--;)d[g=r[e]]&&(d[g]=!(c[g]=d[g]))})})}function p(b,a){var d,c,g,r,
e,n,q;if(e=U[b+" "])return a?0:e.slice(0);e=b;n=[];for(q=O.preFilter;e;){if(!d||(c=ja.exec(e)))c&&(e=e.slice(c[0].length)||e),n.push(g=[]);d=!1;if(c=ka.exec(e))d=c.shift(),g.push({value:d,type:c[0].replace(ya," ")}),e=e.slice(d.length);for(r in O.filter)!(c=ga[r].exec(e))||q[r]&&!(c=q[r](c))||(d=c.shift(),g.push({value:d,type:r,matches:c}),e=e.slice(d.length));if(!d)break}return a?e.length:e?h.error(b):U(b,n).slice(0)}function x(b){for(var a=0,d=b.length,c="";a<d;a++)c+=b[a].value;return c}function t(b,
a,d){var c=a.dir,g=d&&"parentNode"===c,e=T++;return a.first?function(a,d,e){for(;a=a[c];)if(1===a.nodeType||g)return b(a,d,e)}:function(a,d,r){var n,q,f,k=Q+" "+e;if(r)for(;a=a[c];){if((1===a.nodeType||g)&&b(a,d,r))return!0}else for(;a=a[c];)if(1===a.nodeType||g)if(f=a[W]||(a[W]={}),(q=f[c])&&q[0]===k){if(!0===(n=q[1])||n===u)return!0===n}else if(q=f[c]=[k],q[1]=b(a,d,r)||u,!0===q[1])return!0}}function Y(b){return 1<b.length?function(a,d,c){for(var g=b.length;g--;)if(!b[g](a,d,c))return!1;return!0}:
b[0]}function K(b,a,d,c,g){for(var e,r=[],n=0,q=b.length,f=null!=a;n<q;n++)if(e=b[n])if(!d||d(e,c,g))r.push(e),f&&a.push(n);return r}function w(b,a,d,c,g,r){c&&!c[W]&&(c=w(c));g&&!g[W]&&(g=w(g,r));return e(function(e,r,n,q){var f,k,l=[],z=[],m=r.length,s;if(!(s=e)){s=a||"*";for(var p=n.nodeType?[n]:n,x=[],R=0,t=p.length;R<t;R++)h(s,p[R],x);s=x}s=!b||!e&&a?s:K(s,l,b,n,q);p=d?g||(e?b:m||c)?[]:r:s;d&&d(s,p,n,q);if(c)for(f=K(p,z),c(f,[],n,q),n=f.length;n--;)if(k=f[n])p[z[n]]=!(s[z[n]]=k);if(e){if(g||
b){if(g){f=[];for(n=p.length;n--;)(k=p[n])&&f.push(s[n]=k);g(null,p=[],f,q)}for(n=p.length;n--;)(k=p[n])&&-1<(f=g?Da.call(e,k):l[n])&&(e[f]=!(r[f]=k))}}else p=K(p===r?p.splice(m,p.length):p),g?g(null,r,p,q):aa.apply(r,p)})}function v(b){var a,d,c,g=b.length,e=O.relative[b[0].type];d=e||O.relative[" "];for(var r=e?1:0,n=t(function(b){return b===a},d,!0),q=t(function(b){return-1<Da.call(a,b)},d,!0),f=[function(b,d,c){return!e&&(c||d!==la)||((a=d).nodeType?n(b,d,c):q(b,d,c))}];r<g;r++)if(d=O.relative[b[r].type])f=
[t(Y(f),d)];else{d=O.filter[b[r].type].apply(null,b[r].matches);if(d[W]){for(c=++r;c<g&&!O.relative[b[c].type];c++);return w(1<r&&Y(f),1<r&&x(b.slice(0,r-1)).replace(ya,"$1"),d,r<c&&v(b.slice(r,c)),c<g&&v(b=b.slice(c)),c<g&&x(b))}f.push(d)}return Y(f)}function ca(b,a){var d=0,c=0<a.length,g=0<b.length,r=function(r,e,n,q,f){var k,l,z=[],m=0,s="0",p=r&&[],x=null!=f,R=la,t=r||g&&O.find.TAG("*",f&&e.parentNode||e),Y=Q+=null==R?1:Math.random()||.1;x&&(la=e!==A&&e,u=d);for(;null!=(f=t[s]);s++){if(g&&f){for(k=
0;l=b[k++];)if(l(f,e,n)){q.push(f);break}x&&(Q=Y,u=++d)}c&&((f=!l&&f)&&m--,r&&p.push(f))}m+=s;if(c&&s!==m){for(k=0;l=a[k++];)l(p,z,e,n);if(r){if(0<m)for(;s--;)p[s]||z[s]||(z[s]=da.call(q));z=K(z)}aa.apply(q,z);x&&!r&&0<z.length&&1<m+a.length&&h.uniqueSort(q)}x&&(Q=Y,la=R);return p};return c?e(r):r}function Z(){}var y,u,O,D,B,E,ha,la,I,A,C,G,H,J,L,M,ua,W="sizzle"+-new Date,P=b.document,N={},Q=0,T=0,S=n(),U=n(),X=n(),$=typeof a,V=[],da=V.pop,aa=V.push,ba=V.slice,Da=V.indexOf||function(b){for(var a=
0,d=this.length;a<d;a++)if(this[a]===b)return a;return-1},V="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+".replace("w","w#"),fa="\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)[\\x20\\t\\r\\n\\f]*(?:([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+V+")|)|)[\\x20\\t\\r\\n\\f]*\\]",ea=":((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+fa.replace(3,8)+")*)|.*)\\)|)",ya=/^[\x20\t\r\n\f]+|((?:^|[^\\])(?:\\.)*)[\x20\t\r\n\f]+$/g,ja=/^[\x20\t\r\n\f]*,[\x20\t\r\n\f]*/,
ka=/^[\x20\t\r\n\f]*([\x20\t\r\n\f>+~])[\x20\t\r\n\f]*/,ma=new RegExp(ea),na=new RegExp("^"+V+"$"),ga={ID:/^#((?:\\.|[\w-]|[^\x00-\xa0])+)/,CLASS:/^\.((?:\\.|[\w-]|[^\x00-\xa0])+)/,NAME:/^\[name=['"]?((?:\\.|[\w-]|[^\x00-\xa0])+)['"]?\]/,TAG:new RegExp("^("+"(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+".replace("w","w*")+")"),ATTR:new RegExp("^"+fa),PSEUDO:new RegExp("^"+ea),CHILD:/^:(only|first|last|nth|nth-last)-(child|of-type)(?:\([\x20\t\r\n\f]*(even|odd|(([+-]|)(\d*)n|)[\x20\t\r\n\f]*(?:([+-]|)[\x20\t\r\n\f]*(\d+)|))[\x20\t\r\n\f]*\)|)/i,
needsContext:/^[\x20\t\r\n\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\([\x20\t\r\n\f]*((?:-\d)?\d*)[\x20\t\r\n\f]*\)|)(?=[^-]|$)/i},ia=/[\x20\t\r\n\f]*[+~]/,oa=/^[^{]+\{\s*\[native code/,pa=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,qa=/^(?:input|select|textarea|button)$/i,ra=/^h\d$/i,sa=/'|\\/g,ta=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,va=/\\([\da-fA-F]{1,6}[\x20\t\r\n\f]?|.)/g,wa=function(b,a){var d="0x"+a-65536;return d!==d?a:0>d?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,
d&1023|56320)};try{ba.call(P.documentElement.childNodes,0)[0].nodeType}catch(xa){ba=function(b){for(var a,d=[];a=this[b++];)d.push(a);return d}}B=h.isXML=function(b){return(b=b&&(b.ownerDocument||b).documentElement)?"HTML"!==b.nodeName:!1};I=h.setDocument=function(b){var d=b?b.ownerDocument||b:P;if(d===A||9!==d.nodeType||!d.documentElement)return A;A=d;C=d.documentElement;G=B(d);N.tagNameNoComments=f(function(b){b.appendChild(d.createComment(""));return!b.getElementsByTagName("*").length});N.attributes=
f(function(b){b.innerHTML="<select></select>";b=typeof b.lastChild.getAttribute("multiple");return"boolean"!==b&&"string"!==b});N.getByClassName=f(function(b){b.innerHTML="<div class='hidden e'></div><div class='hidden'></div>";if(!b.getElementsByClassName||!b.getElementsByClassName("e").length)return!1;b.lastChild.className="e";return 2===b.getElementsByClassName("e").length});N.getByName=f(function(b){b.id=W+0;b.innerHTML="<a name='"+W+"'></a><div name='"+W+"'></div>";C.insertBefore(b,C.firstChild);
var a=d.getElementsByName&&d.getElementsByName(W).length===2+d.getElementsByName(W+0).length;N.getIdNotName=!d.getElementById(W);C.removeChild(b);return a});O.attrHandle=f(function(b){b.innerHTML="<a href='#'></a>";return b.firstChild&&typeof b.firstChild.getAttribute!==$&&"#"===b.firstChild.getAttribute("href")})?{}:{href:function(b){return b.getAttribute("href",2)},type:function(b){return b.getAttribute("type")}};N.getIdNotName?(O.find.ID=function(b,a){if(typeof a.getElementById!==$&&!G){var d=
a.getElementById(b);return d&&d.parentNode?[d]:[]}},O.filter.ID=function(b){var a=b.replace(va,wa);return function(b){return b.getAttribute("id")===a}}):(O.find.ID=function(b,d){if(typeof d.getElementById!==$&&!G){var c=d.getElementById(b);return c?c.id===b||typeof c.getAttributeNode!==$&&c.getAttributeNode("id").value===b?[c]:a:[]}},O.filter.ID=function(b){var a=b.replace(va,wa);return function(b){return(b=typeof b.getAttributeNode!==$&&b.getAttributeNode("id"))&&b.value===a}});O.find.TAG=N.tagNameNoComments?
function(b,a){if(typeof a.getElementsByTagName!==$)return a.getElementsByTagName(b)}:function(b,a){var d,c=[],g=0,r=a.getElementsByTagName(b);if("*"===b){for(;d=r[g++];)1===d.nodeType&&c.push(d);return c}return r};O.find.NAME=N.getByName&&function(b,a){if(typeof a.getElementsByName!==$)return a.getElementsByName(name)};O.find.CLASS=N.getByClassName&&function(b,a){if(typeof a.getElementsByClassName!==$&&!G)return a.getElementsByClassName(b)};J=[];H=[":focus"];if(N.qsa=c(d.querySelectorAll))f(function(b){b.innerHTML=
"<select><option selected=''></option></select>";b.querySelectorAll("[selected]").length||H.push("\\[[\\x20\\t\\r\\n\\f]*(?:checked|disabled|ismap|multiple|readonly|selected|value)");b.querySelectorAll(":checked").length||H.push(":checked")}),f(function(b){b.innerHTML="<input type='hidden' i=''/>";b.querySelectorAll("[i^='']").length&&H.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:\"\"|'')");b.querySelectorAll(":enabled").length||H.push(":enabled",":disabled");b.querySelectorAll("*,:x");H.push(",.*:")});(N.matchesSelector=
c(L=C.matchesSelector||C.mozMatchesSelector||C.webkitMatchesSelector||C.oMatchesSelector||C.msMatchesSelector))&&f(function(b){N.disconnectedMatch=L.call(b,"div");L.call(b,"[s!='']:x");J.push("!=",ea)});H=new RegExp(H.join("|"));J=new RegExp(J.join("|"));M=c(C.contains)||C.compareDocumentPosition?function(b,a){var d=9===b.nodeType?b.documentElement:b,c=a&&a.parentNode;return b===c||!!(c&&1===c.nodeType&&(d.contains?d.contains(c):b.compareDocumentPosition&&b.compareDocumentPosition(c)&16))}:function(b,
a){if(a)for(;a=a.parentNode;)if(a===b)return!0;return!1};ua=C.compareDocumentPosition?function(b,a){var c;return b===a?(ha=!0,0):(c=a.compareDocumentPosition&&b.compareDocumentPosition&&b.compareDocumentPosition(a))?c&1||b.parentNode&&11===b.parentNode.nodeType?b===d||M(P,b)?-1:a===d||M(P,a)?1:0:c&4?-1:1:b.compareDocumentPosition?-1:1}:function(b,a){var c,g=0;c=b.parentNode;var r=a.parentNode,e=[b],n=[a];if(b===a)return ha=!0,0;if(!c||!r)return b===d?-1:a===d?1:c?-1:r?1:0;if(c===r)return l(b,a);for(c=
b;c=c.parentNode;)e.unshift(c);for(c=a;c=c.parentNode;)n.unshift(c);for(;e[g]===n[g];)g++;return g?l(e[g],n[g]):e[g]===P?-1:n[g]===P?1:0};ha=!1;[0,0].sort(ua);N.detectDuplicates=ha;return A};h.matches=function(b,a){return h(b,null,null,a)};h.matchesSelector=function(b,a){(b.ownerDocument||b)!==A&&I(b);a=a.replace(ta,"='$1']");if(!(!N.matchesSelector||G||J&&J.test(a)||H.test(a)))try{var d=L.call(b,a);if(d||N.disconnectedMatch||b.document&&11!==b.document.nodeType)return d}catch(c){}return 0<h(a,A,
null,[b]).length};h.contains=function(b,a){(b.ownerDocument||b)!==A&&I(b);return M(b,a)};h.attr=function(b,a){var d;(b.ownerDocument||b)!==A&&I(b);G||(a=a.toLowerCase());return(d=O.attrHandle[a])?d(b):G||N.attributes?b.getAttribute(a):((d=b.getAttributeNode(a))||b.getAttribute(a))&&!0===b[a]?a:d&&d.specified?d.value:null};h.error=function(b){throw Error("Syntax error, unrecognized expression: "+b);};h.uniqueSort=function(b){var a,d=[],c=1,g=0;ha=!N.detectDuplicates;b.sort(ua);if(ha){for(;a=b[c];c++)a===
b[c-1]&&(g=d.push(c));for(;g--;)b.splice(d[g],1)}return b};D=h.getText=function(b){var a,d="",c=0;a=b.nodeType;if(!a)for(;a=b[c];c++)d+=D(a);else if(1===a||9===a||11===a){if("string"===typeof b.textContent)return b.textContent;for(b=b.firstChild;b;b=b.nextSibling)d+=D(b)}else if(3===a||4===a)return b.nodeValue;return d};O=h.selectors={cacheLength:50,createPseudo:e,match:ga,find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},
preFilter:{ATTR:function(b){b[1]=b[1].replace(va,wa);b[3]=(b[4]||b[5]||"").replace(va,wa);"~="===b[2]&&(b[3]=" "+b[3]+" ");return b.slice(0,4)},CHILD:function(b){b[1]=b[1].toLowerCase();"nth"===b[1].slice(0,3)?(b[3]||h.error(b[0]),b[4]=+(b[4]?b[5]+(b[6]||1):2*("even"===b[3]||"odd"===b[3])),b[5]=+(b[7]+b[8]||"odd"===b[3])):b[3]&&h.error(b[0]);return b},PSEUDO:function(b){var a,d=!b[5]&&b[2];if(ga.CHILD.test(b[0]))return null;b[4]?b[2]=b[4]:d&&ma.test(d)&&(a=p(d,!0))&&(a=d.indexOf(")",d.length-a)-d.length)&&
(b[0]=b[0].slice(0,a),b[2]=d.slice(0,a));return b.slice(0,3)}},filter:{TAG:function(b){if("*"===b)return function(){return!0};b=b.replace(va,wa).toLowerCase();return function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(b){var a=S[b+" "];return a||(a=new RegExp("(^|[\\x20\\t\\r\\n\\f])"+b+"([\\x20\\t\\r\\n\\f]|$)"))&&S(b,function(b){return a.test(b.className||typeof b.getAttribute!==$&&b.getAttribute("class")||"")})},ATTR:function(b,a,d){return function(c){c=h.attr(c,b);if(null==
c)return"!="===a;if(!a)return!0;c+="";return"="===a?c===d:"!="===a?c!==d:"^="===a?d&&0===c.indexOf(d):"*="===a?d&&-1<c.indexOf(d):"$="===a?d&&c.slice(-d.length)===d:"~="===a?-1<(" "+c+" ").indexOf(d):"|="===a?c===d||c.slice(0,d.length+1)===d+"-":!1}},CHILD:function(b,a,d,c,g){var r="nth"!==b.slice(0,3),e="last"!==b.slice(-4),n="of-type"===a;return 1===c&&0===g?function(b){return!!b.parentNode}:function(a,d,f){var q,k,h,l,z;d=r!==e?"nextSibling":"previousSibling";var F=a.parentNode,m=n&&a.nodeName.toLowerCase();
f=!f&&!n;if(F){if(r){for(;d;){for(k=a;k=k[d];)if(n?k.nodeName.toLowerCase()===m:1===k.nodeType)return!1;z=d="only"===b&&!z&&"nextSibling"}return!0}z=[e?F.firstChild:F.lastChild];if(e&&f)for(f=F[W]||(F[W]={}),q=f[b]||[],l=q[0]===Q&&q[1],h=q[0]===Q&&q[2],k=l&&F.childNodes[l];k=++l&&k&&k[d]||(h=l=0)||z.pop();){if(1===k.nodeType&&++h&&k===a){f[b]=[Q,l,h];break}}else if(f&&(q=(a[W]||(a[W]={}))[b])&&q[0]===Q)h=q[1];else for(;(k=++l&&k&&k[d]||(h=l=0)||z.pop())&&((n?k.nodeName.toLowerCase()!==m:1!==k.nodeType)||
!++h||(f&&((k[W]||(k[W]={}))[b]=[Q,h]),k!==a)););h-=g;return h===c||0===h%c&&0<=h/c}}},PSEUDO:function(b,a){var d,c=O.pseudos[b]||O.setFilters[b.toLowerCase()]||h.error("unsupported pseudo: "+b);return c[W]?c(a):1<c.length?(d=[b,b,"",a],O.setFilters.hasOwnProperty(b.toLowerCase())?e(function(b,d){for(var g,r=c(b,a),e=r.length;e--;)g=Da.call(b,r[e]),b[g]=!(d[g]=r[e])}):function(b){return c(b,0,d)}):c}},pseudos:{not:e(function(b){var a=[],d=[],c=E(b.replace(ya,"$1"));return c[W]?e(function(b,a,d,g){g=
c(b,null,g,[]);for(var r=b.length;r--;)if(d=g[r])b[r]=!(a[r]=d)}):function(b,g,r){a[0]=b;c(a,null,r,d);return!d.pop()}}),has:e(function(b){return function(a){return 0<h(b,a).length}}),contains:e(function(b){return function(a){return-1<(a.textContent||a.innerText||D(a)).indexOf(b)}}),lang:e(function(b){na.test(b||"")||h.error("unsupported lang: "+b);b=b.replace(va,wa).toLowerCase();return function(a){var d;do if(d=G?a.getAttribute("xml:lang")||a.getAttribute("lang"):a.lang)return d=d.toLowerCase(),
d===b||0===d.indexOf(b+"-");while((a=a.parentNode)&&1===a.nodeType);return!1}}),target:function(a){var d=b.location&&b.location.hash;return d&&d.slice(1)===a.id},root:function(b){return b===C},focus:function(b){return b===A.activeElement&&(!A.hasFocus||A.hasFocus())&&!!(b.type||b.href||~b.tabIndex)},enabled:function(b){return!1===b.disabled},disabled:function(b){return!0===b.disabled},checked:function(b){var a=b.nodeName.toLowerCase();return"input"===a&&!!b.checked||"option"===a&&!!b.selected},selected:function(b){b.parentNode&&
b.parentNode.selectedIndex;return!0===b.selected},empty:function(b){for(b=b.firstChild;b;b=b.nextSibling)if("@"<b.nodeName||3===b.nodeType||4===b.nodeType)return!1;return!0},parent:function(b){return!O.pseudos.empty(b)},header:function(b){return ra.test(b.nodeName)},input:function(b){return qa.test(b.nodeName)},button:function(b){var a=b.nodeName.toLowerCase();return"input"===a&&"button"===b.type||"button"===a},text:function(b){var a;return"input"===b.nodeName.toLowerCase()&&"text"===b.type&&(null==
(a=b.getAttribute("type"))||a.toLowerCase()===b.type)},first:s(function(){return[0]}),last:s(function(b,a){return[a-1]}),eq:s(function(b,a,d){return[0>d?d+a:d]}),even:s(function(b,a){for(var d=0;d<a;d+=2)b.push(d);return b}),odd:s(function(b,a){for(var d=1;d<a;d+=2)b.push(d);return b}),lt:s(function(b,a,d){for(a=0>d?d+a:d;0<=--a;)b.push(a);return b}),gt:s(function(b,a,d){for(d=0>d?d+a:d;++d<a;)b.push(d);return b})}};for(y in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})O.pseudos[y]=z(y);for(y in{submit:!0,
reset:!0})O.pseudos[y]=m(y);E=h.compile=function(b,a){var d,c=[],g=[],r=X[b+" "];if(!r){a||(a=p(b));for(d=a.length;d--;)r=v(a[d]),r[W]?c.push(r):g.push(r);r=X(b,ca(g,c))}return r};O.pseudos.nth=O.pseudos.eq;O.filters=Z.prototype=O.pseudos;O.setFilters=new Z;I();h.attr=d.attr;d.find=h;d.expr=h.selectors;d.expr[":"]=d.expr.pseudos;d.unique=h.uniqueSort;d.text=h.getText;d.isXMLDoc=h.isXML;d.contains=h.contains})(a);var Rb=/Until$/,Sb=/^(?:parents|prev(?:Until|All))/,Ab=/^.[^:#\[\.,]*$/,jb=d.expr.match.needsContext,
Tb={children:!0,contents:!0,next:!0,prev:!0};d.fn.extend({find:function(b){var a,c,e,f=this.length;if("string"!==typeof b)return e=this,this.pushStack(d(b).filter(function(){for(a=0;a<f;a++)if(d.contains(e[a],this))return!0}));c=[];for(a=0;a<f;a++)d.find(b,this[a],c);c=this.pushStack(1<f?d.unique(c):c);c.selector=(this.selector?this.selector+" ":"")+b;return c},has:function(b){var a,c=d(b,this),e=c.length;return this.filter(function(){for(a=0;a<e;a++)if(d.contains(this,c[a]))return!0})},not:function(b){return this.pushStack(K(this,
b,!1))},filter:function(b){return this.pushStack(K(this,b,!0))},is:function(b){return!!b&&("string"===typeof b?jb.test(b)?0<=d(b,this.context).index(this[0]):0<d.filter(b,this).length:0<this.filter(b).length)},closest:function(b,a){for(var c,e=0,f=this.length,k=[],h=jb.test(b)||"string"!==typeof b?d(b,a||this.context):0;e<f;e++)for(c=this[e];c&&c.ownerDocument&&c!==a&&11!==c.nodeType;){if(h?-1<h.index(c):d.find.matchesSelector(c,b)){k.push(c);break}c=c.parentNode}return this.pushStack(1<k.length?
d.unique(k):k)},index:function(b){return b?"string"===typeof b?d.inArray(this[0],d(b)):d.inArray(b.jquery?b[0]:b,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(b,a){var c="string"===typeof b?d(b,a):d.makeArray(b&&b.nodeType?[b]:b),c=d.merge(this.get(),c);return this.pushStack(d.unique(c))},addBack:function(b){return this.add(null==b?this.prevObject:this.prevObject.filter(b))}});d.fn.andSelf=d.fn.addBack;d.each({parent:function(b){return(b=b.parentNode)&&11!==b.nodeType?
b:null},parents:function(b){return d.dir(b,"parentNode")},parentsUntil:function(b,a,c){return d.dir(b,"parentNode",c)},next:function(b){return B(b,"nextSibling")},prev:function(b){return B(b,"previousSibling")},nextAll:function(b){return d.dir(b,"nextSibling")},prevAll:function(b){return d.dir(b,"previousSibling")},nextUntil:function(b,a,c){return d.dir(b,"nextSibling",c)},prevUntil:function(b,a,c){return d.dir(b,"previousSibling",c)},siblings:function(b){return d.sibling((b.parentNode||{}).firstChild,
b)},children:function(b){return d.sibling(b.firstChild)},contents:function(b){return d.nodeName(b,"iframe")?b.contentDocument||b.contentWindow.document:d.merge([],b.childNodes)}},function(b,a){d.fn[b]=function(c,e){var f=d.map(this,a,c);Rb.test(b)||(e=c);e&&"string"===typeof e&&(f=d.filter(e,f));f=1<this.length&&!Tb[b]?d.unique(f):f;1<this.length&&Sb.test(b)&&(f=f.reverse());return this.pushStack(f)}});d.extend({filter:function(b,a,c){c&&(b=":not("+b+")");return 1===a.length?d.find.matchesSelector(a[0],
b)?[a[0]]:[]:d.find.matches(b,a)},dir:function(b,a,e){var n=[];for(b=b[a];b&&9!==b.nodeType&&(e===c||1!==b.nodeType||!d(b).is(e));)1===b.nodeType&&n.push(b),b=b[a];return n},sibling:function(b,a){for(var d=[];b;b=b.nextSibling)1===b.nodeType&&b!==a&&d.push(b);return d}});var ab="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Ub=/ jQuery\d+="(?:null|\d+)"/g,kb=new RegExp("<(?:"+ab+")[\\s/>]",
"i"),Ta=/^\s+/,lb=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,mb=/<([\w:]+)/,nb=/<tbody/i,Vb=/<|&#?\w+;/,Wb=/<(?:script|style|link)/i,Na=/^(?:checkbox|radio)$/i,Xb=/checked\s*(?:[^=]|=\s*.checked.)/i,ob=/^$|\/(?:java|ecma)script/i,Bb=/^true\/(.*)/,Yb=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,ba={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],
tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:d.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},Ua=D(C).appendChild(C.createElement("div"));ba.optgroup=ba.option;ba.tbody=ba.tfoot=ba.colgroup=ba.caption=ba.thead;ba.th=ba.td;d.fn.extend({text:function(b){return d.access(this,function(b){return b===c?d.text(this):this.empty().append((this[0]&&this[0].ownerDocument||C).createTextNode(b))},
null,b,arguments.length)},wrapAll:function(b){if(d.isFunction(b))return this.each(function(a){d(this).wrapAll(b.call(this,a))});if(this[0]){var a=d(b,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&a.insertBefore(this[0]);a.map(function(){for(var b=this;b.firstChild&&1===b.firstChild.nodeType;)b=b.firstChild;return b}).append(this)}return this},wrapInner:function(b){return d.isFunction(b)?this.each(function(a){d(this).wrapInner(b.call(this,a))}):this.each(function(){var a=d(this),c=a.contents();
c.length?c.wrapAll(b):a.append(b)})},wrap:function(b){var a=d.isFunction(b);return this.each(function(c){d(this).wrapAll(a?b.call(this,c):b)})},unwrap:function(){return this.parent().each(function(){d.nodeName(this,"body")||d(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(b){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||this.appendChild(b)})},prepend:function(){return this.domManip(arguments,!0,function(b){1!==this.nodeType&&11!==
this.nodeType&&9!==this.nodeType||this.insertBefore(b,this.firstChild)})},before:function(){return this.domManip(arguments,!1,function(b){this.parentNode&&this.parentNode.insertBefore(b,this)})},after:function(){return this.domManip(arguments,!1,function(b){this.parentNode&&this.parentNode.insertBefore(b,this.nextSibling)})},remove:function(b,a){for(var c,e=0;null!=(c=this[e]);e++)if(!b||0<d.filter(b,[c]).length)a||1!==c.nodeType||d.cleanData(y(c)),c.parentNode&&(a&&d.contains(c.ownerDocument,c)&&
w(y(c,"script")),c.parentNode.removeChild(c));return this},empty:function(){for(var b,a=0;null!=(b=this[a]);a++){for(1===b.nodeType&&d.cleanData(y(b,!1));b.firstChild;)b.removeChild(b.firstChild);b.options&&d.nodeName(b,"select")&&(b.options.length=0)}return this},clone:function(b,a){b=null==b?!1:b;a=null==a?b:a;return this.map(function(){return d.clone(this,b,a)})},html:function(b){return d.access(this,function(b){var a=this[0]||{},e=0,f=this.length;if(b===c)return 1===a.nodeType?a.innerHTML.replace(Ub,
""):c;if(!("string"!==typeof b||Wb.test(b)||!d.support.htmlSerialize&&kb.test(b)||!d.support.leadingWhitespace&&Ta.test(b)||ba[(mb.exec(b)||["",""])[1].toLowerCase()])){b=b.replace(lb,"<$1></$2>");try{for(;e<f;e++)a=this[e]||{},1===a.nodeType&&(d.cleanData(y(a,!1)),a.innerHTML=b);a=0}catch(k){}}a&&this.empty().append(b)},null,b,arguments.length)},replaceWith:function(b){d.isFunction(b)||"string"===typeof b||(b=d(b).not(this).detach());return this.domManip([b],!0,function(b){var a=this.nextSibling,
c=this.parentNode;c&&(d(this).remove(),c.insertBefore(b,a))})},detach:function(b){return this.remove(b,!0)},domManip:function(b,a,e){b=x.apply([],b);var n,f,k,h,l=0,z=this.length,m=this,s=z-1,p=b[0],t=d.isFunction(p);if(t||!(1>=z||"string"!==typeof p||d.support.checkClone)&&Xb.test(p))return this.each(function(d){var n=m.eq(d);t&&(b[0]=p.call(this,d,a?n.html():c));n.domManip(b,a,e)});if(z&&(h=d.buildFragment(b,this[0].ownerDocument,!1,this),n=h.firstChild,1===h.childNodes.length&&(h=n),n)){a=a&&d.nodeName(n,
"tr");k=d.map(y(h,"script"),G);for(f=k.length;l<z;l++)n=h,l!==s&&(n=d.clone(n,!0,!0),f&&d.merge(k,y(n,"script"))),e.call(a&&d.nodeName(this[l],"table")?I(this[l],"tbody"):this[l],n,l);if(f)for(h=k[k.length-1].ownerDocument,d.map(k,E),l=0;l<f;l++)n=k[l],ob.test(n.type||"")&&!d._data(n,"globalEval")&&d.contains(h,n)&&(n.src?d.ajax({url:n.src,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0}):d.globalEval((n.text||n.textContent||n.innerHTML||"").replace(Yb,"")));h=n=null}return this}});d.each({appendTo:"append",
prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(b,a){d.fn[b]=function(b){for(var c=0,e=[],f=d(b),h=f.length-1;c<=h;c++)b=c===h?this:this.clone(!0),d(f[c])[a](b),ca.apply(e,b.get());return this.pushStack(e)}});d.extend({clone:function(b,a,c){var e,f,k,h,l,z=d.contains(b.ownerDocument,b);d.support.html5Clone||d.isXMLDoc(b)||!kb.test("<"+b.nodeName+">")?k=b.cloneNode(!0):(Ua.innerHTML=b.outerHTML,Ua.removeChild(k=Ua.firstChild));if(!(d.support.noCloneEvent&&
d.support.noCloneChecked||1!==b.nodeType&&11!==b.nodeType||d.isXMLDoc(b)))for(e=y(k),l=y(b),h=0;null!=(f=l[h]);++h)if(e[h]){var m=e[h],s=void 0,p=void 0,x=void 0;if(1===m.nodeType){s=m.nodeName.toLowerCase();if(!d.support.noCloneEvent&&m[d.expando]){x=d._data(m);for(p in x.events)d.removeEvent(m,p,x.handle);m.removeAttribute(d.expando)}if("script"===s&&m.text!==f.text)G(m).text=f.text,E(m);else if("object"===s)m.parentNode&&(m.outerHTML=f.outerHTML),d.support.html5Clone&&f.innerHTML&&!d.trim(m.innerHTML)&&
(m.innerHTML=f.innerHTML);else if("input"===s&&Na.test(f.type))m.defaultChecked=m.checked=f.checked,m.value!==f.value&&(m.value=f.value);else if("option"===s)m.defaultSelected=m.selected=f.defaultSelected;else if("input"===s||"textarea"===s)m.defaultValue=f.defaultValue}}if(a)if(c)for(l=l||y(b),e=e||y(k),h=0;null!=(f=l[h]);h++)A(f,e[h]);else A(b,k);e=y(k,"script");0<e.length&&w(e,!z&&y(b,"script"));return k},buildFragment:function(b,a,c,e){for(var f,k,h,l,z,m,s=b.length,p=D(a),x=[],t=0;t<s;t++)if((k=
b[t])||0===k)if("object"===d.type(k))d.merge(x,k.nodeType?[k]:k);else if(Vb.test(k)){h=h||p.appendChild(a.createElement("div"));l=(mb.exec(k)||["",""])[1].toLowerCase();m=ba[l]||ba._default;h.innerHTML=m[1]+k.replace(lb,"<$1></$2>")+m[2];for(f=m[0];f--;)h=h.lastChild;!d.support.leadingWhitespace&&Ta.test(k)&&x.push(a.createTextNode(Ta.exec(k)[0]));if(!d.support.tbody)for(f=(k="table"!==l||nb.test(k)?"<table>"!==m[1]||nb.test(k)?0:h:h.firstChild)&&k.childNodes.length;f--;)d.nodeName(z=k.childNodes[f],
"tbody")&&!z.childNodes.length&&k.removeChild(z);d.merge(x,h.childNodes);for(h.textContent="";h.firstChild;)h.removeChild(h.firstChild);h=p.lastChild}else x.push(a.createTextNode(k));h&&p.removeChild(h);d.support.appendChecked||d.grep(y(x,"input"),J);for(t=0;k=x[t++];)if(!e||-1===d.inArray(k,e))if(b=d.contains(k.ownerDocument,k),h=y(p.appendChild(k),"script"),b&&w(h),c)for(f=0;k=h[f++];)ob.test(k.type||"")&&c.push(k);return p},cleanData:function(b,a){for(var c,e,f,k,l=0,m=d.expando,s=d.cache,p=d.support.deleteExpando,
x=d.event.special;null!=(c=b[l]);l++)if(a||d.acceptData(c))if(k=(f=c[m])&&s[f]){if(k.events)for(e in k.events)x[e]?d.event.remove(c,e):d.removeEvent(c,e,k.handle);s[f]&&(delete s[f],p?delete c[m]:typeof c.removeAttribute!==h?c.removeAttribute(m):c[m]=null,z.push(f))}}});var Ba,ia,oa,Va=/alpha\([^)]*\)/i,Zb=/opacity\s*=\s*([^)]*)/,$b=/^(top|right|bottom|left)$/,ac=/^(none|table(?!-c[ea]).+)/,pb=/^margin/,Cb=new RegExp("^("+ua+")(.*)$","i"),Fa=new RegExp("^("+ua+")(?!px)[a-z%]+$","i"),bc=new RegExp("^([+-])=("+
ua+")","i"),cb={BODY:"block"},cc={position:"absolute",visibility:"hidden",display:"block"},qb={letterSpacing:0,fontWeight:400},ga=["Top","Right","Bottom","Left"],bb=["Webkit","O","Moz","ms"];d.fn.extend({css:function(b,a){return d.access(this,function(b,a,g){var e,f={},h=0;if(d.isArray(a)){e=ia(b);for(g=a.length;h<g;h++)f[a[h]]=d.css(b,a[h],!1,e);return f}return g!==c?d.style(b,a,g):d.css(b,a)},b,a,1<arguments.length)},show:function(){return P(this,!0)},hide:function(){return P(this)},toggle:function(b){var a=
"boolean"===typeof b;return this.each(function(){(a?b:M(this))?d(this).show():d(this).hide()})}});d.extend({cssHooks:{opacity:{get:function(b,a){if(a){var d=oa(b,"opacity");return""===d?"1":d}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":d.support.cssFloat?"cssFloat":"styleFloat"},style:function(b,a,e,f){if(b&&3!==b.nodeType&&8!==b.nodeType&&b.style){var q,k,h,l=d.camelCase(a),m=b.style;a=d.cssProps[l]||
(d.cssProps[l]=S(m,l));h=d.cssHooks[a]||d.cssHooks[l];if(e!==c){if(k=typeof e,"string"===k&&(q=bc.exec(e))&&(e=(q[1]+1)*q[2]+parseFloat(d.css(b,a)),k="number"),!(null==e||"number"===k&&isNaN(e)||("number"!==k||d.cssNumber[l]||(e+="px"),d.support.clearCloneStyle||""!==e||0!==a.indexOf("background")||(m[a]="inherit"),h&&"set"in h&&(e=h.set(b,e,f))===c)))try{m[a]=e}catch(z){}}else return h&&"get"in h&&(q=h.get(b,!1,f))!==c?q:m[a]}},css:function(b,a,e,f){var q,k;k=d.camelCase(a);a=d.cssProps[k]||(d.cssProps[k]=
S(b.style,k));(k=d.cssHooks[a]||d.cssHooks[k])&&"get"in k&&(q=k.get(b,!0,e));q===c&&(q=oa(b,a,f));"normal"===q&&a in qb&&(q=qb[a]);return""===e||e?(b=parseFloat(q),!0===e||d.isNumeric(b)?b||0:q):q},swap:function(b,a,d,c){var e,f={};for(e in a)f[e]=b.style[e],b.style[e]=a[e];d=d.apply(b,c||[]);for(e in a)b.style[e]=f[e];return d}});a.getComputedStyle?(ia=function(b){return a.getComputedStyle(b,null)},oa=function(b,a,e){var f,q=(e=e||ia(b))?e.getPropertyValue(a)||e[a]:c,k=b.style;e&&(""!==q||d.contains(b.ownerDocument,
b)||(q=d.style(b,a)),Fa.test(q)&&pb.test(a)&&(b=k.width,a=k.minWidth,f=k.maxWidth,k.minWidth=k.maxWidth=k.width=q,q=e.width,k.width=b,k.minWidth=a,k.maxWidth=f));return q}):C.documentElement.currentStyle&&(ia=function(b){return b.currentStyle},oa=function(b,a,d){var e,f,k=(d=d||ia(b))?d[a]:c,h=b.style;null==k&&h&&h[a]&&(k=h[a]);if(Fa.test(k)&&!$b.test(a)){d=h.left;if(f=(e=b.runtimeStyle)&&e.left)e.left=b.currentStyle.left;h.left="fontSize"===a?"1em":k;k=h.pixelLeft+"px";h.left=d;f&&(e.left=f)}return""===
k?"auto":k});d.each(["height","width"],function(b,a){d.cssHooks[a]={get:function(b,c,e){if(c)return 0===b.offsetWidth&&ac.test(d.css(b,"display"))?d.swap(b,cc,function(){return L(b,a,e)}):L(b,a,e)},set:function(b,c,e){var f=e&&ia(b);return H(b,c,e?u(b,a,e,d.support.boxSizing&&"border-box"===d.css(b,"boxSizing",!1,f),f):0)}}});d.support.opacity||(d.cssHooks.opacity={get:function(b,a){return Zb.test((a&&b.currentStyle?b.currentStyle.filter:b.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":a?"1":""},
set:function(b,a){var c=b.style,e=b.currentStyle,f=d.isNumeric(a)?"alpha(opacity="+100*a+")":"",k=e&&e.filter||c.filter||"";c.zoom=1;if((1<=a||""===a)&&""===d.trim(k.replace(Va,""))&&c.removeAttribute&&(c.removeAttribute("filter"),""===a||e&&!e.filter))return;c.filter=Va.test(k)?k.replace(Va,f):k+" "+f}});d(function(){d.support.reliableMarginRight||(d.cssHooks.marginRight={get:function(b,a){if(a)return d.swap(b,{display:"inline-block"},oa,[b,"marginRight"])}});!d.support.pixelPosition&&d.fn.position&&
d.each(["top","left"],function(b,a){d.cssHooks[a]={get:function(b,c){if(c)return c=oa(b,a),Fa.test(c)?d(b).position()[a]+"px":c}}})});d.expr&&d.expr.filters&&(d.expr.filters.hidden=function(b){return 0>=b.offsetWidth&&0>=b.offsetHeight||!d.support.reliableHiddenOffsets&&"none"===(b.style&&b.style.display||d.css(b,"display"))},d.expr.filters.visible=function(b){return!d.expr.filters.hidden(b)});d.each({margin:"",padding:"",border:"Width"},function(b,a){d.cssHooks[b+a]={expand:function(d){var c=0,e=
{};for(d="string"===typeof d?d.split(" "):[d];4>c;c++)e[b+ga[c]+a]=d[c]||d[c-2]||d[0];return e}};pb.test(b)||(d.cssHooks[b+a].set=H)});var dc=/%20/g,Db=/\[\]$/,rb=/\r?\n/g,ec=/^(?:submit|button|image|reset|file)$/i,fc=/^(?:input|select|textarea|keygen)/i;d.fn.extend({serialize:function(){return d.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var b=d.prop(this,"elements");return b?d.makeArray(b):this}).filter(function(){var b=this.type;return this.name&&!d(this).is(":disabled")&&
fc.test(this.nodeName)&&!ec.test(b)&&(this.checked||!Na.test(b))}).map(function(b,a){var c=d(this).val();return null==c?null:d.isArray(c)?d.map(c,function(b){return{name:a.name,value:b.replace(rb,"\r\n")}}):{name:a.name,value:c.replace(rb,"\r\n")}}).get()}});d.param=function(b,a){var e,f=[],h=function(b,a){a=d.isFunction(a)?a():null==a?"":a;f[f.length]=encodeURIComponent(b)+"="+encodeURIComponent(a)};a===c&&(a=d.ajaxSettings&&d.ajaxSettings.traditional);if(d.isArray(b)||b.jquery&&!d.isPlainObject(b))d.each(b,
function(){h(this.name,this.value)});else for(e in b)U(e,b[e],a,h);return f.join("&").replace(dc,"+")};d.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(b,a){d.fn[a]=function(b,d){return 0<arguments.length?this.on(a,null,b,d):this.trigger(a)}});d.fn.hover=function(b,a){return this.mouseenter(b).mouseleave(a||b)};var ta,na,
Wa=d.now(),Xa=/\?/,gc=/#.*$/,sb=/([?&])_=[^&]*/,hc=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,ic=/^(?:GET|HEAD)$/,jc=/^\/\//,tb=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,ub=d.fn.load,vb={},Oa={},wb="*/".concat("*");try{na=Ja.href}catch(oc){na=C.createElement("a"),na.href="",na=na.href}ta=tb.exec(na.toLowerCase())||[];d.fn.load=function(b,a,e){if("string"!==typeof b&&ub)return ub.apply(this,arguments);var f,h,k,l=this,m=b.indexOf(" ");0<=m&&(f=b.slice(m,b.length),b=b.slice(0,m));d.isFunction(a)?(e=a,a=c):
a&&"object"===typeof a&&(k="POST");0<l.length&&d.ajax({url:b,type:k,dataType:"html",data:a}).done(function(b){h=arguments;l.html(f?d("<div>").append(d.parseHTML(b)).find(f):b)}).complete(e&&function(b,a){l.each(e,h||[b.responseText,a,b])});return this};d.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(b,a){d.fn[a]=function(b){return this.on(a,b)}});d.each(["get","post"],function(b,a){d[a]=function(b,e,f,k){d.isFunction(e)&&(k=k||f,f=e,e=c);return d.ajax({url:b,
type:a,dataType:k,data:e,success:f})}});d.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:na,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(ta[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":wb,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},
converters:{"* text":a.String,"text html":!0,"text json":d.parseJSON,"text xml":d.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(b,a){return a?da(da(b,d.ajaxSettings),a):da(d.ajaxSettings,b)},ajaxPrefilter:N(vb),ajaxTransport:N(Oa),ajax:function(b,a){function e(b,a,g,f){var n,h,r,q,p=a;if(2!==Z){Z=2;m&&clearTimeout(m);s=c;l=f||"";u.readyState=0<b?4:0;if(g){q=x;f=u;var v,ca,y,D,ha=q.contents,B=q.dataTypes,E=q.responseFields;for(D in E)D in g&&(f[E[D]]=g[D]);for(;"*"===B[0];)B.shift(),
ca===c&&(ca=q.mimeType||f.getResponseHeader("Content-Type"));if(ca)for(D in ha)if(ha[D]&&ha[D].test(ca)){B.unshift(D);break}if(B[0]in g)y=B[0];else{for(D in g){if(!B[0]||q.converters[D+" "+B[0]]){y=D;break}v||(v=D)}y=y||v}y?(y!==B[0]&&B.unshift(y),q=g[y]):q=void 0}if(200<=b&&300>b||304===b)if(x.ifModified&&((g=u.getResponseHeader("Last-Modified"))&&(d.lastModified[k]=g),(g=u.getResponseHeader("etag"))&&(d.etag[k]=g)),204===b)n=!0,p="nocontent";else if(304===b)n=!0,p="notmodified";else{a:{h=x;r=q;
var A,C,p={};v=0;ca=h.dataTypes.slice();y=ca[0];h.dataFilter&&(r=h.dataFilter(r,h.dataType));if(ca[1])for(C in h.converters)p[C.toLowerCase()]=h.converters[C];for(;g=ca[++v];)if("*"!==g){if("*"!==y&&y!==g){C=p[y+" "+g]||p["* "+g];if(!C)for(A in p)if(n=A.split(" "),n[1]===g&&(C=p[y+" "+n[0]]||p["* "+n[0]])){!0===C?C=p[A]:!0!==p[A]&&(g=n[0],ca.splice(v--,0,g));break}if(!0!==C)if(C&&h["throws"])r=C(r);else try{r=C(r)}catch(la){n={state:"parsererror",error:C?la:"No conversion from "+y+" to "+g};break a}}y=
g}n={state:"success",data:r}}p=n.state;h=n.data;r=n.error;n=!r}else if(r=p,b||!p)p="error",0>b&&(b=0);u.status=b;u.statusText=(a||p)+"";n?O.resolveWith(t,[h,p,u]):O.rejectWith(t,[u,p,r]);u.statusCode(w);w=c;z&&Y.trigger(n?"ajaxSuccess":"ajaxError",[u,x,n?h:r]);K.fireWith(t,[u,p]);z&&(Y.trigger("ajaxComplete",[u,x]),--d.active||d.event.trigger("ajaxStop"))}}"object"===typeof b&&(a=b,b=c);a=a||{};var f,h,k,l,m,z,s,p,x=d.ajaxSetup({},a),t=x.context||x,Y=x.context&&(t.nodeType||t.jquery)?d(t):d.event,
O=d.Deferred(),K=d.Callbacks("once memory"),w=x.statusCode||{},v={},ca={},Z=0,y="canceled",u={readyState:0,getResponseHeader:function(b){var a;if(2===Z){if(!p)for(p={};a=hc.exec(l);)p[a[1].toLowerCase()]=a[2];a=p[b.toLowerCase()]}return null==a?null:a},getAllResponseHeaders:function(){return 2===Z?l:null},setRequestHeader:function(b,a){var d=b.toLowerCase();Z||(b=ca[d]=ca[d]||b,v[b]=a);return this},overrideMimeType:function(b){Z||(x.mimeType=b);return this},statusCode:function(b){var a;if(b)if(2>
Z)for(a in b)w[a]=[w[a],b[a]];else u.always(b[u.status]);return this},abort:function(b){b=b||y;s&&s.abort(b);e(0,b);return this}};O.promise(u).complete=K.add;u.success=u.done;u.error=u.fail;x.url=((b||x.url||na)+"").replace(gc,"").replace(jc,ta[1]+"//");x.type=a.method||a.type||x.method||x.type;x.dataTypes=d.trim(x.dataType||"*").toLowerCase().match($)||[""];null==x.crossDomain&&(f=tb.exec(x.url.toLowerCase()),x.crossDomain=!(!f||f[1]===ta[1]&&f[2]===ta[2]&&(f[3]||("http:"===f[1]?80:443))==(ta[3]||
("http:"===ta[1]?80:443))));x.data&&x.processData&&"string"!==typeof x.data&&(x.data=d.param(x.data,x.traditional));V(vb,x,a,u);if(2===Z)return u;(z=x.global)&&0===d.active++&&d.event.trigger("ajaxStart");x.type=x.type.toUpperCase();x.hasContent=!ic.test(x.type);k=x.url;x.hasContent||(x.data&&(k=x.url+=(Xa.test(k)?"&":"?")+x.data,delete x.data),!1===x.cache&&(x.url=sb.test(k)?k.replace(sb,"$1_="+Wa++):k+(Xa.test(k)?"&":"?")+"_="+Wa++));x.ifModified&&(d.lastModified[k]&&u.setRequestHeader("If-Modified-Since",
d.lastModified[k]),d.etag[k]&&u.setRequestHeader("If-None-Match",d.etag[k]));(x.data&&x.hasContent&&!1!==x.contentType||a.contentType)&&u.setRequestHeader("Content-Type",x.contentType);u.setRequestHeader("Accept",x.dataTypes[0]&&x.accepts[x.dataTypes[0]]?x.accepts[x.dataTypes[0]]+("*"!==x.dataTypes[0]?", "+wb+"; q=0.01":""):x.accepts["*"]);for(h in x.headers)u.setRequestHeader(h,x.headers[h]);if(x.beforeSend&&(!1===x.beforeSend.call(t,u,x)||2===Z))return u.abort();y="abort";for(h in{success:1,error:1,
complete:1})u[h](x[h]);if(s=V(Oa,x,a,u)){u.readyState=1;z&&Y.trigger("ajaxSend",[u,x]);x.async&&0<x.timeout&&(m=setTimeout(function(){u.abort("timeout")},x.timeout));try{Z=1,s.send(v,e)}catch(D){if(2>Z)e(-1,D);else throw D;}}else e(-1,"No Transport");return u},getScript:function(b,a){return d.get(b,c,a,"script")},getJSON:function(b,a,c){return d.get(b,a,c,"json")}});d.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},
converters:{"text script":function(b){d.globalEval(b);return b}}});d.ajaxPrefilter("script",function(b){b.cache===c&&(b.cache=!1);b.crossDomain&&(b.type="GET",b.global=!1)});d.ajaxTransport("script",function(b){if(b.crossDomain){var a,e=C.head||d("head")[0]||C.documentElement;return{send:function(d,c){a=C.createElement("script");a.async=!0;b.scriptCharset&&(a.charset=b.scriptCharset);a.src=b.url;a.onload=a.onreadystatechange=function(b,d){if(d||!a.readyState||/loaded|complete/.test(a.readyState))a.onload=
a.onreadystatechange=null,a.parentNode&&a.parentNode.removeChild(a),a=null,d||c(200,"success")};e.insertBefore(a,e.firstChild)},abort:function(){if(a)a.onload(c,!0)}}}});var xb=[],Ya=/(=)\?(?=&|$)|\?\?/;d.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var b=xb.pop()||d.expando+"_"+Wa++;this[b]=!0;return b}});d.ajaxPrefilter("json jsonp",function(b,e,f){var n,h,k,l=!1!==b.jsonp&&(Ya.test(b.url)?"url":"string"===typeof b.data&&!(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&
Ya.test(b.data)&&"data");if(l||"jsonp"===b.dataTypes[0])return n=b.jsonpCallback=d.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,l?b[l]=b[l].replace(Ya,"$1"+n):!1!==b.jsonp&&(b.url+=(Xa.test(b.url)?"&":"?")+b.jsonp+"="+n),b.converters["script json"]=function(){k||d.error(n+" was not called");return k[0]},b.dataTypes[0]="json",h=a[n],a[n]=function(){k=arguments},f.always(function(){a[n]=h;b[n]&&(b.jsonpCallback=e.jsonpCallback,xb.push(n));k&&d.isFunction(h)&&h(k[0]);k=h=c}),"script"});
var Aa,Ea,kc=0,Za=a.ActiveXObject&&function(){for(var b in Aa)Aa[b](c,!0)};d.ajaxSettings.xhr=a.ActiveXObject?function(){var b;if(!(b=!this.isLocal&&fa()))a:{try{b=new a.ActiveXObject("Microsoft.XMLHTTP");break a}catch(d){}b=void 0}return b}:fa;Ea=d.ajaxSettings.xhr();d.support.cors=!!Ea&&"withCredentials"in Ea;(Ea=d.support.ajax=!!Ea)&&d.ajaxTransport(function(b){if(!b.crossDomain||d.support.cors){var e;return{send:function(f,n){var h,k,l=b.xhr();b.username?l.open(b.type,b.url,b.async,b.username,
b.password):l.open(b.type,b.url,b.async);if(b.xhrFields)for(k in b.xhrFields)l[k]=b.xhrFields[k];b.mimeType&&l.overrideMimeType&&l.overrideMimeType(b.mimeType);b.crossDomain||f["X-Requested-With"]||(f["X-Requested-With"]="XMLHttpRequest");try{for(k in f)l.setRequestHeader(k,f[k])}catch(m){}l.send(b.hasContent&&b.data||null);e=function(a,f){var k,r,m,z;try{if(e&&(f||4===l.readyState))if(e=c,h&&(l.onreadystatechange=d.noop,Za&&delete Aa[h]),f)4!==l.readyState&&l.abort();else{z={};k=l.status;r=l.getAllResponseHeaders();
"string"===typeof l.responseText&&(z.text=l.responseText);try{m=l.statusText}catch(s){m=""}k||!b.isLocal||b.crossDomain?1223===k&&(k=204):k=z.text?200:404}}catch(p){f||n(-1,p)}z&&n(k,m,z,r)};b.async?4===l.readyState?setTimeout(e):(h=++kc,Za&&(Aa||(Aa={},d(a).unload(Za)),Aa[h]=e),l.onreadystatechange=e):e()},abort:function(){e&&e(c,!0)}}}});var xa,Ma,lc=/^(?:toggle|show|hide)$/,mc=new RegExp("^(?:([+-])=|)("+ua+")([a-z%]*)$","i"),nc=/queueHooks$/,Ha=[function(b,a,c){var e,f,k,h,l,m,z=this,s=b.style,
p={},x=[],t=b.nodeType&&M(b);c.queue||(l=d._queueHooks(b,"fx"),null==l.unqueued&&(l.unqueued=0,m=l.empty.fire,l.empty.fire=function(){l.unqueued||m()}),l.unqueued++,z.always(function(){z.always(function(){l.unqueued--;d.queue(b,"fx").length||l.empty.fire()})}));1===b.nodeType&&("height"in a||"width"in a)&&(c.overflow=[s.overflow,s.overflowX,s.overflowY],"inline"===d.css(b,"display")&&"none"===d.css(b,"float")&&(d.support.inlineBlockNeedsLayout&&"inline"!==Q(b.nodeName)?s.zoom=1:s.display="inline-block"));
c.overflow&&(s.overflow="hidden",d.support.shrinkWrapBlocks||z.always(function(){s.overflow=c.overflow[0];s.overflowX=c.overflow[1];s.overflowY=c.overflow[2]}));for(f in a)k=a[f],lc.exec(k)&&(delete a[f],e=e||"toggle"===k,k!==(t?"hide":"show")&&x.push(f));if(a=x.length)for(k=d._data(b,"fxshow")||d._data(b,"fxshow",{}),("hidden"in k)&&(t=k.hidden),e&&(k.hidden=!t),t?d(b).show():z.done(function(){d(b).hide()}),z.done(function(){var a;d._removeData(b,"fxshow");for(a in p)d.style(b,a,p[a])}),f=0;f<a;f++)e=
x[f],h=z.createTween(e,t?k[e]:0),p[e]=k[e]||d.style(b,e),e in k||(k[e]=h.start,t&&(h.end=h.start,h.start="width"===e||"height"===e?1:0))}],Ca={"*":[function(b,a){var c,e,f=this.createTween(b,a),k=mc.exec(a),h=f.cur(),l=+h||0,m=1,z=20;if(k){c=+k[2];e=k[3]||(d.cssNumber[b]?"":"px");if("px"!==e&&l){l=d.css(f.elem,b,!0)||c||1;do m=m||".5",l/=m,d.style(f.elem,b,l+e);while(m!==(m=f.cur()/h)&&1!==m&&--z)}f.unit=e;f.start=l;f.end=k[1]?l+(k[1]+1)*c:c}return f}]};d.Animation=d.extend(Ga,{tweener:function(b,
a){d.isFunction(b)?(a=b,b=["*"]):b=b.split(" ");for(var c,e=0,f=b.length;e<f;e++)c=b[e],Ca[c]=Ca[c]||[],Ca[c].unshift(a)},prefilter:function(b,a){a?Ha.unshift(b):Ha.push(b)}});d.Tween=T;T.prototype={constructor:T,init:function(b,a,c,e,f,k){this.elem=b;this.prop=c;this.easing=f||"swing";this.options=a;this.start=this.now=this.cur();this.end=e;this.unit=k||(d.cssNumber[c]?"":"px")},cur:function(){var b=T.propHooks[this.prop];return b&&b.get?b.get(this):T.propHooks._default.get(this)},run:function(b){var a,
c=T.propHooks[this.prop];this.pos=this.options.duration?a=d.easing[this.easing](b,this.options.duration*b,0,1,this.options.duration):a=b;this.now=(this.end-this.start)*a+this.start;this.options.step&&this.options.step.call(this.elem,this.now,this);c&&c.set?c.set(this):T.propHooks._default.set(this);return this}};T.prototype.init.prototype=T.prototype;T.propHooks={_default:{get:function(b){return null==b.elem[b.prop]||b.elem.style&&null!=b.elem.style[b.prop]?(b=d.css(b.elem,b.prop,""))&&"auto"!==b?
b:0:b.elem[b.prop]},set:function(b){if(d.fx.step[b.prop])d.fx.step[b.prop](b);else b.elem.style&&(null!=b.elem.style[d.cssProps[b.prop]]||d.cssHooks[b.prop])?d.style(b.elem,b.prop,b.now+b.unit):b.elem[b.prop]=b.now}}};T.propHooks.scrollTop=T.propHooks.scrollLeft={set:function(b){b.elem.nodeType&&b.elem.parentNode&&(b.elem[b.prop]=b.now)}};d.each(["toggle","show","hide"],function(b,a){var c=d.fn[a];d.fn[a]=function(b,d,e){return null==b||"boolean"===typeof b?c.apply(this,arguments):this.animate(ja(a,
!0),b,d,e)}});d.fn.extend({fadeTo:function(b,a,d,c){return this.filter(M).css("opacity",0).show().end().animate({opacity:a},b,d,c)},animate:function(b,a,c,e){var f=d.isEmptyObject(b),k=d.speed(a,c,e),h=function(){var a=Ga(this,d.extend({},b),k);h.finish=function(){a.stop(!0)};(f||d._data(this,"finish"))&&a.stop(!0)};h.finish=h;return f||!1===k.queue?this.each(h):this.queue(k.queue,h)},stop:function(b,a,e){var f=function(b){var a=b.stop;delete b.stop;a(e)};"string"!==typeof b&&(e=a,a=b,b=c);a&&!1!==
b&&this.queue(b||"fx",[]);return this.each(function(){var a=!0,c=null!=b&&b+"queueHooks",g=d.timers,h=d._data(this);if(c)h[c]&&h[c].stop&&f(h[c]);else for(c in h)h[c]&&h[c].stop&&nc.test(c)&&f(h[c]);for(c=g.length;c--;)g[c].elem!==this||null!=b&&g[c].queue!==b||(g[c].anim.stop(e),a=!1,g.splice(c,1));!a&&e||d.dequeue(this,b)})},finish:function(b){!1!==b&&(b=b||"fx");return this.each(function(){var a,c=d._data(this),e=c[b+"queue"];a=c[b+"queueHooks"];var f=d.timers,h=e?e.length:0;c.finish=!0;d.queue(this,
b,[]);a&&a.cur&&a.cur.finish&&a.cur.finish.call(this);for(a=f.length;a--;)f[a].elem===this&&f[a].queue===b&&(f[a].anim.stop(!0),f.splice(a,1));for(a=0;a<h;a++)e[a]&&e[a].finish&&e[a].finish.call(this);delete c.finish})}});d.each({slideDown:ja("show"),slideUp:ja("hide"),slideToggle:ja("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(b,a){d.fn[b]=function(b,d,c){return this.animate(a,b,d,c)}});d.speed=function(b,a,c){var e=b&&"object"===typeof b?d.extend({},
b):{complete:c||!c&&a||d.isFunction(b)&&b,duration:b,easing:c&&a||a&&!d.isFunction(a)&&a};e.duration=d.fx.off?0:"number"===typeof e.duration?e.duration:e.duration in d.fx.speeds?d.fx.speeds[e.duration]:d.fx.speeds._default;if(null==e.queue||!0===e.queue)e.queue="fx";e.old=e.complete;e.complete=function(){d.isFunction(e.old)&&e.old.call(this);e.queue&&d.dequeue(this,e.queue)};return e};d.easing={linear:function(b){return b},swing:function(b){return.5-Math.cos(b*Math.PI)/2}};d.timers=[];d.fx=T.prototype.init;
d.fx.tick=function(){var b,a=d.timers,e=0;for(xa=d.now();e<a.length;e++)b=a[e],b()||a[e]!==b||a.splice(e--,1);a.length||d.fx.stop();xa=c};d.fx.timer=function(b){b()&&d.timers.push(b)&&d.fx.start()};d.fx.interval=13;d.fx.start=function(){Ma||(Ma=setInterval(d.fx.tick,d.fx.interval))};d.fx.stop=function(){clearInterval(Ma);Ma=null};d.fx.speeds={slow:600,fast:200,_default:400};d.fx.step={};d.expr&&d.expr.filters&&(d.expr.filters.animated=function(b){return d.grep(d.timers,function(a){return b===a.elem}).length});
d.fn.offset=function(b){if(arguments.length)return b===c?this:this.each(function(a){d.offset.setOffset(this,b,a)});var a,e,f={top:0,left:0},l=(e=this[0])&&e.ownerDocument;if(l){a=l.documentElement;if(!d.contains(a,e))return f;typeof e.getBoundingClientRect!==h&&(f=e.getBoundingClientRect());e=pa(l);return{top:f.top+(e.pageYOffset||a.scrollTop)-(a.clientTop||0),left:f.left+(e.pageXOffset||a.scrollLeft)-(a.clientLeft||0)}}};d.offset={setOffset:function(b,a,c){var e=d.css(b,"position");"static"===e&&
(b.style.position="relative");var f=d(b),h=f.offset(),l=d.css(b,"top"),m=d.css(b,"left"),z={},s={};("absolute"===e||"fixed"===e)&&-1<d.inArray("auto",[l,m])?(s=f.position(),e=s.top,m=s.left):(e=parseFloat(l)||0,m=parseFloat(m)||0);d.isFunction(a)&&(a=a.call(b,c,h));null!=a.top&&(z.top=a.top-h.top+e);null!=a.left&&(z.left=a.left-h.left+m);"using"in a?a.using.call(b,z):f.css(z)}};d.fn.extend({position:function(){if(this[0]){var b,a,c={top:0,left:0},e=this[0];"fixed"===d.css(e,"position")?a=e.getBoundingClientRect():
(b=this.offsetParent(),a=this.offset(),d.nodeName(b[0],"html")||(c=b.offset()),c.top+=d.css(b[0],"borderTopWidth",!0),c.left+=d.css(b[0],"borderLeftWidth",!0));return{top:a.top-c.top-d.css(e,"marginTop",!0),left:a.left-c.left-d.css(e,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var b=this.offsetParent||C.documentElement;b&&!d.nodeName(b,"html")&&"static"===d.css(b,"position");)b=b.offsetParent;return b||C.documentElement})}});d.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},
function(b,a){var e=/Y/.test(a);d.fn[b]=function(f){return d.access(this,function(b,f,h){var l=pa(b);if(h===c)return l?a in l?l[a]:l.document.documentElement[f]:b[f];l?l.scrollTo(e?d(l).scrollLeft():h,e?h:d(l).scrollTop()):b[f]=h},b,f,arguments.length,null)}});d.each({Height:"height",Width:"width"},function(b,a){d.each({padding:"inner"+b,content:a,"":"outer"+b},function(e,f){d.fn[f]=function(f,h){var l=arguments.length&&(e||"boolean"!==typeof f),n=e||(!0===f||!0===h?"margin":"border");return d.access(this,
function(a,e,f){return d.isWindow(a)?a.document.documentElement["client"+b]:9===a.nodeType?(e=a.documentElement,Math.max(a.body["scroll"+b],e["scroll"+b],a.body["offset"+b],e["offset"+b],e["client"+b])):f===c?d.css(a,e,n):d.style(a,e,f,n)},a,l?f:c,l,null)}})});a.jQuery=a.$=d;"function"===typeof define&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return d})})(window);var WebMol=WebMol||{};
WebMol.Math={clamp:function(a,c,e){return Math.min(Math.max(a,c),e)},degToRad:function(){var a=Math.PI/180;return function(c){return c*a}}()};WebMol.Quaternion=function(a,c,e,f){this.x=a||0;this.y=c||0;this.z=e||0;this.w=void 0!==f?f:1};
WebMol.Quaternion.prototype={constructor:WebMol.Quaternion,set:function(a,c,e,f){this.x=a;this.y=c;this.z=e;this.w=f;return this},copy:function(a){this.x=a.x;this.y=a.y;this.z=a.z;this.w=a.w;return this},conjugate:function(){this.x*=-1;this.y*=-1;this.z*=-1;return this},inverse:function(){return this.conjugate().normalize()},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},normalize:function(){var a=this.length();0===a?(this.z=this.y=this.x=0,this.w=1):
(a=1/a,this.x*=a,this.y*=a,this.z*=a,this.w*=a);return this},multiply:function(a){return this.multiplyQuaternions(this,a)},multiplyQuaternions:function(a,c){var e=a.x,f=a.y,l=a.z,s=a.w,m=c.x,p=c.y,t=c.z,v=c.w;this.x=e*v+s*m+f*t-l*p;this.y=f*v+s*p+l*m-e*t;this.z=l*v+s*t+e*p-f*m;this.w=s*v-e*m-f*p-l*t}};WebMol.Vector2=function(a,c){this.x=a||0;this.y=c||0};
WebMol.Vector2.prototype={constructor:WebMol.Vector2,set:function(a,c){this.x=a;this.y=c;return this},subVectors:function(a,c){this.x=a.x-c.x;this.y=a.y-c.y;return this},copy:function(a){this.x=a.x;this.y=a.y;return this},clone:function(){return new WebMol.Vector2(this.x,this.y)}};WebMol.Vector3=function(a,c,e){this.x=a||0;this.y=c||0;this.z=e||0};
WebMol.Vector3.prototype={constructor:WebMol.Vector3,set:function(a,c,e){this.x=a;this.y=c;this.z=e;return this},copy:function(a){this.x=a.x;this.y=a.y;this.z=a.z;return this},add:function(a){this.x+=a.x;this.y+=a.y;this.z+=a.z;return this},addVectors:function(a,c){this.x=a.x+c.x;this.y=a.y+c.y;this.z=a.z+c.z;return this},sub:function(a){this.x-=a.x;this.y-=a.y;this.z-=a.z;return this},subVectors:function(a,c){this.x=a.x-c.x;this.y=a.y-c.y;this.z=a.z-c.z;return this},multiplyScalar:function(a){this.x*=
a;this.y*=a;this.z*=a;return this},divideScalar:function(a){0!==a?(this.x/=a,this.y/=a,this.z/=a):this.z=this.y=this.x=0;return this},distanceTo:function(a){return Math.sqrt(this.distanceToSquared(a))},distanceToSquared:function(a){var c=this.x-a.x,e=this.y-a.y;a=this.z-a.z;return c*c+e*e+a*a},applyMatrix4:function(a){var c=this.x,e=this.y,f=this.z;a=a.elements;this.x=a[0]*c+a[4]*e+a[8]*f+a[12];this.y=a[1]*c+a[5]*e+a[9]*f+a[13];this.z=a[2]*c+a[6]*e+a[10]*f+a[14];return this},applyProjection:function(a){var c=
this.x,e=this.y,f=this.z;a=a.elements;var l=a[3]*c+a[7]*e+a[11]*f+a[15];this.x=(a[0]*c+a[4]*e+a[8]*f+a[12])/l;this.y=(a[1]*c+a[5]*e+a[9]*f+a[13])/l;this.z=(a[2]*c+a[6]*e+a[10]*f+a[14])/l;return this},applyQuaternion:function(a){var c=this.x,e=this.y,f=this.z,l=a.x,s=a.y,m=a.z;a=a.w;var p=a*c+s*f-m*e,t=a*e+m*c-l*f,v=a*f+l*e-s*c,c=-a*c-s*e-m*f;this.x=p*a+c*-l+t*-m-v*-s;this.y=t*a+c*-s+v*-l-p*-m;this.z=v*a+c*-m+p*-s-t*-l;return this},negate:function(){return this.multiplyScalar(-1)},dot:function(a){return this.x*
a.x+this.y*a.y+this.z*a.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},normalize:function(){return this.divideScalar(this.length())},cross:function(a){var c=this.x,e=this.y,f=this.z;this.x=e*a.z-f*a.y;this.y=f*a.x-c*a.z;this.z=c*a.y-e*a.x;return this},crossVectors:function(a,c){this.x=a.y*c.z-a.z*c.y;this.y=a.z*c.x-a.x*c.z;this.z=a.x*c.y-a.y*c.x;return this},getPositionFromMatrix:function(a){this.x=
a.elements[12];this.y=a.elements[13];this.z=a.elements[14];return this},setEulerFromRotationMatrix:function(a,c){var e=a.elements,f=e[0],l=e[4],s=e[8],m=e[5],p=e[9],t=e[6],e=e[10];void 0===c||"XYZ"===c?(this.y=Math.asin(WebMol.Math.clamp(s,-1,1)),.99999>Math.abs(s)?(this.x=Math.atan2(-p,e),this.z=Math.atan2(-l,f)):(this.x=Math.atan2(t,m),this.z=0)):console.error("Error with vector's setEulerFromRotationMatrix: Unknown order: "+c);return this},clone:function(){return new WebMol.Vector3(this.x,this.y,
this.z)}};WebMol.Matrix3=function(a,c,e,f,l,s,m,p,t){this.elements=new Float32Array(9);this.set(void 0!==a?a:1,c||0,e||0,f||0,void 0!==l?l:1,s||0,m||0,p||0,void 0!==t?t:1)};
WebMol.Matrix3.prototype={constructor:WebMol.Matrix3,set:function(a,c,e,f,l,s,m,p,t){var v=this.elements;v[0]=a;v[3]=c;v[6]=e;v[1]=f;v[4]=l;v[7]=s;v[2]=m;v[5]=p;v[8]=t;return this},identity:function(){this.set(1,0,0,0,1,0,0,0,1);return this},copy:function(a){a=a.elements;this.set(a[0],a[3],a[6],a[1],a[4],a[7],a[2],a[5],a[8])},multiplyScalar:function(a){var c=this.elements;c[0]*=a;c[3]*=a;c[6]*=a;c[1]*=a;c[4]*=a;c[7]*=a;c[2]*=a;c[5]*=a;c[8]*=a;return this},getInverse:function(a,c){var e=a.elements,
f=this.elements;f[0]=e[10]*e[5]-e[6]*e[9];f[1]=-e[10]*e[1]+e[2]*e[9];f[2]=e[6]*e[1]-e[2]*e[5];f[3]=-e[10]*e[4]+e[6]*e[8];f[4]=e[10]*e[0]-e[2]*e[8];f[5]=-e[6]*e[0]+e[2]*e[4];f[6]=e[9]*e[4]-e[5]*e[8];f[7]=-e[9]*e[0]+e[1]*e[8];f[8]=e[5]*e[0]-e[1]*e[4];e=e[0]*f[0]+e[1]*f[3]+e[2]*f[6];if(0===e){if(c)throw Error("Matrix3.getInverse(): can't invert matrix, determinant is 0");console.warn("Matrix3.getInverse(): can't invert matrix, determinant is 0");this.identity();return this}this.multiplyScalar(1/e);return this},
transpose:function(){var a,c=this.elements;a=c[1];c[1]=c[3];c[3]=a;a=c[2];c[2]=c[6];c[6]=a;a=c[5];c[5]=c[7];c[7]=a;return this},clone:function(){var a=this.elements;return new WebMol.Matrix3(a[0],a[3],a[6],a[1],a[4],a[7],a[2],a[5],a[8])}};
WebMol.Matrix4=function(a,c,e,f,l,s,m,p,t,v,B,K,D,I,G,E){var w=this.elements=new Float32Array(16);w[0]=void 0!==a?a:1;w[4]=c||0;w[8]=e||0;w[12]=f||0;w[1]=l||0;w[5]=void 0!==s?s:1;w[9]=m||0;w[13]=p||0;w[2]=t||0;w[6]=v||0;w[10]=void 0!==B?B:1;w[14]=K||0;w[3]=D||0;w[7]=I||0;w[11]=G||0;w[15]=void 0!==E?E:1};
WebMol.Matrix4.prototype={constructor:WebMol.Matrix4,set:function(a,c,e,f,l,s,m,p,t,v,B,K,D,I,G,E){var w=this.elements;w[0]=a;w[4]=c;w[8]=e;w[12]=f;w[1]=l;w[5]=s;w[9]=m;w[13]=p;w[2]=t;w[6]=v;w[10]=B;w[14]=K;w[3]=D;w[7]=I;w[11]=G;w[15]=E;return this},identity:function(){this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1);return this},copy:function(a){a=a.elements;this.set(a[0],a[4],a[8],a[12],a[1],a[5],a[9],a[13],a[2],a[6],a[10],a[14],a[3],a[7],a[11],a[15]);return this},setRotationFromEuler:function(a,c){var e=
this.elements,f=a.x,l=a.y,s=a.z,m=Math.cos(f),f=Math.sin(f),p=Math.cos(l),l=Math.sin(l),t=Math.cos(s),s=Math.sin(s);if(void 0===c||"XYZ"===c){var v=m*t,B=m*s,K=f*t,D=f*s;e[0]=p*t;e[4]=-p*s;e[8]=l;e[1]=B+K*l;e[5]=v-D*l;e[9]=-f*p;e[2]=D-v*l;e[6]=K+B*l;e[10]=m*p}else console.error("Error with matrix4 setRotationFromEuler. Order: "+c);return this},setRotationFromQuaternion:function(a){var c=this.elements,e=a.x,f=a.y,l=a.z,s=a.w,m=e+e,p=f+f,t=l+l;a=e*m;var v=e*p,e=e*t,B=f*p,f=f*t,l=l*t,m=s*m,p=s*p,s=s*
t;c[0]=1-(B+l);c[4]=v-s;c[8]=e+p;c[1]=v+s;c[5]=1-(a+l);c[9]=f-m;c[2]=e-p;c[6]=f+m;c[10]=1-(a+B);return this},lookAt:function(){var a=new WebMol.Vector3,c=new WebMol.Vector3,e=new WebMol.Vector3;return function(f,l,s){var m=this.elements;e.subVectors(f,l).normalize();0===e.length()&&(e.z=1);a.crossVectors(s,e).normalize();0===a.length()&&(e.x+=1E-4,a.crossVectors(s,e).normalize());c.crossVectors(e,a);m[0]=a.x;m[4]=c.x;m[8]=e.x;m[1]=a.y;m[5]=c.y;m[9]=e.y;m[2]=a.z;m[6]=c.z;m[10]=e.z;return this}}(),
multiplyMatrices:function(a,c){var e=a.elements,f=c.elements,l=this.elements,s=e[0],m=e[4],p=e[8],t=e[12],v=e[1],B=e[5],K=e[9],D=e[13],I=e[2],G=e[6],E=e[10],w=e[14],A=e[3],y=e[7],J=e[11],e=e[15],S=f[0],M=f[4],P=f[8],H=f[12],u=f[1],L=f[5],Q=f[9],X=f[13],U=f[2],N=f[6],V=f[10],da=f[14],fa=f[3],ea=f[7],aa=f[11],f=f[15];l[0]=s*S+m*u+p*U+t*fa;l[4]=s*M+m*L+p*N+t*ea;l[8]=s*P+m*Q+p*V+t*aa;l[12]=s*H+m*X+p*da+t*f;l[1]=v*S+B*u+K*U+D*fa;l[5]=v*M+B*L+K*N+D*ea;l[9]=v*P+B*Q+K*V+D*aa;l[13]=v*H+B*X+K*da+D*f;l[2]=I*
S+G*u+E*U+w*fa;l[6]=I*M+G*L+E*N+w*ea;l[10]=I*P+G*Q+E*V+w*aa;l[14]=I*H+G*X+E*da+w*f;l[3]=A*S+y*u+J*U+e*fa;l[7]=A*M+y*L+J*N+e*ea;l[11]=A*P+y*Q+J*V+e*aa;l[15]=A*H+y*X+J*da+e*f;return this},multiplyScalar:function(a){var c=this.elements;c[0]*=a;c[4]*=a;c[8]*=a;c[12]*=a;c[1]*=a;c[5]*=a;c[9]*=a;c[13]*=a;c[2]*=a;c[6]*=a;c[10]*=a;c[14]*=a;c[3]*=a;c[7]*=a;c[11]*=a;c[15]*=a;return this},transpose:function(){var a=this.elements,c;c=a[1];a[1]=a[4];a[4]=c;c=a[2];a[2]=a[8];a[8]=c;c=a[6];a[6]=a[9];a[9]=c;c=a[3];
a[3]=a[12];a[12]=c;c=a[7];a[7]=a[13];a[13]=c;c=a[11];a[11]=a[14];a[14]=c;return this},getPosition:function(){var a=new WebMol.Vector3;return function(){console.warn("DEPRECATED: Matrix4's .getPosition() has been removed. Use Vector3.getPositionFromMatrix( matrix ) instead.");var c=this.elements;return a.set(c[12],c[13],c[14])}}(),setPosition:function(a){var c=this.elements;c[12]=a.x;c[13]=a.y;c[14]=a.z;return this},getInverse:function(a,c){var e=this.elements,f=a.elements,l=f[0],s=f[4],m=f[8],p=f[12],
t=f[1],v=f[5],B=f[9],K=f[13],D=f[2],I=f[6],G=f[10],E=f[14],w=f[3],A=f[7],y=f[11],J=f[15];e[0]=B*E*A-K*G*A+K*I*y-v*E*y-B*I*J+v*G*J;e[4]=p*G*A-m*E*A-p*I*y+s*E*y+m*I*J-s*G*J;e[8]=m*K*A-p*B*A+p*v*y-s*K*y-m*v*J+s*B*J;e[12]=p*B*I-m*K*I-p*v*G+s*K*G+m*v*E-s*B*E;e[1]=K*G*w-B*E*w-K*D*y+t*E*y+B*D*J-t*G*J;e[5]=m*E*w-p*G*w+p*D*y-l*E*y-m*D*J+l*G*J;e[9]=p*B*w-m*K*w-p*t*y+l*K*y+m*t*J-l*B*J;e[13]=m*K*D-p*B*D+p*t*G-l*K*G-m*t*E+l*B*E;e[2]=v*E*w-K*I*w+K*D*A-t*E*A-v*D*J+t*I*J;e[6]=p*I*w-s*E*w-p*D*A+l*E*A+s*D*J-l*I*J;
e[10]=s*K*w-p*v*w+p*t*A-l*K*A-s*t*J+l*v*J;e[14]=p*v*D-s*K*D-p*t*I+l*K*I+s*t*E-l*v*E;e[3]=B*I*w-v*G*w-B*D*A+t*G*A+v*D*y-t*I*y;e[7]=s*G*w-m*I*w+m*D*A-l*G*A-s*D*y+l*I*y;e[11]=m*v*w-s*B*w-m*t*A+l*B*A+s*t*y-l*v*y;e[15]=s*B*D-m*v*D+m*t*I-l*B*I-s*t*G+l*v*G;e=f[0]*e[0]+f[1]*e[4]+f[2]*e[8]+f[3]*e[12];if(0===e){if(c)throw Error("Matrix4.getInverse(): can't invert matrix, determinant is 0");console.warn("Matrix4.getInverse(): can't invert matrix, determinant is 0");this.identity();return this}this.multiplyScalar(1/
e);return this},compose:function(){var a=new WebMol.Matrix4,c=new WebMol.Matrix4;return function(e,f,l){var s=this.elements;a.identity();a.setRotationFromQuaternion(f);c.makeScale(l.x,l.y,l.z);this.multiplyMatrices(a,c);s[12]=e.x;s[13]=e.y;s[14]=e.z;return this}}(),decompose:function(){var a=new WebMol.Vector3,c=new WebMol.Vector3,e=new WebMol.Vector3,f=new WebMol.Matrix4;return function(l,s,m){var p=this.elements;a.set(p[0],p[1],p[2]);c.set(p[4],p[5],p[6]);e.set(p[8],p[9],p[10]);l=l instanceof WebMol.Vector3?
l:new WebMol.Vector3;s=s instanceof WebMol.Quaternion?s:new WebMol.Quaternion;m=m instanceof Webmol.Vector3?m:new WebMol.Vector3;m.x=a.length();m.y=c.length();m.z=e.length();l.x=p[12];l.y=p[13];l.z=p[14];f.copy(this);f.elements[0]/=m.x;f.elements[1]/=m.x;f.elements[2]/=m.x;f.elements[4]/=m.y;f.elements[5]/=m.y;f.elements[6]/=m.y;f.elements[8]/=m.z;f.elements[9]/=m.z;f.elements[10]/=m.z;s.setFromRotationMatrix(f);return[l,s,m]}}(),scale:function(a){var c=this.elements,e=a.x,f=a.y;a=a.z;c[0]*=e;c[4]*=
f;c[8]*=a;c[1]*=e;c[5]*=f;c[9]*=a;c[2]*=e;c[6]*=f;c[10]*=a;c[3]*=e;c[7]*=f;c[11]*=a;return this},getMaxScaleOnAxis:function(){var a=this.elements;return Math.sqrt(Math.max(a[0]*a[0]+a[1]*a[1]+a[2]*a[2],Math.max(a[4]*a[4]+a[5]*a[5]+a[6]*a[6],a[8]*a[8]+a[9]*a[9]+a[10]*a[10])))},makeFrustum:function(a,c,e,f,l,s){var m=this.elements;m[0]=2*l/(c-a);m[4]=0;m[8]=(c+a)/(c-a);m[12]=0;m[1]=0;m[5]=2*l/(f-e);m[9]=(f+e)/(f-e);m[13]=0;m[2]=0;m[6]=0;m[10]=-(s+l)/(s-l);m[14]=-2*s*l/(s-l);m[3]=0;m[7]=0;m[11]=-1;m[15]=
0;return this},makePerspective:function(a,c,e,f){a=e*Math.tan(WebMol.Math.degToRad(.5*a));var l=-a;return this.makeFrustum(l*c,a*c,l,a,e,f)},clone:function(){var a=this.elements;return new WebMol.Matrix4(a[0],a[4],a[8],a[12],a[1],a[5],a[9],a[13],a[2],a[6],a[10],a[14],a[3],a[7],a[11],a[15])}};WebMol.Ray=function(a,c){this.origin=void 0!==a?a:new WebMol.Vector3;this.direction=void 0!==c?c:new WebMol.Vector3};
WebMol.Ray.prototype={constructor:WebMol.Ray,set:function(a,c){this.origin.copy(a);this.direction.copy(c);return this},copy:function(a){this.origin.copy(a.origin);this.direction.copy(a.direction);return this},at:function(a,c){return(c||new WebMol.Vector3).copy(this.direction).multiplyScalar(a).add(this.origin)},recast:function(){var a=new WebMol.Vector3;return function(c){this.origin.copy(this.at(c,a));return this}}(),closestPointToPoint:function(a,c){var e=c||new WebMol.Vector3;e.subVectors(a,this.origin);
var f=e.dot(this.direction);return e.copy(this.direction).multiplyScalar(f).add(this.origin)},distanceToPoint:function(){var a=new WebMol.Vector3;return function(c){var e=a.subVectors(c,this.origin).dot(this.direction);a.copy(this.direction).multiplyScalar(e).add(this.origin);return a.distanceTo(c)}}(),isIntersectionCylinder:function(){},isIntersectionSphere:function(a){return this.distanceToPoint(a.center)<=a.radius},isIntersectionPlane:function(a){return 0!==a.normal.dot(this.direction)||0===a.distanceToPoint(this.origin)?
!0:!1},distanceToPlane:function(a){var c=a.normal.dot(this.direction);if(0===c){if(0===a.distanceToPoint(this.origin))return 0}else return-(this.origin.dot(a.normal)+a.constant)/c},intersectPlane:function(a,c){var e=this.distanceToPlane(a);return void 0===e?void 0:this.at(e,c)},applyMatrix4:function(a){this.direction.add(this.origin).applyMatrix4(a);this.origin.applyMatrix4(a);this.direction.sub(this.origin);return this},equals:function(a){return a.origin.equals(this.origin)&&a.direction.equals(this.direction)},
clone:function(){return(new WebMol.Ray).copy(this)}};WebMol.Sphere=function(a,c){this.center=void 0!==a?a:new WebMol.Vector3;this.radius=void 0!==c?c:0};
WebMol.Sphere.prototype={constructor:WebMol.Sphere,set:function(a,c){this.center.copy(a);this.radius=c;return this},copy:function(a){this.center.copy(a.center);this.radius=a.radius;return this},applyMatrix4:function(a){this.center.applyMatrix4(a);this.radius*=a.getMaxScaleOnAxis();return this},translate:function(a){this.center.add(a);return this},equals:function(a){return a.center.equals(this.center)&&a.radius===this.radius},clone:function(){return(new WebMol.Sphere).copy(this)}};
WebMol.Cylinder=function(a,c,e){this.c1=void 0!==a?a:new WebMol.Vector3;this.c2=void 0!==c?c:new WebMol.Vector3;this.direction=(new WebMol.Vector3).subVectors(this.c2,this.c1).normalize();this.radius=void 0!==e?e:0};
WebMol.Cylinder.prototype={constructor:WebMol.Cylinder,copy:function(a){this.c1.copy(a.c1);this.c2.copy(a.c2);this.direction.copy(a.direction);this.radius=a.radius;return this},lengthSq:function(){var a=new WebMol.Vector3;return function(){return a.subVectors(this.c2,this.c1).lengthSq()}}(),applyMatrix4:function(a){this.direction.add(this.c1).applyMatrix4(a);this.c1.applyMatrix4(a);this.c2.applyMatrix4(a);this.direction.sub(this.c1).normalize();this.radius*=a.getMaxScaleOnAxis();return this}};
WebMol.Triangle=function(a,c,e){this.a=void 0!==a?a:new WebMol.Vector3;this.b=void 0!==c?c:new WebMol.Vector3;this.c=void 0!==e?e:new WebMol.Vector3};
WebMol.Triangle.prototype={constructor:WebMol.Triangle,copy:function(a){this.a.copy(a.a);this.b.copy(a.b);this.c.copy(a.c);return this},applyMatrix4:function(a){this.a.applyMatrix4(a);this.b.applyMatrix4(a);this.c.applyMatrix4(a);return this},getNormal:function(){var a=new WebMol.Vector3;return function(){var c=this.a.clone();c.sub(this.b);a.subVectors(this.c,this.b);c.cross(a);c.normalize();return c}}()};
WebMol.EventDispatcher=function(){var a={};this.addEventListener=function(c,e){void 0===a[c]&&(a[c]=[]);-1===a[c].indexOf(e)&&a[c].push(e)};this.removeEventListener=function(c,e){var f=a[c].indexOf(e);-1!==f&&a[c].splice(f,1)};this.dispatchEvent=function(c){var e=a[c.type];if(void 0!==e){c.target=this;for(var f=0,l=e.length;f<l;f++)e[f].call(this,c)}}};WebMol.Color=function(a){return 1<arguments.length?(this.r=arguments[0]||0,this.g=arguments[1]||0,this.b=arguments[2]||0,this):this.set(a)};
WebMol.Color.prototype={constructor:WebMol.Color,r:0,g:0,b:0,set:function(a){if(a instanceof WebMol.Color)return a.clone();"number"===typeof a&&this.setHex(a)},setHex:function(a){a=Math.floor(a);this.r=(a>>16&255)/255;this.g=(a>>8&255)/255;this.b=(a&255)/255;return this},clone:function(){return new WebMol.Color(this.r,this.g,this.b)},copy:function(a){this.r=a.r;this.g=a.g;this.b=a.b;return this}};
WebMol.Object3D=function(){this.id=WebMol.Object3DIDCount++;this.name="";this.parent=void 0;this.children=[];this.position=new WebMol.Vector3;this.rotation=new WebMol.Vector3;this.matrix=new WebMol.Matrix4;this.matrixWorld=new WebMol.Matrix4;this.quaternion=new WebMol.Quaternion;this.eulerOrder="XYZ";this.up=new WebMol.Vector3(0,1,0);this.scale=new WebMol.Vector3(1,1,1);this.rotationAutoUpdate=this.matrixWorldNeedsUpdate=this.matrixAutoUpdate=!0;this.useQuaternion=!1;this.visible=!0};
WebMol.Object3D.prototype={constructor:WebMol.Object3D,lookAt:function(a){this.matrix.lookAt(a,this.position,this.up);this.rotationAutoUpdate&&(!0===this.useQuaternion?this.quaternion.copy(this.matrix.decompose()[1]):this.rotation.setEulerFromRotationMatrix(this.matrix,this.eulerOrder))},add:function(a){if(a===this)console.error("Can't add WebMol.Object3D to itself");else{a.parent=this;this.children.push(a);for(var c=this;void 0!==c.parent;)c=c.parent;void 0!==c&&c instanceof WebMol.Scene&&c.__addObject(a)}},
remove:function(a){var c=this.children.indexOf(a);if(-1!==c){a.parent=void 0;this.children.splice(c,1);for(c=this;void 0!==c.parent;)c=c.parent;void 0!==c&&c instanceof WebMol.Scene&&c.__removeObject(a)}},updateMatrix:function(){this.matrix.setPosition(this.position);!1===this.useQuaternion?this.matrix.setRotationFromEuler(this.rotation,this.eulerOrder):this.matrix.setRotationFromQuaternion(this.quaternion);1===this.scale.x&&1===this.scale.y&&1===this.scale.z||this.matrix.scale(this.scale);this.matrixWorldNeedsUpdate=
!0},updateMatrixWorld:function(a){!0===this.matrixAutoUpdate&&this.updateMatrix();if(!0===this.matrixWorldNeedsUpdate||!0===a)void 0===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix);this.matrixWorldNeedsUpdate=!1;for(a=0;a<this.children.length;a++)this.children[a].updateMatrixWorld(!0)},clone:function(a){void 0===a&&(a=new WebMol.Object3D);a.name=this.name;a.up.copy(this.up);a.position.copy(this.position);a.rotation.copy(this.rotation);
a.eulerOrder=this.eulerOrder;a.scale.copy(this.scale);a.rotationAutoUpdate=this.rotationAutoUpdate;a.matrix.copy(this.matrix);a.matrixWorld.copy(this.matrixWorld);a.quaternion.copy(this.quaternion);a.useQuaternion=this.useQuaternion;a.visible=this.visible;for(var c=0;c<this.children.length;c++)a.add(this.children[c].clone());return a}};WebMol.Object3DIDCount=0;
WebMol.Geometry=function(){var a=function(a){this.id=a||0;this.lineArray=this.faceArray=this.normalArray=this.colorArray=this.vertexArray=null;this.lineidx=this.faceidx=this.vertices=0};a.prototype.getNumVertices=function(){return this.vertices};a.prototype.getVertices=function(){return this.vertexArray};a.prototype.getCentroid=function(){for(var a=new WebMol.Vector3,c,e,m,p=0;p<this.vertices;++p)c=3*p,e=this.vertexArray[c],m=this.vertexArray[c+1],c=this.vertexArray[c+2],a.x+=e,a.y+=m,a.z+=c;a.divideScalar(this.vertices);
return a};a.prototype.setNormals=function(){var a=this.faceArray,c=this.vertexArray,e=this.normalArray;if(this.vertices&&this.faceidx)for(var m,p,t,v,B,K,D=0;D<a.length/3;++D)m=3*a[3*D],p=3*a[3*D+1],t=3*a[3*D+2],v=new WebMol.Vector3(c[m],c[m+1],c[m+2]),B=new WebMol.Vector3(c[p],c[p+1],c[p+2]),K=new WebMol.Vector3(c[t],c[t+1],c[t+2]),v.subVectors(v,B),K.subVectors(K,B),K.cross(v),v=K,v.normalize(),e[m]+=v.x,e[p]+=v.x,e[t]+=v.x,e[m+1]+=v.y,e[p+1]+=v.y,e[t+1]+=v.y,e[m+2]+=v.z,e[p+2]+=v.z,e[t+2]+=v.z};
a.prototype.setLineIndices=function(){if(this.faceidx){var a=this.faceArray,c=this.lineArray=new Uint16Array(2*this.faceidx);this.lineidx=2*this.faceidx;for(var e,m=0;m<this.faceidx/3;++m){e=3*m;lineoffset=2*e;var p=a[e],t=a[e+1];e=a[e+2];c[lineoffset]=p;c[lineoffset+1]=t;c[lineoffset+2]=p;c[lineoffset+3]=e;c[lineoffset+4]=t;c[lineoffset+5]=e}}};a.prototype.truncateArrayBuffers=function(a){a=!0===a?!0:!1;var c=this.colorArray,e=this.normalArray,m=this.faceArray,p=this.lineArray;this.vertexArray=this.vertexArray.subarray(0,
3*this.vertices);this.colorArray=c.subarray(0,3*this.vertices);a?(this.normalArray=e.subarray(0,3*this.vertices),this.faceArray=m.subarray(0,this.faceidx),this.lineArray=0<this.lineidx?p.subarray(0,this.lineidx):new Uint16Array):(this.normalArray=new Float32Array,this.faceArray=new Uint16Array,this.lineArray=new Uint16Array);this.__inittedArrays=!0};var c=function(c){var e=new a(c.geometryGroups.length);c.geometryGroups.push(e);c.groups=c.geometryGroups.length;e.vertexArray=new Float32Array(196605);
e.colorArray=new Float32Array(196605);c.mesh&&(e.normalArray=new Float32Array(196605),e.faceArray=new Uint16Array(393210),e.lineArray=new Uint16Array(393210));return e},e=function(a){WebMol.EventDispatcher.call(this);this.id=WebMol.GeometryIDCount++;this.name="";this.hasTangents=!1;this.dynamic=!0;this.mesh=!0===a?!0:!1;this.buffersNeedUpdate=this.colorsNeedUpdate=this.normalsNeedUpdate=this.elementsNeedUpdate=this.verticesNeedUpdate=!1;this.geometryGroups=[];this.groups=0};e.prototype={constructor:e,
updateGeoGroup:function(a){var e=0<this.groups?this.geometryGroups[this.groups-1]:null;if(!e||65535<e.vertices+(a||0))e=c(this);return e},addGeoGroup:function(){return c(this)},setUpNormals:function(a){a=a||!1;for(var c=0;c<this.groups;c++)this.geometryGroups[c].setNormals(a)},setUpWireframe:function(){for(var a=0;a<this.groups;a++)this.geometryGroups[a].setLineIndices()},initTypedArrays:function(){for(var a=0;a<this.groups;a++){var c=this.geometryGroups[a];!0!==c.__inittedArrays&&c.truncateArrayBuffers(this.mesh)}},
dispose:function(){this.dispatchEvent({type:"dispose"})}};return e}();Object.defineProperty(WebMol.Geometry.prototype,"vertices",{get:function(){for(var a=0,c=0;c<this.groups;c++)a+=this.geometryGroups[c].vertices;return a}});WebMol.GeometryIDCount=0;
WebMol.Raycaster=function(){var a=function(a,c,e,f){this.ray=new WebMol.Ray(a,c);0<this.ray.direction.lengthSq()&&this.ray.direction.normalize();this.near=f||0;this.far=e||Infinity},c=new WebMol.Sphere,e=new WebMol.Cylinder,f=new WebMol.Triangle,l=new WebMol.Vector3,s=new WebMol.Vector3,m=new WebMol.Vector3,p=new WebMol.Vector3;new WebMol.Ray;new WebMol.Vector3;var t=new WebMol.Vector3;new WebMol.Matrix4;var v=function(a,c){return a.distance-c.distance},B=function(a){return Math.min(Math.max(a,-1),
1)};a.prototype.precision=1E-4;a.prototype.linePrecision=.2;a.prototype.set=function(a,c){this.ray.set(a,c)};a.prototype.intersectObjects=function(a,D){for(var I=[],G=0,E=D.length;G<E;G++)a:{var w=a,A=D[G],y=I;t.getPositionFromMatrix(w.matrixWorld);if(!0===A.clickable&&void 0!==A.intersectionShape){var J=A.intersectionShape,S=this.linePrecision,S=S*w.matrixWorld.getMaxScaleOnAxis(),S=S*S;if(void 0!==A.boundingSphere&&A.boundingSphere instanceof WebMol.Sphere&&(c.copy(A.boundingSphere),c.applyMatrix4(w.matrixWorld),
!this.ray.isIntersectionSphere(c)))break a;for(var M=void 0,P=void 0,H=void 0,u=void 0,L=H=void 0,Q=void 0,X=void 0,U=void 0,N=void 0,V=N=L=u=void 0,M=0,P=J.triangle.length;M<P;M++)J.triangle[M]instanceof WebMol.Triangle&&(f.copy(J.triangle[M]),f.applyMatrix4(w.matrixWorld),H=f.getNormal(),u=this.ray.direction.dot(H),0<=u||(l.subVectors(f.a,this.ray.origin),Q=H.dot(l)/u,0>Q||(s.copy(this.ray.direction).multiplyScalar(Q).add(this.ray.origin),s.sub(f.a),m.copy(f.b).sub(f.a),p.copy(f.c).sub(f.a),u=m.dot(p),
H=m.lengthSq(),L=p.lengthSq(),L=(H*s.dot(p)-u*s.dot(m))/(H*L-u*u),0>L||1<L||(u=(s.dot(m)-L*u)/H,0>u||1<u||1<u+L||y.push({clickable:A,distance:Q})))));M=0;for(P=J.cylinder.length;M<P;M++)J.cylinder[M]instanceof WebMol.Cylinder&&(e.copy(J.cylinder[M]),e.applyMatrix4(w.matrixWorld),l.subVectors(e.c1,this.ray.origin),H=l.dot(e.direction),L=l.dot(this.ray.direction),u=B(this.ray.direction.dot(e.direction)),U=1-u*u,0!==U&&(N=(u*L-H)/U,V=(L-u*H)/U,s.copy(e.direction).multiplyScalar(N).add(e.c1),m.copy(this.ray.direction).multiplyScalar(V).add(this.ray.origin),
X=p.subVectors(s,m).lengthSq(),N=e.radius*e.radius,X<=N&&(N=(u*H-L)*(u*H-L)-U*(l.lengthSq()-H*H-N),L=0>=N?Q=Math.sqrt(X):Q=(L-u*H-Math.sqrt(N))/U,u=u*L-H,0>u||u*u>e.lengthSq()||0>L||y.push({clickable:A,distance:Q}))));M=0;for(P=J.line.length;M<P;M+=2)s.copy(J.line[M]),s.applyMatrix4(w.matrixWorld),m.copy(J.line[M+1]),m.applyMatrix4(w.matrixWorld),p.subVectors(m,s),Q=p.lengthSq(),p.normalize(),l.subVectors(s,this.ray.origin),lineProj=l.dot(p),L=l.dot(this.ray.direction),u=B(this.ray.direction.dot(p)),
U=1-u*u,0!==U&&(N=(u*L-lineProj)/U,V=(L-u*lineProj)/U,s.add(p.multiplyScalar(N)),m.copy(this.ray.direction).multiplyScalar(V).add(this.ray.origin),X=p.subVectors(m,s).lengthSq(),X<S&&N*N<Q&&y.push({clickable:A,distance:V}));M=0;for(P=J.sphere.length;M<P;M++)if(J.sphere[M]instanceof WebMol.Sphere&&(c.copy(J.sphere[M]),c.applyMatrix4(w.matrixWorld),this.ray.isIntersectionSphere(c))){s.subVectors(c.center,this.ray.origin);w=s.dot(this.ray.direction);N=w*w-(s.lengthSq()-c.radius*c.radius);if(0>w)break a;
Q=0>=N?w:w-Math.sqrt(N);y.push({clickable:A,distance:Q});break a}}}I.sort(v);return I};return a}();WebMol.Projector=function(){new WebMol.Matrix4;var a=new WebMol.Matrix4;this.projectVector=function(c,e){e.matrixWorldInverse.getInverse(e.matrixWorld);a.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse);return c.applyProjection(a)};this.unprojectVector=function(c,e){e.projectionMatrixInverse.getInverse(e.projectionMatrix);a.multiplyMatrices(e.matrixWorld,e.projectionMatrixInverse);return c.applyProjection(a)}};
WebMol.Camera=function(a,c,e,f){WebMol.Object3D.call(this);this.fov=void 0!==a?a:50;this.aspect=void 0!==c?c:1;this.near=void 0!==e?e:.1;this.far=void 0!==f?f:2E3;this.projectionMatrix=new WebMol.Matrix4;this.projectionMatrixInverse=new WebMol.Matrix4;this.matrixWorldInverse=new WebMol.Matrix4;this.updateProjectionMatrix()};WebMol.Camera.prototype=Object.create(WebMol.Object3D.prototype);
WebMol.Camera.prototype.lookAt=function(a){this.matrix.lookAt(this.position,a,this.up);this.rotationAutoUpdate&&(!1===this.useQuaternion?this.rotation.setEulerFromRotationMatrix(this.matrix,this.eulerOrder):this.quaternion.copy(this.matrix.decompose()[1]))};WebMol.Camera.prototype.updateProjectionMatrix=function(){this.projectionMatrix.makePerspective(this.fov,this.aspect,this.near,this.far)};
WebMol.SpritePlugin=function(){function a(a,c){return a.z!==c.z?c.z-a.z:c.id-a.id}var c,e,f,l,s,m,p,t,v,B;this.init=function(a){c=a.context;e=a;f=a.getPrecision();l=new Float32Array(16);s=new Uint16Array(6);a=0;l[a++]=-1;l[a++]=-1;l[a++]=0;l[a++]=0;l[a++]=1;l[a++]=-1;l[a++]=1;l[a++]=0;l[a++]=1;l[a++]=1;l[a++]=1;l[a++]=1;l[a++]=-1;l[a++]=1;l[a++]=0;l[a++]=1;a=0;s[a++]=0;s[a++]=1;s[a++]=2;s[a++]=0;s[a++]=2;s[a++]=3;m=c.createBuffer();p=c.createBuffer();c.bindBuffer(c.ARRAY_BUFFER,m);c.bufferData(c.ARRAY_BUFFER,
l,c.STATIC_DRAW);c.bindBuffer(c.ELEMENT_ARRAY_BUFFER,p);c.bufferData(c.ELEMENT_ARRAY_BUFFER,s,c.STATIC_DRAW);a=WebMol.ShaderLib.sprite;var D=f,I=c.createProgram(),G=c.createShader(c.FRAGMENT_SHADER),E=c.createShader(c.VERTEX_SHADER),D="precision "+D+" float;\n";c.shaderSource(G,D+a.fragmentShader);c.shaderSource(E,D+a.vertexShader);c.compileShader(G);c.compileShader(E);c.getShaderParameter(G,c.COMPILE_STATUS)&&c.getShaderParameter(E,c.COMPILE_STATUS)?(c.attachShader(I,G),c.attachShader(I,E),c.linkProgram(I),
c.getProgramParameter(I,c.LINK_STATUS)||console.error("Could not initialize shader"),a=I):(console.error(c.getShaderInfoLog(G)),console.error("could not initialize shader"),a=null);t=a;v={};B={};v.position=c.getAttribLocation(t,"position");v.uv=c.getAttribLocation(t,"uv");B.uvOffset=c.getUniformLocation(t,"uvOffset");B.uvScale=c.getUniformLocation(t,"uvScale");B.rotation=c.getUniformLocation(t,"rotation");B.scale=c.getUniformLocation(t,"scale");B.alignment=c.getUniformLocation(t,"alignment");B.color=
c.getUniformLocation(t,"color");B.map=c.getUniformLocation(t,"map");B.opacity=c.getUniformLocation(t,"opacity");B.useScreenCoordinates=c.getUniformLocation(t,"useScreenCoordinates");B.sizeAttenuation=c.getUniformLocation(t,"sizeAttenuation");B.screenPosition=c.getUniformLocation(t,"screenPosition");B.modelViewMatrix=c.getUniformLocation(t,"modelViewMatrix");B.projectionMatrix=c.getUniformLocation(t,"projectionMatrix");B.fogType=c.getUniformLocation(t,"fogType");B.fogDensity=c.getUniformLocation(t,
"fogDensity");B.fogNear=c.getUniformLocation(t,"fogNear");B.fogFar=c.getUniformLocation(t,"fogFar");B.fogColor=c.getUniformLocation(t,"fogColor");B.alphaTest=c.getUniformLocation(t,"alphaTest")};this.render=function(f,l,s,G){var E=f.__webglSprites,w=E.length;if(w){var A=v,y=B,J=G/s;s*=.5;var S=.5*G;c.useProgram(t);c.enableVertexAttribArray(A.position);c.enableVertexAttribArray(A.uv);c.disable(c.CULL_FACE);c.enable(c.BLEND);c.bindBuffer(c.ARRAY_BUFFER,m);c.vertexAttribPointer(A.position,2,c.FLOAT,
!1,16,0);c.vertexAttribPointer(A.uv,2,c.FLOAT,!1,16,8);c.bindBuffer(c.ELEMENT_ARRAY_BUFFER,p);c.uniformMatrix4fv(y.projectionMatrix,!1,l.projectionMatrix.elements);c.activeTexture(c.TEXTURE0);c.uniform1i(y.map,0);var M=A=0;(A=f.fog)?(c.uniform3f(y.fogColor,A.color.r,A.color.g,A.color.b),c.uniform1f(y.fogNear,A.near),c.uniform1f(y.fogFar,A.far),c.uniform1i(y.fogType,1),M=A=1):(c.uniform1i(y.fogType,0),M=A=0);var P,H,u,L=[];for(P=0;P<w;P++)H=E[P],u=H.material,H.visible&&0!==u.opacity&&(u.useScreenCoordinates?
H.z=-H.position.z:(H._modelViewMatrix.multiplyMatrices(l.matrixWorldInverse,H.matrixWorld),H.z=-H._modelViewMatrix.elements[14]));E.sort(a);for(P=0;P<w;P++)H=E[P],u=H.material,H.visible&&0!==u.opacity&&u.map&&u.map.image&&u.map.image.width&&(c.uniform1f(y.alphaTest,u.alphaTest),!0===u.useScreenCoordinates?(c.uniform1i(y.useScreenCoordinates,1),c.uniform3f(y.screenPosition,(H.position.x*e.devicePixelRatio-s)/s,(S-H.position.y*e.devicePixelRatio)/S,Math.max(0,Math.min(1,H.position.z))),L[0]=e.devicePixelRatio,
L[1]=e.devicePixelRatio):(c.uniform1i(y.useScreenCoordinates,0),c.uniform1i(y.sizeAttenuation,u.sizeAttenuation?1:0),c.uniformMatrix4fv(y.modelViewMatrix,!1,H._modelViewMatrix.elements),L[0]=1,L[1]=1),l=f.fog&&u.fog?M:0,A!==l&&(c.uniform1i(y.fogType,l),A=l),l=1/(u.scaleByViewport?G:1),L[0]=L[0]*l*J*H.scale.x,L[1]=L[1]*l*H.scale.y,c.uniform2f(y.uvScale,u.uvScale.x,u.uvScale.y),c.uniform2f(y.uvOffset,u.uvOffset.x,u.uvOffset.y),c.uniform2f(y.alignment,u.alignment.x,u.alignment.y),c.uniform1f(y.opacity,
u.opacity),c.uniform3f(y.color,u.color.r,u.color.g,u.color.b),c.uniform1f(y.rotation,H.rotation),c.uniform2fv(y.scale,L),e.setDepthTest(u.depthTest),e.setDepthWrite(u.depthWrite),e.setTexture(u.map,0),c.drawElements(c.TRIANGLES,6,c.UNSIGNED_SHORT,0));c.enable(c.CULL_FACE)}}};WebMol.Light=function(a,c){WebMol.Object3D.call(this);this.color=new WebMol.Color(a);this.position=new WebMol.Vector3(0,1,0);this.target=new WebMol.Object3D;this.intensity=void 0!==c?c:1;this.onlyShadow=this.castShadow=!1};
WebMol.Light.prototype=Object.create(WebMol.Object3D.prototype);WebMol.Material=function(){WebMol.EventDispatcher.call(this);this.id=WebMol.MaterialIdCount++;this.name="";this.side=WebMol.FrontSide;this.opacity=1;this.transparent=!1;this.blending=WebMol.NormalBlending;this.depthWrite=this.depthTest=!0;this.polygonOffset=!1;this.alphaTest=this.polygonOffsetUnits=this.polygonOffsetFactor=0;this.needsUpdate=this.visible=!0};
WebMol.Material.prototype.setValues=function(a){if(void 0!==a)for(var c in a){var e=a[c];if(void 0===e)console.warn("WebMol.Material: '"+c+"' parameter is undefined.");else if(c in this){var f=this[c];f instanceof WebMol.Color&&e instanceof WebMol.Color?f.copy(e):f instanceof WebMol.Color?f.set(e):f instanceof WebMol.Vector3&&e instanceof WebMol.Vector3?f.copy(e):this[c]=e}}};
WebMol.Material.prototype.clone=function(a){void 0===a&&(a=new WebMol.Material);a.name=this.name;a.side=this.side;a.opacity=this.opacity;a.transparent=this.transparent;a.blending=this.blending;a.depthTest=this.depthTest;a.depthWrite=this.depthWrite;a.polygonOffset=this.polygonOffset;a.polygonOffsetFactor=this.polygonOffsetFactor;a.polygonOffsetUnits=this.polygonOffsetUnits;a.alphaTest=this.alphaTest;a.overdraw=this.overdraw;a.visible=this.visible;return a};WebMol.Material.prototype.dispose=function(){this.dispatchEvent({type:"dispose"})};
WebMol.MaterialIdCount=0;WebMol.LineBasicMaterial=function(a){WebMol.Material.call(this);this.color=new WebMol.Color(16777215);this.linewidth=1;this.linejoin=this.linecap="round";this.vertexColors=!1;this.fog=!0;this.setValues(a)};WebMol.LineBasicMaterial.prototype=Object.create(WebMol.Material.prototype);WebMol.LineBasicMaterial.prototype.clone=function(){var a=new WebMol.LineBasicMaterial;WebMol.Material.prototype.clone.call(this,a);a.color.copy()};
WebMol.MeshLambertMaterial=function(a){WebMol.Material.call(this);this.color=new WebMol.Color(16777215);this.ambient=new WebMol.Color(1048575);this.emissive=new WebMol.Color(0);this.wrapAround=!1;this.wrapRGB=new WebMol.Vector3(1,1,1);this.envMap=this.specularMap=this.lightMap=this.map=null;this.reflectivity=1;this.refractionRatio=.98;this.fog=!0;this.wireframe=!1;this.wireframeLinewidth=1;this.wireframeLinejoin=this.wireframeLinecap="round";this.shading=WebMol.SmoothShading;this.vertexColors=WebMol.NoColors;
this.skinning=!1;this.setValues(a)};WebMol.MeshLambertMaterial.prototype=Object.create(WebMol.Material.prototype);
WebMol.MeshLambertMaterial.prototype.clone=function(){var a=new WebMol.MeshLambertMaterial;WebMol.Material.prototype.clone.call(this,a);a.color.copy(this.color);a.ambient.copy(this.ambient);a.emissive.copy(this.emissive);a.wrapAround=this.wrapAround;a.wrapRGB.copy(this.wrapRGB);a.map=this.map;a.lightMap=this.lightMap;a.specularMap=this.specularMap;a.envMap=this.envMap;a.combine=this.combine;a.reflectivity=this.reflectivity;a.refractionRatio=this.refractionRatio;a.fog=this.fog;a.shading=this.shading;
a.vertexColors=this.vertexColors;a.skinning=this.skinning;a.morphTargets=this.morphTargets;a.morphNormals=this.morphNormals;return a};
WebMol.SpriteMaterial=function(a){WebMol.Material.call(this);this.color=new WebMol.Color(16777215);this.map=new WebMol.Texture;this.useScreenCoordinates=!0;this.depthTest=!this.useScreenCoordinates;this.sizeAttenuation=!this.useScreenCoordinates;this.scaleByViewPort=!this.sizeAttenuation;this.alignment=WebMol.SpriteAlignment.center.clone();this.fog=!1;this.uvOffset=new WebMol.Vector2(0,0);this.uvScale=new WebMol.Vector2(1,1);this.setValues(a);a=a||{};void 0===a.depthTest&&(this.depthTest=!this.useScreenCoordinates);
void 0===a.sizeAttenuation&&(this.sizeAttenuation=!this.useScreenCoordinates);void 0===a.scaleByViewPort&&(this.scaleByViewPort=!this.sizeAttenuation)};WebMol.SpriteMaterial.prototype=Object.create(WebMol.Material.prototype);
WebMol.SpriteMaterial.prototype.clone=function(){var a=new WebMol.SpriteMaterial;WebMol.Material.prototype.clone.call(this,a);a.color.copy(this.color);a.map=this.map;a.useScreenCoordinates=useScreenCoordinates;a.sizeAttenuation=this.sizeAttenuation;a.scaleByViewport=this.scaleByViewPort;a.alignment.copy(this.alignment);a.uvOffset.copy(this.uvOffset);return a};WebMol.SpriteAlignment={};WebMol.SpriteAlignment.topLeft=new WebMol.Vector2(1,-1);WebMol.SpriteAlignment.topCenter=new WebMol.Vector2(0,-1);
WebMol.SpriteAlignment.topRight=new WebMol.Vector2(-1,-1);WebMol.SpriteAlignment.centerLeft=new WebMol.Vector2(1,0);WebMol.SpriteAlignment.center=new WebMol.Vector2(0,0);WebMol.SpriteAlignment.centerRight=new WebMol.Vector2(-1,0);WebMol.SpriteAlignment.bottomLeft=new WebMol.Vector2(1,1);WebMol.SpriteAlignment.bottomCenter=new WebMol.Vector2(0,1);WebMol.SpriteAlignment.bottomRight=new WebMol.Vector2(-1,1);
WebMol.Texture=function(a){WebMol.EventDispatcher.call(this);this.id=WebMol.TextureIdCount++;this.name="";this.image=a;this.mipmaps=[];this.mapping=new WebMol.UVMapping;this.wrapT=this.wrapS=WebMol.ClampToEdgeWrapping;this.magFilter=WebMol.LinearFilter;this.minFilter=WebMol.LinearMipMapLinearFilter;this.anisotropy=1;this.format=WebMol.RGBAFormat;this.type=WebMol.UnsignedByteType;this.offset=new WebMol.Vector2(0,0);this.repeat=new WebMol.Vector2(1,1);this.generateMipmaps=!0;this.premultiplyAlpha=!1;
this.flipY=!0;this.unpackAlignment=4;this.needsUpdate=!1;this.onUpdate=null};
WebMol.Texture.prototype={constructor:WebMol.Texture,clone:function(a){void 0===a&&(a=new WebMol.Texture);a.image=this.image;a.mipmaps=this.mipmaps.slice(0);a.mapping=this.mapping;a.wrapS=this.wrapS;a.wrapT=this.wrapT;a.magFilter=this.magFilter;a.minFilter=this.minFilter;a.anisotropy=this.anisotropy;a.format=this.format;a.type=this.type;a.offset.copy(this.offset);a.repeat.copy(this.repeat);a.generateMipmaps=this.generateMipmaps;a.premultiplyAlpha=this.premultiplyAlpha;a.flipY=this.flipY;a.unpackAlignment=
this.unpackAlignment;return a},dispose:function(){this.dispatchEvent({type:"dispose"})}};WebMol.TextureIdCount=0;WebMol.FrontSide=0;WebMol.BackSide=1;WebMol.DoubleSide=2;WebMol.NoBlending=0;WebMol.NormalBlending=1;WebMol.AdditiveBlending=2;WebMol.SubtractiveBlending=3;WebMol.MultiplyBlending=4;WebMol.CustomBlending=5;WebMol.NoShading=0;WebMol.FlatShading=1;WebMol.SmoothShading=2;WebMol.NoColors=0;WebMol.FaceColors=1;WebMol.VertexColors=2;WebMol.MultiplyOperation=0;WebMol.MixOperation=1;
WebMol.AddOperation=2;WebMol.UVMapping=function(){};WebMol.ClampToEdgeWrapping=1001;WebMol.LinearFilter=1006;WebMol.LinearMipMapLinearFilter=1008;WebMol.UnsignedByteType=1009;WebMol.RGBAFormat=1021;WebMol.Line=function(a,c,e){WebMol.Object3D.call(this);this.geometry=a;this.material=void 0!==c?c:new WebMol.LineBasicMaterial({color:16777215*Math.random()});this.type=void 0!==e?e:WebMol.LineStrip};WebMol.LineStrip=0;WebMol.LinePieces=1;WebMol.Line.prototype=Object.create(WebMol.Object3D.prototype);
WebMol.Line.prototype.clone=function(a){void 0===a&&(a=new WebMol.Line(this.geometry,this.material,this.type));WebMol.Object3D.prototype.clone.call(this,a);return a};WebMol.Mesh=function(a,c){WebMol.Object3D.call(this);this.geometry=a;this.material=void 0!==c?c:new WebMol.MeshBasicMaterial({color:16777215*Math.random(),wireframe:!0})};WebMol.Mesh.prototype=Object.create(WebMol.Object3D.prototype);
WebMol.Mesh.prototype.clone=function(a){void 0===a&&(a=new WebMol.Mesh(this.geometry,this.material));WebMol.Object3D.prototype.clone.call(this,a);return a};WebMol.Sprite=function(a){WebMol.Object3D.call(this);this.material=void 0!==a?a:new WebMol.SpriteMaterial;this.rotation3d=this.rotation;this.rotation=0};WebMol.Sprite.prototype=Object.create(WebMol.Object3D.prototype);
WebMol.Sprite.prototype.updateMatrix=function(){this.matrix.setPosition(this.position);this.rotation3d.set(0,0,this.rotation);this.matrix.setRotationFromEuler(this.rotation3d);1===this.scale.x&&1===this.scale.y||this.matrix.scale(this.scale);this.matrixWorldNeedsUpdate=!0};WebMol.Sprite.prototype.clone=function(a){void 0===a&&(a=new WebMol.Sprite(this.material));WebMol.Object3D.prototype.clone.call(this,a);return a};
WebMol.Renderer=function(a){function c(a){aa[a]||(h.enableVertexAttribArray(a),aa[a]=!0)}function e(a,c){var e;"fragment"===a?e=h.createShader(h.FRAGMENT_SHADER):"vertex"===a&&(e=h.createShader(h.VERTEX_SHADER));h.shaderSource(e,c);h.compileShader(e);return h.getShaderParameter(e,h.COMPILE_STATUS)?e:(console.error(h.getShaderInfoLog(e)),console.error("could not initialize shader"),null)}function f(a,c,e,f,l,m,p,s){var d,t,u;c?(t=a.length-1,s=c=-1):(t=0,c=a.length,s=1);for(var w=t;w!==c;w+=s)if(d=
a[w],d.render&&(t=d.object,u=d.buffer,d=d[e])){p&&E.setBlending(d.blending);E.setDepthTest(d.depthTest);E.setDepthWrite(d.depthWrite);var v=d.polygonOffset;null!==v&&(v?h.enable(h.POLYGON_OFFSET_FILL):h.disable(h.POLYGON_OFFSET_FILL));E.setMaterialFaces(d);E.renderBuffer(f,l,m,d,u,t)}}function l(a){return 0===(a&a-1)}function s(a){return a===WebMol.UnsignedByteType?h.UNSIGNED_BYTE:a===WebMol.RGBAFormat?h.RGBA:0}a=a||{};var m=void 0!==a.canvas?a.canvas:document.createElement("canvas"),p=void 0!==a.precision?
a.precision:"highp",t=void 0!==a.alpha?a.alpha:!0,v=void 0!==a.premultipliedAlpha?a.premultipliedAlpha:!0,B=void 0!==a.antialias?a.antialias:!1,K=void 0!==a.stencil?a.stencil:!0,D=void 0!==a.preserveDrawingBuffer?a.preserveDrawingBuffer:!1,I=void 0!==a.clearColor?new WebMol.Color(a.clearColor):new WebMol.Color(0),G=void 0!==a.clearAlpha?a.clearAlpha:0;this.domElement=m;this.context=null;this.devicePixelRatio=void 0!==a.devicePixelRatio?a.devicePixelRatio:void 0!==self.devicePixelRatio?self.devicePixelRatio:
1;this.autoUpdateScene=this.autoUpdateObjects=this.sortObjects=this.autoClearStencil=this.autoClearDepth=this.autoClearColor=this.autoClear=!0;this.renderPluginsPost=[];this.info={memory:{programs:0,geometries:0,textures:0},render:{calls:0,vertices:0,faces:0,points:0}};var E=this,w=[],A=0,y=null,J=-1,S=null,M=null,P=0,H=-1,u=-1,L=-1,Q=-1,X=null,U=0,N=0,V=0,da=0,fa=0,ea=0,aa={},Ga=new WebMol.Matrix4,Ia=new WebMol.Vector3,T=new WebMol.Vector3,ja=!0,pa=[0,0,0],ka=[],qa=[],h;try{if(!(h=m.getContext("experimental-webgl",
{alpha:t,premultipliedAlpha:v,antialias:B,stencil:K,preserveDrawingBuffer:D})))throw"Error creating WebGL context.";}catch(C){console.error(C)}h.clearColor(0,0,0,1);h.clearDepth(1);h.clearStencil(0);h.enable(h.DEPTH_TEST);h.depthFunc(h.LEQUAL);h.frontFace(h.CCW);h.cullFace(h.BACK);h.enable(h.CULL_FACE);h.enable(h.BLEND);h.blendEquation(h.FUNC_ADD);h.blendFunc(h.SRC_ALPHA,h.ONE_MINUS_SRC_ALPHA);h.clearColor(I.r,I.g,I.b,G);this.context=h;this.getContext=function(){return h};this.getPrecision=function(){return p};
this.setClearColorHex=function(a,c){I.setHex(a);G=c;h.clearColor(I.r,I.g,I.b,G)};this.setSize=function(a,c){m.width=a*this.devicePixelRatio;m.height=c*this.devicePixelRatio;m.style.width=a+"px";m.style.height=c+"px";this.setViewport(0,0,m.width,m.height)};this.setViewport=function(a,c,e,f){U=void 0!==a?a:0;N=void 0!==c?c:0;V=void 0!==e?e:m.width;da=void 0!==f?f:m.height;h.viewport(U,N,V,da)};this.clear=function(a,c,e){var f=0;if(void 0===a||a)f|=h.COLOR_BUFFER_BIT;if(void 0===c||c)f|=h.DEPTH_BUFFER_BIT;
if(void 0===e||e)f|=h.STENCIL_BUFFER_BIT;h.clear(f)};this.clearTarget=function(a,c,e){this.clear(a,c,e)};this.setMaterialFaces=function(a){var c=a.side===WebMol.DoubleSide;a=a.side===WebMol.BackSide;H!==c&&(c?h.disable(h.CULL_FACE):h.enable(h.CULL_FACE),H=c);u!==a&&(a?h.frontFace(h.CW):h.frontFace(h.CCW),u=a)};this.setDepthTest=function(a){L!==a&&(a?h.enable(h.DEPTH_TEST):h.disable(h.DEPTH_TEST),L=a)};this.setDepthWrite=function(a){Q!==a&&(h.depthMask(a),Q=a)};this.setBlending=function(a){a===WebMol.NoBlending?
h.disable(h.BLEND):(h.enable(h.BLEND),h.blendEquationSeparate(h.FUNC_ADD,h.FUNC_ADD),h.blendFuncSeparate(h.SRC_ALPHA,h.ONE_MINUS_SRC_ALPHA,h.ONE,h.ONE_MINUS_SRC_ALPHA))};this.addPostPlugin=function(a){a.init(this);this.renderPluginsPost.push(a)};var Ja=function(a){a=a.target;a.removeEventListener("dispose",Ja);a.__webglInit=void 0;void 0!==a.__webglVertexBuffer&&h.deleteBuffer(a.__webglVertexBuffer);void 0!==a.__webglColorBuffer&&h.deleteBuffer(a.__webglColorBuffer);if(void 0!==a.geometryGroups)for(var c=
0,e=a.groups;c<e;c++){var f=a.geometryGroups[c];void 0!==f.__webglVertexBuffer&&h.deleteBuffer(f.__webglVertexBuffer);void 0!==f.__webglColorBuffer&&h.deleteBuffer(f.__webglColorBuffer);void 0!==f.__webglNormalBuffer&&h.deleteBuffer(f.__webglNormalBuffer);void 0!==f.__webglFaceBuffer&&h.deleteBuffer(f.__webglFaceBuffer);void 0!==f.__webglLineBuffer&&h.deleteBuffer(f.__webglLineBuffer)}E.info.memory.geometries--},Ka=function(a){a=a.target;a.removeEventListener("dispose",Ka);a.image&&a.image.__webglTextureCube?
h.deleteTexture(a.image.__webglTextureCube):a.__webglInit&&(a.__webglInit=!1,h.deleteTexture(a.__webglTexture));E.info.memory.textures--},La=function(a){a=a.target;a.removeEventListener("dispose",La);ra(a)},ra=function(a){var c=a.program;if(void 0!==c){a.program=void 0;var e,f,l=!1;a=0;for(e=w.length;a<e;a++)if(f=w[a],f.program===c){f.usedTimes--;0===f.usedTimes&&(l=!0);break}if(!0===l){l=[];a=0;for(e=w.length;a<e;a++)f=w[a],f.program!==c&&l.push(f);w=l;h.deleteProgram(c);E.info.memory.programs--}}};
this.initMaterial=function(a,c,f,l){a.addEventListener("dispose",La);var m;a instanceof WebMol.LineBasicMaterial?m="basic":a instanceof WebMol.MeshLambertMaterial&&(m="lambert");m&&(c=WebMol.ShaderLib[m],a.shaderType=m,a.vertexShader=c.vertexShader,a.fragmentShader=c.fragmentShader,a.uniforms=WebMol.ShaderUtils.clone(c.uniforms));var s;a:{l=a.fragmentShader;f=a.vertexShader;c=a.uniforms;var t={wireframe:a.wireframe},u,d;m=[];m.push(l);m.push(f);for(u in t)m.push(u),m.push(t[u]);m=m.join();u=0;for(d=
w.length;u<d;u++){var v=w[u];if(v.code===m){v.usedTimes++;s=v.program;break a}}u=h.createProgram();v="precision "+p+" float;";d=""+v;t=[t.wireframe?"#define WIREFRAME 1":"",v].join("\n");l=e("fragment",t+l);f=e("vertex",d+f);h.attachShader(u,f);h.attachShader(u,l);h.linkProgram(u);h.getProgramParameter(u,h.LINK_STATUS)||console.error("Could not initialize shader");u.uniforms={};u.attributes={};f="viewMatrix modelViewMatrix projectionMatrix normalMatrix modelMatrix cameraPosition".split(" ");for(s in c)f.push(s);
for(s=0;s<f.length;s++)c=f[s],u.uniforms[c]=h.getUniformLocation(u,c);f=["position","normal","color","lineDistance"];for(s=0;s<f.length;s++)c=f[s],u.attributes[c]=h.getAttribLocation(u,c);u.id=A++;w.push({program:u,code:m,usedTimes:1});E.info.memory.programs=w.length;s=u}a.program=s};this.renderBuffer=function(a,e,f,l,m,s){if(l.visible){var p;l.needsUpdate&&(l.program&&ra(l),E.initMaterial(l,e,f,s),l.needsUpdate=!1);var t=!1,d=l.program,u=d.uniforms;p=l.uniforms;d!=y&&(h.useProgram(d),y=d,t=!0);l.id!=
J&&(J=l.id,t=!0);a!=M&&(M=a,t=!0);if(t){h.uniformMatrix4fv(u.projectionMatrix,!1,a.projectionMatrix.elements);h.uniformMatrix4fv(u.modelViewMatrix,!1,s._modelViewMatrix.elements);p.fogColor.value=f.color;p.fogNear.value=f.near;p.fogFar.value=f.far;if("lambert"===l.shaderType){h.uniformMatrix4fv(u.viewMatrix,!1,a.matrixWorldInverse.elements);h.uniformMatrix3fv(u.normalMatrix,!1,s._normalMatrix.elements);if(ja){var v,w,B=0,C=0,A=0;a=0;for(f=e.length;a<f;a++)if(t=e[a],v=t.color,w=t.intensity,t instanceof
WebMol.Light&&(B++,T.getPositionFromMatrix(t.matrixWorld),Ia.getPositionFromMatrix(t.target.matrixWorld),T.sub(Ia),T.normalize(),0!==T.x||0!==T.y||0!==T.z))qa[A]=T.x,qa[A+1]=T.y,qa[A+2]=T.z,ka[A]=v.r*w,ka[A+1]=v.g*w,ka[A+2]=v.b*w,A+=3,C++;pa[0]=0;pa[1]=0;pa[2]=0;ja=!1}p.ambientLightColor.value=pa;p.directionalLightColor.value=ka;p.directionalLightDirection.value=qa;p.ambient.value=l.ambient;p.emissive.value=l.emissive}p.opacity.value=l.opacity;p.diffuse.value=l.color;for(var D in p)u[D]&&(e=p[D].type,
a=p[D].value,f=u[D],"f"===e?h.uniform1f(f,a):"fv"===e?h.uniform3fv(f,a):"c"===e&&h.uniform3f(f,a.r,a.g,a.b))}p=d.attributes;u=!1;d=16777215*m.id+2*d.id+(l.wireframe?1:0);d!==S&&(S=d,u=!0);if(u){for(var H in aa)aa[H]&&(h.disableVertexAttribArray(H),aa[H]=!1);0<=p.position&&(h.bindBuffer(h.ARRAY_BUFFER,m.__webglVertexBuffer),c(p.position),h.vertexAttribPointer(p.position,3,h.FLOAT,!1,0,0));0<=p.color&&(h.bindBuffer(h.ARRAY_BUFFER,m.__webglColorBuffer),c(p.color),h.vertexAttribPointer(p.color,3,h.FLOAT,
!1,0,0));0<=p.normal&&(h.bindBuffer(h.ARRAY_BUFFER,m.__webglNormalBuffer),c(p.normal),h.vertexAttribPointer(p.normal,3,h.FLOAT,!1,0,0))}var G;s instanceof WebMol.Mesh?(l.wireframe?(s=m.lineidx,l=l.wireframeLinewidth,l!==X&&(h.lineWidth(l),X=l),u&&h.bindBuffer(h.ELEMENT_ARRAY_BUFFER,m.__webglLineBuffer),h.drawElements(h.LINES,s,h.UNSIGNED_SHORT,0)):(G=m.faceidx,u&&h.bindBuffer(h.ELEMENT_ARRAY_BUFFER,m.__webglFaceBuffer),h.drawElements(h.TRIANGLES,G,h.UNSIGNED_SHORT,0)),E.info.render.calls++,E.info.render.vertices+=
G,E.info.render.faces+=G/3):s instanceof WebMol.Line&&(s=m.vertices,m=l.linewidth,m!==X&&(h.lineWidth(m),X=m),h.drawArrays(h.LINES,0,s),E.info.render.calls++)}};this.render=function(a,c,e){if(!1===c instanceof WebMol.Camera)console.error("WebMol.Renderer.render: camera is not an instance of WebMol.Camera.");else{var h,l,m,p,s=a.__lights,d=a.fog;J=-1;ja=!0;this.autoUpdateScene&&a.updateMatrixWorld();void 0===c.parent&&c.updateMatrixWorld();c.matrixWorldInverse.getInverse(c.matrixWorld);Ga.multiplyMatrices(c.projectionMatrix,
c.matrixWorldInverse);this.autoUpdateObjects&&this.initWebGLObjects(a);E.info.render.calls=0;E.info.render.vertices=0;E.info.render.faces=0;E.info.render.points=0;fa=V;ea=da;(this.autoClear||e)&&this.clear(this.autoClearColor,this.autoClearDepth,this.autoClearStencil);p=a.__webglObjects;e=0;for(h=p.length;e<h;e++)if(l=p[e],m=l.object,l.render=!1,m.visible){m._modelViewMatrix.multiplyMatrices(c.matrixWorldInverse,m.matrixWorld);m._normalMatrix.getInverse(m._modelViewMatrix);m._normalMatrix.transpose();
m=l;var t=m.object.material;t.transparent?(m.opaque=null,m.transparent=t,t=t.clone(),t.opacity=0,m.blank=t):(m.opaque=t,m.transparent=null);l.render=!0}this.setBlending(WebMol.NoBlending);f(a.__webglObjects,!0,"opaque",c,s,d,!1,null);f(a.__webglObjects,!0,"blank",c,s,d,!0,null);f(a.__webglObjects,!1,"transparent",c,s,d,!0,null);s=this.renderPluginsPost;S=-1;M=y=null;u=J=H=L=Q=-1;if(s.length)for(d=0,e=s.length;d<e;d++)ja=!0,s[d].render(a,c,fa,ea),S=-1,M=y=null,u=J=H=L=Q=-1;this.setDepthTest(!0);this.setDepthWrite(!0)}};
this.initWebGLObjects=function(a){a.__webglObjects||(a.__webglObjects=[],a.__webglObjectsImmediate=[],a.__webglSprites=[],a.__webglFlares=[]);if(a.__objectsAdded.length){for(;a.__objectsAdded.length;){var c=a.__objectsAdded[0],e=a,f=void 0,l=void 0,m=void 0,p=void 0;if(!c.__webglInit&&(c.__webglInit=!0,c._modelViewMatrix=new WebMol.Matrix4,c._normalMatrix=new WebMol.Matrix3,void 0!==c.geometry&&void 0===c.geometry.__webglInit&&(c.geometry.__webglInit=!0,c.geometry.addEventListener("dispose",Ja)),
c instanceof WebMol.Mesh||c instanceof WebMol.Line))for(m=c.geometry,f=0,l=m.geometryGroups.length;f<l;f++)p=m.geometryGroups[f],p.id=P++,p.__webglVertexBuffer||(c instanceof WebMol.Mesh?(p.__webglVertexBuffer=h.createBuffer(),p.__webglNormalBuffer=h.createBuffer(),p.__webglColorBuffer=h.createBuffer(),p.__webglFaceBuffer=h.createBuffer(),p.__webglLineBuffer=h.createBuffer(),E.info.memory.geometries++,m.elementsNeedUpdate=!0,m.normalsNeedUpdate=!0):c instanceof WebMol.Line&&(p.__webglVertexBuffer=
h.createBuffer(),p.__webglColorBuffer=h.createBuffer(),E.info.memory.geometries++),m.verticesNeedUpdate=!0,m.colorsNeedUpdate=!0);if(!c.__webglActive){if(c instanceof WebMol.Mesh||c instanceof WebMol.Line)for(m=c.geometry,f=0,l=m.geometryGroups.length;f<l;f++)p=m.geometryGroups[f],e.__webglObjects.push({buffer:p,object:c,opaque:null,transparent:null});else c instanceof WebMol.Sprite&&e.__webglSprites.push(c);c.__webglActive=!0}a.__objectsAdded.splice(0,1)}S=-1}for(;a.__objectsRemoved.length;){c=a.__objectsRemoved[0];
e=a;if(c instanceof WebMol.Mesh||c instanceof WebMol.Line)for(e=e.__webglObjects,f=c,l=e.length-1;0<=l;--l)e[l].object===f&&e.splice(l,1);else if(c instanceof WebMol.Sprite)for(e=e.__webglSprites,f=c,l=e.length-1;0<=l;--l)e[l]===f&&e.splice(l,1);c.__webglActive=!1;a.__objectsRemoved.splice(0,1)}c=0;for(e=a.__webglObjects.length;c<e;c++)if(l=a.__webglObjects[c].object,f=l.geometry,p=void 0,l instanceof WebMol.Mesh||l instanceof WebMol.Line){l=0;for(m=f.geometryGroups.length;l<m;l++)if(p=f.geometryGroups[l],
f.verticesNeedUpdate||f.elementsNeedUpdate||f.colorsNeedUpdate||f.normalsNeedUpdate){var s=h.STATIC_DRAW,d=p.vertexArray,t=p.colorArray;h.bindBuffer(h.ARRAY_BUFFER,p.__webglVertexBuffer);h.bufferData(h.ARRAY_BUFFER,d,s);h.bindBuffer(h.ARRAY_BUFFER,p.__webglColorBuffer);h.bufferData(h.ARRAY_BUFFER,t,s);void 0!==p.normalArray&&void 0!==p.__webglNormalBuffer&&(d=p.normalArray,h.bindBuffer(h.ARRAY_BUFFER,p.__webglNormalBuffer),h.bufferData(h.ARRAY_BUFFER,d,s));void 0!==p.faceArray&&void 0!==p.__webglFaceBuffer&&
(d=p.faceArray,h.bindBuffer(h.ELEMENT_ARRAY_BUFFER,p.__webglFaceBuffer),h.bufferData(h.ELEMENT_ARRAY_BUFFER,d,s));void 0!==p.lineArray&&void 0!==p.__webglLineBuffer&&(d=p.lineArray,h.bindBuffer(h.ELEMENT_ARRAY_BUFFER,p.__webglLineBuffer),h.bufferData(h.ELEMENT_ARRAY_BUFFER,d,s))}f.verticesNeedUpdate=!1;f.elementsNeedUpdate=!1;f.normalsNeedUpdate=!1;f.colorsNeedUpdate=!1;f.buffersNeedUpdate=!1}};this.setTexture=function(a,c){if(a.needsUpdate){a.__webglInit||(a.__webglInit=!0,a.addEventListener("dispose",
Ka),a.__webglTexture=h.createTexture(),E.info.memory.textures++);h.activeTexture(h.TEXTURE0+c);h.bindTexture(h.TEXTURE_2D,a.__webglTexture);h.pixelStorei(h.UNPACK_FLIP_Y_WEBGL,a.flipY);h.pixelStorei(h.UNPACK_PREMULTIPLY_ALPHA_WEBGL,a.premultiplyAlpha);h.pixelStorei(h.UNPACK_ALIGNMENT,a.unpackAlignment);var e=a.image,e=l(e.width)&&l(e.height),f=s(a.format),m=s(a.type),p=h.TEXTURE_2D;e?(h.texParameteri(p,h.TEXTURE_WRAP_S,s(a.wrapS)),h.texParameteri(p,h.TEXTURE_WRAP_T,s(a.wrapT)),h.texParameteri(p,h.TEXTURE_MAG_FILTER,
s(a.magFilter)),h.texParameteri(p,h.TEXTURE_MIN_FILTER,s(a.minFilter))):(h.texParameteri(p,h.TEXTURE_WRAP_S,h.CLAMP_TO_EDGE),h.texParameteri(p,h.TEXTURE_WRAP_T,h.CLAMP_TO_EDGE),h.texParameteri(p,h.TEXTURE_MAG_FILTER,h.LINEAR),h.texParameteri(p,h.TEXTURE_MIN_FILTER,h.LINEAR));var t=a.mipmaps;if(0<t.length&&e){for(var u=0,d=t.length;u<d;u++)p=t[u],h.texImage2D(h.TEXTURE_2D,u,f,f,m,p);a.generateMipmaps=!1}else h.texImage2D(h.TEXTURE_2D,0,f,f,m,a.image);a.generateMipmaps&&e&&h.generateMipmap(h.TEXTURE_2D);
a.needsUpdate=!1;if(a.onUpdate)a.onUpdate()}else h.activeTexture(h.TEXTURE0+c),h.bindTexture(h.TEXTURE_2D,a.__webglTexture)};this.addPostPlugin(new WebMol.SpritePlugin)};WebMol.Scene=function(){WebMol.Object3D.call(this);this.overrideMaterial=this.fog=null;this.matrixAutoUpdate=!1;this.__objects=[];this.__lights=[];this.__objectsAdded=[];this.__objectsRemoved=[]};WebMol.Scene.prototype=Object.create(WebMol.Object3D.prototype);
WebMol.Scene.prototype.__addObject=function(a){a instanceof WebMol.Light?(-1===this.__lights.indexOf(a)&&this.__lights.push(a),a.target&&void 0===a.target.parent&&this.add(a.target)):-1===this.__objects.indexOf(a)&&(this.__objects.push(a),this.__objectsAdded.push(a),-1!==this.__objectsRemoved.indexOf(a)&&this.__objectsRemoved.splice(c,1));for(var c=0;c<a.children.length;c++)this.__addObject(a.children[c])};
WebMol.Scene.prototype.__removeObject=function(a){var c;a instanceof WebMol.Light?(c=this.__lights.indexOf(a),-1!==c&&this.__lights.splice(c,1)):(c=this.__objects.indexOf(a),-1!==c&&(this.__objects.splice(c,1),this.__objectsRemoved.push(a),-1!==this.__objectsAdded.indexOf(a)&&this.__objectsAdded.splice(c,1)));for(c=0;c<a.children.length;c++)this.__removeObject(a.children[c])};WebMol.Fog=function(a,c,e){this.name="";this.color=new WebMol.Color(a);this.near=void 0!==c?c:1;this.far=void 0!==e?e:1E3};
WebMol.Fog.prototype.clone=function(){return new WebMol.Fog(this.color.getHex(),this.near,this.far)};WebMol.ShaderUtils={clone:function(a){var c,e={};for(c in a){e[c]={};e[c].type=a[c].type;var f=a[c].value;f instanceof WebMol.Color?e[c].value=f.clone():"number"===typeof f?e[c].value=f:f instanceof Array?e[c].value=[]:console.error("Error copying shader uniforms from ShaderLib: unknown type for uniform")}return e}};
WebMol.ShaderLib={basic:{fragmentShader:"uniform mat4 viewMatrix;\nuniform vec3 cameraPosition;\nuniform vec3 diffuse;\nuniform float opacity;\nuniform vec3 fogColor;\nuniform float fogNear;\nuniform float fogFar;\nvarying vec3 vColor;\nvoid main() {\n    gl_FragColor = vec4( diffuse, opacity );\n    gl_FragColor = gl_FragColor * vec4( vColor, opacity );\n    float depth = gl_FragCoord.z / gl_FragCoord.w;\n    float fogFactor = smoothstep( fogNear, fogFar, depth );\n    gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );\n}",vertexShader:"uniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\nuniform mat4 viewMatrix;\nuniform mat3 normalMatrix;\nuniform vec3 cameraPosition;\nattribute vec3 position;\nattribute vec3 color;\nvarying vec3 vColor;\nvoid main() {\n    vColor = color;\n    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n    gl_Position = projectionMatrix * mvPosition;\n}",
uniforms:{opacity:{type:"f",value:1},diffuse:{type:"c",value:new WebMol.Color(1,1,1)},fogColor:{type:"c",value:new WebMol.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2E3}}},sphereimposter:{fragmentShader:"uniform mat4 viewMatrix;\nuniform vec3 cameraPosition;\nuniform vec3 diffuse;\nuniform float opacity;\nuniform vec3 fogColor;\nuniform float fogNear;\nuniform float fogFar;\nvarying vec3 vColor;\nvoid main() {\n    gl_FragColor = vec4( diffuse, opacity );\n    gl_FragColor = gl_FragColor * vec4( vColor, opacity );\n    float depth = gl_FragCoord.z / gl_FragCoord.w;\n    float fogFactor = smoothstep( fogNear, fogFar, depth );\n    gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );\n}",
vertexShader:"uniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\nuniform mat4 viewMatrix;\nuniform mat3 normalMatrix;\nuniform vec3 cameraPosition;\nattribute vec3 position;\nattribute vec3 color;\nattribute vec3 impostercoords;\nvarying vec3 vColor;\nvoid main() {\n    vColor = color;\n    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n    gl_Position = projectionMatrix * mvPosition;\n}",uniforms:{opacity:{type:"f",value:1},diffuse:{type:"c",value:new WebMol.Color(1,1,1)},
fogColor:{type:"c",value:new WebMol.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2E3}}},lambert:{fragmentShader:"uniform mat4 viewMatrix;\nuniform vec3 cameraPosition;\nuniform float opacity;\nuniform vec3 fogColor;\nuniform float fogNear;\nuniform float fogFar;\nvarying vec3 vLightFront;\nvarying vec3 vColor;\nvoid main() {\n    gl_FragColor = vec4( vec3 ( 1.0 ), opacity );\n    #ifndef WIREFRAME\n    gl_FragColor.xyz *= vLightFront;\n    #endif\n    gl_FragColor = gl_FragColor * vec4( vColor, opacity );\n    float depth = gl_FragCoord.z / gl_FragCoord.w;\n    float fogFactor = smoothstep( fogNear, fogFar, depth );\n    gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );\n}",
vertexShader:"uniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\nuniform mat4 viewMatrix;\nuniform mat3 normalMatrix;\nuniform vec3 cameraPosition;\nuniform vec3 ambient;\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 ambientLightColor;\nuniform vec3 directionalLightColor[ 1 ];\nuniform vec3 directionalLightDirection[ 1 ];\nattribute vec3 position;\nattribute vec3 normal;\nattribute vec3 color;\nvarying vec3 vColor;\nvarying vec3 vLightFront;\nvoid main() {\n    vColor = color;\n    vec3 objectNormal = normal;\n    vec3 transformedNormal = normalMatrix * objectNormal;\n    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n    vLightFront = vec3( 0.0 );\n    transformedNormal = normalize( transformedNormal );\n    vec4 lDirection = viewMatrix * vec4( directionalLightDirection[ 0 ], 0.0 );\n    vec3 dirVector = normalize( lDirection.xyz );\n    float dotProduct = dot( transformedNormal, dirVector );\n    vec3 directionalLightWeighting = vec3( max( dotProduct, 0.0 ) );\n    vLightFront += directionalLightColor[ 0 ] * directionalLightWeighting;\n    vLightFront = vLightFront * diffuse + ambient * ambientLightColor + emissive;\n    gl_Position = projectionMatrix * mvPosition;\n}",
uniforms:{opacity:{type:"f",value:1},diffuse:{type:"c",value:new WebMol.Color(1,1,1)},fogColor:{type:"c",value:new WebMol.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2E3},ambient:{type:"c",value:new WebMol.Color(1,1,1)},emissive:{type:"c",value:new WebMol.Color(1,1,1)},ambientLightColor:{type:"fv",value:[]},directionalLightColor:{type:"fv",value:[]},directionalLightDirection:{type:"fv",value:[]}}},sprite:{fragmentShader:"uniform vec3 color;\nuniform sampler2D map;\nuniform float opacity;\nuniform int fogType;\nuniform vec3 fogColor;\nuniform float fogDensity;\nuniform float fogNear;\nuniform float fogFar;\nuniform float alphaTest;\nvarying vec2 vUV;\nvoid main() {\n    vec4 texture = texture2D(map, vUV);\n    if (texture.a < alphaTest) discard;\n    gl_FragColor = vec4(color * texture.xyz, texture.a * opacity);\n    if (fogType > 0) {\n        float depth = gl_FragCoord.z / gl_FragCoord.w;\n        float fogFactor = 0.0;\n        if (fogType == 1) {\n            fogFactor = smoothstep(fogNear, fogFar, depth);\n        }\n        else {\n            const float LOG2 = 1.442695;\n            float fogFactor = exp2(- fogDensity * fogDensity * depth * depth * LOG2);\n            fogFactor = 1.0 - clamp(fogFactor, 0.0, 1.0);\n        }\n        gl_FragColor = mix(gl_FragColor, vec4(fogColor, gl_FragColor.w), fogFactor);\n    }\n}",
vertexShader:"uniform int useScreenCoordinates;\nuniform int sizeAttenuation;\nuniform vec3 screenPosition;\nuniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\nuniform float rotation;\nuniform vec2 scale;\nuniform vec2 alignment;\nuniform vec2 uvOffset;\nuniform vec2 uvScale;\nattribute vec2 position;\nattribute vec2 uv;\nvarying vec2 vUV;\nvoid main() {\n    vUV = uvOffset + uv * uvScale;\n    vec2 alignedPosition = position + alignment;\n    vec2 rotatedPosition;\n    rotatedPosition.x = ( cos(rotation) * alignedPosition.x - sin(rotation) * alignedPosition.y ) * scale.x;\n    rotatedPosition.y = ( sin(rotation) * alignedPosition.x + cos(rotation) * alignedPosition.y ) * scale.y;\n    vec4 finalPosition;\n    if(useScreenCoordinates != 0) {\n        finalPosition = vec4(screenPosition.xy + rotatedPosition, screenPosition.z, 1.0);\n    }\n    else {\n        finalPosition = projectionMatrix * modelViewMatrix * vec4(0.0, 0.0, 0.0, 1.0);\n        finalPosition.xy += rotatedPosition * (sizeAttenuation == 1 ? 1.0 : finalPosition.z);\n    }\n    gl_Position = finalPosition;\n}",
uniforms:{}}};WebMol=WebMol||{};
WebMol.partialCharges=[{resn:"ALA",atom:"N",props:{partialCharge:-.15}},{resn:"ALA",atom:"CA",props:{partialCharge:.1}},{resn:"ALA",atom:"CB",props:{partialCharge:0}},{resn:"ALA",atom:"C",props:{partialCharge:.6}},{resn:"ALA",atom:"O",props:{partialCharge:-.55}},{resn:"ARG",atom:"N",props:{partialCharge:-.15}},{resn:"ARG",atom:"CA",props:{partialCharge:.1}},{resn:"ARG",atom:"CB",props:{partialCharge:0}},{resn:"ARG",atom:"CG",props:{partialCharge:0}},{resn:"ARG",atom:"CD",props:{partialCharge:.1}},
{resn:"ARG",atom:"NE",props:{partialCharge:-.1}},{resn:"ARG",atom:"CZ",props:{partialCharge:.5}},{resn:"ARG",atom:"NH1",props:{partialCharge:.25}},{resn:"ARG",atom:"NH2",props:{partialCharge:.25}},{resn:"ARG",atom:"C",props:{partialCharge:.6}},{resn:"ARG",atom:"O",props:{partialCharge:-.55}},{resn:"ASN",atom:"N",props:{partialCharge:-.15}},{resn:"ASN",atom:"CA",props:{partialCharge:.1}},{resn:"ASN",atom:"CB",props:{partialCharge:0}},{resn:"ASN",atom:"CG",props:{partialCharge:.55}},{resn:"ASN",atom:"OD1",
props:{partialCharge:-.55}},{resn:"ASN",atom:"ND2",props:{partialCharge:0}},{resn:"ASN",atom:"C",props:{partialCharge:.6}},{resn:"ASN",atom:"O",props:{partialCharge:-.55}},{resn:"ASP",atom:"N",props:{partialCharge:-.15}},{resn:"ASP",atom:"CA",props:{partialCharge:.1}},{resn:"ASP",atom:"CB",props:{partialCharge:0}},{resn:"ASP",atom:"CG",props:{partialCharge:.14}},{resn:"ASP",atom:"OD1",props:{partialCharge:-.57}},{resn:"ASP",atom:"OD2",props:{partialCharge:-.57}},{resn:"ASP",atom:"C",props:{partialCharge:.6}},
{resn:"ASP",atom:"O",props:{partialCharge:-.55}},{resn:"CYS",atom:"N",props:{partialCharge:-.15}},{resn:"CYS",atom:"CA",props:{partialCharge:.1}},{resn:"CYS",atom:"CB",props:{partialCharge:.19}},{resn:"CYS",atom:"SG",props:{partialCharge:-.19}},{resn:"CYS",atom:"C",props:{partialCharge:.6}},{resn:"CYS",atom:"O",props:{partialCharge:-.55}},{resn:"GLN",atom:"N",props:{partialCharge:-.15}},{resn:"GLN",atom:"CA",props:{partialCharge:.1}},{resn:"GLN",atom:"CB",props:{partialCharge:0}},{resn:"GLN",atom:"CG",
props:{partialCharge:0}},{resn:"GLN",atom:"CD",props:{partialCharge:.55}},{resn:"GLN",atom:"OE1",props:{partialCharge:-.55}},{resn:"GLN",atom:"NE2",props:{partialCharge:0}},{resn:"GLN",atom:"C",props:{partialCharge:.6}},{resn:"GLN",atom:"O",props:{partialCharge:-.55}},{resn:"GLU",atom:"N",props:{partialCharge:-.15}},{resn:"GLU",atom:"CA",props:{partialCharge:.1}},{resn:"GLU",atom:"CB",props:{partialCharge:0}},{resn:"GLU",atom:"CG",props:{partialCharge:0}},{resn:"GLU",atom:"CD",props:{partialCharge:.14}},
{resn:"GLU",atom:"OE1",props:{partialCharge:-.57}},{resn:"GLU",atom:"OE2",props:{partialCharge:-.57}},{resn:"GLU",atom:"C",props:{partialCharge:.6}},{resn:"GLU",atom:"O",props:{partialCharge:-.55}},{resn:"GLY",atom:"N",props:{partialCharge:-.15}},{resn:"GLY",atom:"CA",props:{partialCharge:.1}},{resn:"GLY",atom:"C",props:{partialCharge:.6}},{resn:"GLY",atom:"O",props:{partialCharge:-.55}},{resn:"HIS",atom:"N",props:{partialCharge:-.15}},{resn:"HIS",atom:"CA",props:{partialCharge:.1}},{resn:"HIS",atom:"CB",
props:{partialCharge:0}},{resn:"HIS",atom:"CG",props:{partialCharge:.1}},{resn:"HIS",atom:"ND1",props:{partialCharge:-.1}},{resn:"HIS",atom:"CD2",props:{partialCharge:.1}},{resn:"HIS",atom:"NE2",props:{partialCharge:-.4}},{resn:"HIS",atom:"CE1",props:{partialCharge:.3}},{resn:"HIS",atom:"C",props:{partialCharge:.6}},{resn:"HIS",atom:"O",props:{partialCharge:-.55}},{resn:"ILE",atom:"N",props:{partialCharge:-.15}},{resn:"ILE",atom:"CA",props:{partialCharge:.1}},{resn:"ILE",atom:"CB",props:{partialCharge:0}},
{resn:"ILE",atom:"CG2",props:{partialCharge:0}},{resn:"ILE",atom:"CG1",props:{partialCharge:0}},{resn:"ILE",atom:"CD",props:{partialCharge:0}},{resn:"ILE",atom:"C",props:{partialCharge:.6}},{resn:"ILE",atom:"O",props:{partialCharge:-.55}},{resn:"LEU",atom:"N",props:{partialCharge:-.15}},{resn:"LEU",atom:"CA",props:{partialCharge:.1}},{resn:"LEU",atom:"CB",props:{partialCharge:0}},{resn:"LEU",atom:"CG",props:{partialCharge:0}},{resn:"LEU",atom:"CD1",props:{partialCharge:0}},{resn:"LEU",atom:"CD2",
props:{partialCharge:0}},{resn:"LEU",atom:"C",props:{partialCharge:.6}},{resn:"LEU",atom:"O",props:{partialCharge:-.55}},{resn:"LYS",atom:"N",props:{partialCharge:-.15}},{resn:"LYS",atom:"CA",props:{partialCharge:.1}},{resn:"LYS",atom:"CB",props:{partialCharge:0}},{resn:"LYS",atom:"CG",props:{partialCharge:0}},{resn:"LYS",atom:"CD",props:{partialCharge:0}},{resn:"LYS",atom:"CE",props:{partialCharge:.25}},{resn:"LYS",atom:"NZ",props:{partialCharge:.75}},{resn:"LYS",atom:"C",props:{partialCharge:.6}},
{resn:"LYS",atom:"O",props:{partialCharge:-.55}},{resn:"MET",atom:"N",props:{partialCharge:-.15}},{resn:"MET",atom:"CA",props:{partialCharge:.1}},{resn:"MET",atom:"CB",props:{partialCharge:0}},{resn:"MET",atom:"CG",props:{partialCharge:.06}},{resn:"MET",atom:"SD",props:{partialCharge:-.12}},{resn:"MET",atom:"CE",props:{partialCharge:.06}},{resn:"MET",atom:"C",props:{partialCharge:.6}},{resn:"MET",atom:"O",props:{partialCharge:-.55}},{resn:"PHE",atom:"N",props:{partialCharge:-.15}},{resn:"PHE",atom:"CA",
props:{partialCharge:.1}},{resn:"PHE",atom:"CB",props:{partialCharge:0}},{resn:"PHE",atom:"CG",props:{partialCharge:0}},{resn:"PHE",atom:"CD1",props:{partialCharge:0}},{resn:"PHE",atom:"CD2",props:{partialCharge:0}},{resn:"PHE",atom:"CE1",props:{partialCharge:0}},{resn:"PHE",atom:"CE2",props:{partialCharge:0}},{resn:"PHE",atom:"CZ",props:{partialCharge:0}},{resn:"PHE",atom:"C",props:{partialCharge:.6}},{resn:"PHE",atom:"O",props:{partialCharge:-.55}},{resn:"PRO",atom:"N",props:{partialCharge:-.25}},
{resn:"PRO",atom:"CD",props:{partialCharge:.1}},{resn:"PRO",atom:"CA",props:{partialCharge:.1}},{resn:"PRO",atom:"CB",props:{partialCharge:0}},{resn:"PRO",atom:"CG",props:{partialCharge:0}},{resn:"PRO",atom:"C",props:{partialCharge:.6}},{resn:"PRO",atom:"O",props:{partialCharge:-.55}},{resn:"SER",atom:"N",props:{partialCharge:-.15}},{resn:"SER",atom:"CA",props:{partialCharge:.1}},{resn:"SER",atom:"CB",props:{partialCharge:.25}},{resn:"SER",atom:"OG",props:{partialCharge:-.25}},{resn:"SER",atom:"C",
props:{partialCharge:.6}},{resn:"SER",atom:"O",props:{partialCharge:-.55}},{resn:"THR",atom:"N",props:{partialCharge:-.15}},{resn:"THR",atom:"CA",props:{partialCharge:.1}},{resn:"THR",atom:"CB",props:{partialCharge:.25}},{resn:"THR",atom:"OG1",props:{partialCharge:-.25}},{resn:"THR",atom:"CG2",props:{partialCharge:0}},{resn:"THR",atom:"C",props:{partialCharge:.6}},{resn:"THR",atom:"O",props:{partialCharge:-.55}},{resn:"TRP",atom:"N",props:{partialCharge:-.15}},{resn:"TRP",atom:"CA",props:{partialCharge:.1}},
{resn:"TRP",atom:"CB",props:{partialCharge:0}},{resn:"TRP",atom:"CG",props:{partialCharge:-.03}},{resn:"TRP",atom:"CD2",props:{partialCharge:.1}},{resn:"TRP",atom:"CE2",props:{partialCharge:-.04}},{resn:"TRP",atom:"CE3",props:{partialCharge:-.03}},{resn:"TRP",atom:"CD1",props:{partialCharge:.06}},{resn:"TRP",atom:"NE1",props:{partialCharge:-.06}},{resn:"TRP",atom:"CZ2",props:{partialCharge:0}},{resn:"TRP",atom:"CZ3",props:{partialCharge:0}},{resn:"TRP",atom:"CH2",props:{partialCharge:0}},{resn:"TRP",
atom:"C",props:{partialCharge:.6}},{resn:"TRP",atom:"O",props:{partialCharge:-.55}},{resn:"TYR",atom:"N",props:{partialCharge:-.15}},{resn:"TYR",atom:"CA",props:{partialCharge:.1}},{resn:"TYR",atom:"CB",props:{partialCharge:0}},{resn:"TYR",atom:"CG",props:{partialCharge:0}},{resn:"TYR",atom:"CD1",props:{partialCharge:0}},{resn:"TYR",atom:"CE1",props:{partialCharge:0}},{resn:"TYR",atom:"CD2",props:{partialCharge:0}},{resn:"TYR",atom:"CE2",props:{partialCharge:0}},{resn:"TYR",atom:"CZ",props:{partialCharge:.25}},
{resn:"TYR",atom:"OH",props:{partialCharge:-.25}},{resn:"TYR",atom:"C",props:{partialCharge:.6}},{resn:"TYR",atom:"O",props:{partialCharge:-.55}},{resn:"VAL",atom:"N",props:{partialCharge:-.15}},{resn:"VAL",atom:"CA",props:{partialCharge:.1}},{resn:"VAL",atom:"CB",props:{partialCharge:0}},{resn:"VAL",atom:"CG1",props:{partialCharge:0}},{resn:"VAL",atom:"CG2",props:{partialCharge:0}},{resn:"VAL",atom:"C",props:{partialCharge:.6}},{resn:"VAL",atom:"O",props:{partialCharge:-.55}}];
WebMol.partialCharges=WebMol.partialCharges;
WebMol=window.WebMol||{};WebMol.createViewer=function(v,y){"string"===$.type(v)&&(v=$("#"+v));if(v){y=y||{};y.order||(y.order=["glmol","jmol"]);y.defaultcolors||(y.defaultcolors=WebMol.elementColors.defaultColors);for(var C=0;C<y.order.length;C++){var D=y.order[C],t=D+"Viewer";if("function"===typeof this[t])try{return new this[t](v,y.callback,y.defaultcolors)}catch(f){console.log("error with "+D+":"+f)}}alert("Unable to instantiate webmol viewer: "+y.order);return null}};
WebMol.download=function(v,y){var C="";if("pdb:"===v.substr(0,4)){C="pdb";v=v.substr(4).toUpperCase();if(!v.match(/^[1-9][A-Za-z0-9]{3}$/)){alert("Wrong PDB ID");return}uri="http://www.pdb.org/pdb/files/"+v+".pdb"}else if("cid:"==v.substr(0,4)){C="sdf";v=v.substr(4);if(!v.match(/^[1-9]+$/)){alert("Wrong Compound ID");return}uri="http://pubchem.ncbi.nlm.nih.gov/rest/pug/compound/cid/"+v+"/SDF?record_type=3d"}$.get(uri,function(D){y.addModel(D,C);y.zoomTo();y.render()});return null};
WebMol.SurfaceType={VDW:1,MS:2,SAS:3,SES:4};
WebMol.f={h:{},color:function(v){if("undefined"!==typeof this.h[v])return this.h[v];v=this.qa(v);var y=new WebMol.Color(v);return this.h[v]=y},ga:{white:16777215,silver:12632256,gray:8421504,grey:8421504,black:0,red:16711680,maroon:8388608,yellow:16776960,orange:16737792,olive:8421376,lime:65280,green:32768,aqua:65535,cyan:65535,teal:32896,blue:255,navy:128,fuchsia:16711935,magenta:16711935,purple:8388736},qa:function(v){if(parseInt(v))return v;if("string"===typeof v)return this.ga[v.trim().toLowerCase()]||
0}};WebMol.CC=WebMol.f;WebMol.CC.color=WebMol.f.color;WebMol.T=function(v,y){var C=y.geometry;void 0!==C&&v.geometryGroups.push(C.geometryGroups[0])};WebMol.Fa=function(v){return v.toString().replace(/^[^\/]+\/\*!?/,"").replace(/\*\/[^\/]+$/,"")};WebMol.syncSurface=!1;if(0<=window.navigator.userAgent.indexOf("MSIE ")||0<=window.navigator.userAgent.indexOf("Trident/"))WebMol.syncSurface=!0;WebMol=WebMol||{};
WebMol.o=function(){var v={R:function(f,c,w,e){function a(x,l,g,L,n,b){var a=new WebMol.Vector3;a.copy(m);var d=n;L&1<<n||!(L&1<<b)||(d=b);d&1&&g++;d&2&&l++;d&4&&x++;a.x+=s.x*x;a.y+=s.y*l;a.z+=s.z*g;x=(h*x+l)*z+g;if(A)return c.push(a),c.length-1;0>E[x]&&(E[x]=c.length,c.push(a));return E[x]}var b=!!e.oa,m=e.hasOwnProperty("origin")&&e.origin.hasOwnProperty("x")?e.origin:{x:0,y:0,z:0},A=!!e.voxel,d=e.U||0,h=e.V||0,z=e.W||0;e=e.scale||1;var s=(new WebMol.Vector3(1,1,1)).multiplyScalar(e),E=new Int32Array(d*
h*z),r;e=0;for(r=E.length;e<r;++e)E[e]=-1;r=new Int32Array(12);var G=b?D:y,b=b?t:C;for(e=0;e<d-1;++e)for(var u=0;u<h-1;++u)for(var v=0;v<z-1;++v){for(var q=0,l=0;8>l;++l)q|=!!(f[(h*(e+((l&4)>>2))+u+((l&2)>>1))*z+v+(l&1)]&2)<<l;if(0!==q&&255!==q){var g=G[q];if(0!==g)for(l=b[q],g&1&&(r[0]=a(e,u,v,q,0,1)),g&2&&(r[1]=a(e,u,v,q,1,3)),g&4&&(r[2]=a(e,u,v,q,3,2)),g&8&&(r[3]=a(e,u,v,q,2,0)),g&16&&(r[4]=a(e,u,v,q,4,5)),g&32&&(r[5]=a(e,u,v,q,5,7)),g&64&&(r[6]=a(e,u,v,q,7,6)),g&128&&(r[7]=a(e,u,v,q,6,4)),g&256&&
(r[8]=a(e,u,v,q,0,4)),g&512&&(r[9]=a(e,u,v,q,1,5)),g&1024&&(r[10]=a(e,u,v,q,3,7)),g&2048&&(r[11]=a(e,u,v,q,2,6)),q=0;q<l.length;q+=3){var g=r[l[q]],x=r[l[q+1]],L=r[l[q+2]];A&&3<=q&&(c.push(c[g]),g=c.length-1,c.push(c[x]),x=c.length-1,c.push(c[L]),L=c.length-1);w.push(g);w.push(x);w.push(L)}}}},Q:function(f,c,w){var e=Array(c.length),a,b,m,A;a=0;for(b=c.length;a<b;a++)e[a]={x:0,y:0,z:0};var d=Array(20),h;for(a=0;20>a;a++)d[a]=Array(c.length);a=0;for(b=c.length;a<b;a++)d[0][a]=0;a=0;for(b=w.length/
3;a<b;a++){var z=3*a,s=3*a+1,E=3*a+2;h=!0;m=0;for(A=d[0][w[z]];m<A;m++)if(w[s]==d[m+1][w[z]]){h=!1;break}h&&(d[0][w[z]]++,d[d[0][w[z]]][w[z]]=w[s]);h=!0;m=0;for(A=d[0][w[z]];m<A;m++)if(w[E]==d[m+1][w[z]]){h=!1;break}h&&(d[0][w[z]]++,d[d[0][w[z]]][w[z]]=w[E]);h=!0;m=0;for(A=d[0][w[s]];m<A;m++)if(w[z]==d[m+1][w[s]]){h=!1;break}h&&(d[0][w[s]]++,d[d[0][w[s]]][w[s]]=w[z]);h=!0;m=0;for(A=d[0][w[s]];m<A;m++)if(w[E]==d[m+1][w[s]]){h=!1;break}h&&(d[0][w[s]]++,d[d[0][w[s]]][w[s]]=w[E]);h=!0;for(m=0;m<d[0][w[E]];m++)if(w[z]==
d[m+1][w[E]]){h=!1;break}h&&(d[0][w[E]]++,d[d[0][w[E]]][w[E]]=w[z]);h=!0;m=0;for(A=d[0][w[E]];m<A;m++)if(w[s]==d[m+1][w[E]]){h=!1;break}h&&(d[0][w[E]]++,d[d[0][w[E]]][w[E]]=w[s])}for(w=0;w<f;w++){a=0;for(b=c.length;a<b;a++)if(3>d[0][a])e[a].x=c[a].x,e[a].y=c[a].y,e[a].z=c[a].z;else if(3==d[0][a]||4==d[0][a]){e[a].x=0;e[a].y=0;m=e[a].z=0;for(A=d[0][a];m<A;m++)e[a].x+=c[d[m+1][a]].x,e[a].y+=c[d[m+1][a]].y,e[a].z+=c[d[m+1][a]].z;e[a].x+=.5*c[a].x;e[a].y+=.5*c[a].y;e[a].z+=.5*c[a].z;e[a].x/=.5+d[0][a];
e[a].y/=.5+d[0][a];e[a].z/=.5+d[0][a]}else{e[a].x=0;e[a].y=0;m=e[a].z=0;for(A=d[0][a];m<A;m++)e[a].x+=c[d[m+1][a]].x,e[a].y+=c[d[m+1][a]].y,e[a].z+=c[d[m+1][a]].z;e[a].x+=1*c[a].x;e[a].y+=1*c[a].y;e[a].z+=1*c[a].z;e[a].x/=1+d[0][a];e[a].y/=1+d[0][a];e[a].z/=1+d[0][a]}a=0;for(b=c.length;a<b;a++)c[a].x=e[a].x,c[a].y=e[a].y,c[a].z=e[a].z}},ha:[0,0,0,0,0,0,0,2816,0,0,0,1792,0,3328,3584,3840,0,0,0,138,0,21,0,134,0,0,0,652,0,2067,3865,3600,0,0,0,42,0,0,0,294,0,0,21,28,0,3875,1049,3360,0,168,162,170,0,645,
2475,2210,0,687,293,172,4010,3747,3497,3232,0,0,0,0,0,69,0,900,0,0,0,1792,138,131,1608,1920,0,81,0,2074,84,85,84,86,0,81,0,3676,330,1105,1881,1616,0,0,0,42,0,69,0,502,0,0,21,3580,138,2035,1273,1520,2816,104,2337,106,840,581,367,102,2816,3695,3429,3180,1898,1635,1385,1120,0,0,0,0,0,0,0,3910,0,0,69,588,42,2083,41,2880,0,0,0,1722,0,2293,4095,3830,0,255,757,764,2538,2291,3065,2800,0,0,81,338,0,3925,1119,3414,84,855,85,340,2130,2899,89,2384,1792,712,194,1162,4036,3781,3535,3270,708,719,197,204,3018,2755,
2505,2240,0,0,0,0,168,420,168,1958,162,162,676,2988,170,163,680,928,3328,3096,3328,3642,52,53,1855,1590,2340,2111,2869,2620,298,51,825,560,3584,3584,3090,3482,1668,1941,1183,1430,146,2975,2069,2460,154,915,153,400,3840,3592,3329,3082,1796,1541,1295,1030,2818,2575,2309,2060,778,515,265,0]},y=new Uint32Array(v.ha),C=v.Ia=[[],[],[],[],[],[],[],[11,9,8],[],[],[],[8,10,9],[],[10,8,11],[9,11,10],[8,10,9,8,11,10],[],[],[],[1,7,3],[],[4,2,0],[],[2,1,7],[],[],[],[2,7,3,2,9,7],[],[1,4,11,1,0,4],[3,8,0,11,9,
4,11,10,9],[4,11,9,11,10,9],[],[],[],[5,3,1],[],[],[],[2,5,8,2,1,5],[],[],[2,4,0],[3,2,4],[],[0,9,1,8,10,5,8,11,10],[3,4,0,3,10,4],[5,8,10,8,11,10],[],[3,5,7],[7,1,5],[1,7,3,1,5,7],[],[9,2,0,9,7,2],[0,3,8,1,7,11,1,5,7],[11,1,7,1,5,7],[],[9,1,0,5,3,2,5,7,3],[8,2,5,8,0,2],[2,5,3,5,7,3],[3,9,1,3,8,9,7,11,10,7,10,5],[9,1,0,10,7,11,10,5,7],[3,8,0,7,10,5,7,11,10],[11,5,7,11,10,5],[],[],[],[],[],[0,6,2],[],[7,2,9,7,9,8],[],[],[],[8,10,9],[7,1,3],[7,1,0],[6,9,3,6,10,9],[7,10,8,10,9,8],[],[6,0,4],[],[11,1,
4,11,3,1],[2,4,6],[2,0,4,2,4,6],[2,4,6],[1,4,2,4,6,2],[],[6,0,4],[],[2,11,3,6,9,4,6,10,9],[8,6,1,8,1,3],[10,0,6,0,4,6],[8,0,3,9,6,10,9,4,6],[10,4,6,10,9,4],[],[],[],[5,3,1],[],[0,6,2],[],[7,4,8,5,2,1,5,6,2],[],[],[2,4,0],[7,4,8,2,11,3,10,5,6],[7,1,3],[5,6,10,0,9,1,8,7,4],[5,6,10,7,0,3,7,4,0],[10,5,6,4,8,7],[9,11,8],[3,5,6],[0,5,11,0,11,8],[6,3,5,3,1,5],[3,9,6,3,8,9],[9,6,0,6,2,0],[0,3,8,2,5,6,2,1,5],[1,6,2,1,5,6],[9,11,8],[1,0,9,6,10,5,11,3,2],[6,10,5,2,8,0,2,11,8],[3,2,11,10,5,6],[10,5,6,9,3,8,9,
1,3],[0,9,1,5,6,10],[8,0,3,10,5,6],[10,5,6],[],[],[],[],[],[],[],[1,10,2,9,11,6,9,8,11],[],[],[6,0,2],[3,6,9,3,2,6],[3,5,1],[0,5,1,0,11,5],[0,3,5],[6,9,11,9,8,11],[],[],[],[4,5,9,7,1,10,7,3,1],[],[11,6,7,2,4,5,2,0,4],[11,6,7,8,0,3,1,10,2,9,4,5],[6,7,11,1,10,2,9,4,5],[],[4,1,0,4,5,1,6,7,3,6,3,2],[9,4,5,0,6,7,0,2,6],[4,5,9,6,3,2,6,7,3],[6,7,11,5,3,8,5,1,3],[6,7,11,4,1,0,4,5,1],[4,5,9,3,8,0,11,6,7],[9,4,5,7,11,6],[],[],[0,6,4],[8,6,4,8,1,6],[],[0,10,2,0,9,10,4,8,11,4,11,6],[10,2,1,6,0,3,6,4,0],[10,2,
1,11,4,8,11,6,4],[4,2,6],[1,0,9,2,4,8,2,6,4],[2,4,0,2,6,4],[8,2,4,2,6,4],[11,4,1,11,6,4],[0,9,1,4,11,6,4,8,11],[3,6,0,6,4,0],[8,6,4,8,11,6],[10,8,9],[6,3,9,6,7,3],[6,7,1],[10,7,1,7,3,1],[7,11,6,8,10,2,8,9,10],[11,6,7,10,0,9,10,2,0],[2,1,10,7,11,6,8,0,3],[1,10,2,6,7,11],[7,2,6,7,9,2],[1,0,9,3,6,7,3,2,6],[7,0,6,0,2,6],[2,7,3,2,6,7],[7,11,6,3,9,1,3,8,9],[9,1,0,11,6,7],[0,3,8,11,6,7],[11,6,7],[],[],[],[],[5,3,7],[8,5,2,8,7,5],[5,3,7],[1,10,2,5,8,7,5,9,8],[1,7,5],[1,7,5],[9,2,7,9,7,5],[11,3,2,8,5,9,8,
7,5],[1,3,7,1,7,5],[0,7,1,7,5,1],[9,3,5,3,7,5],[9,7,5,9,8,7],[8,10,11],[3,4,10,3,10,11],[8,10,11],[5,9,4,1,11,3,1,10,11],[2,4,5],[5,2,4,2,0,4],[0,3,8,5,9,4,10,2,1],[2,1,10,9,4,5],[2,8,5,2,11,8],[3,2,11,1,4,5,1,0,4],[9,4,5,8,2,11,8,0,2],[11,3,2,9,4,5],[8,5,3,5,1,3],[5,0,4,5,1,0],[3,8,0,4,5,9],[9,4,5],[11,9,10],[11,9,10],[1,11,4,1,10,11],[8,7,4,11,1,10,11,3,1],[2,7,9,2,9,10],[4,8,7,0,10,2,0,9,10],[2,1,10,0,7,4,0,3,7],[10,2,1,8,7,4],[1,7,4],[3,2,11,4,8,7,9,1,0],[11,4,2,4,0,2],[2,11,3,7,4,8],[4,1,7,1,
3,7],[1,0,9,8,7,4],[3,4,0,3,7,4],[8,7,4],[8,9,10,8,10,11],[3,9,11,9,10,11],[0,10,8,10,11,8],[10,3,1,10,11,3],[2,8,10,8,9,10],[9,2,0,9,10,2],[8,0,3,1,10,2],[10,2,1],[1,11,9,11,8,9],[11,3,2,0,9,1],[11,0,2,11,8,0],[11,3,2],[8,1,3,8,9,1],[9,1,0],[8,0,3],[]],D=[0,265,515,778,2060,2309,2575,2822,1030,1295,1541,1804,3082,3331,3593,3840,400,153,915,666,2460,2197,2975,2710,1430,1183,1941,1692,3482,3219,3993,3728,560,825,51,314,2620,2869,2111,2358,1590,1855,1077,1340,3642,3891,3129,3376,928,681,419,170,2988,
2725,2479,2214,1958,1711,1445,1196,4010,3747,3497,3232,2240,2505,2755,3018,204,453,719,966,3270,3535,3781,4044,1226,1475,1737,1984,2384,2137,2899,2650,348,85,863,598,3414,3167,3925,3676,1370,1107,1881,1616,2800,3065,2291,2554,764,1013,255,502,3830,4095,3317,3580,1786,2035,1273,1520,2912,2665,2403,2154,876,613,367,102,3942,3695,3429,3180,1898,1635,1385,1120,1120,1385,1635,1898,3180,3429,3695,3942,102,367,613,876,2154,2403,2665,2912,1520,1273,2035,1786,3580,3317,4095,3830,502,255,1013,764,2554,2291,
3065,2800,1616,1881,1107,1370,3676,3925,3167,3414,598,863,85,348,2650,2899,2137,2384,1984,1737,1475,1226,4044,3781,3535,3270,966,719,453,204,3018,2755,2505,2240,3232,3497,3747,4010,1196,1445,1711,1958,2214,2479,2725,2988,170,419,681,928,3376,3129,3891,3642,1340,1077,1855,1590,2358,2111,2869,2620,314,51,825,560,3728,3993,3219,3482,1692,1941,1183,1430,2710,2975,2197,2460,666,915,153,400,3840,3593,3331,3082,1804,1541,1295,1030,2822,2575,2309,2060,778,515,265,0],t=[[],[8,3,0],[9,0,1],[8,3,1,8,1,9],[11,
2,3],[11,2,0,11,0,8],[11,2,3,0,1,9],[2,1,11,1,9,11,11,9,8],[10,1,2],[8,3,0,1,2,10],[9,0,2,9,2,10],[3,2,8,2,10,8,8,10,9],[10,1,3,10,3,11],[1,0,10,0,8,10,10,8,11],[0,3,9,3,11,9,9,11,10],[8,10,9,8,11,10],[8,4,7],[3,0,4,3,4,7],[1,9,0,8,4,7],[9,4,1,4,7,1,1,7,3],[2,3,11,7,8,4],[7,11,4,11,2,4,4,2,0],[3,11,2,4,7,8,9,0,1],[2,7,11,2,1,7,1,4,7,1,9,4],[10,1,2,8,4,7],[2,10,1,0,4,7,0,7,3],[4,7,8,0,2,10,0,10,9],[2,7,3,2,9,7,7,9,4,2,10,9],[8,4,7,11,10,1,11,1,3],[11,4,7,1,4,11,1,11,10,1,0,4],[3,8,0,7,11,4,11,9,4,
11,10,9],[7,11,4,4,11,9,11,10,9],[9,5,4],[3,0,8,4,9,5],[5,4,0,5,0,1],[4,8,5,8,3,5,5,3,1],[11,2,3,9,5,4],[9,5,4,8,11,2,8,2,0],[3,11,2,1,5,4,1,4,0],[8,5,4,2,5,8,2,8,11,2,1,5],[2,10,1,9,5,4],[0,8,3,5,4,9,10,1,2],[10,5,2,5,4,2,2,4,0],[3,4,8,3,2,4,2,5,4,2,10,5],[5,4,9,1,3,11,1,11,10],[0,9,1,4,8,5,8,10,5,8,11,10],[3,4,0,3,10,4,4,10,5,3,11,10],[4,8,5,5,8,10,8,11,10],[9,5,7,9,7,8],[0,9,3,9,5,3,3,5,7],[8,0,7,0,1,7,7,1,5],[1,7,3,1,5,7],[11,2,3,8,9,5,8,5,7],[9,2,0,9,7,2,2,7,11,9,5,7],[0,3,8,2,1,11,1,7,11,1,
5,7],[2,1,11,11,1,7,1,5,7],[1,2,10,5,7,8,5,8,9],[9,1,0,10,5,2,5,3,2,5,7,3],[5,2,10,8,2,5,8,5,7,8,0,2],[10,5,2,2,5,3,5,7,3],[3,9,1,3,8,9,7,11,10,7,10,5],[9,1,0,10,7,11,10,5,7],[3,8,0,7,10,5,7,11,10],[11,5,7,11,10,5],[11,7,6],[0,8,3,11,7,6],[9,0,1,11,7,6],[7,6,11,3,1,9,3,9,8],[2,3,7,2,7,6],[8,7,0,7,6,0,0,6,2],[1,9,0,3,7,6,3,6,2],[7,6,2,7,2,9,2,1,9,7,9,8],[1,2,10,6,11,7],[2,10,1,7,6,11,8,3,0],[11,7,6,10,9,0,10,0,2],[7,6,11,3,2,8,8,2,10,8,10,9],[6,10,7,10,1,7,7,1,3],[6,10,1,6,1,7,7,1,0,7,0,8],[9,0,3,
6,9,3,6,10,9,6,3,7],[6,10,7,7,10,8,10,9,8],[8,4,6,8,6,11],[11,3,6,3,0,6,6,0,4],[0,1,9,4,6,11,4,11,8],[1,9,4,11,1,4,11,3,1,11,4,6],[3,8,2,8,4,2,2,4,6],[2,0,4,2,4,6],[1,9,0,3,8,2,2,8,4,2,4,6],[9,4,1,1,4,2,4,6,2],[10,1,2,11,8,4,11,4,6],[10,1,2,11,3,6,6,3,0,6,0,4],[0,2,10,0,10,9,4,11,8,4,6,11],[2,11,3,6,9,4,6,10,9],[8,4,6,8,6,1,6,10,1,8,1,3],[1,0,10,10,0,6,0,4,6],[8,0,3,9,6,10,9,4,6],[10,4,6,10,9,4],[9,5,4,7,6,11],[4,9,5,3,0,8,11,7,6],[6,11,7,4,0,1,4,1,5],[6,11,7,4,8,5,5,8,3,5,3,1],[4,9,5,6,2,3,6,3,7],
[9,5,4,8,7,0,0,7,6,0,6,2],[4,0,1,4,1,5,6,3,7,6,2,3],[7,4,8,5,2,1,5,6,2],[6,11,7,1,2,10,9,5,4],[11,7,6,8,3,0,1,2,10,9,5,4],[11,7,6,10,5,2,2,5,4,2,4,0],[7,4,8,2,11,3,10,5,6],[4,9,5,6,10,7,7,10,1,7,1,3],[5,6,10,0,9,1,8,7,4],[5,6,10,7,0,3,7,4,0],[10,5,6,4,8,7],[5,6,9,6,11,9,9,11,8],[0,9,5,0,5,3,3,5,6,3,6,11],[0,1,5,0,5,11,5,6,11,0,11,8],[11,3,6,6,3,5,3,1,5],[9,5,6,3,9,6,3,8,9,3,6,2],[5,6,9,9,6,0,6,2,0],[0,3,8,2,5,6,2,1,5],[1,6,2,1,5,6],[1,2,10,5,6,9,9,6,11,9,11,8],[1,0,9,6,10,5,11,3,2],[6,10,5,2,8,0,
2,11,8],[3,2,11,10,5,6],[10,5,6,9,3,8,9,1,3],[0,9,1,5,6,10],[8,0,3,10,5,6],[10,5,6],[10,6,5],[8,3,0,10,6,5],[0,1,9,5,10,6],[10,6,5,9,8,3,9,3,1],[3,11,2,10,6,5],[6,5,10,2,0,8,2,8,11],[1,9,0,6,5,10,11,2,3],[1,10,2,5,9,6,9,11,6,9,8,11],[1,2,6,1,6,5],[0,8,3,2,6,5,2,5,1],[5,9,6,9,0,6,6,0,2],[9,6,5,3,6,9,3,9,8,3,2,6],[11,6,3,6,5,3,3,5,1],[0,5,1,0,11,5,5,11,6,0,8,11],[0,5,9,0,3,5,3,6,5,3,11,6],[5,9,6,6,9,11,9,8,11],[10,6,5,4,7,8],[5,10,6,7,3,0,7,0,4],[5,10,6,0,1,9,8,4,7],[4,5,9,6,7,10,7,1,10,7,3,1],[7,8,
4,2,3,11,10,6,5],[11,6,7,10,2,5,2,4,5,2,0,4],[11,6,7,8,0,3,1,10,2,9,4,5],[6,7,11,1,10,2,9,4,5],[7,8,4,5,1,2,5,2,6],[4,1,0,4,5,1,6,7,3,6,3,2],[9,4,5,8,0,7,0,6,7,0,2,6],[4,5,9,6,3,2,6,7,3],[6,7,11,4,5,8,5,3,8,5,1,3],[6,7,11,4,1,0,4,5,1],[4,5,9,3,8,0,11,6,7],[9,4,5,7,11,6],[10,6,4,10,4,9],[8,3,0,9,10,6,9,6,4],[1,10,0,10,6,0,0,6,4],[8,6,4,8,1,6,6,1,10,8,3,1],[2,3,11,6,4,9,6,9,10],[0,10,2,0,9,10,4,8,11,4,11,6],[10,2,1,11,6,3,6,0,3,6,4,0],[10,2,1,11,4,8,11,6,4],[9,1,4,1,2,4,4,2,6],[1,0,9,3,2,8,2,4,8,2,
6,4],[2,4,0,2,6,4],[3,2,8,8,2,4,2,6,4],[1,4,9,11,4,1,11,1,3,11,6,4],[0,9,1,4,11,6,4,8,11],[11,6,3,3,6,0,6,4,0],[8,6,4,8,11,6],[6,7,10,7,8,10,10,8,9],[9,3,0,6,3,9,6,9,10,6,7,3],[6,1,10,6,7,1,7,0,1,7,8,0],[6,7,10,10,7,1,7,3,1],[7,11,6,3,8,2,8,10,2,8,9,10],[11,6,7,10,0,9,10,2,0],[2,1,10,7,11,6,8,0,3],[1,10,2,6,7,11],[7,2,6,7,9,2,2,9,1,7,8,9],[1,0,9,3,6,7,3,2,6],[8,0,7,7,0,6,0,2,6],[2,7,3,2,6,7],[7,11,6,3,9,1,3,8,9],[9,1,0,11,6,7],[0,3,8,11,6,7],[11,6,7],[11,7,5,11,5,10],[3,0,8,7,5,10,7,10,11],[9,0,1,
10,11,7,10,7,5],[3,1,9,3,9,8,7,10,11,7,5,10],[10,2,5,2,3,5,5,3,7],[5,10,2,8,5,2,8,7,5,8,2,0],[9,0,1,10,2,5,5,2,3,5,3,7],[1,10,2,5,8,7,5,9,8],[2,11,1,11,7,1,1,7,5],[0,8,3,2,11,1,1,11,7,1,7,5],[9,0,2,9,2,7,2,11,7,9,7,5],[11,3,2,8,5,9,8,7,5],[1,3,7,1,7,5],[8,7,0,0,7,1,7,5,1],[0,3,9,9,3,5,3,7,5],[9,7,5,9,8,7],[4,5,8,5,10,8,8,10,11],[3,0,4,3,4,10,4,5,10,3,10,11],[0,1,9,4,5,8,8,5,10,8,10,11],[5,9,4,1,11,3,1,10,11],[3,8,4,3,4,2,2,4,5,2,5,10],[10,2,5,5,2,4,2,0,4],[0,3,8,5,9,4,10,2,1],[2,1,10,9,4,5],[8,4,
5,2,8,5,2,11,8,2,5,1],[3,2,11,1,4,5,1,0,4],[9,4,5,8,2,11,8,0,2],[11,3,2,9,4,5],[4,5,8,8,5,3,5,1,3],[5,0,4,5,1,0],[3,8,0,4,5,9],[9,4,5],[7,4,11,4,9,11,11,9,10],[3,0,8,7,4,11,11,4,9,11,9,10],[11,7,4,1,11,4,1,10,11,1,4,0],[8,7,4,11,1,10,11,3,1],[2,3,7,2,7,9,7,4,9,2,9,10],[4,8,7,0,10,2,0,9,10],[2,1,10,0,7,4,0,3,7],[10,2,1,8,7,4],[2,11,7,2,7,1,1,7,4,1,4,9],[3,2,11,4,8,7,9,1,0],[7,4,11,11,4,2,4,0,2],[2,11,3,7,4,8],[9,1,4,4,1,7,1,3,7],[1,0,9,8,7,4],[3,4,0,3,7,4],[8,7,4],[8,9,10,8,10,11],[0,9,3,3,9,11,9,
10,11],[1,10,0,0,10,8,10,11,8],[10,3,1,10,11,3],[3,8,2,2,8,10,8,9,10],[9,2,0,9,10,2],[8,0,3,1,10,2],[10,2,1],[2,11,1,1,11,9,11,8,9],[11,3,2,0,9,1],[11,0,2,11,8,0],[11,3,2],[8,1,3,8,9,1],[9,1,0],[8,0,3],[]];return v}();"undefined"===typeof console&&(console={log:function(){}});
WebMol.da=function(){function v(x,l,g){var b=new Int32Array(x*l*g*3);this.set=function(x,p,n,a){x=3*((x*l+p)*g+n);b[x]=a.c;b[x+1]=a.d;b[x+2]=a.e};this.get=function(x,p,n){x=3*((x*l+p)*g+n);return{c:b[x],d:b[x+1],e:b[x+2]}}}function y(x){return x.elem&&"undefined"!=typeof G[x.elem]?x.elem:"X"}var C=0,D=0,t=0,f=2,c=0,w=0,e=0,a=0,b=null,m=null,A=null,d=0,h=0,z=0,s=0,E=0,r=0,G={H:1.2,Li:1.82,Na:2.27,K:2.75,C:1.7,N:1.55,O:1.52,F:1.47,P:1.8,S:1.8,CL:1.75,BR:1.85,SE:1.9,ZN:1.39,CU:1.4,NI:1.63,X:2},u={},
ca={},q,l,g=[new Int32Array([1,0,0]),new Int32Array([-1,0,0]),new Int32Array([0,1,0]),new Int32Array([0,-1,0]),new Int32Array([0,0,1]),new Int32Array([0,0,-1]),new Int32Array([1,1,0]),new Int32Array([1,-1,0]),new Int32Array([-1,1,0]),new Int32Array([-1,-1,0]),new Int32Array([1,0,1]),new Int32Array([1,0,-1]),new Int32Array([-1,0,1]),new Int32Array([-1,0,-1]),new Int32Array([0,1,1]),new Int32Array([0,1,-1]),new Int32Array([0,-1,1]),new Int32Array([0,-1,-1]),new Int32Array([1,1,1]),new Int32Array([1,
1,-1]),new Int32Array([1,-1,1]),new Int32Array([-1,1,1]),new Int32Array([1,-1,-1]),new Int32Array([-1,-1,1]),new Int32Array([-1,1,-1]),new Int32Array([-1,-1,-1])];this.pa=function(x){var g={},K,a;K=0;for(a=x.length;K<a;K++)g[x[K]]=!0;x=l;K=0;for(a=x.length;K<a;K++)x[K].x=x[K].x/f-C,x[K].y=x[K].y/f-D,x[K].z=x[K].z/f-t;var d=[];K=0;for(a=q.length;K<a;K+=3){var p=q[K],n=q[K+1],e=q[K+2],c=x[n].atomid,w=x[e].atomid,s=x[p].atomid;c<s&&(s=c);w<s&&(s=w);g[s]&&p!==n&&n!==e&&p!==e&&(d.push(p),d.push(n),d.push(e))}A=
m=b=null;return{vertices:x,faces:d}};this.sa=function(x,l,g){1E6<g&&(f=1);g=1/f*5.5;d=x[0][0];s=x[1][0];h=x[0][1];E=x[1][1];z=x[0][2];r=x[1][2];l?(d-=1.4+g,h-=1.4+g,z-=1.4+g,s+=1.4+g,E+=1.4+g,r+=1.4+g):(d-=g,h-=g,z-=g,s+=g,E+=g,r+=g);d=Math.floor(d*f)/f;h=Math.floor(h*f)/f;z=Math.floor(z*f)/f;s=Math.ceil(s*f)/f;E=Math.ceil(E*f)/f;r=Math.ceil(r*f)/f;C=-d;D=-h;t=-z;e=Math.ceil(f*(s-d))+1;w=Math.ceil(f*(E-h))+1;c=Math.ceil(f*(r-z))+1;this.M(l);a=1.4*f;b=new Uint8Array(e*w*c);m=new Float64Array(e*w*c);
A=new Int32Array(e*w*c);console.log("Box size: ",e,w,c,b.length)};this.M=function(x){var l=[],g,a;flagradius=x;for(var b in G)if(G.hasOwnProperty(b))for(a=G[b],l[b]=x?(a+1.4)*f+.5:a*f+.5,a=l[b]*l[b],ca[b]=Math.floor(l[b])+1,u[b]=new Int32Array(ca[b]*ca[b]),j=indx=0;j<ca[b];j++)for(k=0;k<ca[b];k++)g=j*j+k*k,g>a?u[b][indx]=-1:(g=Math.sqrt(a-g),u[b][indx]=Math.floor(g)),indx++};this.ma=function(x,l){var g,a;g=0;for(a=b.length;g<a;g++)b[g]=0,m[g]=-1,A[g]=-1;for(g in l)a=x[l[g]],void 0!==a&&this.ka(a,
x);g=0;for(a=b.length;g<a;g++)b[g]&1&&(b[g]|=2)};this.ka=function(x,g){var l,a,m,p,n,d,s,q,h,Q,B,r,z,E,G,v,P;l=Math.floor(.5+f*(x.x+C));a=Math.floor(.5+f*(x.y+D));m=Math.floor(.5+f*(x.z+t));var W=y(x),R=0,J=w*c;Q=0;for(P=ca[W];Q<P;Q++)for(B=0;B<P;B++){if(-1!=u[W][R])for(E=-1;2>E;E++)for(G=-1;2>G;G++)for(v=-1;2>v;v++)if(0!==E&&0!==G&&0!==v)for(s=E*Q,h=v*B,r=0;r<=u[W][R];r++)q=r*G,p=l+s,n=a+q,z=m+h,0>p||0>n||0>z||p>=e||n>=w||z>=c||(z=p*J+n*c+z,b[z]&1?(d=g[A[z]],p=Math.floor(.5+f*(d.x+C)),n=Math.floor(.5+
f*(d.y+D)),d=Math.floor(.5+f*(d.z+t)),s*s+q*q+h*h<p*p+n*n+d*d&&(A[z]=x.serial)):(b[z]|=1,A[z]=x.serial));R++}};this.na=function(x,g){var l,a;l=0;for(a=b.length;l<a;l++)b[l]&=-3;for(l in g)a=x[g[l]],void 0!==a&&this.la(a,x)};this.la=function(x,l){var g,a,m,p,n,d,s=0,q,h,r,B,z,E,G,v,Z,P,W;g=Math.floor(.5+f*(x.x+C));a=Math.floor(.5+f*(x.y+D));m=Math.floor(.5+f*(x.z+t));var R=y(x),J=w*c;z=0;for(W=ca[R];z<W;z++)for(E=0;E<W;E++){if(-1!=u[R][s])for(v=-1;2>v;v++)for(Z=-1;2>Z;Z++)for(P=-1;2>P;P++)if(0!==v&&
0!==Z&&0!==P)for(q=v*z,r=P*E,G=0;G<=u[R][s];G++)h=G*Z,p=g+q,n=a+h,B=m+r,0>p||0>n||0>B||p>=e||n>=w||B>=c||(B=p*J+n*c+B,b[B]&2?(d=l[A[B]],p=Math.floor(.5+f*(d.x+C)),n=Math.floor(.5+f*(d.y+D)),d=Math.floor(.5+f*(d.z+t)),q*q+h*h+r*r<p*p+n*n+d*d&&(A[B]=x.serial)):(b[B]|=2,A[B]=x.serial));s++}};this.fa=function(){var x=w*c;for(i=0;i<e;i++)for(j=0;j<c;j++)for(k=0;k<w;k++){var l=i*x+k*c+j;if(b[l]&1)for(var a=0;26>a;){var m=i+g[a][0],d=j+g[a][2],p=k+g[a][1];if(-1<m&&m<e&&-1<p&&p<w&&-1<d&&d<c&&!(b[m*x+p*c+
d]&1)){b[l]|=4;break}else a++}}};this.ia=function(){var l,g,d,A=new v(e,w,c),H=w*c,p=a*a,n=[];d=[];var F;for(l=0;l<e;l++)for(g=0;g<w;g++)for(d=0;d<c;d++)if(F=l*H+g*c+d,b[F]&=-3,b[F]&1&&b[F]&4){var s={c:l,d:g,e:d};A.set(l,g,d,s);n.push(s);m[F]=0;b[F]|=2;b[F]&=-5}do for(d=this.ja(n,A),n=[],l=0,g=d.length;l<g;l++)F=H*d[l].c+c*d[l].d+d[l].e,b[F]&=-5,m[F]<=1.0404*p&&n.push({c:d[l].c,d:d[l].d,e:d[l].e});while(0!==n.length);l=f-.5;0>l&&(l=0);p-=.5/(.1+l);for(l=0;l<e;l++)for(g=0;g<w;g++)for(d=0;d<c;d++)F=
l*H+g*c+d,b[F]&=-5,b[F]&1&&(!(b[F]&2)||b[F]&2&&m[F]>=p)&&(b[F]|=4)};this.ja=function(l,a){var d,A,s,p,n,F,q,h,u,f,B,r=[];if(0===l.length)return r;tnv={c:-1,d:-1,e:-1};var z=w*c;q=0;for(u=l.length;q<u;q++)for(d=l[q].c,A=l[q].d,s=l[q].e,f=a.get(d,A,s),h=0;6>h;h++)tnv.c=d+g[h][0],tnv.d=A+g[h][1],tnv.e=s+g[h][2],tnv.c<e&&-1<tnv.c&&tnv.d<w&&-1<tnv.d&&tnv.e<c&&-1<tnv.e&&(B=tnv.c*z+c*tnv.d+tnv.e,b[B]&1&&!(b[B]&2)?(a.set(tnv.c,tnv.d,s+g[h][2],f),p=tnv.c-f.c,n=tnv.d-f.d,F=tnv.e-f.e,p=p*p+n*n+F*F,m[B]=p,b[B]|=
2,b[B]|=4,r.push({c:tnv.c,d:tnv.d,e:tnv.e})):b[B]&1&&b[B]&2&&(p=tnv.c-f.c,n=tnv.d-f.d,F=tnv.e-f.e,p=p*p+n*n+F*F,p<m[B]&&(a.set(tnv.c,tnv.d,tnv.e,f),m[B]=p,b[B]&4||(b[B]|=4,r.push({c:tnv.c,d:tnv.d,e:tnv.e})))));q=0;for(u=l.length;q<u;q++)for(d=l[q].c,A=l[q].d,s=l[q].e,f=a.get(d,A,s),h=6;18>h;h++)tnv.c=d+g[h][0],tnv.d=A+g[h][1],tnv.e=s+g[h][2],tnv.c<e&&-1<tnv.c&&tnv.d<w&&-1<tnv.d&&tnv.e<c&&-1<tnv.e&&(B=tnv.c*z+c*tnv.d+tnv.e,b[B]&1&&!(b[B]&2)?(a.set(tnv.c,tnv.d,s+g[h][2],f),p=tnv.c-f.c,n=tnv.d-f.d,F=
tnv.e-f.e,p=p*p+n*n+F*F,m[B]=p,b[B]|=2,b[B]|=4,r.push({c:tnv.c,d:tnv.d,e:tnv.e})):b[B]&1&&b[B]&2&&(p=tnv.c-f.c,n=tnv.d-f.d,F=tnv.e-f.e,p=p*p+n*n+F*F,p<m[B]&&(a.set(tnv.c,tnv.d,tnv.e,f),m[B]=p,b[B]&4||(b[B]|=4,r.push({c:tnv.c,d:tnv.d,e:tnv.e})))));q=0;for(u=l.length;q<u;q++)for(d=l[q].c,A=l[q].d,s=l[q].e,f=a.get(d,A,s),h=18;26>h;h++)tnv.c=d+g[h][0],tnv.d=A+g[h][1],tnv.e=s+g[h][2],tnv.c<e&&-1<tnv.c&&tnv.d<w&&-1<tnv.d&&tnv.e<c&&-1<tnv.e&&(B=tnv.c*z+c*tnv.d+tnv.e,b[B]&1&&!(b[B]&2)?(a.set(tnv.c,tnv.d,
s+g[h][2],f),p=tnv.c-f.c,n=tnv.d-f.d,F=tnv.e-f.e,p=p*p+n*n+F*F,m[B]=p,b[B]|=2,b[B]|=4,r.push({c:tnv.c,d:tnv.d,e:tnv.e})):b[B]&1&&b[B]&2&&(p=tnv.c-f.c,n=tnv.d-f.d,F=tnv.e-f.e,p=p*p+n*n+F*F,p<m[B]&&(a.set(tnv.c,tnv.d,tnv.e,f),m[B]=p,b[B]&4||(b[B]|=4,r.push({c:tnv.c,d:tnv.d,e:tnv.e})))));return r};this.ua=function(l){for(var g=0,a=b.length;g<a;g++)1==l?b[g]&=-5:4==l?(b[g]&=-3,b[g]&4&&(b[g]|=2),b[g]&=-5):2==l?b[g]&4&&b[g]&2?b[g]&=-5:b[g]&4&&!(b[g]&2)&&(b[g]|=2):3==l&&(b[g]&=-5)};this.ta=function(g){this.ua(g);
l=[];q=[];WebMol.o.R(b,l,q,{Ha:1,U:e,V:w,W:c});g=w*c;for(var a=0,d=l.length;a<d;a++)l[a].atomid=A[l[a].x*g+c*l[a].y+l[a].z];WebMol.o.Q(1,l,q)}};WebMol.ca='self.onmessage=function(oEvent){var obj=oEvent.data,type=obj.type;if(0>type)self.atomData=obj.atoms,self.volume=obj.volume,self.ps=new ProteinSurface;else{var ps=self.ps;ps.initparm(obj.expandedExtent,1==type?!1:!0,self.volume),ps.fillvoxels(self.atomData,obj.extendedAtoms),ps.buildboundary(),(4===type||2===type)&&(ps.fastdistancemap(),ps.boundingatom(!1),ps.fillvoxelswaals(self.atomData,obj.extendedAtoms)),ps.marchingcube(type);var VandF=ps.getFacesAndVertices(obj.atomsToShow);self.postMessage(VandF)}};var Vector3=function(x,y,z){this.x=x||0,this.y=y||0,this.z=z||0};Vector3.prototype={constructor:Vector3,copy:function(v){return this.x=v.x,this.y=v.y,this.z=v.z,this},multiplyScalar:function(s){return this.x*=s,this.y*=s,this.z*=s,this}};var ISDONE=2,ProteinSurface=function (){var faces,verts,origextent,INOUT=1,ISDONE=2,ISBOUND=4,ptranx=0,ptrany=0,ptranz=0,probeRadius=1.4,defaultScaleFactor=2,scaleFactor=defaultScaleFactor,pHeight=0,pWidth=0,pLength=0,cutRadius=0,vpBits=null,vpDistance=null,vpAtomID=null,pminx=0,pminy=0,pminz=0,pmaxx=0,pmaxy=0,pmaxz=0,vdwRadii={H:1.2,Li:1.82,Na:2.27,K:2.75,C:1.7,N:1.55,O:1.52,F:1.47,P:1.8,S:1.8,CL:1.75,BR:1.85,SE:1.9,ZN:1.39,CU:1.4,NI:1.63,X:2},getVDWIndex=function(atom){return atom.elem&&"undefined"!=typeof vdwRadii[atom.elem]?atom.elem:"X"},depty={},widxz={},nb=[new Int32Array([1,0,0]),new Int32Array([-1,0,0]),new Int32Array([0,1,0]),new Int32Array([0,-1,0]),new Int32Array([0,0,1]),new Int32Array([0,0,-1]),new Int32Array([1,1,0]),new Int32Array([1,-1,0]),new Int32Array([-1,1,0]),new Int32Array([-1,-1,0]),new Int32Array([1,0,1]),new Int32Array([1,0,-1]),new Int32Array([-1,0,1]),new Int32Array([-1,0,-1]),new Int32Array([0,1,1]),new Int32Array([0,1,-1]),new Int32Array([0,-1,1]),new Int32Array([0,-1,-1]),new Int32Array([1,1,1]),new Int32Array([1,1,-1]),new Int32Array([1,-1,1]),new Int32Array([-1,1,1]),new Int32Array([1,-1,-1]),new Int32Array([-1,-1,1]),new Int32Array([-1,1,-1]),new Int32Array([-1,-1,-1])];this.getFacesAndVertices=function(atomlist){var i,il,atomsToShow={};for(i=0,il=atomlist.length;il>i;i++)atomsToShow[atomlist[i]]=!0;var vertices=verts;for(i=0,il=vertices.length;il>i;i++)vertices[i].x=vertices[i].x/scaleFactor-ptranx,vertices[i].y=vertices[i].y/scaleFactor-ptrany,vertices[i].z=vertices[i].z/scaleFactor-ptranz;var finalfaces=[];for(i=0,il=faces.length;il>i;i+=3){var fa=faces[i],fb=faces[i+1],fc=faces[i+2],a=vertices[fa].atomid,b=vertices[fb].atomid,c=vertices[fc].atomid,which=a;if(which>b&&(which=b),which>c&&(which=c),atomsToShow[which]){{vertices[faces[i]],vertices[faces[i+1]],vertices[faces[i+2]]}fa!==fb&&fb!==fc&&fa!==fc&&(finalfaces.push(fa),finalfaces.push(fb),finalfaces.push(fc))}}return vpBits=null,vpDistance=null,vpAtomID=null,{vertices:vertices,faces:finalfaces}},this.initparm=function(extent,btype,volume){volume>1e6&&(scaleFactor=defaultScaleFactor/2);var margin=1/scaleFactor*5.5;origextent=extent,pminx=extent[0][0],pmaxx=extent[1][0],pminy=extent[0][1],pmaxy=extent[1][1],pminz=extent[0][2],pmaxz=extent[1][2],btype?(pminx-=probeRadius+margin,pminy-=probeRadius+margin,pminz-=probeRadius+margin,pmaxx+=probeRadius+margin,pmaxy+=probeRadius+margin,pmaxz+=probeRadius+margin):(pminx-=margin,pminy-=margin,pminz-=margin,pmaxx+=margin,pmaxy+=margin,pmaxz+=margin),pminx=Math.floor(pminx*scaleFactor)/scaleFactor,pminy=Math.floor(pminy*scaleFactor)/scaleFactor,pminz=Math.floor(pminz*scaleFactor)/scaleFactor,pmaxx=Math.ceil(pmaxx*scaleFactor)/scaleFactor,pmaxy=Math.ceil(pmaxy*scaleFactor)/scaleFactor,pmaxz=Math.ceil(pmaxz*scaleFactor)/scaleFactor,ptranx=-pminx,ptrany=-pminy,ptranz=-pminz,pLength=Math.ceil(scaleFactor*(pmaxx-pminx))+1,pWidth=Math.ceil(scaleFactor*(pmaxy-pminy))+1,pHeight=Math.ceil(scaleFactor*(pmaxz-pminz))+1,this.boundingatom(btype),cutRadius=probeRadius*scaleFactor,vpBits=new Uint8Array(pLength*pWidth*pHeight),vpDistance=new Float64Array(pLength*pWidth*pHeight),vpAtomID=new Int32Array(pLength*pWidth*pHeight)},this.boundingatom=function(btype){var txz,tdept,sradius,tradius=[];flagradius=btype;for(var i in vdwRadii)if(vdwRadii.hasOwnProperty(i)){var r=vdwRadii[i];for(tradius[i]=btype?(r+probeRadius)*scaleFactor+.5:r*scaleFactor+.5,sradius=tradius[i]*tradius[i],widxz[i]=Math.floor(tradius[i])+1,depty[i]=new Int32Array(widxz[i]*widxz[i]),indx=0,j=0;j<widxz[i];j++)for(k=0;k<widxz[i];k++)txz=j*j+k*k,txz>sradius?depty[i][indx]=-1:(tdept=Math.sqrt(sradius-txz),depty[i][indx]=Math.floor(tdept)),indx++}},this.fillvoxels=function(atoms,atomlist){var i,il;for(i=0,il=vpBits.length;il>i;i++)vpBits[i]=0,vpDistance[i]=-1,vpAtomID[i]=-1;for(i in atomlist){var atom=atoms[atomlist[i]];void 0!==atom&&this.fillAtom(atom,atoms)}for(i=0,il=vpBits.length;il>i;i++)vpBits[i]&INOUT&&(vpBits[i]|=ISDONE)},this.fillAtom=function(atom,atoms){var cx,cy,cz,ox,oy,oz,mi,mj,mk,i,j,k,si,sj,sk,ii,jj,kk,n;cx=Math.floor(.5+scaleFactor*(atom.x+ptranx)),cy=Math.floor(.5+scaleFactor*(atom.y+ptrany)),cz=Math.floor(.5+scaleFactor*(atom.z+ptranz));var at=getVDWIndex(atom),nind=0,pWH=pWidth*pHeight;for(i=0,n=widxz[at];n>i;i++)for(j=0;n>j;j++){if(-1!=depty[at][nind])for(ii=-1;2>ii;ii++)for(jj=-1;2>jj;jj++)for(kk=-1;2>kk;kk++)if(0!==ii&&0!==jj&&0!==kk)for(mi=ii*i,mk=kk*j,k=0;k<=depty[at][nind];k++)if(mj=k*jj,si=cx+mi,sj=cy+mj,sk=cz+mk,!(0>si||0>sj||0>sk||si>=pLength||sj>=pWidth||sk>=pHeight)){var index=si*pWH+sj*pHeight+sk;if(vpBits[index]&INOUT){var atom2=atoms[vpAtomID[index]];ox=Math.floor(.5+scaleFactor*(atom2.x+ptranx)),oy=Math.floor(.5+scaleFactor*(atom2.y+ptrany)),oz=Math.floor(.5+scaleFactor*(atom2.z+ptranz)),ox*ox+oy*oy+oz*oz>mi*mi+mj*mj+mk*mk&&(vpAtomID[index]=atom.serial)}else vpBits[index]|=INOUT,vpAtomID[index]=atom.serial}nind++}},this.fillvoxelswaals=function(atoms,atomlist){var i,il;for(i=0,il=vpBits.length;il>i;i++)vpBits[i]&=~ISDONE;for(i in atomlist){var atom=atoms[atomlist[i]];void 0!==atom&&this.fillAtomWaals(atom,atoms)}},this.fillAtomWaals=function(atom,atoms){var cx,cy,cz,ox,oy,oz,mi,mj,mk,si,sj,sk,i,j,k,ii,jj,kk,n,nind=0;cx=Math.floor(.5+scaleFactor*(atom.x+ptranx)),cy=Math.floor(.5+scaleFactor*(atom.y+ptrany)),cz=Math.floor(.5+scaleFactor*(atom.z+ptranz));var at=getVDWIndex(atom),pWH=pWidth*pHeight;for(i=0,n=widxz[at];n>i;i++)for(j=0;n>j;j++){if(-1!=depty[at][nind])for(ii=-1;2>ii;ii++)for(jj=-1;2>jj;jj++)for(kk=-1;2>kk;kk++)if(0!==ii&&0!==jj&&0!==kk)for(mi=ii*i,mk=kk*j,k=0;k<=depty[at][nind];k++)if(mj=k*jj,si=cx+mi,sj=cy+mj,sk=cz+mk,!(0>si||0>sj||0>sk||si>=pLength||sj>=pWidth||sk>=pHeight)){var index=si*pWH+sj*pHeight+sk;if(vpBits[index]&ISDONE){var atom2=atoms[vpAtomID[index]];ox=Math.floor(.5+scaleFactor*(atom2.x+ptranx)),oy=Math.floor(.5+scaleFactor*(atom2.y+ptrany)),oz=Math.floor(.5+scaleFactor*(atom2.z+ptranz)),ox*ox+oy*oy+oz*oz>mi*mi+mj*mj+mk*mk&&(vpAtomID[index]=atom.serial)}else vpBits[index]|=ISDONE,vpAtomID[index]=atom.serial}nind++}},this.buildboundary=function(){var pWH=pWidth*pHeight;for(i=0;pLength>i;i++)for(j=0;pHeight>j;j++)for(k=0;pWidth>k;k++){var index=i*pWH+k*pHeight+j;if(vpBits[index]&INOUT)for(var ii=0;26>ii;){var ti=i+nb[ii][0],tj=j+nb[ii][2],tk=k+nb[ii][1];if(ti>-1&&pLength>ti&&tk>-1&&pWidth>tk&&tj>-1&&pHeight>tj&&!(vpBits[ti*pWH+tk*pHeight+tj]&INOUT)){vpBits[index]|=ISBOUND;break}ii++}}};var PointGrid=function(length,width,height){var data=new Int32Array(length*width*height*3);this.set=function(x,y,z,pt){var index=3*((x*width+y)*height+z);data[index]=pt.ix,data[index+1]=pt.iy,data[index+2]=pt.iz},this.get=function(x,y,z){var index=3*((x*width+y)*height+z);return{ix:data[index],iy:data[index+1],iz:data[index+2]}}};this.fastdistancemap=function(){var i,j,k,n,index,boundPoint=new PointGrid(pLength,pWidth,pHeight),pWH=pWidth*pHeight,cutRSq=cutRadius*cutRadius,inarray=[],outarray=[];for(i=0;pLength>i;i++)for(j=0;pWidth>j;j++)for(k=0;pHeight>k;k++)if(index=i*pWH+j*pHeight+k,vpBits[index]&=~ISDONE,vpBits[index]&INOUT&&vpBits[index]&ISBOUND){var triple={ix:i,iy:j,iz:k};boundPoint.set(i,j,k,triple),inarray.push(triple),vpDistance[index]=0,vpBits[index]|=ISDONE,vpBits[index]&=~ISBOUND}do for(outarray=this.fastoneshell(inarray,boundPoint),inarray=[],i=0,n=outarray.length;n>i;i++)index=pWH*outarray[i].ix+pHeight*outarray[i].iy+outarray[i].iz,vpBits[index]&=~ISBOUND,vpDistance[index]<=1.0404*cutRSq&&inarray.push({ix:outarray[i].ix,iy:outarray[i].iy,iz:outarray[i].iz});while(0!==inarray.length);inarray=[],outarray=[],boundPoint=null;var cutsf=scaleFactor-.5;0>cutsf&&(cutsf=0);var cutoff=cutRSq-.5/(.1+cutsf);for(i=0;pLength>i;i++)for(j=0;pWidth>j;j++)for(k=0;pHeight>k;k++)index=i*pWH+j*pHeight+k,vpBits[index]&=~ISBOUND,vpBits[index]&INOUT&&(!(vpBits[index]&ISDONE)||vpBits[index]&ISDONE&&vpDistance[index]>=cutoff)&&(vpBits[index]|=ISBOUND)},this.fastoneshell=function(inarray,boundPoint){var tx,ty,tz,dx,dy,dz,i,j,n,square,bp,index,outarray=[];if(0===inarray.length)return outarray;tnv={ix:-1,iy:-1,iz:-1};var pWH=pWidth*pHeight;for(i=0,n=inarray.length;n>i;i++)for(tx=inarray[i].ix,ty=inarray[i].iy,tz=inarray[i].iz,bp=boundPoint.get(tx,ty,tz),j=0;6>j;j++)tnv.ix=tx+nb[j][0],tnv.iy=ty+nb[j][1],tnv.iz=tz+nb[j][2],tnv.ix<pLength&&tnv.ix>-1&&tnv.iy<pWidth&&tnv.iy>-1&&tnv.iz<pHeight&&tnv.iz>-1&&(index=tnv.ix*pWH+pHeight*tnv.iy+tnv.iz,vpBits[index]&INOUT&&!(vpBits[index]&ISDONE)?(boundPoint.set(tnv.ix,tnv.iy,tz+nb[j][2],bp),dx=tnv.ix-bp.ix,dy=tnv.iy-bp.iy,dz=tnv.iz-bp.iz,square=dx*dx+dy*dy+dz*dz,vpDistance[index]=square,vpBits[index]|=ISDONE,vpBits[index]|=ISBOUND,outarray.push({ix:tnv.ix,iy:tnv.iy,iz:tnv.iz})):vpBits[index]&INOUT&&vpBits[index]&ISDONE&&(dx=tnv.ix-bp.ix,dy=tnv.iy-bp.iy,dz=tnv.iz-bp.iz,square=dx*dx+dy*dy+dz*dz,square<vpDistance[index]&&(boundPoint.set(tnv.ix,tnv.iy,tnv.iz,bp),vpDistance[index]=square,vpBits[index]&ISBOUND||(vpBits[index]|=ISBOUND,outarray.push({ix:tnv.ix,iy:tnv.iy,iz:tnv.iz})))));for(i=0,n=inarray.length;n>i;i++)for(tx=inarray[i].ix,ty=inarray[i].iy,tz=inarray[i].iz,bp=boundPoint.get(tx,ty,tz),j=6;18>j;j++)tnv.ix=tx+nb[j][0],tnv.iy=ty+nb[j][1],tnv.iz=tz+nb[j][2],tnv.ix<pLength&&tnv.ix>-1&&tnv.iy<pWidth&&tnv.iy>-1&&tnv.iz<pHeight&&tnv.iz>-1&&(index=tnv.ix*pWH+pHeight*tnv.iy+tnv.iz,vpBits[index]&INOUT&&!(vpBits[index]&ISDONE)?(boundPoint.set(tnv.ix,tnv.iy,tz+nb[j][2],bp),dx=tnv.ix-bp.ix,dy=tnv.iy-bp.iy,dz=tnv.iz-bp.iz,square=dx*dx+dy*dy+dz*dz,vpDistance[index]=square,vpBits[index]|=ISDONE,vpBits[index]|=ISBOUND,outarray.push({ix:tnv.ix,iy:tnv.iy,iz:tnv.iz})):vpBits[index]&INOUT&&vpBits[index]&ISDONE&&(dx=tnv.ix-bp.ix,dy=tnv.iy-bp.iy,dz=tnv.iz-bp.iz,square=dx*dx+dy*dy+dz*dz,square<vpDistance[index]&&(boundPoint.set(tnv.ix,tnv.iy,tnv.iz,bp),vpDistance[index]=square,vpBits[index]&ISBOUND||(vpBits[index]|=ISBOUND,outarray.push({ix:tnv.ix,iy:tnv.iy,iz:tnv.iz})))));for(i=0,n=inarray.length;n>i;i++)for(tx=inarray[i].ix,ty=inarray[i].iy,tz=inarray[i].iz,bp=boundPoint.get(tx,ty,tz),j=18;26>j;j++)tnv.ix=tx+nb[j][0],tnv.iy=ty+nb[j][1],tnv.iz=tz+nb[j][2],tnv.ix<pLength&&tnv.ix>-1&&tnv.iy<pWidth&&tnv.iy>-1&&tnv.iz<pHeight&&tnv.iz>-1&&(index=tnv.ix*pWH+pHeight*tnv.iy+tnv.iz,vpBits[index]&INOUT&&!(vpBits[index]&ISDONE)?(boundPoint.set(tnv.ix,tnv.iy,tz+nb[j][2],bp),dx=tnv.ix-bp.ix,dy=tnv.iy-bp.iy,dz=tnv.iz-bp.iz,square=dx*dx+dy*dy+dz*dz,vpDistance[index]=square,vpBits[index]|=ISDONE,vpBits[index]|=ISBOUND,outarray.push({ix:tnv.ix,iy:tnv.iy,iz:tnv.iz})):vpBits[index]&INOUT&&vpBits[index]&ISDONE&&(dx=tnv.ix-bp.ix,dy=tnv.iy-bp.iy,dz=tnv.iz-bp.iz,square=dx*dx+dy*dy+dz*dz,square<vpDistance[index]&&(boundPoint.set(tnv.ix,tnv.iy,tnv.iz,bp),vpDistance[index]=square,vpBits[index]&ISBOUND||(vpBits[index]|=ISBOUND,outarray.push({ix:tnv.ix,iy:tnv.iy,iz:tnv.iz})))));return outarray},this.marchingcubeinit=function(stype){for(var i=0,lim=vpBits.length;lim>i;i++)1==stype?vpBits[i]&=~ISBOUND:4==stype?(vpBits[i]&=~ISDONE,vpBits[i]&ISBOUND&&(vpBits[i]|=ISDONE),vpBits[i]&=~ISBOUND):2==stype?vpBits[i]&ISBOUND&&vpBits[i]&ISDONE?vpBits[i]&=~ISBOUND:vpBits[i]&ISBOUND&&!(vpBits[i]&ISDONE)&&(vpBits[i]|=ISDONE):3==stype&&(vpBits[i]&=~ISBOUND)};this.marchingcube=function(stype){this.marchingcubeinit(stype),verts=[],faces=[],march(vpBits,verts,faces,{smooth:1,nX:pLength,nY:pWidth,nZ:pHeight});for(var pWH=pWidth*pHeight,i=0,vlen=verts.length;vlen>i;i++)verts[i].atomid=vpAtomID[verts[i].x*pWH+pHeight*verts[i].y+verts[i].z];laplacianSmooth(1,verts,faces)}},march=function (data,verts,faces,spec){var i,il,fulltable=!!spec.fulltable,origin=spec.hasOwnProperty("origin")&&spec.origin.hasOwnProperty("x")?spec.origin:{x:0,y:0,z:0},voxel=!!spec.voxel,nX=spec.nX||0,nY=spec.nY||0,nZ=spec.nZ||0,scale=spec.scale||1,unitCube=new Vector3(1,1,1).multiplyScalar(scale),vertnums=new Int32Array(nX*nY*nZ);for(i=0,il=vertnums.length;il>i;++i)vertnums[i]=-1;var getVertex=function(i,j,k,code,p1,p2){var pt=new Vector3;pt.copy(origin);var val1=!!(code&1<<p1),val2=!!(code&1<<p2),p=p1;!val1&&val2&&(p=p2),1&p&&k++,2&p&&j++,4&p&&i++,pt.x+=unitCube.x*i,pt.y+=unitCube.y*j,pt.z+=unitCube.z*k;var index=(nY*i+j)*nZ+k;return voxel?(verts.push(pt),verts.length-1):(vertnums[index]<0&&(vertnums[index]=verts.length,verts.push(pt)),vertnums[index])},intersects=new Int32Array(12),etable=fulltable?edgeTable2:edgeTable,tritable=fulltable?triTable2:triTable;for(i=0;nX-1>i;++i)for(var j=0;nY-1>j;++j)for(var k=0;nZ-1>k;++k){for(var code=0,p=0;8>p;++p){var index=(nY*(i+((4&p)>>2))+j+((2&p)>>1))*nZ+k+(1&p),val=!!(data[index]&ISDONE);code|=val<<p}if(0!==code&&255!==code){var ecode=etable[code];if(0!==ecode){var ttable=tritable[code];1&ecode&&(intersects[0]=getVertex(i,j,k,code,0,1)),2&ecode&&(intersects[1]=getVertex(i,j,k,code,1,3)),4&ecode&&(intersects[2]=getVertex(i,j,k,code,3,2)),8&ecode&&(intersects[3]=getVertex(i,j,k,code,2,0)),16&ecode&&(intersects[4]=getVertex(i,j,k,code,4,5)),32&ecode&&(intersects[5]=getVertex(i,j,k,code,5,7)),64&ecode&&(intersects[6]=getVertex(i,j,k,code,7,6)),128&ecode&&(intersects[7]=getVertex(i,j,k,code,6,4)),256&ecode&&(intersects[8]=getVertex(i,j,k,code,0,4)),512&ecode&&(intersects[9]=getVertex(i,j,k,code,1,5)),1024&ecode&&(intersects[10]=getVertex(i,j,k,code,3,7)),2048&ecode&&(intersects[11]=getVertex(i,j,k,code,2,6));for(var t=0;t<ttable.length;t+=3){var a=intersects[ttable[t]],b=intersects[ttable[t+1]],c=intersects[ttable[t+2]];voxel&&t>=3&&(verts.push(verts[a]),a=verts.length-1,verts.push(verts[b]),b=verts.length-1,verts.push(verts[c]),c=verts.length-1),faces.push(a),faces.push(b),faces.push(c)}}}}},laplacianSmooth=function (numiter,verts,faces){var i,il,j,jl,k,tps=new Array(verts.length);for(i=0,il=verts.length;il>i;i++)tps[i]={x:0,y:0,z:0};var flagvert,vertdeg=new Array(20);for(i=0;20>i;i++)vertdeg[i]=new Array(verts.length);for(i=0,il=verts.length;il>i;i++)vertdeg[0][i]=0;for(i=0,il=faces.length/3;il>i;i++){var aoffset=3*i,boffset=3*i+1,coffset=3*i+2;for(flagvert=!0,j=0,jl=vertdeg[0][faces[aoffset]];jl>j;j++)if(faces[boffset]==vertdeg[j+1][faces[aoffset]]){flagvert=!1;break}for(flagvert&&(vertdeg[0][faces[aoffset]]++,vertdeg[vertdeg[0][faces[aoffset]]][faces[aoffset]]=faces[boffset]),flagvert=!0,j=0,jl=vertdeg[0][faces[aoffset]];jl>j;j++)if(faces[coffset]==vertdeg[j+1][faces[aoffset]]){flagvert=!1;break}for(flagvert&&(vertdeg[0][faces[aoffset]]++,vertdeg[vertdeg[0][faces[aoffset]]][faces[aoffset]]=faces[coffset]),flagvert=!0,j=0,jl=vertdeg[0][faces[boffset]];jl>j;j++)if(faces[aoffset]==vertdeg[j+1][faces[boffset]]){flagvert=!1;break}for(flagvert&&(vertdeg[0][faces[boffset]]++,vertdeg[vertdeg[0][faces[boffset]]][faces[boffset]]=faces[aoffset]),flagvert=!0,j=0,jl=vertdeg[0][faces[boffset]];jl>j;j++)if(faces[coffset]==vertdeg[j+1][faces[boffset]]){flagvert=!1;break}for(flagvert&&(vertdeg[0][faces[boffset]]++,vertdeg[vertdeg[0][faces[boffset]]][faces[boffset]]=faces[coffset]),flagvert=!0,j=0;j<vertdeg[0][faces[coffset]];j++)if(faces[aoffset]==vertdeg[j+1][faces[coffset]]){flagvert=!1;break}for(flagvert&&(vertdeg[0][faces[coffset]]++,vertdeg[vertdeg[0][faces[coffset]]][faces[coffset]]=faces[aoffset]),flagvert=!0,j=0,jl=vertdeg[0][faces[coffset]];jl>j;j++)if(faces[boffset]==vertdeg[j+1][faces[coffset]]){flagvert=!1;break}flagvert&&(vertdeg[0][faces[coffset]]++,vertdeg[vertdeg[0][faces[coffset]]][faces[coffset]]=faces[boffset])}var wt=1,wt2=.5;for(k=0;numiter>k;k++){for(i=0,il=verts.length;il>i;i++)if(vertdeg[0][i]<3)tps[i].x=verts[i].x,tps[i].y=verts[i].y,tps[i].z=verts[i].z;else if(3==vertdeg[0][i]||4==vertdeg[0][i]){for(tps[i].x=0,tps[i].y=0,tps[i].z=0,j=0,jl=vertdeg[0][i];jl>j;j++)tps[i].x+=verts[vertdeg[j+1][i]].x,tps[i].y+=verts[vertdeg[j+1][i]].y,tps[i].z+=verts[vertdeg[j+1][i]].z;tps[i].x+=wt2*verts[i].x,tps[i].y+=wt2*verts[i].y,tps[i].z+=wt2*verts[i].z,tps[i].x/=wt2+vertdeg[0][i],tps[i].y/=wt2+vertdeg[0][i],tps[i].z/=wt2+vertdeg[0][i]}else{for(tps[i].x=0,tps[i].y=0,tps[i].z=0,j=0,jl=vertdeg[0][i];jl>j;j++)tps[i].x+=verts[vertdeg[j+1][i]].x,tps[i].y+=verts[vertdeg[j+1][i]].y,tps[i].z+=verts[vertdeg[j+1][i]].z;tps[i].x+=wt*verts[i].x,tps[i].y+=wt*verts[i].y,tps[i].z+=wt*verts[i].z,tps[i].x/=wt+vertdeg[0][i],tps[i].y/=wt+vertdeg[0][i],tps[i].z/=wt+vertdeg[0][i]}for(i=0,il=verts.length;il>i;i++)verts[i].x=tps[i].x,verts[i].y=tps[i].y,verts[i].z=tps[i].z}},edgeTable=new Uint32Array([0,0,0,0,0,0,0,2816,0,0,0,1792,0,3328,3584,3840,0,0,0,138,0,21,0,134,0,0,0,652,0,2067,3865,3600,0,0,0,42,0,0,0,294,0,0,21,28,0,3875,1049,3360,0,168,162,170,0,645,2475,2210,0,687,293,172,4010,3747,3497,3232,0,0,0,0,0,69,0,900,0,0,0,1792,138,131,1608,1920,0,81,0,2074,84,85,84,86,0,81,0,3676,330,1105,1881,1616,0,0,0,42,0,69,0,502,0,0,21,3580,138,2035,1273,1520,2816,104,2337,106,840,581,367,102,2816,3695,3429,3180,1898,1635,1385,1120,0,0,0,0,0,0,0,3910,0,0,69,588,42,2083,41,2880,0,0,0,1722,0,2293,4095,3830,0,255,757,764,2538,2291,3065,2800,0,0,81,338,0,3925,1119,3414,84,855,85,340,2130,2899,89,2384,1792,712,194,1162,4036,3781,3535,3270,708,719,197,204,3018,2755,2505,2240,0,0,0,0,168,420,168,1958,162,162,676,2988,170,163,680,928,3328,3096,3328,3642,52,53,1855,1590,2340,2111,2869,2620,298,51,825,560,3584,3584,3090,3482,1668,1941,1183,1430,146,2975,2069,2460,154,915,153,400,3840,3592,3329,3082,1796,1541,1295,1030,2818,2575,2309,2060,778,515,265,0]),triTable=[[],[],[],[],[],[],[],[11,9,8],[],[],[],[8,10,9],[],[10,8,11],[9,11,10],[8,10,9,8,11,10],[],[],[],[1,7,3],[],[4,2,0],[],[2,1,7],[],[],[],[2,7,3,2,9,7],[],[1,4,11,1,0,4],[3,8,0,11,9,4,11,10,9],[4,11,9,11,10,9],[],[],[],[5,3,1],[],[],[],[2,5,8,2,1,5],[],[],[2,4,0],[3,2,4],[],[0,9,1,8,10,5,8,11,10],[3,4,0,3,10,4],[5,8,10,8,11,10],[],[3,5,7],[7,1,5],[1,7,3,1,5,7],[],[9,2,0,9,7,2],[0,3,8,1,7,11,1,5,7],[11,1,7,1,5,7],[],[9,1,0,5,3,2,5,7,3],[8,2,5,8,0,2],[2,5,3,5,7,3],[3,9,1,3,8,9,7,11,10,7,10,5],[9,1,0,10,7,11,10,5,7],[3,8,0,7,10,5,7,11,10],[11,5,7,11,10,5],[],[],[],[],[],[0,6,2],[],[7,2,9,7,9,8],[],[],[],[8,10,9],[7,1,3],[7,1,0],[6,9,3,6,10,9],[7,10,8,10,9,8],[],[6,0,4],[],[11,1,4,11,3,1],[2,4,6],[2,0,4,2,4,6],[2,4,6],[1,4,2,4,6,2],[],[6,0,4],[],[2,11,3,6,9,4,6,10,9],[8,6,1,8,1,3],[10,0,6,0,4,6],[8,0,3,9,6,10,9,4,6],[10,4,6,10,9,4],[],[],[],[5,3,1],[],[0,6,2],[],[7,4,8,5,2,1,5,6,2],[],[],[2,4,0],[7,4,8,2,11,3,10,5,6],[7,1,3],[5,6,10,0,9,1,8,7,4],[5,6,10,7,0,3,7,4,0],[10,5,6,4,8,7],[9,11,8],[3,5,6],[0,5,11,0,11,8],[6,3,5,3,1,5],[3,9,6,3,8,9],[9,6,0,6,2,0],[0,3,8,2,5,6,2,1,5],[1,6,2,1,5,6],[9,11,8],[1,0,9,6,10,5,11,3,2],[6,10,5,2,8,0,2,11,8],[3,2,11,10,5,6],[10,5,6,9,3,8,9,1,3],[0,9,1,5,6,10],[8,0,3,10,5,6],[10,5,6],[],[],[],[],[],[],[],[1,10,2,9,11,6,9,8,11],[],[],[6,0,2],[3,6,9,3,2,6],[3,5,1],[0,5,1,0,11,5],[0,3,5],[6,9,11,9,8,11],[],[],[],[4,5,9,7,1,10,7,3,1],[],[11,6,7,2,4,5,2,0,4],[11,6,7,8,0,3,1,10,2,9,4,5],[6,7,11,1,10,2,9,4,5],[],[4,1,0,4,5,1,6,7,3,6,3,2],[9,4,5,0,6,7,0,2,6],[4,5,9,6,3,2,6,7,3],[6,7,11,5,3,8,5,1,3],[6,7,11,4,1,0,4,5,1],[4,5,9,3,8,0,11,6,7],[9,4,5,7,11,6],[],[],[0,6,4],[8,6,4,8,1,6],[],[0,10,2,0,9,10,4,8,11,4,11,6],[10,2,1,6,0,3,6,4,0],[10,2,1,11,4,8,11,6,4],[4,2,6],[1,0,9,2,4,8,2,6,4],[2,4,0,2,6,4],[8,2,4,2,6,4],[11,4,1,11,6,4],[0,9,1,4,11,6,4,8,11],[3,6,0,6,4,0],[8,6,4,8,11,6],[10,8,9],[6,3,9,6,7,3],[6,7,1],[10,7,1,7,3,1],[7,11,6,8,10,2,8,9,10],[11,6,7,10,0,9,10,2,0],[2,1,10,7,11,6,8,0,3],[1,10,2,6,7,11],[7,2,6,7,9,2],[1,0,9,3,6,7,3,2,6],[7,0,6,0,2,6],[2,7,3,2,6,7],[7,11,6,3,9,1,3,8,9],[9,1,0,11,6,7],[0,3,8,11,6,7],[11,6,7],[],[],[],[],[5,3,7],[8,5,2,8,7,5],[5,3,7],[1,10,2,5,8,7,5,9,8],[1,7,5],[1,7,5],[9,2,7,9,7,5],[11,3,2,8,5,9,8,7,5],[1,3,7,1,7,5],[0,7,1,7,5,1],[9,3,5,3,7,5],[9,7,5,9,8,7],[8,10,11],[3,4,10,3,10,11],[8,10,11],[5,9,4,1,11,3,1,10,11],[2,4,5],[5,2,4,2,0,4],[0,3,8,5,9,4,10,2,1],[2,1,10,9,4,5],[2,8,5,2,11,8],[3,2,11,1,4,5,1,0,4],[9,4,5,8,2,11,8,0,2],[11,3,2,9,4,5],[8,5,3,5,1,3],[5,0,4,5,1,0],[3,8,0,4,5,9],[9,4,5],[11,9,10],[11,9,10],[1,11,4,1,10,11],[8,7,4,11,1,10,11,3,1],[2,7,9,2,9,10],[4,8,7,0,10,2,0,9,10],[2,1,10,0,7,4,0,3,7],[10,2,1,8,7,4],[1,7,4],[3,2,11,4,8,7,9,1,0],[11,4,2,4,0,2],[2,11,3,7,4,8],[4,1,7,1,3,7],[1,0,9,8,7,4],[3,4,0,3,7,4],[8,7,4],[8,9,10,8,10,11],[3,9,11,9,10,11],[0,10,8,10,11,8],[10,3,1,10,11,3],[2,8,10,8,9,10],[9,2,0,9,10,2],[8,0,3,1,10,2],[10,2,1],[1,11,9,11,8,9],[11,3,2,0,9,1],[11,0,2,11,8,0],[11,3,2],[8,1,3,8,9,1],[9,1,0],[8,0,3],[]]';
WebMol.J=window.URL.createObjectURL(new Blob([WebMol.ca]));WebMol.workerString=WebMol.ca;WebMol.SurfaceWorker=WebMol.J;
$(document).ready(function(){void 0!==$(".webmoljs_viewer")[0]&&(WebMol.ea=!0);if(WebMol.ea){WebMol.ya={};var v=0;$(".webmoljs_viewer").each(function(){var y=$(this),C=null,D="function"===typeof window[y.data("callback")]?window[y.data("callback")]:null;y.data("pdb")?C="http://www.pdb.org/pdb/files/"+y.data("pdb")+".pdb":y.data("href")&&(C=y.data("href"));var t=Number(y.data("backgroundcolor"))||0,f=y.data("style")||{line:{}},c=y.data("select")||{},w=WebMol.ya[this.id||v++]=WebMol.createViewer(y,
{defaultcolors:WebMol.Ga,callback:function(a){a.setBackgroundColor(t)}});if(C){var e=y.data("datatype")||"pdb";$.get(C,function(a){w.addModel(a,e);w.setStyle(c,f);D&&D(w);w.zoomTo();w.render()},"text")}else y.data("element")&&(C=$("#"+y.data("element")).val()||"",e=y.data("datatype"),e||(console.log("Warning: No type specified for embedded viewer with moldata from "+y.data("element")+"\n assuming type 'pdb'"),e="pdb"),w.addModel(C,e),w.setStyle(c,f)),D&&D(w),w.zoomTo(),w.render()})}});
WebMol.elementColors=WebMol.elementColors||{};WebMol.elementColors.defaultColor=16716947;
WebMol.elementColors.Jmol={H:16777215,He:14286847,HE:14286847,Li:13402367,LI:13402367,B:16758197,C:9474192,N:3166456,O:16715021,F:9494608,Na:11230450,NA:11230450,Mg:9109248,MG:9109248,Al:12560038,AL:12560038,Si:1578E4,SI:1578E4,P:16744448,S:16777008,Cl:2093087,CL:2093087,Ca:4062976,CA:4062976,Ti:12567239,TI:12567239,Cr:9083335,CR:9083335,Mn:10255047,MN:10255047,Fe:14706227,FE:14706227,Ni:5296208,NI:5296208,Cu:13140019,CU:13140019,Zn:8224944,ZN:8224944,Br:10889513,BR:10889513,Ag:12632256,AG:12632256,
I:9699476,Ba:51456,BA:51456,Au:16765219,AU:16765219};
WebMol.elementColors.rasmol={H:16777215,He:16761035,HE:16761035,Li:11674146,LI:11674146,B:65280,C:13158600,N:9408511,O:15728640,F:14329120,Na:255,NA:255,Mg:2263842,MG:2263842,Al:8421520,AL:8421520,Si:14329120,SI:14329120,P:16753920,S:16762930,Cl:65280,CL:65280,Ca:8421520,CA:8421520,Ti:8421520,TI:8421520,Cr:8421520,CR:8421520,Mn:8421520,MN:8421520,Fe:16753920,FE:16753920,Ni:10824234,NI:10824234,Cu:10824234,CU:10824234,Zn:10824234,ZN:10824234,Br:10824234,BR:10824234,Ag:8421520,AG:8421520,I:10494192,
Ba:16753920,BA:16753920,Au:14329120,AU:14329120};WebMol.elementColors.defaultColors=WebMol.elementColors.rasmol;WebMol.elementColors.greenCarbon=$.extend({},WebMol.elementColors.defaultColors);WebMol.elementColors.greenCarbon.C=65280;WebMol.elementColors.cyanCarbon=$.extend({},WebMol.elementColors.defaultColors);WebMol.elementColors.cyanCarbon.C=65535;WebMol.elementColors.magentaCarbon=$.extend({},WebMol.elementColors.defaultColors);WebMol.elementColors.magentaCarbon.C=16711935;
WebMol.elementColors.yellowCarbon=$.extend({},WebMol.elementColors.defaultColors);WebMol.elementColors.yellowCarbon.C=16776960;WebMol.elementColors.whiteCarbon=$.extend({},WebMol.elementColors.defaultColors);WebMol.elementColors.whiteCarbon.C=16777215;WebMol.elementColors.orangeCarbon=$.extend({},WebMol.elementColors.defaultColors);WebMol.elementColors.orangeCarbon.C=16737792;WebMol.elementColors.purpleCarbon=$.extend({},WebMol.elementColors.defaultColors);WebMol.elementColors.purpleCarbon.C=8388736;
var WebMol=WebMol||{};WebMol.RWB=function(v,y){this.valueToHex=function(C,D){var t,f;D?(t=D[0],f=D[1]):(t=v,f=y);if(void 0===C)return 16777215;C<t&&(C=t);C>f&&(C=f);var c=(f+t)/2;C<=c?(t=Math.floor(255*Math.sqrt((C-t)/(c-t))),t=16711680+256*t+t):(t=Math.floor(255*Math.sqrt(1-(C-c)/(f-c))),t=65536*t+256*t+255);return t};this.jmolID=function(){return"rwb"};this.range=function(){return"undefined"!=typeof v&&"undefined"!=typeof y?[v,y]:null}};
WebMol.ROYGB=function(v,y){this.valueToHex=function(C,D){var t,f;D?(t=D[0],f=D[1]):(t=v,f=y);if("undefined"==typeof C)return 16777215;C<t&&(C=t);C>f&&(C=f);var c=(t+f)/2,w=(t+c)/2,e=(c+f)/2;C<w?(t=Math.floor(255*Math.sqrt((C-t)/(w-t))),t=256*t+16711680):C<c?(t=Math.floor(255*Math.sqrt(1-(C-w)/(c-w))),t=65536*t+65280):C<e?(t=Math.floor(255*Math.sqrt((C-c)/(e-c))),t=65280+1*t):(t=Math.floor(255*Math.sqrt(1-(C-e)/(f-e))),t=256*t+255);return t};this.jmolID=function(){return"roygb"};this.range=function(){return"undefined"!=
typeof v&&"undefined"!=typeof y?[v,y]:null}};
WebMol.Sinebow=function(v,y){this.valueToHex=function(C,D){var t,f;D?(t=D[0],f=D[1]):(t=v,f=y);if("undefined"==typeof C)return 16777215;C<t&&(C=t);C>f&&(C=f);var c=(C-t)/(f-t)*5/6+.5;t=Math.sin(Math.PI*c);f=Math.sin(Math.PI*(c+1/3));c=Math.sin(Math.PI*(c+2/3));return 65536*Math.floor(255*t*t)+256*Math.floor(255*c*c)+1*Math.floor(255*f*f)};this.jmolID=function(){return"sinebow"};this.range=function(){return"undefined"!=typeof v&&"undefined"!=typeof y?[v,y]:null}};WebMol=WebMol||{};
WebMol.drawCartoon=function(){function v(C,v,t,f,c){if(!(2>v.length)){c=c||5;v=y(v,c);t=y(t,c);var w=new WebMol.Geometry(!0),e=[],a,b,m,A,d,h=[[0,2,-6,-8],[-4,-2,6,4],[7,-1,-5,3],[-3,5,1,-7]],z,s,E,r,G,u,ca,q,l,g;u=0;for(ca=v.length;u<ca;u++){E=WebMol.f.color(f[Math.round((u-1)/c)]);e.push(b=v[u]);e.push(b);e.push(m=t[u]);e.push(m);u<ca-1&&(z=v[u+1].clone().sub(v[u]),a=t[u].clone().sub(v[u]).cross(z).normalize().multiplyScalar(.4));e.push(A=v[u].clone().add(a));e.push(A);e.push(d=t[u].clone().add(a));
e.push(d);void 0!==b.atom&&(r=b.atom);g=w.updateGeoGroup(8);q=g.vertexArray;l=g.colorArray;var x=g.faceArray;z=g.vertices;s=3*z;q[s]=b.x;q[s+1]=b.y;q[s+2]=b.z;q[s+3]=b.x;q[s+4]=b.y;q[s+5]=b.z;q[s+6]=m.x;q[s+7]=m.y;q[s+8]=m.z;q[s+9]=m.x;q[s+10]=m.y;q[s+11]=m.z;q[s+12]=A.x;q[s+13]=A.y;q[s+14]=A.z;q[s+15]=A.x;q[s+16]=A.y;q[s+17]=A.z;q[s+18]=d.x;q[s+19]=d.y;q[s+20]=d.z;q[s+21]=d.x;q[s+22]=d.y;q[s+23]=d.z;for(q=0;8>q;++q)l[s+3*q]=E.r,l[s+1+3*q]=E.g,l[s+2+3*q]=E.b;if(0<u)for(s=void 0!==G&&void 0!==r&&G.serial!==
r.serial,q=0;4>q;q++)if(l=[z+h[q][0],z+h[q][1],z+h[q][2],z+h[q][3]],m=g.faceidx,x[m]=l[0],x[m+1]=l[1],x[m+2]=l[3],x[m+3]=l[1],x[m+4]=l[2],x[m+5]=l[3],g.faceidx+=6,r.clickable||G.clickable){d=e[l[3]].clone();m=e[l[0]].clone();var L=e[l[2]].clone();A=e[l[1]].clone();d.atom=e[l[3]].atom||null;L.atom=e[l[2]].atom||null;m.atom=e[l[0]].atom||null;A.atom=e[l[1]].atom||null;if(s){var K=d.clone().add(m).multiplyScalar(.5),Y=L.clone().add(A).multiplyScalar(.5),H=d.clone().add(A).multiplyScalar(.5);0===q%2?
(G.clickable&&(l=new WebMol.Triangle(K,H,d),b=new WebMol.Triangle(Y,L,H),d=new WebMol.Triangle(H,L,d),G.intersectionShape.triangle.push(l),G.intersectionShape.triangle.push(b),G.intersectionShape.triangle.push(d)),r.clickable&&(l=new WebMol.Triangle(m,A,H),b=new WebMol.Triangle(A,Y,H),d=new WebMol.Triangle(m,H,K),r.intersectionShape.triangle.push(l),r.intersectionShape.triangle.push(b),r.intersectionShape.triangle.push(d))):(r.clickable&&(l=new WebMol.Triangle(K,H,d),b=new WebMol.Triangle(Y,L,H),
d=new WebMol.Triangle(H,L,d),r.intersectionShape.triangle.push(l),r.intersectionShape.triangle.push(b),r.intersectionShape.triangle.push(d)),G.clickable&&(l=new WebMol.Triangle(m,A,H),b=new WebMol.Triangle(A,Y,H),d=new WebMol.Triangle(m,H,K),G.intersectionShape.triangle.push(l),G.intersectionShape.triangle.push(b),G.intersectionShape.triangle.push(d)))}else r.clickable&&(l=new WebMol.Triangle(m,A,d),b=new WebMol.Triangle(A,L,d),r.intersectionShape.triangle.push(l),r.intersectionShape.triangle.push(b))}g.vertices+=
8;G=r}v=e.length-8;g=w.updateGeoGroup(8);q=g.vertexArray;l=g.colorArray;x=g.faceArray;z=g.vertices;s=3*z;m=g.faceidx;for(u=0;4>u;u++)e.push(e[2*u]),e.push(e[v+2*u]),t=e[2*u],f=e[v+2*u],q[s+6*u]=t.x,q[s+1+6*u]=t.y,q[s+2+6*u]=t.z,q[s+3+6*u]=f.x,q[s+4+6*u]=f.y,q[s+5+6*u]=f.z,l[s+6*u]=E.r,l[s+1+6*u]=E.g,l[s+2+6*u]=E.b,l[s+3+6*u]=E.r,l[s+4+6*u]=E.g,l[s+5+6*u]=E.b;l=[z,z+2,z+6,z+4];b=[z+1,z+5,z+7,z+3];x[m]=l[0];x[m+1]=l[1];x[m+2]=l[3];x[m+3]=l[1];x[m+4]=l[2];x[m+5]=l[3];x[m+6]=b[0];x[m+7]=b[1];x[m+8]=b[3];
x[m+9]=b[1];x[m+10]=b[2];x[m+11]=b[3];g.faceidx+=12;g.vertices+=8;w.initTypedArrays();w.setUpNormals();e=new WebMol.MeshLambertMaterial;e.vertexColors=WebMol.FaceColors;e.side=WebMol.DoubleSide;w=new WebMol.Mesh(w,e);C.add(w)}}function y(v,y){var t=[],f=v,f=[];f.push(v[0]);var c,w,e,a,b,m;c=1;for(w=v.length-1;c<w;c++)a=v[c],b=v[c+1],a.wa?f.push(new WebMol.Vector3((a.x+b.x)/2,(a.y+b.y)/2,(a.z+b.z)/2)):f.push(a);f.push(v[v.length-1]);c=-1;for(w=f.length;c<=w-3;c++){e=f[-1===c?0:c];a=f[c+1];b=f[c+2];
m=f[c===w-3?w-1:c+3];e=(new WebMol.Vector3).subVectors(b,e).multiplyScalar(.5);m=(new WebMol.Vector3).subVectors(m,a).multiplyScalar(.5);for(var A=0;A<y;A++){var d=1/y*A,d=new WebMol.Vector3(a.x+d*e.x+d*d*(-3*a.x+3*b.x-2*e.x-m.x)+d*d*d*(2*a.x-2*b.x+e.x+m.x),a.y+d*e.y+d*d*(-3*a.y+3*b.y-2*e.y-m.y)+d*d*d*(2*a.y-2*b.y+e.y+m.y),a.z+d*e.z+d*d*(-3*a.z+3*b.z-2*e.z-m.z)+d*d*d*(2*a.z-2*b.z+e.z+m.z)),h=Math.floor((t.length+2)/y);void 0!==v[h]&&void 0!==v[h].atom&&(d.atom=v[h].atom);t.push(d)}}t.push(f[f.length-
1]);return t}return function(C,y,t){var f,c,w;f=2;c=5;w=!1;var e=[],a,b,m;for(m=0;m<f;m++)e[m]=[];m=[];var A,d,h,z,s,E=null,r=null;for(a in y)if(b=y[a],void 0!==b&&("O"==b.atom||"CA"==b.atom)&&!b.hetflag)if("CA"==b.atom){if(A!=b.chain||h+1!=b.resi||d!=b.Y){v(C,e[0],e[f-1],m,c);e=[];for(m=0;m<f;m++)e[m]=[];m=[];E=null}z=new WebMol.Vector3(b.x,b.y,b.z);s=b;A=b.chain;d=b.Y;h=b.resi;var r=b.ss,G=b.color;t?G=t.valueToHex(b.resi,t.range()):"undefined"!==typeof b.style.cartoon.color&&(G=b.style.cartoon.color);
m.push(G);!0!==b.clickable||void 0!==b.intersectionShape&&void 0!==b.intersectionShape.triangle||(b.intersectionShape={sphere:null,cylinder:[],line:[],triangle:[]})}else for(b=new WebMol.Vector3(b.x,b.y,b.z),b.sub(z),b.normalize(),b.multiplyScalar("c"==r?.3:1.3),null!==E&&0>b.dot(E)&&b.negate(),E=b,b=0;b<f;b++)G=-1+2/(f-1)*b,G=new WebMol.Vector3(z.x+E.x*G,z.y+E.y*G,z.z+E.z*G),G.atom=s,w||"s"!=r||(G.wa=!0),e[b].push(G);v(C,e[0],e[f-1],m,c)}}();WebMol=WebMol||{};
WebMol.GLModel=function(){function v(c){var e=[],a,b;a=0;for(b=c.length;a<b;a++){c[a].index=a;var m=c[a];m.hetflag||"N"!==m.atom&&"O"!==m.atom||(e.push(m),m.G=null,m.m=Number.POSITIVE_INFINITY)}e.sort(function(a,d){return a.z-d.z});a=0;for(b=e.length;a<b;a++)for(m=e[a],c=a+1;c<b;c++){var A=e[c],d=A.z-m.z;if(3.2<d)break;if(A.atom!=m.atom){var h=Math.abs(A.y-m.y);if(!(3.2<h)){var f=Math.abs(A.x-m.x);3.2<f||(d=f*f+h*h+d*d,10.24<d||A.chain==m.chain&&4>Math.abs(A.resi-m.resi)||(d<m.m&&(m.G=A,m.m=d),d<
A.m&&(A.G=m,A.m=d)))}}}}function y(c){var e=[],a=[],b,m;b=0;for(m=c.length;b<m;b++){var A=c[b];A.index=b;A.hetflag?a.push(A):e.push(A)}C(a);e.sort(function(a,d){return a.chain!=d.chain?a.chain<d.chain?-1:1:a.resi-d.resi});var a=c=-1,d;b=0;for(m=e.length;b<m;b++){A=e[b];A.resi!==c&&(c=A.resi,d||a++,d=!1);A.Y=a;for(var h=b+1;h<e.length;h++){var f=e[h];if(f.chain!=A.chain)break;if(1<f.resi-A.resi)break;D(A,f)&&(-1===A.bonds.indexOf(f.index)&&(A.bonds.push(f.index),A.bondOrder.push(1),f.bonds.push(A.index),
f.bondOrder.push(1)),A.resi!==f.resi&&(d=!0))}}}function C(c){var e=c.slice(0),a,b;a=0;for(b=c.length;a<b;a++)c[a].index||(c[a].index=a);e.sort(function(a,b){return a.z-b.z});a=0;for(b=e.length;a<b;a++){var m=e[a];for(c=a+1;c<b;c++){var A=e[c];if(1.9<A.z-m.z)break;D(m,A)&&-1==m.bonds.indexOf(A.index)&&(m.bonds.push(A.index),m.bondOrder.push(1),A.bonds.push(m.index),A.bondOrder.push(1))}}}function D(c,e){var a=c.x-e.x,a=a*a;if(3.6<a)return!1;var b=c.y-e.y,b=b*b;if(3.6<b)return!1;var m=c.z-e.z,m=m*
m;if(3.6<m)return!1;a=a+b+m;return isNaN(a)||.5>a||1.3<a&&("H"==c.elem||"H"==e.elem||"D"==c.elem||"D"==e.elem)?!1:3.6>a&&("S"==c.elem||"S"==e.elem)?!0:2.78<a?!1:!0}function t(c,e){return c&&e?JSON.stringify(c)==JSON.stringify(e):c==e}var f={line:{}},c={H:1.2,Li:1.82,Na:2.27,K:2.75,C:1.7,N:1.55,O:1.52,F:1.47,P:1.8,S:1.8,CL:1.75,BR:1.85,SE:1.9,ZN:1.39,CU:1.4,NI:1.63};return function(w,e){function a(l,g,a,d,b,m,e){if(g&&a){q++;var p=m||e,n=[a.x,a.y,a.z];n[0]-=g.x;n[1]-=g.y;n[2]-=g.z;var n=D(n),c=G.l(d);
d=c.w;var A=c.ra,s=p?A*d+2:2*d;l=l.updateGeoGroup(s);var h=c.vertices,f=c.i,c=c.j,B=c[A/2],u=c[A/2+1],w=l.vertices,r,z,v,E,t,C,J=l.vertexArray,I=l.normalArray,O=l.colorArray,N=l.faceArray;for(v=0;v<d;++v)z=2*v,E=n[0]*h[z].x+n[3]*h[z].y+n[6]*h[z].z,t=n[1]*h[z].x+n[4]*h[z].y+n[7]*h[z].z,C=n[5]*h[z].y+n[8]*h[z].z,r=3*(w+z),z=l.faceidx,J[r]=E+g.x,J[r+1]=t+g.y,J[r+2]=C+g.z,J[r+3]=E+a.x,J[r+4]=t+a.y,J[r+5]=C+a.z,I[r]=E,I[r+3]=E,I[r+1]=t,I[r+4]=t,I[r+2]=C,I[r+5]=C,O[r]=b.r,O[r+3]=b.r,O[r+1]=b.g,O[r+4]=b.g,
O[r+2]=b.b,O[r+5]=b.b,N[z]=u[v]+w,N[z+1]=u[v+1]+w,N[z+2]=B[v]+w,N[z+3]=B[v]+w,N[z+4]=u[v+1]+w,N[z+5]=B[v+1]+w,l.faceidx+=6;if(p){m=m?A+1:A/2+1;var y,da,ya,za,Aa,xa,ra,sa,Ga,Ba,Ca,Da,X;for(t=e?0:A/2;t<m;t++)if(t!==A/2){var fa=t<=A/2?a:g;for(E=0;E<d;E++)z=l.faceidx,e=c[t][E+1],v=3*(e+w),p=c[t][E],C=3*(p+w),B=c[t+1][E],r=3*(B+w),u=c[t+1][E+1],X=3*(u+w),y=n[0]*h[e].x+n[3]*h[e].y+n[6]*h[e].z,da=n[0]*h[p].x+n[3]*h[p].y+n[6]*h[p].z,ya=n[0]*h[B].x+n[3]*h[B].y+n[6]*h[B].z,za=n[0]*h[u].x+n[3]*h[u].y+n[6]*h[u].z,
Aa=n[1]*h[e].x+n[4]*h[e].y+n[7]*h[e].z,xa=n[1]*h[p].x+n[4]*h[p].y+n[7]*h[p].z,ra=n[1]*h[B].x+n[4]*h[B].y+n[7]*h[B].z,sa=n[1]*h[u].x+n[4]*h[u].y+n[7]*h[u].z,Ga=n[5]*h[e].y+n[8]*h[e].z,Ba=n[5]*h[p].y+n[8]*h[p].z,Ca=n[5]*h[B].y+n[8]*h[B].z,Da=n[5]*h[u].y+n[8]*h[u].z,J[v]=y+fa.x,J[C]=da+fa.x,J[r]=ya+fa.x,J[X]=za+fa.x,J[v+1]=Aa+fa.y,J[C+1]=xa+fa.y,J[r+1]=ra+fa.y,J[X+1]=sa+fa.y,J[v+2]=Ga+fa.z,J[C+2]=Ba+fa.z,J[r+2]=Ca+fa.z,J[X+2]=Da+fa.z,O[v]=b.r,O[C]=b.r,O[r]=b.r,O[X]=b.r,O[v+1]=b.g,O[C+1]=b.g,O[r+1]=b.g,
O[X+1]=b.g,O[v+2]=b.b,O[C+2]=b.b,O[r+2]=b.b,O[X+2]=b.b,y=n[0]*f[e].x+n[3]*f[e].y+n[6]*f[e].z,da=n[0]*f[p].x+n[3]*f[p].y+n[6]*f[p].z,ya=n[0]*f[B].x+n[3]*f[B].y+n[6]*f[B].z,za=n[0]*f[u].x+n[3]*f[u].y+n[6]*f[u].z,Aa=n[1]*f[e].x+n[4]*f[e].y+n[7]*f[e].z,xa=n[1]*f[p].x+n[4]*f[p].y+n[7]*f[p].z,ra=n[1]*f[B].x+n[4]*f[B].y+n[7]*f[B].z,sa=n[1]*f[u].x+n[4]*f[u].y+n[7]*f[u].z,Ga=n[5]*f[e].y+n[8]*f[e].z,Ba=n[5]*f[p].y+n[8]*f[p].z,Ca=n[5]*f[B].y+n[8]*f[B].z,Da=n[5]*f[u].y+n[8]*f[u].z,0===t?(I[v]=y,I[r]=ya,I[X]=
za,I[v+1]=Aa,I[r+1]=ra,I[X+1]=sa,I[v+2]=Ga,I[r+2]=Ca,I[X+2]=Da,N[z]=e+w,N[z+1]=B+w,N[z+2]=u+w,l.faceidx+=3):t===m-1?(I[v]=y,I[C]=da,I[r]=ya,I[v+1]=Aa,I[C+1]=xa,I[r+1]=ra,I[v+2]=Ga,I[C+2]=Ba,I[r+2]=Ca,N[z]=e+w,N[z+1]=p+w,N[z+2]=B+w,l.faceidx+=3):(I[v]=y,I[C]=da,I[X]=za,I[v+1]=Aa,I[C+1]=xa,I[X+1]=sa,I[v+2]=Ga,I[C+2]=Ba,I[X+2]=Da,I[C]=da,I[r]=ya,I[X]=za,I[C+1]=xa,I[r+1]=ra,I[X+1]=sa,I[C+2]=Ba,I[r+2]=Ca,I[X+2]=Da,N[z]=e+w,N[z+1]=p+w,N[z+2]=u+w,N[z+3]=p+w,N[z+4]=B+w,N[z+5]=u+w,l.faceidx+=6)}}l.vertices+=
s}}function b(l,g){if(l.style.sphere){var a=l.style.sphere;if(!a.hidden){var d=l.color;"undefined"!=typeof a.color&&(d=a.color);var b=WebMol.f.color(d),e,a=m(l,a);!0===l.clickable&&void 0!==l.intersectionShape&&(d=new WebMol.Vector3(l.x,l.y,l.z),l.intersectionShape.sphere.push(new WebMol.Sphere(d,a)));e=u.l(a);for(var d=e.vertices,c=e.i,p=g.updateGeoGroup(d.length),n=p.vertices,A=p.vertexArray,h=p.colorArray,f=0,s=d.length;f<s;++f){var q=3*(n+f),r=d[f];A[q]=r.x+l.x;A[q+1]=r.y+l.y;A[q+2]=r.z+l.z;h[q]=
b.r;h[q+1]=b.g;h[q+2]=b.b}p.vertices+=d.length;A=e.j;h=A.length-1;f=p.normalArray;s=p.faceArray;for(e=0;e<h;e++)for(q=A[e].length-1,b=0;b<q;b++){var r=p.faceidx,w=A[e][b+1]+n,z=3*w,v=A[e][b]+n,E=3*v,t=A[e+1][b]+n,C=3*t,G=A[e+1][b+1]+n,y=3*G,J=c[w-n],I=c[v-n],O=c[t-n],N=c[G-n];Math.abs(d[w-n].y)===a?(f[z]=J.x,f[C]=O.x,f[y]=N.x,f[z+1]=J.y,f[C+1]=O.y,f[y+1]=N.y,f[z+2]=J.z,f[C+2]=O.z,f[y+2]=N.z,s[r]=w,s[r+1]=t,s[r+2]=G,p.faceidx+=3):Math.abs(d[t-n].y)===a?(f[z]=J.x,f[E]=I.x,f[C]=O.x,f[z+1]=J.y,f[E+1]=
I.y,f[C+1]=O.y,f[z+2]=J.z,f[E+2]=I.z,f[C+2]=O.z,s[r]=w,s[r+1]=v,s[r+2]=t,p.faceidx+=3):(f[z]=J.x,f[E]=I.x,f[y]=N.x,f[z+1]=J.y,f[E+1]=I.y,f[y+1]=N.y,f[z+2]=J.z,f[E+2]=I.z,f[y+2]=N.z,f[E]=I.x,f[C]=O.x,f[y]=N.x,f[E+1]=I.y,f[C+1]=O.y,f[y+1]=N.y,f[E+2]=I.z,f[C+2]=O.z,f[y+2]=N.z,s[r]=w,s[r+1]=v,s[r+2]=G,s[r+3]=v,s[r+4]=t,s[r+5]=G,p.faceidx+=6)}}}}function m(l,g){var a=1.5;"undefined"!=typeof g.radius?a=g.radius:c[l.elem]&&(a=c[l.elem]);"undefined"!=typeof g.scale&&(a*=g.scale);return a}var A=[],d=null,
h=null,z=null,s=null,E=WebMol.elementColors.defaultColor,r=e?e:WebMol.elementColors.defaultColors,G={p:function(){var l=[];l[0]=new WebMol.Vector3(-1,0,0);l[4]=new WebMol.Vector3(0,0,1);l[8]=new WebMol.Vector3(1,0,0);l[12]=new WebMol.Vector3(0,0,-1);l[2]=l[0].clone().add(l[4]).normalize();l[6]=l[4].clone().add(l[8]).normalize();l[10]=l[8].clone().add(l[12]).normalize();l[14]=l[12].clone().add(l[0]).normalize();l[1]=l[0].clone().add(l[2]).normalize();l[3]=l[2].clone().add(l[4]).normalize();l[5]=l[4].clone().add(l[6]).normalize();
l[7]=l[6].clone().add(l[8]).normalize();l[9]=l[8].clone().add(l[10]).normalize();l[11]=l[10].clone().add(l[12]).normalize();l[13]=l[12].clone().add(l[14]).normalize();l[15]=l[14].clone().add(l[0]).normalize();return l}(),h:{},l:function(l){if(void 0!==this.h[l])return this.h[l];new WebMol.Vector3(0,1,0);for(var g=this.p.length,a=[],d=[],b,m=0;m<g;m++)a.push(this.p[m].clone().multiplyScalar(l)),a.push(this.p[m].clone().multiplyScalar(l)),b=this.p[m].clone().normalize(),d.push(b),d.push(b);var m=[],
e=2*Math.PI,p=Math.PI,n,f,A=!1,c=!1;for(f=0;10>=f;f++){var A=0===f||10===f?!0:!1,c=5===f?!0:!1,h=[],s=[];for(n=0;n<=g;n++)if(c){var r=n<g?2*n:0;s.push(r+1);h.push(r)}else{b=n/g;var q=f/10;A&&0!==n?A&&h.push(a.length-1):n<g?(r=new WebMol.Vector3,r.x=-l*Math.cos(0+b*e)*Math.sin(0+q*p),r.y=l*Math.cos(0+q*p),r.z=l*Math.sin(0+b*e)*Math.sin(0+q*p),1E-5>Math.abs(r.x)&&(r.x=0),1E-5>Math.abs(r.y)&&(r.y=0),1E-5>Math.abs(r.z)&&(r.z=0),b=new WebMol.Vector3(r.x,r.y,r.z),b.normalize(),a.push(r),d.push(b),h.push(a.length-
1)):h.push(a.length-g)}c&&m.push(s);m.push(h)}g={vertices:a,i:d,j:m,w:g,ra:10};return this.h[l]=g}},u={h:{},l:function(l){if("undefined"!=typeof this.h[l])return this.h[l];var g={vertices:[],j:[],i:[]},a=12,b=10;1>l&&(a=8,b=6);var d=2*Math.PI,m=Math.PI,e,p;for(p=0;p<=b;p++){var n=[];for(e=0;e<=a;e++){var f=e/a,A=p/b,c={};c.x=-l*Math.cos(0+f*d)*Math.sin(0+A*m);c.y=l*Math.cos(0+A*m);c.z=l*Math.sin(0+f*d)*Math.sin(0+A*m);f=new WebMol.Vector3(c.x,c.y,c.z);f.normalize();g.vertices.push(c);g.i.push(f);
n.push(g.vertices.length-1)}g.j.push(n)}return this.h[l]=g}},D=function(){var l=new WebMol.Vector3;return function(g){l.set(g[0],g[1],g[2]);var a=l.x,b=l.y,d=l.z,m=Math.sqrt(a*a+b*b);1E-4>m?(g=0,m=1):(g=-a/m,m=b/m);b=-g*a+m*b;a=Math.sqrt(b*b+d*d);1E-4>a?(d=0,b=1):(d/=a,b/=a);a=new Float32Array(9);a[0]=m;a[1]=g;a[2]=0;a[3]=-g*b;a[4]=m*b;a[5]=d;a[6]=g*d;a[7]=-m*d;a[8]=b;return a}}(),q=0;this.getID=function(){return w};this.addMolData=function(a,g,b){b=b||{};a||console.error("Erorr with addMolData: No input data specified");
switch(g){case "xyz":var d=A;g=a.split("\n");if(!(3>g.length)){var m=parseInt(g[0].substr(0,3));if(!(isNaN(m)||0>=m||g.length<m+2)){b=2;for(var e=d.length,m=e+m;e<m;e++){var c=g[b++].replace(/^\s+/,"").replace(/\s+/g," ").split(" "),p={};p.serial=e;p.atom=p.elem=c[0];p.x=parseFloat(c[1]);p.y=parseFloat(c[2]);p.z=parseFloat(c[3]);p.hetflag=!0;p.bonds=[];p.bondOrder=[];p.singleBonds=!0;p.properties={};d[e]=p}C(d)}}break;case "pdb":g=A;c=!b.Da;b=g.length;var n,m=[],e=[],p=[];a=a.split("\n");var h,s,
q;for(h=0;h<a.length;h++){q=a[h].replace(/^\s*/,"");n=q.substr(0,6);var u;if("ATOM  "==n||"HETATM"==n){var z,B,t,G,D,ca,Z,P,W;n=q.substr(16,1);if(" "==n||"A"==n)if(P=parseInt(q.substr(6,5)),n=q.substr(12,4).replace(/ /g,""),s=q.substr(17,3),u=q.substr(21,1),z=parseInt(q.substr(22,4)),B=q.substr(26,1),t=parseFloat(q.substr(30,8)),G=parseFloat(q.substr(38,8)),D=parseFloat(q.substr(46,8)),W=parseFloat(q.substr(60,8)),Z=q.substr(76,2).replace(/ /g,""),""===Z&&(Z=q.substr(12,2).replace(/ /g,"")),"H"!=
Z&&"HH"!=Z&&"HD"!=Z||!c)ca="H"==q[0]?!0:!1,p[P]=g.length,g.push({resn:s,x:t,y:G,z:D,elem:Z,hetflag:ca,chain:u,resi:z,icode:B,rescode:z+(" "!=B?"^"+B:""),serial:P,atom:n,bonds:[],ss:"c",singleBonds:!0,bondOrder:[],properties:{},b:W,pdbline:q})}else if("SHEET "==n)n=q.substr(21,1),s=parseInt(q.substr(22,4)),u=q.substr(32,1),q=parseInt(q.substr(33,4)),m.push([n,s,u,q]);else if("CONECT"==n)for(n=g[p[parseInt(q.substr(6,5))]],s=0;4>s;s++)u=parseInt(q.substr([11,16,21,26][s],5)),z=g[p[u]],void 0!==n&&void 0!==
z&&(n.bonds.push(p[u]),n.bondOrder.push(1));else"HELIX "==n&&(n=q.substr(19,1),s=parseInt(q.substr(21,4)),u=q.substr(31,1),q=parseInt(q.substr(33,4)),e.push([n,s,u,q]))}c=(new Date).getTime();y(g);console.log("bond connecting "+((new Date).getTime()-c));c=(new Date).getTime();v(g);p={};h=0;for(q=g.length;h<q;h++)n=g[h],"undefined"===typeof p[n.chain]&&(p[n.chain]=[]),isFinite(n.m)&&(p[n.chain][n.resi]=4===Math.abs(n.G.resi-n.resi)?"h":"s");for(d in p){for(h=1;h<p[d].length-1;h++)q=p[d][h-1],n=p[d][h+
1],a=p[d][h],q==n&&a!=q&&(p[d][h]=q);for(h=0;h<p[d].length;h++)a=p[d][h],"h"!=a&&"s"!=a||p[d][h-1]==a||p[d][h+1]==a||delete p[d][h]}h=0;for(q=g.length;h<q;h++)n=g[h],a=p[n.chain][n.resi],"undefined"!=typeof a&&(n.ss=a,p[n.chain][n.resi-1]!=a&&(n.Z=!0),p[n.chain][n.resi+1]!=a&&(n.aa=!0));console.log("secondary structure "+((new Date).getTime()-c));for(h=b;h<g.length;h++)if(n=g[h],void 0!==n){for(s=0;s<m.length;s++)n.chain!=m[s][0]||n.resi<m[s][1]||n.resi>m[s][3]||(n.ss="s",n.resi==m[s][1]&&(n.Z=!0),
n.resi==m[s][3]&&(n.aa=!0));for(s=0;s<e.length;s++)n.chain!=e[s][0]||n.resi<e[s][1]||n.resi>e[s][3]||(n.ss="h",n.resi==e[s][1]?n.Z=!0:n.resi==e[s][3]&&(n.aa=!0))}break;case "sdf":d=A;g=a.split("\n");if(!(4>g.length||(c=parseInt(g[3].substr(0,3)),isNaN(c)||0>=c||(b=parseInt(g[3].substr(3,3)),m=4,g.length<4+c+b)))){e=d.length;a=e+c;for(c=e;c<a;c++)p=g[m],m++,h={},h.serial=c,h.x=parseFloat(p.substr(0,10)),h.y=parseFloat(p.substr(10,10)),h.z=parseFloat(p.substr(20,10)),h.hetflag=!0,h.singleBonds=!0,h.atom=
h.elem=p.substr(31,3).replace(/ /g,""),h.bonds=[],h.bondOrder=[],h.properties={},d[c]=h;for(c=0;c<b;c++)p=g[m],m++,a=parseInt(p.substr(0,3))-1+e,h=parseInt(p.substr(3,3))-1+e,p=parseInt(p.substr(6,3)),1<p&&(d[a].singleBonds=!1,d[h].singleBonds=!1),d[a].bonds.push(h),d[a].bondOrder.push(p),d[h].bonds.push(a),d[h].bondOrder.push(p)}break;case "mol2":d=A;b=a.search(/@<TRIPOS>MOLECULE/);g=a.search(/@<TRIPOS>ATOM/);if(-1!=b&&-1!=g){g=[];b=a.substr(b,a.length).split("\n");p=b[2].replace(/^\s+/,"").replace(/\s+/g,
" ").split(" ");a=parseInt(p[0]);m=0;1<p.length&&(m=parseInt(p[1]));e=4;for(c=3;c<b.length;c++)if("@<TRIPOS>ATOM"==b[c]){e=c+1;break}c=d.length;for(a=c+a;c<a;c++)p=b[e++],p=p.replace(/^\s+/,"").replace(/\s+/g," ").split(" "),h={},q=c,n=parseInt(p[0]),h.serial=n,h.x=parseFloat(p[2]),h.y=parseFloat(p[3]),h.z=parseFloat(p[4]),h.atom=h.elem=p[5].split(".")[0],h.singleBonds=!0,"H"!=h.elem&&(h.bonds=[],h.bondOrder=[],h.properties={},g[n]=q,d.push(h));for(c=!1;e<b.length;)if("@<TRIPOS>BOND"==b[e++]){c=!0;
break}if(c&&m)for(c=0;c<m;c++)p=b[e++],p=p.replace(/^\s+/,"").replace(/\s+/g," ").split(" "),a=parseInt(p[1]),fromAtom=d[g[a]],h=parseInt(p[2]),toAtom=d[g[h]],p=parseInt(p[3]),isNaN(p)&&(p=1),1<p&&(fromAtom.singleBonds=!1,toAtom.singleBonds=!1),void 0!==fromAtom&&void 0!==toAtom&&(fromAtom.bonds.push(g[h]),fromAtom.bondOrder.push(p),toAtom.bonds.push(g[a]),toAtom.bondOrder.push(p))}break;case "cube":if(d=A,g=a.replace(/^\s+/,"").split(/[\n\r]+/),!(6>g.length)){b=g[2].replace(/^\s+/,"").replace(/\s+/g,
" ").split(" ");m=Math.abs(parseFloat(b[0]));b=g[3].replace(/^\s+/,"").replace(/\s+/g," ").split(" ");b=0<parseFloat(b[0])?.529177:1;g=g.splice(6,m);m=d.length;e=m+g.length;for(c=m;c<e;++c)p={},p.serial=c,a=g[c-m].replace(/^\s+/,"").replace(/\s+/g," ").split(" "),6==a[0]?p.elem="C":1==a[0]?p.elem="H":8==a[0]?p.elem="O":17==a[0]&&(p.elem="CL"),p.x=parseFloat(a[2])*b,p.y=parseFloat(a[3])*b,p.z=parseFloat(a[4])*b,p.hetflag=!0,p.singleBonds=!0,p.bonds=[],p.bondOrder=[],p.properties={},d.push(p);C(d)}}d=
A;for(g=0;g<d.length;g++)if(b=d[g])b.style=b.style||f,b.color=b.color||r[b.elem]||E,b.u=w,b.clickable&&(b.intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]})};this.atomIsSelected=function(a,b){if("undefined"===typeof b)return!0;var d=!!b.Aa,m=!0,h;for(h in b)if(b.hasOwnProperty(h)&&"props"!=h&&"invert"!=h&&"model"!=h){if("undefined"===typeof a[h]){m=!1;break}var c=!1;if($.isArray(b[h])){for(var e=b[h],f=0;f<e.length;f++)if(a[h]==e[f]){c=!0;break}if(!c){m=!1;break}}else if(a[h]!=b[h]){m=
!1;break}}return d?!m:m};this.selectedAtoms=function(a){for(var b=[],d=0;d<A.length;d++){var m=A[d];m&&this.atomIsSelected(m,a)&&b.push(m)}return b};this.addAtoms=function(a){d=null;var b=A.length,m=[],h;for(h=0;h<a.length;h++)m[a[h].index]=b+h;for(h=0;h<a.length;h++){var b=a[h],c=m[b.index],e=$.extend(!1,{},b);e.index=c;e.bonds=[];e.bondOrder=[];for(c=0;c<b.bonds.length;c++){var f=m[b.bonds[c]];"undefined"!=typeof f&&(e.bonds.push(f),e.bondOrder.push(b.bondOrder[c]))}A.push(e)}};this.removeAtoms=
function(a){d=null;var b=[],m;for(m=0;m<a.length;m++)b[a[m].index]=!0;a=[];for(m=0;m<A.length;m++){var h=A[m];b[h.index]||a.push(h)}A=[];this.addAtoms(a)};this.setStyle=function(a,b,m){if(m||null===d||!t(b,z)){z=m?null:b;b=$.extend(!0,{},b);for(var h=!1,c=0;c<A.length;c++)if(A[c].q=!1,this.atomIsSelected(A[c],a)){h=!0;A[c].clickable&&(A[c].intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]});m||(A[c].style={});for(var e in b)b.hasOwnProperty(e)&&(A[c].style[e]=b[e])}h&&(d=null)}};this.setColorByElement=
function(a,b){if(null===d||!t(b,s)){s=b;var m=this.selectedAtoms(a);0<m.length&&(d=null);for(var h=0;h<m.length;h++){var c=m[h];"undefined"!==typeof b[c.elem]&&(c.color=b[c.elem])}}};this.setColorByProperty=function(a,b,m){a=this.selectedAtoms(a);s=null;0<a.length&&(d=null);var h=Number.POSITIVE_INFINITY,c=Number.NEGATIVE_INFINITY,e,f;for(e=0;e<a.length;e++)f=a[e],f.properties&&void 0!==typeof f.properties[b]&&(f=parseFloat(f.properties[b]),f<h&&(h=f),f>c&&(c=f));for(e=0;e<a.length;e++)if(f=a[e],
f.properties&&void 0!==typeof f.properties[b]){var p=m.valueToHex(parseFloat(f.properties[b]),[h,c]);f.color=p}};this.globj=function(c){var g=new Date;if(null===d){var e=A;console.log("creating for "+w);var f=new WebMol.Object3D,q=[],s={},r={},p=new WebMol.Geometry(!0),n=new WebMol.Geometry(!0),u=new WebMol.Geometry(!0),z,v,E=[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY];z=0;for(v=e.length;z<v;z++){var t=e[z];if(t&&t.style){t.clickable&&void 0===t.intersectionShape&&(t.intersectionShape={sphere:[],
cylinder:[],line:[],triangle:[]});b(t,p);var B=t,C=n;if(B.style.xa){var G=B.style.xa;if(!G.hidden){var y=m(B,G),D=B.color;"undefined"!=typeof G.color&&(D=G.color);var ca=WebMol.f.color(D),P=C.updateGeoGroup(4),W=P.vertices,R=3*W,J=P.vertexArray,I=P.colorArray;J[R+0]=B.x-y;J[R+1]=B.y-y;J[R+2]=B.z;J[R+3]=B.x-y;J[R+4]=B.y+y;J[R+5]=B.z;J[R+6]=B.x+y;J[R+7]=B.y+y;J[R+8]=B.z;J[R+9]=B.x+y;J[R+10]=B.y-y;J[R+11]=B.z;for(var I=P.colorArray,O=0;4>O;O++)I[R+3*O]=ca.r,I[R+3*O+1]=ca.g,I[R+3*O+2]=ca.b;P.vertices+=
4;var N=P.faceArray,La=P.faceidx;N[La+0]=W;N[La+1]=W+1;N[La+2]=W+2;N[La+3]=W+2;N[La+4]=W+3;N[La+5]=W;P.faceidx+=6}}var da=t,ya=r;if(da.style.cross){var za=da.style.cross;if(!za.hidden){var Aa=za.linewidth||1;ya[Aa]||(ya[Aa]=new WebMol.Geometry);var xa=ya[Aa].updateGeoGroup(6),ra=m(da,za),sa=[[ra,0,0],[-ra,0,0],[0,ra,0],[0,-ra,0],[0,0,ra],[0,0,-ra]],Ga=da.clickable;Ga&&void 0===da.intersectionShape&&(da.intersectionShape={sphere:[],cylinder:[],line:[]});for(var Ba=WebMol.f.color(da.color),Ca=xa.vertexArray,
Da=xa.colorArray,X=0;6>X;X++){var fa=3*xa.vertices;xa.vertices++;Ca[fa]=da.x+sa[X][0];Ca[fa+1]=da.y+sa[X][1];Ca[fa+2]=da.z+sa[X][2];Da[fa]=Ba.r;Da[fa+1]=Ba.g;Da[fa+2]=Ba.b;if(Ga){var Ma=new WebMol.Vector3(sa[X][0],sa[X][1],sa[X][2]);Ma.multiplyScalar(.1);Ma.set(Ma.x+da.x,Ma.y+da.y,Ma.z+da.z);da.intersectionShape.line.push(Ma)}}}}var oa=t,db=e,eb=s;if(oa.style.line){var jb=oa.style.line;if(!jb.hidden){var fb=jb.linewidth||1;eb[fb]||(eb[fb]=new WebMol.Geometry);for(var Ua=eb[fb].updateGeoGroup(2*oa.bonds.length),
Na=Ua.vertexArray,Oa=Ua.colorArray,gb=0;gb<oa.bonds.length;gb++){var Xa=db[oa.bonds[gb]];if(Xa.style.line){var Va=new WebMol.Vector3(oa.x,oa.y,oa.z),nb=new WebMol.Vector3(Xa.x,Xa.y,Xa.z),Ya=Va.clone().add(nb).multiplyScalar(.5);oa.clickable&&(void 0===oa.intersectionShape&&(oa.intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]}),oa.intersectionShape.line.push(Va),oa.intersectionShape.line.push(Ya));var Pa=WebMol.f.color(oa.color),ta=3*Ua.vertices;Ua.vertices+=2;Na[ta]=Va.x;Na[ta+1]=Va.y;
Na[ta+2]=Va.z;Oa[ta]=Pa.r;Oa[ta+1]=Pa.g;Oa[ta+2]=Pa.b;Na[ta+3]=Ya.x;Na[ta+4]=Ya.y;Na[ta+5]=Ya.z;Oa[ta+3]=Pa.r;Oa[ta+4]=Pa.g;Oa[ta+5]=Pa.b}}}}var M=t,hb=e,ga=u;if(M.style.stick){var Qa=M.style.stick;if(!Qa.hidden){var Ea=Qa.radius||.25,ma=!1,na=!1,Ra=M.color;"undefined"!=typeof Qa.color&&(Ra=Qa.color);var ua=WebMol.f.color(Ra),ha=void 0,va=void 0;!M.q&&4>M.bonds.length&&(ma=!0);for(var Ha=0;Ha<M.bonds.length;Ha++){var V=hb[M.bonds[Ha]];if(M.serial<V.serial&&V.style.stick){var ia=new WebMol.Vector3(M.x,
M.y,M.z),wa=new WebMol.Vector3(V.x,V.y,V.z),Wa=V.color;"undefined"!=typeof Qa.color&&(Wa=Qa.color);var Sa=WebMol.f.color(Wa);if(1===M.bondOrder[Ha]){if(!V.q&&4>V.bonds.length&&(na=!0),Ra!=Wa?(ha=(new WebMol.Vector3).addVectors(ia,wa).multiplyScalar(.5),a(ga,ia,ha,Ea,ua,ma,!1),a(ga,ha,wa,Ea,Sa,!1,na)):a(ga,ia,wa,Ea,ua,ma,na),M.clickable||V.clickable){ha=(new WebMol.Vector3).addVectors(ia,wa).multiplyScalar(.5);if(M.clickable){var ob=new WebMol.Cylinder(ia,ha,Ea),pb=new WebMol.Sphere(ia,Ea);M.intersectionShape.cylinder.push(ob);
M.intersectionShape.sphere.push(pb)}if(V.clickable){var qb=new WebMol.Cylinder(wa,ha,Ea),rb=new WebMol.Sphere(wa,Ea);V.intersectionShape.cylinder.push(qb);V.intersectionShape.sphere.push(rb)}}}else if(1<M.bondOrder[Ha]){var na=ma=!1,Fa=wa.clone(),ea=null;Fa.sub(ia);var S,ka,la,pa,qa,Za,$a,kb,ab,bb,Ka,cb,Ta;1===M.bonds.length?1===V.bonds.length?(ea=Fa.clone(),1E-4<Math.abs(ea.x)?ea.y+=1:ea.x+=1):(ab=(Ha+1)%V.bonds.length,bb=V.bonds[ab],Ka=hb[bb],cb=new WebMol.Vector3(Ka.x,Ka.y,Ka.z),Ta=cb.clone(),
Ta.sub(ia),ea=Ta.clone(),ea.cross(Fa)):(ab=(Ha+1)%M.bonds.length,bb=M.bonds[ab],Ka=hb[bb],cb=new WebMol.Vector3(Ka.x,Ka.y,Ka.z),Ta=cb.clone(),Ta.sub(ia),ea=Ta.clone(),ea.cross(Fa));if(2==M.bondOrder[Ha]){if(S=Ea/2.5,ea.cross(Fa),ea.normalize(),ea.multiplyScalar(1.5*S),ka=ia.clone(),ka.add(ea),la=ia.clone(),la.sub(ea),pa=ka.clone(),pa.add(Fa),qa=la.clone(),qa.add(Fa),Ra!=Wa?(ha=(new WebMol.Vector3).addVectors(ka,pa).multiplyScalar(.5),va=(new WebMol.Vector3).addVectors(la,qa).multiplyScalar(.5),a(ga,
ka,ha,S,ua,ma,!1),a(ga,ha,pa,S,Sa,!1,na),a(ga,la,va,S,ua,ma,!1),a(ga,va,qa,S,Sa,!1,na)):(a(ga,ka,pa,S,ua,ma,na),a(ga,la,qa,S,ua,ma,na)),M.clickable||V.clickable)ha=(new WebMol.Vector3).addVectors(ka,pa).multiplyScalar(.5),va=(new WebMol.Vector3).addVectors(la,qa).multiplyScalar(.5),M.clickable&&(Za=new WebMol.Cylinder(ka,ha,S),$a=new WebMol.Cylinder(la,va,S),M.intersectionShape.cylinder.push(Za),M.intersectionShape.cylinder.push($a)),V.clickable&&(cylinder2a=new WebMol.Cylinder(pa,ha,S),cylinder2b=
new WebMol.Cylinder(qa,va,S),V.intersectionShape.cylinder.push(cylinder2a),V.intersectionShape.cylinder.push(cylinder2b))}else 3==M.bondOrder[Ha]&&(S=Ea/4,ea.cross(Fa),ea.normalize(),ea.multiplyScalar(3*S),ka=ia.clone(),ka.add(ea),la=ia.clone(),la.sub(ea),pa=ka.clone(),pa.add(Fa),qa=la.clone(),qa.add(Fa),Ra!=Wa?(ha=(new WebMol.Vector3).addVectors(ka,pa).multiplyScalar(.5),va=(new WebMol.Vector3).addVectors(la,qa).multiplyScalar(.5),mp3=(new WebMol.Vector3).addVectors(ia,wa).multiplyScalar(.5),a(ga,
ka,ha,S,ua,ma,!1),a(ga,ha,pa,S,Sa,!1,na),a(ga,ia,mp3,S,ua,ma,!1),a(ga,mp3,wa,S,Sa,!1,na),a(ga,la,va,S,ua,ma,!1),a(ga,va,qa,S,Sa,!1,na)):(a(ga,ka,pa,S,ua,ma,na),a(ga,ia,wa,S,ua,ma,na),a(ga,la,qa,S,ua,ma,na)),M.clickable||V.clickable)&&(ha=(new WebMol.Vector3).addVectors(ka,pa).multiplyScalar(.5),va=(new WebMol.Vector3).addVectors(la,qa).multiplyScalar(.5),mp3=(new WebMol.Vector3).addVectors(ia,wa).multiplyScalar(.5),M.clickable&&(Za=new WebMol.Cylinder(ka.clone(),ha.clone(),S),$a=new WebMol.Cylinder(la.clone(),
va.clone(),S),kb=new WebMol.Cylinder(ia.clone(),mp3.clone(),S),M.intersectionShape.cylinder.push(Za),M.intersectionShape.cylinder.push($a),M.intersectionShape.cylinder.push(kb)),V.clickable&&(cylinder2a=new WebMol.Cylinder(pa.clone(),ha.clone(),S),cylinder2b=new WebMol.Cylinder(qa.clone(),va.clone(),S),cylinder2c=new WebMol.Cylinder(wa.clone(),mp3.clone(),S),V.intersectionShape.cylinder.push(cylinder2a),V.intersectionShape.cylinder.push(cylinder2b),V.intersectionShape.cylinder.push(cylinder2c)))}if(na||
3<V.bonds.length)V.q=!0;if(ma||3<M.bonds.length)M.q=!0}}if(!M.singleBonds&&1===M.bonds.length||!M.bonds.length){var sb=M.style;M.style={sphere:{radius:Ea,color:Ra}};b(M,ga);M.style=sb}}}"undefined"===typeof t.style.cartoon||t.style.cartoon.hidden||("spectrum"===t.style.cartoon.color&&"number"===typeof t.resi&&(t.resi<E[0]&&(E[0]=t.resi),t.resi>E[1]&&(E[1]=t.resi)),q.push(t))}}if(0<q.length){var lb=null;E[0]<E[1]&&(lb=new WebMol.Sinebow(E[0],E[1]));WebMol.drawCartoon(f,q,lb);for(z=0;z<f.children.length;z++);
}if(0<p.vertices){var tb=new WebMol.MeshLambertMaterial({ambient:0,vertexColors:!0,reflectivity:0});p.initTypedArrays();var ub=new WebMol.Mesh(p,tb);console.log("sphere geometry "+p.vertices.length);f.add(ub)}if(0<n.vertices){var vb=new WebMol.MeshLambertMaterial({ambient:0,vertexColors:!0,reflectivity:0});n.initTypedArrays();var wb=new WebMol.Mesh(n,vb);console.log("spherei geometry "+n.vertices.length);f.add(wb)}if(0<u.vertices){var mb=new WebMol.MeshLambertMaterial({vertexColors:!0,ambient:0,reflectivity:0});
u.initTypedArrays();mb.wireframe&&u.setUpWireframe();var xb=new WebMol.Mesh(u,mb);f.add(xb)}for(z in s)if(s.hasOwnProperty(z)){var ib=z,yb=new WebMol.LineBasicMaterial({linewidth:ib,vertexColors:!0});s[z].initTypedArrays();var zb=new WebMol.Line(s[z],yb,WebMol.LinePieces);f.add(zb)}for(z in r)if(r.hasOwnProperty(z)){var ib=z,Ab=new WebMol.LineBasicMaterial({linewidth:ib,vertexColors:!0});r[z].initTypedArrays();var Bb=new WebMol.Line(r[z],Ab,WebMol.LinePieces);f.add(Bb)}d=f;console.log("object creation time: "+
(new Date-g));h&&(c.remove(h),h=null);h=d.clone();c.add(h)}};this.removegl=function(a){h&&(void 0!==h.geometry&&h.geometry.dispose(),void 0!==h.material&&h.material.dispose(),a.remove(h),h=null);d=null}}}();
WebMol.GLShape=function(){function v(f,c){c=c||{};WebMol.ShapeIDCount++;this.id=f;this.boundingSphere=new WebMol.Sphere;this.intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]};y(this,c);var w=[],e=null,a=null,b=new WebMol.Geometry(!0);this.updateStyle=function(a){for(var b in a)c[b]=a[b];y(this,c)};this.addCustom=function(a){a.vertexArr=a.vertexArr||[];a.faceArr=a.faceArr||[];a.normalArr=a.normalArr||[];a.lineArr=a.lineArr||[];var c=b.addGeoGroup();D(this,c,a);c.truncateArrayBuffers(!0);
for(a=0;a<c.colorArray.length/3;++a)c.colorArray[3*a]=this.color.r,c.colorArray[3*a+1]=this.color.g,c.colorArray[3*a+2]=this.color.b;w.push({id:c.id,D:c,s:c.getCentroid()});C(this.boundingSphere,w,c.vertexArray)};this.addSphere=function(a){a.center=a.center||{x:0,y:0,z:0};a.radius=a.radius?WebMol.Math.clamp(a.radius,0,Infinity):1.5;var c=b.addGeoGroup(),d=a.center,h=a.radius,e=new WebMol.Vector3(d.x,d.y,d.z);this.intersectionShape.sphere.push(new WebMol.Sphere(e,h));var f;f=t.l(h);for(var e=f.vertices,
v=f.i,r=c.vertices,G=c.vertexArray,u=c.faceArray,y=c.lineArray,q=c.normalArray,l=0,g=e.length;l<g;++l){var x=3*(r+l),L=e[l];G[x]=L.x+d.x;G[x+1]=L.y+d.y;G[x+2]=L.z+d.z}c.vertices+=e.length;G=f.j;l=G.length-1;for(f=0;f<l;f++)for(g=G[f].length-1,d=0;d<g;d++){var x=c.faceidx,L=c.lineidx,D=G[f][d+1]+r,Y=3*D,H=G[f][d]+r,p=3*H,n=G[f+1][d]+r,F=3*n,aa=G[f+1][d+1]+r,ba=3*aa,T=v[D-r],Q=v[H-r],B=v[n-r],U=v[aa-r];Math.abs(e[D-r].y)===h?(q[Y]=T.x,q[F]=B.x,q[ba]=U.x,q[Y+1]=T.y,q[F+1]=B.y,q[ba+1]=U.y,q[Y+2]=T.z,
q[F+2]=B.z,q[ba+2]=U.z,u[x]=D,u[x+1]=n,u[x+2]=aa,y[L]=D,y[L+1]=n,y[L+2]=D,y[L+3]=aa,y[L+4]=n,y[L+5]=aa,c.faceidx+=3,c.lineidx+=6):Math.abs(e[n-r].y)===h?(q[Y]=T.x,q[p]=Q.x,q[F]=B.x,q[Y+1]=T.y,q[p+1]=Q.y,q[F+1]=B.y,q[Y+2]=T.z,q[p+2]=Q.z,q[F+2]=B.z,u[x]=D,u[x+1]=H,u[x+2]=n,y[L]=D,y[L+1]=H,y[L+2]=D,y[L+3]=n,y[L+4]=H,y[L+5]=n,c.faceidx+=3,c.lineidx+=6):(q[Y]=T.x,q[p]=Q.x,q[ba]=U.x,q[Y+1]=T.y,q[p+1]=Q.y,q[ba+1]=U.y,q[Y+2]=T.z,q[p+2]=Q.z,q[ba+2]=U.z,q[p]=Q.x,q[F]=B.x,q[ba]=U.x,q[p+1]=Q.y,q[F+1]=B.y,q[ba+
1]=U.y,q[p+2]=Q.z,q[F+2]=B.z,q[ba+2]=U.z,u[x]=D,u[x+1]=H,u[x+2]=aa,u[x+3]=H,u[x+4]=n,u[x+5]=aa,y[L]=D,y[L+1]=H,y[L+2]=D,y[L+3]=aa,y[L+4]=H,y[L+5]=n,y[L+6]=n,y[L+7]=aa,c.faceidx+=6,c.lineidx+=8)}c.truncateArrayBuffers(!0);w.push({id:c.id,D:c,s:new WebMol.Vector3(a.center.x,a.center.y,a.center.z)});C(this.boundingSphere,w,c.vertexArray)};this.addArrow=function(a){a.start=a.start||{};a.end=a.end||{};a.start=new WebMol.Vector3(a.start.x||0,a.start.y||0,a.start.z||0);if(a.dir instanceof WebMol.Vector3&&
a.length instanceof number){var c=a.dir.clone().multiplyScalar(length).add(start);a.end=c}else a.end=new WebMol.Vector3(a.end.x||3,a.end.y||0,a.end.z||0);a.radius=a.radius||.1;a.radiusRatio=a.radiusRatio||1.618034;a.mid=0<a.mid&&1>a.mid?a.mid:.618034;var c=b.addGeoGroup(),d=a.start,h=a.end,e=a.radius,f=a.radiusRatio,v=a.mid;if(d&&h){var r=h.clone();r.sub(d).multiplyScalar(v);var t=d.clone().add(r),v=r.clone().negate();this.intersectionShape.cylinder.push(new WebMol.Cylinder(d.clone(),t.clone(),e));
this.intersectionShape.sphere.push(new WebMol.Sphere(d.clone(),e));var u=[];u[0]=r.clone();1E-4<Math.abs(u[0].x)?u[0].y+=1:u[0].x+=1;u[0].cross(r);u[0].normalize();u[0]=u[0];u[4]=u[0].clone();u[4].crossVectors(u[0],r);u[4].normalize();u[8]=u[0].clone().negate();u[12]=u[4].clone().negate();u[2]=u[0].clone().add(u[4]).normalize();u[6]=u[4].clone().add(u[8]).normalize();u[10]=u[8].clone().add(u[12]).normalize();u[14]=u[12].clone().add(u[0]).normalize();u[1]=u[0].clone().add(u[2]).normalize();u[3]=u[2].clone().add(u[4]).normalize();
u[5]=u[4].clone().add(u[6]).normalize();u[7]=u[6].clone().add(u[8]).normalize();u[9]=u[8].clone().add(u[10]).normalize();u[11]=u[10].clone().add(u[12]).normalize();u[13]=u[12].clone().add(u[14]).normalize();u[15]=u[14].clone().add(u[0]).normalize();var y=c.vertices,q=c.vertexArray,l=c.faceArray,g=c.normalArray,x=c.lineArray,D,K,Y;K=0;for(Y=u.length;K<Y;++K){D=3*(y+3*K);var H=u[K].clone().multiplyScalar(e).add(d),p=u[K].clone().multiplyScalar(e).add(t),n=u[K].clone().multiplyScalar(e*f).add(t);q[D]=
H.x;q[D+1]=H.y;q[D+2]=H.z;q[D+3]=p.x;q[D+4]=p.y;q[D+5]=p.z;q[D+6]=n.x;q[D+7]=n.y;q[D+8]=n.z;0<K&&(D=new WebMol.Vector3(q[D-3],q[D-2],q[D-1]),H=h.clone(),p=t.clone(),n=new WebMol.Vector3(n.x,n.y,n.z),this.intersectionShape.triangle.push(new WebMol.Triangle(n,H,D)),this.intersectionShape.triangle.push(new WebMol.Triangle(D.clone(),p,n.clone())))}c.vertices+=48;D=3*c.vertices;q[D]=d.x;q[D+1]=d.y;q[D+2]=d.z;q[D+3]=t.x;q[D+4]=t.y;q[D+5]=t.z;q[D+6]=h.x;q[D+7]=h.y;q[D+8]=h.z;c.vertices+=3;var F,aa,ba,T,
Q,B,U,ja,Ia=c.vertices-3,Ja=c.vertices-2,Z=c.vertices-1,P=3*Ia,W=3*Ja,R=3*Z;K=0;for(Y=u.length-1;K<Y;++K)F=y+3*K,d=c.faceidx,h=c.lineidx,e=F,D=3*e,f=F+1,H=3*f,t=F+2,p=3*t,q=F+4,aa=3*q,n=F+5,ba=3*n,F+=3,T=3*F,Q=B=u[K],U=ja=u[K+1],g[D]=Q.x,g[H]=B.x,g[T]=ja.x,g[D+1]=Q.y,g[H+1]=B.y,g[T+1]=ja.y,g[D+2]=Q.z,g[H+2]=B.z,g[T+2]=ja.z,g[H]=B.x,g[aa]=U.x,g[T]=ja.x,g[H+1]=B.y,g[aa+1]=U.y,g[T+1]=ja.y,g[H+2]=B.z,g[aa+2]=U.z,g[T+2]=ja.z,g[p]=B.x,g[ba]=U.x,g[p+1]=B.y,g[ba+1]=U.y,g[p+2]=B.z,g[ba+2]=U.z,l[d]=e,l[d+1]=
f,l[d+2]=F,l[d+3]=f,l[d+4]=q,l[d+5]=F,l[d+6]=e,l[d+7]=F,l[d+8]=Ia,l[d+9]=t,l[d+10]=Ja,l[d+11]=n,l[d+12]=t,l[d+13]=Z,l[d+14]=n,x[h]=e,x[h+1]=f,x[h+2]=e,x[h+3]=F,x[h+4]=q,x[h+5]=F,x[h+6]=e,x[h+7]=F,x[h+8]=t,x[h+9]=f,x[h+10]=t,x[h+11]=n,x[h+12]=q,x[h+13]=n,x[h+14]=t,x[h+15]=Z,x[h+16]=t,x[h+17]=n,x[h+18]=Z,x[h+19]=n,c.faceidx+=15,c.lineidx+=20;y=[y+45,y+46,y+1,y,y+47,y+2];d=c.faceidx;h=c.lineidx;e=y[0];D=3*e;f=y[1];H=3*f;t=y[4];p=3*t;q=y[2];aa=3*q;n=y[5];ba=3*n;F=y[3];T=3*F;Q=B=u[15];U=ja=u[0];g[D]=Q.x;
g[H]=B.x;g[T]=ja.x;g[D+1]=Q.y;g[H+1]=B.y;g[T+1]=ja.y;g[D+2]=Q.z;g[H+2]=B.z;g[T+2]=ja.z;g[H]=B.x;g[aa]=U.x;g[T]=ja.x;g[H+1]=B.y;g[aa+1]=U.y;g[T+1]=ja.y;g[H+2]=B.z;g[aa+2]=U.z;g[T+2]=ja.z;g[p]=B.x;g[ba]=U.x;g[p+1]=B.y;g[ba+1]=U.y;g[p+2]=B.z;g[ba+2]=U.z;r.normalize();v.normalize();g[P]=v.x;g[W]=g[R]=r.x;g[P+1]=v.y;g[W+1]=g[R+1]=r.y;g[P+2]=v.z;g[W+2]=g[R+2]=r.z;l[d]=e;l[d+1]=f;l[d+2]=F;l[d+3]=f;l[d+4]=q;l[d+5]=F;l[d+6]=e;l[d+7]=F;l[d+8]=Ia;l[d+9]=t;l[d+10]=Ja;l[d+11]=n;l[d+12]=t;l[d+13]=Z;l[d+14]=n;x[h]=
e;x[h+1]=f;x[h+2]=e;x[h+3]=F;x[h+4]=q;x[h+5]=F;x[h+6]=e;x[h+7]=F;x[h+8]=t;x[h+9]=f;x[h+10]=t;x[h+11]=n;x[h+12]=q;x[h+13]=n;x[h+14]=t;x[h+15]=Z;x[h+16]=t;x[h+17]=n;x[h+18]=Z;x[h+19]=n;c.faceidx+=15;c.lineidx+=20}c.truncateArrayBuffers(!0);r=new WebMol.Vector3;w.push({id:c.id,D:c,s:r.addVectors(a.start,a.end).multiplyScalar(.5)});C(this.boundingSphere,w,c.vertexArray)};this.addVolumetricData=function(a,c,d){var e=void 0!==d.isoval&&"number"===typeof d.isoval?d.isoval:0,f=d.voxel?!0:!1,s=b.addGeoGroup();
switch(c){case "cube":var t=a.replace(/^\s+/,"").split(/[\n\r]+/);if(!(6>t.length)){var r=t[2].replace(/^\s+/,"").replace(/\s+/g," ").split(" "),v=Math.abs(parseFloat(r[0]));a=new WebMol.Vector3(parseFloat(r[1]),parseFloat(r[2]),parseFloat(r[3]));var r=t[3].replace(/^\s+/,"").replace(/\s+/g," ").split(" "),u=0<parseFloat(r[0])?.529177:1;a.multiplyScalar(u);c=Math.abs(r[0]);var y=(new WebMol.Vector3(parseFloat(r[1]),parseFloat(r[2]),parseFloat(r[3]))).multiplyScalar(u),r=t[4].replace(/^\s+/,"").replace(/\s+/g,
" ").split(" "),q=Math.abs(r[0]);(new WebMol.Vector3(parseFloat(r[1]),parseFloat(r[2]),parseFloat(r[3]))).multiplyScalar(u);var r=t[5].replace(/^\s+/,"").replace(/\s+/g," ").split(" "),l=Math.abs(r[0]);(new WebMol.Vector3(parseFloat(r[1]),parseFloat(r[2]),parseFloat(r[3]))).multiplyScalar(u);t=new Float32Array(t.splice(v+7).join(" ").replace(/^\s+/,"").split(/[\s\r]+/));r=new Int16Array(c*q*l);v=0;for(u=r.length;v<u;++v)r[v]=-1;r=new Uint8Array(c*q*l);v=0;for(u=t.length;v<u;++v)0<(0<=e?t[v]-e:e-t[v])&&
(r[v]|=2);e=[];t=[];WebMol.o.R(r,e,t,{oa:!0,voxel:f,scale:y.length(),origin:a,U:c,V:q,W:l});f||WebMol.o.Q(10,e,t);D(this,s,{vertexArr:e,faceArr:t,normalArr:[],lineArr:[]})}}w.push({id:s.id,D:s,s:s.getCentroid()});this.updateStyle(d);C(this.boundingSphere,w,s.vertexArray)};this.globj=function(c){b.initTypedArrays();var f=this.color,f=f||WebMol.f.color(f);b.colorsNeedUpdate=!0;for(var d in b.geometryGroups)for(var h=b.geometryGroups[d],t=h.colorArray,s=0,h=h.vertices;s<h;++s)t[3*s]=f.r,t[3*s+1]=f.g,
t[3*s+2]=f.b;e=new WebMol.Object3D;d=new WebMol.MeshLambertMaterial({wireframe:this.wireframe,vertexColors:!0,ambient:0,reflectivity:0,side:this.side,transparent:1>this.alpha?!0:!1,opacity:this.alpha});d=new WebMol.Mesh(b,d);e.add(d);a&&(c.remove(a),a=null);a=e.clone();c.add(a)};this.removegl=function(b){a&&(void 0!==a.geometry&&a.geometry.dispose(),void 0!==a.material&&a.material.dispose(),b.remove(a),a=null);e=null}}function y(f,c){f.color=c.color||new WebMol.Color;f.wireframe=c.wireframe?!0:!1;
f.alpha=c.alpha?WebMol.Math.clamp(c.alpha,0,1):1;f.side=void 0!==c.side?c.side:WebMol.DoubleSide;f.clickable=c.clickable?!0:!1;f.callback="function"===typeof c.callback?c.callback:null}function C(f,c,t){f.center.set(0,0,0);var e,a;if(0<c.length){e=0;for(a=c.length;e<a;++e)f.center.add(c[e].s);f.center.divideScalar(c.length)}c=f.radius*f.radius;e=0;for(a=t.length/3;e<a;e++){var b=f.center.distanceToSquared({x:t[3*e],y:t[3*e+1],z:t[3*e+2]});c=Math.max(c,b)}f.radius=Math.sqrt(c)}function D(f,c,t){var e=
t.vertexArr,a=t.normalArr,b=t.faceArr;t=t.lineArr;0!==e.length&&0!==b.length||console.warn("Error adding custom shape component: No vertices and/or face indices supplied!");c.vertices=e.length;c.faceidx=b.length;var m,v,d,h,z;h=0;for(z=c.vertices;h<z;++h)m=3*h,v=e[h],c.vertexArray[m]=v.x,c.vertexArray[m+1]=v.y,c.vertexArray[m+2]=v.z;h=0;for(z=c.faceidx/3;h<z;++h){m=3*h;v=b[m];d=b[m+1];m=b[m+2];var s=new WebMol.Vector3,y=new WebMol.Vector3,r=new WebMol.Vector3;f.intersectionShape.triangle.push(new WebMol.Triangle(s.copy(e[v]),
y.copy(e[d]),r.copy(e[m])))}c.faceArray=new Uint16Array(b);c.truncateArrayBuffers(!0);if(a.length<c.vertices)c.setNormals();else for(c.normalArray=new Float32Array(3*c.vertices),h=0,z=c.vertices;h<z;++h)m=3*h,f=a[h],c.normalArray[m]=f.x,c.normalArray[m+1]=f.y,c.normalArray[m+2]=f.z;t.length?c.lineArray=new Uint16Array(t):c.setLineIndices();c.lineidx=c.lineArray.length}var t={h:{},l:function(f){if("undefined"!==typeof this.h[f])return this.h[f];var c={vertices:[],j:[],i:[]},t=16,e=10;1>f&&(t=8,e=6);
var a=2*Math.PI,b=Math.PI,m,v;for(v=0;v<=e;v++){var d=[];for(m=0;m<=t;m++){var h=m/t,z=v/e,s={};s.x=-f*Math.cos(0+h*a)*Math.sin(0+z*b);s.y=f*Math.cos(0+z*b);s.z=f*Math.sin(0+h*a)*Math.sin(0+z*b);h=new WebMol.Vector3(s.x,s.y,s.z);h.normalize();c.vertices.push(s);c.i.push(h);d.push(c.vertices.length-1)}c.j.push(d)}return this.h[f]=c}};Object.defineProperty(v.prototype,"position",{get:function(){return this.boundingSphere.center}});Object.defineProperty(v.prototype,"x",{get:function(){return this.boundingSphere.center.x}});
Object.defineProperty(v.prototype,"y",{get:function(){return this.boundingSphere.center.y}});Object.defineProperty(v.prototype,"z",{get:function(){return this.boundingSphere.center.z}});return v}();WebMol.ShapeIDCount=0;WebMol.LabelCount=0;WebMol.Label=function(v,y){this.id=WebMol.LabelCount++;this.stylespec=y||{};this.canvas=document.createElement("canvas");this.context=this.canvas.getContext("2d");this.sprite=new WebMol.Sprite;this.text=v};
WebMol.Label.prototype={setContext:function(){this.font=this.stylespec.font=this.stylespec.font?this.stylespec.font:"Arial";this.fontSize=this.stylespec.fontSize=this.stylespec.fontSize?this.stylespec.fontSize:20;this.fontColor=this.stylespec.fontColor=this.stylespec.fontColor?this.stylespec.fontColor:{r:255,g:255,b:255,a:1};this.borderThickness=this.stylespec.borderThickness=this.stylespec.borderThickness?this.stylespec.borderThickness:4;this.borderColor=this.stylespec.borderColor=this.stylespec.borderColor?
this.stylespec.borderColor:{r:0,g:0,b:0,a:1};this.backgroundColor=this.stylespec.backgroundColor=this.stylespec.backgroundColor?this.stylespec.backgroundColor:{r:0,g:0,b:0,a:1};this.position=this.stylespec.position=this.stylespec.position?this.stylespec.position:{x:-10,y:1,z:1};this.inFront=this.stylespec.inFront=void 0!==this.stylespec.inFront?this.stylespec.inFront:!0;this.context.clearRect(0,0,this.canvas.width,this.canvas.height);var v=WebMol.SpriteAlignment.topLeft;this.context.font=this.fontSize+
"pt "+this.font;var y=this.context.measureText(this.text).width;this.context.fillStyle="rgba("+this.backgroundColor.r+","+this.backgroundColor.g+","+this.backgroundColor.b+","+this.backgroundColor.a+")";this.context.strokeStyle="rgba("+this.borderColor.r+","+this.borderColor.g+","+this.borderColor.b+","+this.borderColor.a+")";this.context.lineWidth=this.borderThickness;var C=this.context,D=this.borderThickness/2,t=this.borderThickness/2,f=y+this.borderThickness,c=1.4*this.fontSize+this.borderThickness;
C.beginPath();C.moveTo(D+6,t);C.lineTo(D+f-6,t);C.quadraticCurveTo(D+f,t,D+f,t+6);C.lineTo(D+f,t+c-6);C.quadraticCurveTo(D+f,t+c,D+f-6,t+c);C.lineTo(D+6,t+c);C.quadraticCurveTo(D,t+c,D,t+c-6);C.lineTo(D,t+6);C.quadraticCurveTo(D,t,D+6,t);C.closePath();C.fill();this.context.fillStyle="rgba("+this.fontColor.r+","+this.fontColor.g+","+this.fontColor.b+","+this.fontColor.a+")";this.context.fillText(this.text,this.borderThickness,this.fontSize+this.borderThickness,y);y=new WebMol.Texture(this.canvas);
y.needsUpdate=!0;this.sprite.material=new WebMol.SpriteMaterial({map:y,useScreenCoordinates:!1,alignment:v,depthTest:!this.inFront});this.sprite.scale.set(2*this.fontSize,this.fontSize,1);this.sprite.position.set(this.position.x,this.position.y,this.position.z)},dispose:function(){void 0!==this.sprite.material.map&&this.sprite.material.map.dispose();void 0!==this.sprite.material&&this.sprite.material.dispose()}};
WebMol.GLViewer=function(){function v(v){var C,D,t,f,c,w,e,a,b,m;C=D=t=9999;f=c=w=-9999;e=a=b=m=0;if(0===v.length)return[[0,0,0],[0,0,0],[0,0,0]];for(var A=0;A<v.length;A++){var d=v[A];void 0!==d&&(m++,e+=d.x,a+=d.y,b+=d.z,C=C<d.x?C:d.x,D=D<d.y?D:d.y,t=t<d.z?t:d.z,f=f>d.x?f:d.x,c=c>d.y?c:d.y,w=w>d.z?w:d.z)}return[[C,D,t],[f,c,w],[e/m,a/m,b/m]]}return function(y,C,D){function t(a,b,c){var d=new WebMol.Geometry(!0),e=d.updateGeoGroup(0),f=e.vertexArray,h=b.vertices,g,l,n;l=0;for(n=h.length;l<n;l++)g=
3*e.vertices,f[g]=h[l].x,f[g+1]=h[l].y,f[g+2]=h[l].z,e.vertices++;b=b.faces;e.faceidx=b.length;d.initTypedArrays();f=[];l=0;for(n=a.length;l<n;l++)(g=a[l])&&("undefined"!=typeof g.surfaceColor?f[l]=WebMol.f.color(g.surfaceColor):g.color&&(f[l]=WebMol.f.color(g.color)));a=e.vertexArray;g=e.colorArray;var m=e.normalArray,p,q,r;l=0;for(n=b.length;l<n;l+=3){var s=b[l],t=b[l+1],u=b[l+2];p=h[s].atomid;q=h[t].atomid;r=h[u].atomid;s*=3;t*=3;u*=3;g[s]=f[p].r;g[s+1]=f[p].g;g[s+2]=f[p].b;g[t]=f[q].r;g[t+1]=
f[q].g;g[t+2]=f[q].b;g[u]=f[r].r;g[u+1]=f[r].g;g[u+2]=f[r].b;p=new WebMol.Vector3(a[s],a[s+1],a[s+2]);q=new WebMol.Vector3(a[t],a[t+1],a[t+2]);r=new WebMol.Vector3(a[u],a[u+1],a[u+2]);r.subVectors(r,q);p.subVectors(p,q);r.cross(p);p=r;p.normalize();m[s]+=p.x;m[t]+=p.x;m[u]+=p.x;m[s+1]+=p.y;m[t+1]+=p.y;m[u+1]+=p.y;m[s+2]+=p.z;m[t+2]+=p.z;m[u+2]+=p.z}e.faceArray=new Uint16Array(b);c=new WebMol.Mesh(d,c);c.za=!0;return c}function f(a,b,d){function e(a){if(64E3>c(a))return[a];var b=a[1][0]-a[0][0],d=
a[1][1]-a[0][1],g=a[1][2]-a[0][2],d=b>d&&b>g?0:d>b&&d>g?1:2,g=f(a),b=f(a);a=(a[1][d]-a[0][d])/2+a[0][d];g[1][d]=a;b[0][d]=a;a=e(g);b=e(b);return a.concat(b)}function f(a){var b=[];b[0]=[a[0][0],a[0][1],a[0][2]];b[1]=[a[1][0],a[1][1],a[1][2]];return b}var g=[];a=e(a);for(var h=0,l=a.length;h<l;h++){var m=f(a[h]);m[0][0]-=6;m[0][1]-=6;m[0][2]-=6;m[1][0]+=6;m[1][1]+=6;m[1][2]+=6;var m=w(b,m),n=w(d,a[h]);g.push({v:a[h],L:m,ba:n})}return g}function c(a){return(a[1][0]-a[0][0])*(a[1][1]-a[0][1])*(a[1][2]-
a[0][2])}function w(a,b){for(var c=[],d=0;d<a.length;d++){var e=a[d];"undefined"!=typeof e&&(e.x<b[0][0]||e.x>b[1][0]||e.y<b[0][1]||e.y>b[1][1]||e.z<b[0][2]||e.z>b[1][2]||c.push(d))}return c}function e(a){var b=a.originalEvent.targetTouches[0].pageX-a.originalEvent.targetTouches[1].pageX;a=a.originalEvent.targetTouches[0].pageY-a.originalEvent.targetTouches[1].pageY;return Math.sqrt(b*b+a*a)}function a(){if(H){var a=g.position.z-p.position.z;1>a&&(a=1);g.near=a+aa;1>g.near&&(g.near=1);g.far=a+ba;
g.near+1>g.far&&(g.far=g.near+1);g instanceof WebMol.Camera?g.fov=20:(g.right=a*Math.tan(Math.PI/180*20),g.left=-g.right,g.top=g.right/q,g.bottom=-g.top);g.updateProjectionMatrix();H.fog.near=g.near+.4*(g.far-g.near);H.fog.far=g.far;l.render(H,g)}}function b(a){var b=[];"undefined"===typeof a&&(a={});var c=[],d;if("undefined"===typeof a.u)for(d=0;d<s.length;d++)s[d]&&c.push(s[d]);else c=a.u,$.isArray(c)||(c=[c]);for(d=0;d<c.length;d++)b=b.concat(c[d].selectedAtoms(a));return b}function m(a,b,c,d){for(var e=
0;e<s.length;e++)if(s[e])s[e][a](b,c,d)}function A(a){var b=new WebMol.MeshLambertMaterial;b.vertexColors=WebMol.VertexColors;for(var c in a)"color"===c?(b[c]=WebMol.f.color(a.color),delete b.vertexColors):"map"!==c&&a.hasOwnProperty(c)&&(b[c]=a[c]);void 0!==a.opacity&&(b.transparent=1===a.opacity?!1:!0);return b}function d(a,b){for(var c=Number.POSITIVE_INFINITY,d=Number.NEGATIVE_INFINITY,e=0,g=a.length;e<g;e++){var f=a[e];f.properties&&"undefined"!=typeof f.properties[b]&&(f=f.properties[b],f<c&&
(c=f),f>d&&(d=f))}isFinite(c)||isFinite(d)?isFinite(c)?isFinite(d)||(d=c):c=d:c=d=0;return[c,d]}var h=this,z=y.id,s=[],E=[],r=[],G=y.width(),u=y.height(),ca=$('<div class="glviewerSpinnerWrap" style = "position: absolute; width: 100%; height: 100%; display: table; z-index: 1;"><div class="glviewerSpinner" style="display: table-cell; text-align: center; vertical-align: middle; z-index:1"><img src="webmol/spinner.gif"></div></div>');$(y).append(ca);ca.hide();var q=G/u,l=new WebMol.Renderer({antialias:!0});
l.domElement.style.width="100%";l.domElement.style.height="100%";l.domElement.style.position="absolute";l.domElement.style.top="0px";l.domElement.style.zIndex="0";y.append(l.domElement);l.setSize(G,u);var g=new WebMol.Camera(20,q,1,800);g.position=new WebMol.Vector3(0,0,150);var x=new WebMol.Vector3;g.lookAt(x);var L=new WebMol.Raycaster(new WebMol.Vector3(0,0,0),new WebMol.Vector3(0,0,0)),K=new WebMol.Projector,Y=new WebMol.Vector3(0,0,0),H=null,p=null,n=null,F=0,aa=-50,ba=50,T=new WebMol.Quaternion(0,
0,0,1),Q=new WebMol.Quaternion(0,0,0,1),B=!1,U=0,ja=0,Ia=0,Ja=0,Z=0,P=0,W=0;(function(){H=new WebMol.Scene;H.fog=new WebMol.Fog(F,100,200);n=new WebMol.Object3D;p=new WebMol.Object3D;p.useQuaternion=!0;p.quaternion=new WebMol.Quaternion(0,0,0,1);p.add(n);H.add(p);var a=new WebMol.Light(16777215);a.position=(new WebMol.Vector3(.2,.2,1)).normalize();a.intensity=1;H.add(a)})();l.setClearColorHex(F,1);H.fog.color=WebMol.f.color(F);x=$(l.domElement);x.bind("mousedown touchstart",function(b){b.preventDefault();
if(H){var c=b.pageX,d=b.pageY;b.originalEvent.targetTouches&&b.originalEvent.targetTouches[0]&&(c=b.originalEvent.targetTouches[0].pageX,d=b.originalEvent.targetTouches[0].pageY);if(void 0!==c){B=!0;mouseButton=b.which;U=c;ja=d;Ia=0;b.originalEvent.targetTouches&&2==b.originalEvent.targetTouches.length&&(Ia=e(b));T=p.quaternion;Z=p.position.z;Ja=n.position.clone();P=aa;W=ba;b=c/$(window).width()*2-1;Y.set(b,2*-(d/u)+1,-1);K.unprojectVector(Y,g);Y.sub(g.position).normalize();L.set(g.position,Y);d=
[];b=[];b=0;for(c=s.length;b<c;b++)var f=s[b].selectedAtoms({clickable:!0}),d=d.concat(f);b=0;for(c=r.length;b<c;b++)f=r[b],f.clickable&&d.push(f);b=L.intersectObjects(n,d);b.length&&(d=b[0].clickable,void 0!==d.callback&&"function"===typeof d.callback&&d.callback(d,h));a()}}});x.bind("DOMMouseScroll mousewheel",function(b){b.preventDefault();if(H){var c=.85*(150-p.position.z);b.originalEvent.detail?p.position.z+=c*b.originalEvent.detail/10:b.originalEvent.wheelDelta&&(p.position.z-=c*b.originalEvent.wheelDelta/
400);a()}});x.bind("contextmenu",function(a){a.preventDefault()});$("body").bind("mouseup touchend",function(){B=!1});x.bind("mousemove touchmove",function(b){b.preventDefault();if(H&&B){var c=0,d=$("input[name="+z+"_mouseMode]:checked");0<d.length&&(c=parseInt(d.val()));var d=b.pageX,f=b.pageY;b.originalEvent.targetTouches&&b.originalEvent.targetTouches[0]&&(d=b.originalEvent.targetTouches[0].pageX,f=b.originalEvent.targetTouches[0].pageY);if(void 0!==d){d=(d-U)/G;f=(f-ja)/u;0!=Ia&&b.originalEvent.targetTouches&&
2==b.originalEvent.targetTouches.length?(f=e(b),c=2,f=2*(Ia-f)/(G+u)):b.originalEvent.targetTouches&&3==b.originalEvent.targetTouches.length&&(c=1);var g=Math.sqrt(d*d+f*f);3==c||3==mouseButton&&b.ctrlKey?(aa=P+100*d,ba=W+100*f):2==c||3==mouseButton||b.shiftKey?(b=.85*(150-p.position.z),80>b&&(b=80),p.position.z=Z-f*b):1==c||2==mouseButton||b.ctrlKey?(b=.85*(150-p.position.z),20>b&&(b=20),b=new WebMol.Vector3(d*b,-f*b,0),c=p.quaternion,c=(new WebMol.Quaternion(c.x,c.y,c.z,c.w)).inverse().normalize(),
b=b.applyQuaternion(c),n.position.x=Ja.x+b.x,n.position.y=Ja.y+b.y,n.position.z=Ja.z+b.z):0!==c&&1!=mouseButton||0===g||(b=Math.sin(g*Math.PI)/g,Q.x=Math.cos(g*Math.PI),Q.y=0,Q.z=b*d,Q.w=-b*f,p.quaternion=new WebMol.Quaternion(1,0,0,0),p.quaternion.multiply(Q),p.quaternion.multiply(T));a()}}});this.setBackgroundColor=function(b,c){F=b;l.setClearColorHex(b,c|1);H.fog.color=WebMol.f.color(b);a()};this.setWidth=function(a){G=a||G;l.setSize(G,u)};this.setHeight=function(a){u=a||u;l.setSize(G,u)};this.resize=
function(){G=y.width();u=y.height();q=G/u;l.setSize(G,u);g.aspect=q;g.updateProjectionMatrix();a()};$(window).resize(this.resize);this.getModel=function(a){a=a||s.length-1;return s[a]};this.getView=function(){if(!n)return[0,0,0,0,0,0,0,1];var a=n.position,b=p.quaternion;return[a.x,a.y,a.z,p.position.z,b.x,b.y,b.z,b.w]};this.setView=function(b){void 0!==b&&(b instanceof Array||8!==b.length)&&n&&p&&(n.position.x=b[0],n.position.y=b[1],n.position.z=b[2],p.position.z=b[3],p.quaternion.x=b[4],p.quaternion.y=
b[5],p.quaternion.z=b[6],p.quaternion.w=b[7],a())};this.render=function(){var a=new Date,b=this.getView(),c;for(c=0;c<s.length;c++)s[c]&&s[c].globj(n);for(c=0;c<r.length;c++)r[c]&&r[c].globj(n);for(c in E)if(E.hasOwnProperty(c)){var d=E[c].k;E[c].A||(d.verticesNeedUpdate=!0,d.elementsNeedUpdate=!0,d.normalsNeedUpdate=!0,d.colorsNeedUpdate=!0,d.buffersNeedUpdate=!0,d.boundingSphere=null,E[c].done&&(E[c].A=!0),E[c].t&&n.remove(E[c].t),d=new WebMol.Mesh(d,E[c].n),E[c].t=d,n.add(d))}this.setView(b);b=
new Date;ca.hide();console.log("render time: "+(b-a))};this.pdbData=function(a){a=b(a);for(var c="",d=0,e=a.length;d<e;++d)c+=a[d].pdbline+"\n";return c};this.zoom=function(b){p.position.z=150-(150-p.position.z)/(b||2);a()};this.zoomTo=function(c){c=b(c).concat(r);var d=b({}).concat(r);c=v(c);var d=v(d),e=new WebMol.Vector3(c[2][0],c[2][1],c[2][2]);n.position=e.multiplyScalar(-1);var e=d[1][0]-d[0][0],f=d[1][1]-d[0][1],d=d[1][2]-d[0][2],d=Math.sqrt(e*e+f*f+d*d);25>d&&(d=25);aa=-d/1.9;ba=d/3;e=c[1][0]-
c[0][0];f=c[1][1]-c[0][1];d=c[1][2]-c[0][2];d=Math.sqrt(e*e+f*f+d*d);25>d&&(d=25);p.position.z=-(.35*d/Math.tan(Math.PI/180*g.fov/2)-150);a()};this.addLabel=function(a,b){var c=new WebMol.Label(a,b);c.setContext();n.add(c.sprite);return c};this.removeLabel=function(a){a.dispose();n.remove(a.sprite)};this.setLabelStyle=function(a,b){a.dispose();a.stylespec=b;a.setContext();n.add(a.sprite);return a};this.setLabelText=function(a,b){a.dispose();a.text=b;a.setContext();n.add(a.sprite);return a};this.addShape=
function(a){a=a||{};a=new WebMol.GLShape(r.length,a);r.push(a);return a};this.removeShape=function(a){if(a)for(a.removegl(n),delete r[a.id];0<r.length&&"undefined"===typeof r[r.length-1];)r.pop()};this.addSphere=function(a){var b=new WebMol.GLShape(r.length);a=a||{};b.addSphere(a);r.push(b);return b};this.addArrow=function(a){var b=new WebMol.GLShape(r.length);a=a||{};b.addArrow(a);r.push(b);return b};this.addCustom=function(a){var b=new WebMol.GLShape(r.length);a=a||{};b.addCustom(a);r.push(b);return b};
this.addVolumetricData=function(a,b,c){var d=new WebMol.GLShape(r.length);c=c||{};d.addVolumetricData(a,b,c);r.push(d);return d};this.addModel=function(a,b){var c=new WebMol.GLModel(s.length,D);c.addMolData(a,b);s.push(c);return c};this.removeModel=function(a){if(a)for(a.removegl(n),delete s[a.getID()];0<s.length&&"undefined"===typeof s[s.length-1];)s.pop()};this.removeAllModels=function(){for(var a=0;a<s.length;a++)s[a].removegl(n);s=[]};this.createModelFrom=function(a,b){for(var c=new WebMol.GLModel(s.length,
D),d=0;d<s.length;d++)if(s[d]){var e=s[d].selectedAtoms(a);c.addAtoms(e);b&&s[d].removeAtoms(e)}s.push(c);return c};this.setStyle=function(a,b){m("setStyle",a,b,!1)};this.addStyle=function(a,b){m("setStyle",a,b,!0)};this.setColorByProperty=function(a,b,c){m("setColorByProperty",a,b,c)};this.setColorByElement=function(a,b){m("setColorByElement",a,b)};this.addSurface=function(a,e,g,m,l){g=b(g);var n=b(m);l=b(l);var p,q=new Date,s=A(e),r=v(g);if(e.map&&e.map.prop){var u=e.map.prop,w=e.map.scheme||new WebMol.RWB,
x=w.range();x||(x=d(g,u));e=0;for(m=g.length;e<m;e++)p=g[e],p.surfaceColor=w.valueToHex(p.properties[u],x)}var z=c(r),y=f(r,n,g);if(l&&l.length&&0<l.length){var B=v(l);y.sort(function(a,b){function c(a,b){var d=a.v,e=d[1][1]-d[0][1],f=d[1][2]-d[0][2],d=d[1][0]-d[0][0]-b[2][0],e=e-b[2][1],f=f-b[2][2];return d*d+e*e+f*f}return c(a,B)-c(b,B)})}console.log("Extents "+y.length+"  "+(+new Date-q)+"ms");var C={k:new WebMol.Geometry(!0),n:s,done:!1,A:!1};g=E.length;E[g]=C;var D=[];e=0;for(m=n.length;e<m;e++)p=
n[e],D[e]={x:p.x,y:p.y,z:p.z,serial:e,elem:p.elem};if(WebMol.syncSurface)setTimeout(function db(b){if(!(b>=y.length)){var c,d=a,e=y[b].v,f=y[b].L;c=y[b].ba;var g=new Date,l=new WebMol.da;l.sa(e,1===d?!1:!0,z);var m=new Date;console.log("initialize "+(m-g)+"ms");l.ma(D,f);e=new Date;console.log("fillvoxels "+(e-m)+"  "+(e-g)+"ms");l.fa();d==WebMol.SurfaceType.SES&&(l.ia(),l.M(!1),l.na(D,f));f=new Date;console.log("buildboundaryetc "+(f-e)+"  "+(f-g)+"ms");l.ta(d);d=new Date;console.log("marching cube "+
(d-f)+"  "+(d-g)+"ms");c=l.pa(c);c=t(n,c,s);WebMol.T(C.k,c);h.render();setTimeout(db,1,b+1)}},1,0);else{l=[];0>a&&(a=0);e=0;for(m=4;e<m;e++)p=new Worker(WebMol.J),l.push(p),p.postMessage({type:-1,atoms:D,volume:z});var F=0;m=function(a){a=t(n,a.data,s);WebMol.T(C.k,a);h.render();console.log("async mesh generation "+(+new Date-q)+"ms");F++;F==y.length&&(C.done=!0)};p=function(a){console.log(a.message+" ("+a.filename+":"+a.Ea+")")};for(e=0;e<y.length;e++)r=l[e%l.length],r.onmessage=m,r.onerror=p,r.postMessage({type:a,
expandedExtent:y[e].v,extendedAtoms:y[e].L,atomsToShow:y[e].ba})}console.log("full mesh generation "+(+new Date-q)+"ms");return g};this.setSurfaceMaterialStyle=function(a,b){E[a]&&(E[a].n=A(b),E[a].n.side=WebMol.FrontSide,E[a].A=!1)};this.removeSurface=function(b){E[b]&&E[b].t&&(void 0!==E[b].k&&E[b].k.dispose(),void 0!==E[b].n&&E[b].n.dispose(),n.remove(E[b].t));delete E[b];a()};this.clear=function(){E=[];this.removeAllModels();a()};this.mapAtomProperties=function(a){for(var c=b({}),d=0,e=c.length;d<
e;d++)for(var f=c[d],g=0,h=a.length;g<h;g++){var l=a[g];if(l.props)for(var m in l.props){var n;if(n=l.props.hasOwnProperty(m))a:{n=f;var p=l;"undefined"===typeof p&&(p={});var q=[],r=void 0;if("undefined"===typeof p.u)for(r=0;r<s.length;r++)s[r]&&q.push(s[r]);else q=p.u,$.isArray(q)||(q=[q]);for(r=0;r<q.length;r++)if(q[r].atomIsSelected(n,p)){n=!0;break a}n=!1}n&&(f.properties||(f.properties={}),f.properties[m]=l.props[m])}}};try{"function"===typeof C&&C(this)}catch(R){console.log("error with glviewer callback: "+
R)}}}();WebMol.glmolViewer=WebMol.GLViewer;WebMol=WebMol||{};
WebMol.va=[{resn:"ALA",atom:"N",props:{partialCharge:-.15}},{resn:"ALA",atom:"CA",props:{partialCharge:.1}},{resn:"ALA",atom:"CB",props:{partialCharge:0}},{resn:"ALA",atom:"C",props:{partialCharge:.6}},{resn:"ALA",atom:"O",props:{partialCharge:-.55}},{resn:"ARG",atom:"N",props:{partialCharge:-.15}},{resn:"ARG",atom:"CA",props:{partialCharge:.1}},{resn:"ARG",atom:"CB",props:{partialCharge:0}},{resn:"ARG",atom:"CG",props:{partialCharge:0}},{resn:"ARG",atom:"CD",props:{partialCharge:.1}},{resn:"ARG",
atom:"NE",props:{partialCharge:-.1}},{resn:"ARG",atom:"CZ",props:{partialCharge:.5}},{resn:"ARG",atom:"NH1",props:{partialCharge:.25}},{resn:"ARG",atom:"NH2",props:{partialCharge:.25}},{resn:"ARG",atom:"C",props:{partialCharge:.6}},{resn:"ARG",atom:"O",props:{partialCharge:-.55}},{resn:"ASN",atom:"N",props:{partialCharge:-.15}},{resn:"ASN",atom:"CA",props:{partialCharge:.1}},{resn:"ASN",atom:"CB",props:{partialCharge:0}},{resn:"ASN",atom:"CG",props:{partialCharge:.55}},{resn:"ASN",atom:"OD1",props:{partialCharge:-.55}},
{resn:"ASN",atom:"ND2",props:{partialCharge:0}},{resn:"ASN",atom:"C",props:{partialCharge:.6}},{resn:"ASN",atom:"O",props:{partialCharge:-.55}},{resn:"ASP",atom:"N",props:{partialCharge:-.15}},{resn:"ASP",atom:"CA",props:{partialCharge:.1}},{resn:"ASP",atom:"CB",props:{partialCharge:0}},{resn:"ASP",atom:"CG",props:{partialCharge:.14}},{resn:"ASP",atom:"OD1",props:{partialCharge:-.57}},{resn:"ASP",atom:"OD2",props:{partialCharge:-.57}},{resn:"ASP",atom:"C",props:{partialCharge:.6}},{resn:"ASP",atom:"O",
props:{partialCharge:-.55}},{resn:"CYS",atom:"N",props:{partialCharge:-.15}},{resn:"CYS",atom:"CA",props:{partialCharge:.1}},{resn:"CYS",atom:"CB",props:{partialCharge:.19}},{resn:"CYS",atom:"SG",props:{partialCharge:-.19}},{resn:"CYS",atom:"C",props:{partialCharge:.6}},{resn:"CYS",atom:"O",props:{partialCharge:-.55}},{resn:"GLN",atom:"N",props:{partialCharge:-.15}},{resn:"GLN",atom:"CA",props:{partialCharge:.1}},{resn:"GLN",atom:"CB",props:{partialCharge:0}},{resn:"GLN",atom:"CG",props:{partialCharge:0}},
{resn:"GLN",atom:"CD",props:{partialCharge:.55}},{resn:"GLN",atom:"OE1",props:{partialCharge:-.55}},{resn:"GLN",atom:"NE2",props:{partialCharge:0}},{resn:"GLN",atom:"C",props:{partialCharge:.6}},{resn:"GLN",atom:"O",props:{partialCharge:-.55}},{resn:"GLU",atom:"N",props:{partialCharge:-.15}},{resn:"GLU",atom:"CA",props:{partialCharge:.1}},{resn:"GLU",atom:"CB",props:{partialCharge:0}},{resn:"GLU",atom:"CG",props:{partialCharge:0}},{resn:"GLU",atom:"CD",props:{partialCharge:.14}},{resn:"GLU",atom:"OE1",
props:{partialCharge:-.57}},{resn:"GLU",atom:"OE2",props:{partialCharge:-.57}},{resn:"GLU",atom:"C",props:{partialCharge:.6}},{resn:"GLU",atom:"O",props:{partialCharge:-.55}},{resn:"GLY",atom:"N",props:{partialCharge:-.15}},{resn:"GLY",atom:"CA",props:{partialCharge:.1}},{resn:"GLY",atom:"C",props:{partialCharge:.6}},{resn:"GLY",atom:"O",props:{partialCharge:-.55}},{resn:"HIS",atom:"N",props:{partialCharge:-.15}},{resn:"HIS",atom:"CA",props:{partialCharge:.1}},{resn:"HIS",atom:"CB",props:{partialCharge:0}},
{resn:"HIS",atom:"CG",props:{partialCharge:.1}},{resn:"HIS",atom:"ND1",props:{partialCharge:-.1}},{resn:"HIS",atom:"CD2",props:{partialCharge:.1}},{resn:"HIS",atom:"NE2",props:{partialCharge:-.4}},{resn:"HIS",atom:"CE1",props:{partialCharge:.3}},{resn:"HIS",atom:"C",props:{partialCharge:.6}},{resn:"HIS",atom:"O",props:{partialCharge:-.55}},{resn:"ILE",atom:"N",props:{partialCharge:-.15}},{resn:"ILE",atom:"CA",props:{partialCharge:.1}},{resn:"ILE",atom:"CB",props:{partialCharge:0}},{resn:"ILE",atom:"CG2",
props:{partialCharge:0}},{resn:"ILE",atom:"CG1",props:{partialCharge:0}},{resn:"ILE",atom:"CD",props:{partialCharge:0}},{resn:"ILE",atom:"C",props:{partialCharge:.6}},{resn:"ILE",atom:"O",props:{partialCharge:-.55}},{resn:"LEU",atom:"N",props:{partialCharge:-.15}},{resn:"LEU",atom:"CA",props:{partialCharge:.1}},{resn:"LEU",atom:"CB",props:{partialCharge:0}},{resn:"LEU",atom:"CG",props:{partialCharge:0}},{resn:"LEU",atom:"CD1",props:{partialCharge:0}},{resn:"LEU",atom:"CD2",props:{partialCharge:0}},
{resn:"LEU",atom:"C",props:{partialCharge:.6}},{resn:"LEU",atom:"O",props:{partialCharge:-.55}},{resn:"LYS",atom:"N",props:{partialCharge:-.15}},{resn:"LYS",atom:"CA",props:{partialCharge:.1}},{resn:"LYS",atom:"CB",props:{partialCharge:0}},{resn:"LYS",atom:"CG",props:{partialCharge:0}},{resn:"LYS",atom:"CD",props:{partialCharge:0}},{resn:"LYS",atom:"CE",props:{partialCharge:.25}},{resn:"LYS",atom:"NZ",props:{partialCharge:.75}},{resn:"LYS",atom:"C",props:{partialCharge:.6}},{resn:"LYS",atom:"O",props:{partialCharge:-.55}},
{resn:"MET",atom:"N",props:{partialCharge:-.15}},{resn:"MET",atom:"CA",props:{partialCharge:.1}},{resn:"MET",atom:"CB",props:{partialCharge:0}},{resn:"MET",atom:"CG",props:{partialCharge:.06}},{resn:"MET",atom:"SD",props:{partialCharge:-.12}},{resn:"MET",atom:"CE",props:{partialCharge:.06}},{resn:"MET",atom:"C",props:{partialCharge:.6}},{resn:"MET",atom:"O",props:{partialCharge:-.55}},{resn:"PHE",atom:"N",props:{partialCharge:-.15}},{resn:"PHE",atom:"CA",props:{partialCharge:.1}},{resn:"PHE",atom:"CB",
props:{partialCharge:0}},{resn:"PHE",atom:"CG",props:{partialCharge:0}},{resn:"PHE",atom:"CD1",props:{partialCharge:0}},{resn:"PHE",atom:"CD2",props:{partialCharge:0}},{resn:"PHE",atom:"CE1",props:{partialCharge:0}},{resn:"PHE",atom:"CE2",props:{partialCharge:0}},{resn:"PHE",atom:"CZ",props:{partialCharge:0}},{resn:"PHE",atom:"C",props:{partialCharge:.6}},{resn:"PHE",atom:"O",props:{partialCharge:-.55}},{resn:"PRO",atom:"N",props:{partialCharge:-.25}},{resn:"PRO",atom:"CD",props:{partialCharge:.1}},
{resn:"PRO",atom:"CA",props:{partialCharge:.1}},{resn:"PRO",atom:"CB",props:{partialCharge:0}},{resn:"PRO",atom:"CG",props:{partialCharge:0}},{resn:"PRO",atom:"C",props:{partialCharge:.6}},{resn:"PRO",atom:"O",props:{partialCharge:-.55}},{resn:"SER",atom:"N",props:{partialCharge:-.15}},{resn:"SER",atom:"CA",props:{partialCharge:.1}},{resn:"SER",atom:"CB",props:{partialCharge:.25}},{resn:"SER",atom:"OG",props:{partialCharge:-.25}},{resn:"SER",atom:"C",props:{partialCharge:.6}},{resn:"SER",atom:"O",
props:{partialCharge:-.55}},{resn:"THR",atom:"N",props:{partialCharge:-.15}},{resn:"THR",atom:"CA",props:{partialCharge:.1}},{resn:"THR",atom:"CB",props:{partialCharge:.25}},{resn:"THR",atom:"OG1",props:{partialCharge:-.25}},{resn:"THR",atom:"CG2",props:{partialCharge:0}},{resn:"THR",atom:"C",props:{partialCharge:.6}},{resn:"THR",atom:"O",props:{partialCharge:-.55}},{resn:"TRP",atom:"N",props:{partialCharge:-.15}},{resn:"TRP",atom:"CA",props:{partialCharge:.1}},{resn:"TRP",atom:"CB",props:{partialCharge:0}},
{resn:"TRP",atom:"CG",props:{partialCharge:-.03}},{resn:"TRP",atom:"CD2",props:{partialCharge:.1}},{resn:"TRP",atom:"CE2",props:{partialCharge:-.04}},{resn:"TRP",atom:"CE3",props:{partialCharge:-.03}},{resn:"TRP",atom:"CD1",props:{partialCharge:.06}},{resn:"TRP",atom:"NE1",props:{partialCharge:-.06}},{resn:"TRP",atom:"CZ2",props:{partialCharge:0}},{resn:"TRP",atom:"CZ3",props:{partialCharge:0}},{resn:"TRP",atom:"CH2",props:{partialCharge:0}},{resn:"TRP",atom:"C",props:{partialCharge:.6}},{resn:"TRP",
atom:"O",props:{partialCharge:-.55}},{resn:"TYR",atom:"N",props:{partialCharge:-.15}},{resn:"TYR",atom:"CA",props:{partialCharge:.1}},{resn:"TYR",atom:"CB",props:{partialCharge:0}},{resn:"TYR",atom:"CG",props:{partialCharge:0}},{resn:"TYR",atom:"CD1",props:{partialCharge:0}},{resn:"TYR",atom:"CE1",props:{partialCharge:0}},{resn:"TYR",atom:"CD2",props:{partialCharge:0}},{resn:"TYR",atom:"CE2",props:{partialCharge:0}},{resn:"TYR",atom:"CZ",props:{partialCharge:.25}},{resn:"TYR",atom:"OH",props:{partialCharge:-.25}},
{resn:"TYR",atom:"C",props:{partialCharge:.6}},{resn:"TYR",atom:"O",props:{partialCharge:-.55}},{resn:"VAL",atom:"N",props:{partialCharge:-.15}},{resn:"VAL",atom:"CA",props:{partialCharge:.1}},{resn:"VAL",atom:"CB",props:{partialCharge:0}},{resn:"VAL",atom:"CG1",props:{partialCharge:0}},{resn:"VAL",atom:"CG2",props:{partialCharge:0}},{resn:"VAL",atom:"C",props:{partialCharge:.6}},{resn:"VAL",atom:"O",props:{partialCharge:-.55}}];WebMol.partialCharges=WebMol.va;
