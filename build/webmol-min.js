(function(a,c){function e(b){var h=b.length,a=d.type(b);return d.isWindow(b)?!1:1===b.nodeType&&h?!0:"array"===a||"function"!==a&&(0===h||"number"===typeof h&&0<h&&h-1 in b)}function f(b){var h=Za[b]={};d.each(b.match(aa)||[],function(b,d){h[d]=!0});return h}function l(b,h,a,g){if(d.acceptData(b)){var r=d.expando,m="string"===typeof h,D=b.nodeType,e=D?d.cache:b,f=D?b[r]:b[r]&&r;if(f&&e[f]&&(g||e[f].data)||!m||a!==c){f||(D?b[r]=f=z.pop()||d.guid++:f=r);e[f]||(e[f]={},D||(e[f].toJSON=d.noop));if("object"===
typeof h||"function"===typeof h)g?e[f]=d.extend(e[f],h):e[f].data=d.extend(e[f].data,h);b=e[f];g||(b.data||(b.data={}),b=b.data);a!==c&&(b[d.camelCase(h)]=a);m?(a=b[h],null==a&&(a=b[d.camelCase(h)])):a=b;return a}}}function q(b,h,a){if(d.acceptData(b)){var g,c,m,D=b.nodeType,e=D?d.cache:b,f=D?b[d.expando]:d.expando;if(e[f]){if(h&&(m=a?e[f]:e[f].data)){d.isArray(h)?h=h.concat(d.map(h,d.camelCase)):h in m?h=[h]:(h=d.camelCase(h),h=h in m?[h]:h.split(" "));g=0;for(c=h.length;g<c;g++)delete m[h[g]];if(!(a?
n:d.isEmptyObject)(m))return}if(!a&&(delete e[f].data,!n(e[f])))return;D?d.cleanData([b],!0):d.support.deleteExpando||e!=e.window?delete e[f]:e[f]=null}}}function p(b,h,a){if(a===c&&1===b.nodeType)if(a="data-"+h.replace(xb,"-$1").toLowerCase(),a=b.getAttribute(a),"string"===typeof a){try{a="true"===a?!0:"false"===a?!1:"null"===a?null:+a+""===a?+a:yb.test(a)?d.parseJSON(a):a}catch(g){}d.data(b,h,a)}else a=c;return a}function n(b){for(var h in b)if(("data"!==h||!d.isEmptyObject(b[h]))&&"toJSON"!==h)return!1;
return!0}function v(){return!0}function x(){return!1}function A(b,h){do b=b[h];while(b&&1!==b.nodeType);return b}function J(b,h,a){h=h||0;if(d.isFunction(h))return d.grep(b,function(b,d){return!!h.call(b,d,b)===a});if(h.nodeType)return d.grep(b,function(b){return b===h===a});if("string"===typeof h){var g=d.grep(b,function(b){return 1===b.nodeType});if(zb.test(h))return d.filter(h,g,!a);h=d.filter(h,g)}return d.grep(b,function(b){return 0<=d.inArray(b,h)===a})}function F(b){var h=$a.split("|");b=b.createDocumentFragment();
if(b.createElement)for(;h.length;)b.createElement(h.pop());return b}function C(b,h){return b.getElementsByTagName(h)[0]||b.appendChild(b.ownerDocument.createElement(h))}function G(b){var h=b.getAttributeNode("type");b.type=(h&&h.specified)+"/"+b.type;return b}function y(b){var h=Ab.exec(b.type);h?b.type=h[1]:b.removeAttribute("type");return b}function t(b,h){for(var a,g=0;null!=(a=b[g]);g++)d._data(a,"globalEval",!h||d._data(h[g],"globalEval"))}function B(b,h){if(1===h.nodeType&&d.hasData(b)){var a,
g,c;g=d._data(b);var m=d._data(h,g),D=g.events;if(D)for(a in delete m.handle,m.events={},D)for(g=0,c=D[a].length;g<c;g++)d.event.add(h,a,D[a][g]);m.data&&(m.data=d.extend({},m.data))}}function u(b,h){var a,g,r=0,m=typeof b.getElementsByTagName!==k?b.getElementsByTagName(h||"*"):typeof b.querySelectorAll!==k?b.querySelectorAll(h||"*"):c;if(!m)for(m=[],a=b.childNodes||b;null!=(g=a[r]);r++)!h||d.nodeName(g,h)?m.push(g):d.merge(m,u(g,h));return h===c||h&&d.nodeName(b,h)?d.merge([b],m):m}function K(b){Ma.test(b.type)&&
(b.defaultChecked=b.checked)}function S(b,h){if(h in b)return h;for(var a=h.charAt(0).toUpperCase()+h.slice(1),d=h,c=ab.length;c--;)if(h=ab[c]+a,h in b)return h;return d}function N(b,h){b=h||b;return"none"===d.css(b,"display")||!d.contains(b.ownerDocument,b)}function O(b,h){for(var a,g,c,m=[],D=0,e=b.length;D<e;D++)g=b[D],g.style&&(m[D]=d._data(g,"olddisplay"),a=g.style.display,h?(m[D]||"none"!==a||(g.style.display=""),""===g.style.display&&N(g)&&(m[D]=d._data(g,"olddisplay",P(g.nodeName)))):m[D]||
(c=N(g),(a&&"none"!==a||!c)&&d._data(g,"olddisplay",c?a:d.css(g,"display"))));for(D=0;D<e;D++)g=b[D],!g.style||h&&"none"!==g.style.display&&""!==g.style.display||(g.style.display=h?m[D]||"":"none");return b}function H(b,h,a){return(b=Bb.exec(h))?Math.max(0,b[1]-(a||0))+(b[2]||"px"):h}function w(b,h,a,g,c){h=a===(g?"border":"content")?4:"width"===h?1:0;for(var m=0;4>h;h+=2)"margin"===a&&(m+=d.css(b,a+ha[h],!0,c)),g?("content"===a&&(m-=d.css(b,"padding"+ha[h],!0,c)),"margin"!==a&&(m-=d.css(b,"border"+
ha[h]+"Width",!0,c))):(m+=d.css(b,"padding"+ha[h],!0,c),"padding"!==a&&(m+=d.css(b,"border"+ha[h]+"Width",!0,c)));return m}function L(b,h,a){var g=!0,c="width"===h?b.offsetWidth:b.offsetHeight,m=ia(b),D=d.support.boxSizing&&"border-box"===d.css(b,"boxSizing",!1,m);if(0>=c||null==c){c=na(b,h,m);if(0>c||null==c)c=b.style[h];if(Ea.test(c))return c;g=D&&(d.support.boxSizingReliable||c===b.style[h]);c=parseFloat(c)||0}return c+w(b,h,a||(D?"border":"content"),g,m)+"px"}function P(b){var h=E,a=bb[b];a||
(a=$(b,h),"none"!==a&&a||(Aa=(Aa||d("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(h.documentElement),h=(Aa[0].contentWindow||Aa[0].contentDocument).document,h.write("<!doctype html><html><body>"),h.close(),a=$(b,h),Aa.detach()),bb[b]=a);return a}function $(b,h){var a=d(h.createElement(b)).appendTo(h.body),g=d.css(a[0],"display");a.remove();return g}function V(b,h,a,g){var c;if(d.isArray(h))d.each(h,function(h,d){a||Cb.test(b)?g(b,d):V(b+"["+
("object"===typeof d?h:"")+"]",d,a,g)});else if(a||"object"!==d.type(h))g(b,h);else for(c in h)V(b+"["+c+"]",h[c],a,g)}function M(b){return function(h,a){"string"!==typeof h&&(a=h,h="*");var c,r=0,m=h.toLowerCase().match(aa)||[];if(d.isFunction(a))for(;c=m[r++];)"+"===c[0]?(c=c.slice(1)||"*",(b[c]=b[c]||[]).unshift(a)):(b[c]=b[c]||[]).push(a)}}function W(b,h,a,c){function r(e){var f;m[e]=!0;d.each(b[e]||[],function(b,d){var e=d(h,a,c);if("string"===typeof e&&!D&&!m[e])return h.dataTypes.unshift(e),
r(e),!1;if(D)return!(f=e)});return f}var m={},D=b===Na;return r(h.dataTypes[0])||!m["*"]&&r("*")}function ea(b,h){var a,g,r=d.ajaxSettings.flatOptions||{};for(g in h)h[g]!==c&&((r[g]?b:a||(a={}))[g]=h[g]);a&&d.extend(!0,b,a);return b}function ga(){try{return new a.XMLHttpRequest}catch(b){}}function fa(){setTimeout(function(){wa=c});return wa=d.now()}function ba(b,h){d.each(h,function(h,a){for(var d=(Ba[h]||[]).concat(Ba["*"]),c=0,D=d.length;c<D&&!d[c].call(b,h,a);c++);})}function Fa(b,h,a){var c,
r=0,m=Ga.length,D=d.Deferred().always(function(){delete e.elem}),e=function(){if(c)return!1;for(var h=wa||fa(),h=Math.max(0,f.startTime+f.duration-h),a=1-(h/f.duration||0),d=0,s=f.tweens.length;d<s;d++)f.tweens[d].run(a);D.notifyWith(b,[f,a,h]);if(1>a&&s)return h;D.resolveWith(b,[f]);return!1},f=D.promise({elem:b,props:d.extend({},h),opts:d.extend(!0,{specialEasing:{}},a),originalProperties:h,originalOptions:a,startTime:wa||fa(),duration:a.duration,tweens:[],createTween:function(h,a){var s=d.Tween(b,
f.opts,h,a,f.opts.specialEasing[h]||f.opts.easing);f.tweens.push(s);return s},stop:function(h){var a=0,d=h?f.tweens.length:0;if(c)return this;for(c=!0;a<d;a++)f.tweens[a].run(1);h?D.resolveWith(b,[f,h]):D.rejectWith(b,[f,h]);return this}});a=f.props;for(Ha(a,f.opts.specialEasing);r<m;r++)if(h=Ga[r].call(f,b,a,f.opts))return h;ba(f,a);d.isFunction(f.opts.start)&&f.opts.start.call(b,f);d.fx.timer(d.extend(e,{elem:b,anim:f,queue:f.opts.queue}));return f.progress(f.opts.progress).done(f.opts.done,f.opts.complete).fail(f.opts.fail).always(f.opts.always)}
function Ha(b,h){var a,c,r,m,D;for(r in b)if(c=d.camelCase(r),m=h[c],a=b[r],d.isArray(a)&&(m=a[1],a=b[r]=a[0]),r!==c&&(b[c]=a,delete b[r]),(D=d.cssHooks[c])&&"expand"in D)for(r in a=D.expand(a),delete b[c],a)r in b||(b[r]=a[r],h[r]=m);else h[c]=m}function T(b,h,a,d,c){return new T.prototype.init(b,h,a,d,c)}function ja(b,h){var a,d={height:b},c=0;for(h=h?1:0;4>c;c+=2-h)a=ha[c],d["margin"+a]=d["padding"+a]=b;h&&(d.opacity=d.width=b);return d}function oa(b){return d.isWindow(b)?b:9===b.nodeType?b.defaultView||
b.parentWindow:!1}var ka,pa,k=typeof c,E=a.document,Ia=a.location,Ja=a.jQuery,Ka=a.$,qa={},z=[],Q=z.concat,ca=z.push,I=z.slice,U=z.indexOf,Z=qa.toString,X=qa.hasOwnProperty,ta="1.9.1".trim,d=function(b,h){return new d.fn.init(b,h,pa)},R=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,aa=/\S+/g,Ca=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,Db=/^(?:(<[\w\W]+>)[^>]*|#([\w-]*))$/,cb=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,xa=/^[\],:{}\s]*$/,Eb=/(?:^|:|,)(?:\s*\[)+/g,Fb=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,Gb=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,
Hb=/^-ms-/,Ib=/-([\da-z])/gi,Jb=function(b,h){return h.toUpperCase()},la=function(b){if(E.addEventListener||"load"===b.type||"complete"===E.readyState)db(),d.ready()},db=function(){E.addEventListener?(E.removeEventListener("DOMContentLoaded",la,!1),a.removeEventListener("load",la,!1)):(E.detachEvent("onreadystatechange",la),a.detachEvent("onload",la))};d.fn=d.prototype={jquery:"1.9.1",constructor:d,init:function(b,h,a){var g;if(!b)return this;if("string"===typeof b){g="<"===b.charAt(0)&&">"===b.charAt(b.length-
1)&&3<=b.length?[null,b,null]:Db.exec(b);if(!g||!g[1]&&h)return!h||h.jquery?(h||a).find(b):this.constructor(h).find(b);if(g[1]){if(h=h instanceof d?h[0]:h,d.merge(this,d.parseHTML(g[1],h&&h.nodeType?h.ownerDocument||h:E,!0)),cb.test(g[1])&&d.isPlainObject(h))for(g in h)if(d.isFunction(this[g]))this[g](h[g]);else this.attr(g,h[g])}else{if((h=E.getElementById(g[2]))&&h.parentNode){if(h.id!==g[2])return a.find(b);this.length=1;this[0]=h}this.context=E;this.selector=b}return this}if(b.nodeType)return this.context=
this[0]=b,this.length=1,this;if(d.isFunction(b))return a.ready(b);b.selector!==c&&(this.selector=b.selector,this.context=b.context);return d.makeArray(b,this)},selector:"",length:0,size:function(){return this.length},toArray:function(){return I.call(this)},get:function(b){return null==b?this.toArray():0>b?this[this.length+b]:this[b]},pushStack:function(b){b=d.merge(this.constructor(),b);b.prevObject=this;b.context=this.context;return b},each:function(b,h){return d.each(this,b,h)},ready:function(b){d.ready.promise().done(b);
return this},slice:function(){return this.pushStack(I.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(b){var h=this.length;b=+b+(0>b?h:0);return this.pushStack(0<=b&&b<h?[this[b]]:[])},map:function(b){return this.pushStack(d.map(this,function(h,a){return b.call(h,a,h)}))},end:function(){return this.prevObject||this.constructor(null)},push:ca,sort:[].sort,splice:[].splice};d.fn.init.prototype=d.fn;d.extend=d.fn.extend=function(){var b,h,a,
g,r,m=arguments[0]||{},D=1,e=arguments.length,f=!1;"boolean"===typeof m&&(f=m,m=arguments[1]||{},D=2);"object"===typeof m||d.isFunction(m)||(m={});e===D&&(m=this,--D);for(;D<e;D++)if(null!=(r=arguments[D]))for(g in r)b=m[g],a=r[g],m!==a&&(f&&a&&(d.isPlainObject(a)||(h=d.isArray(a)))?(h?(h=!1,b=b&&d.isArray(b)?b:[]):b=b&&d.isPlainObject(b)?b:{},m[g]=d.extend(f,b,a)):a!==c&&(m[g]=a));return m};d.extend({noConflict:function(b){a.$===d&&(a.$=Ka);b&&a.jQuery===d&&(a.jQuery=Ja);return d},isReady:!1,readyWait:1,
holdReady:function(b){b?d.readyWait++:d.ready(!0)},ready:function(b){if(!0===b?!--d.readyWait:!d.isReady){if(!E.body)return setTimeout(d.ready);d.isReady=!0;!0!==b&&0<--d.readyWait||(ka.resolveWith(E,[d]),d.fn.trigger&&d(E).trigger("ready").off("ready"))}},isFunction:function(b){return"function"===d.type(b)},isArray:Array.isArray||function(b){return"array"===d.type(b)},isWindow:function(b){return null!=b&&b==b.window},isNumeric:function(b){return!isNaN(parseFloat(b))&&isFinite(b)},type:function(b){return null==
b?String(b):"object"===typeof b||"function"===typeof b?qa[Z.call(b)]||"object":typeof b},isPlainObject:function(b){if(!b||"object"!==d.type(b)||b.nodeType||d.isWindow(b))return!1;try{if(b.constructor&&!X.call(b,"constructor")&&!X.call(b.constructor.prototype,"isPrototypeOf"))return!1}catch(h){return!1}for(var a in b);return a===c||X.call(b,a)},isEmptyObject:function(b){for(var h in b)return!1;return!0},error:function(b){throw Error(b);},parseHTML:function(b,h,a){if(!b||"string"!==typeof b)return null;
"boolean"===typeof h&&(a=h,h=!1);h=h||E;var c=cb.exec(b);a=!a&&[];if(c)return[h.createElement(c[1])];c=d.buildFragment([b],h,a);a&&d(a).remove();return d.merge([],c.childNodes)},parseJSON:function(b){if(a.JSON&&a.JSON.parse)return a.JSON.parse(b);if(null===b)return b;if("string"===typeof b&&(b=d.trim(b))&&xa.test(b.replace(Fb,"@").replace(Gb,"]").replace(Eb,"")))return(new Function("return "+b))();d.error("Invalid JSON: "+b)},parseXML:function(b){var h,s;if(!b||"string"!==typeof b)return null;try{a.DOMParser?
(s=new DOMParser,h=s.parseFromString(b,"text/xml")):(h=new ActiveXObject("Microsoft.XMLDOM"),h.async="false",h.loadXML(b))}catch(g){h=c}h&&h.documentElement&&!h.getElementsByTagName("parsererror").length||d.error("Invalid XML: "+b);return h},noop:function(){},globalEval:function(b){b&&d.trim(b)&&(a.execScript||function(b){a.eval.call(a,b)})(b)},camelCase:function(b){return b.replace(Hb,"ms-").replace(Ib,Jb)},nodeName:function(b,h){return b.nodeName&&b.nodeName.toLowerCase()===h.toLowerCase()},each:function(b,
h,a){var d,c=0,m=b.length;d=e(b);if(a)if(d)for(;c<m&&(d=h.apply(b[c],a),!1!==d);c++);else for(c in b){if(d=h.apply(b[c],a),!1===d)break}else if(d)for(;c<m&&(d=h.call(b[c],c,b[c]),!1!==d);c++);else for(c in b)if(d=h.call(b[c],c,b[c]),!1===d)break;return b},trim:ta&&!ta.call("\ufeff\u00a0")?function(b){return null==b?"":ta.call(b)}:function(b){return null==b?"":(b+"").replace(Ca,"")},makeArray:function(b,h){var a=h||[];null!=b&&(e(Object(b))?d.merge(a,"string"===typeof b?[b]:b):ca.call(a,b));return a},
inArray:function(b,a,d){var c;if(a){if(U)return U.call(a,b,d);c=a.length;for(d=d?0>d?Math.max(0,c+d):d:0;d<c;d++)if(d in a&&a[d]===b)return d}return-1},merge:function(b,a){var d=a.length,g=b.length,r=0;if("number"===typeof d)for(;r<d;r++)b[g++]=a[r];else for(;a[r]!==c;)b[g++]=a[r++];b.length=g;return b},grep:function(b,a,d){var c,r=[],m=0,D=b.length;for(d=!!d;m<D;m++)c=!!a(b[m],m),d!==c&&r.push(b[m]);return r},map:function(b,a,d){var c,r=0,m=b.length,D=[];if(e(b))for(;r<m;r++)c=a(b[r],r,d),null!=
c&&(D[D.length]=c);else for(r in b)c=a(b[r],r,d),null!=c&&(D[D.length]=c);return Q.apply([],D)},guid:1,proxy:function(b,a){var s,g;"string"===typeof a&&(g=b[a],a=b,b=g);if(!d.isFunction(b))return c;s=I.call(arguments,2);g=function(){return b.apply(a||this,s.concat(I.call(arguments)))};g.guid=b.guid=b.guid||d.guid++;return g},access:function(b,a,s,g,r,m,D){var e=0,f=b.length,k=null==s;if("object"===d.type(s))for(e in r=!0,s)d.access(b,a,e,s[e],!0,m,D);else if(g!==c&&(r=!0,d.isFunction(g)||(D=!0),k&&
(D?(a.call(b,g),a=null):(k=a,a=function(b,a,h){return k.call(d(b),h)})),a))for(;e<f;e++)a(b[e],s,D?g:g.call(b[e],e,a(b[e],s)));return r?b:k?a.call(b):f?a(b[0],s):m},now:function(){return(new Date).getTime()}});d.ready.promise=function(b){if(!ka)if(ka=d.Deferred(),"complete"===E.readyState)setTimeout(d.ready);else if(E.addEventListener)E.addEventListener("DOMContentLoaded",la,!1),a.addEventListener("load",la,!1);else{E.attachEvent("onreadystatechange",la);a.attachEvent("onload",la);var h=!1;try{h=
null==a.frameElement&&E.documentElement}catch(c){}h&&h.doScroll&&function r(){if(!d.isReady){try{h.doScroll("left")}catch(b){return setTimeout(r,50)}db();d.ready()}}()}return ka.promise(b)};d.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(b,a){qa["[object "+a+"]"]=a.toLowerCase()});pa=d(E);var Za={};d.Callbacks=function(b){b="string"===typeof b?Za[b]||f(b):d.extend({},b);var a,s,g,r,m,e,Y=[],k=!b.once&&[],l=function(d){s=b.memory&&d;g=!0;m=e||0;e=0;r=Y.length;
for(a=!0;Y&&m<r;m++)if(!1===Y[m].apply(d[0],d[1])&&b.stopOnFalse){s=!1;break}a=!1;Y&&(k?k.length&&l(k.shift()):s?Y=[]:z.disable())},z={add:function(){if(Y){var c=Y.length;(function Kb(a){d.each(a,function(a,h){var c=d.type(h);"function"===c?b.unique&&z.has(h)||Y.push(h):h&&h.length&&"string"!==c&&Kb(h)})})(arguments);a?r=Y.length:s&&(e=c,l(s))}return this},remove:function(){Y&&d.each(arguments,function(b,c){for(var s;-1<(s=d.inArray(c,Y,s));)Y.splice(s,1),a&&(s<=r&&r--,s<=m&&m--)});return this},has:function(b){return b?
-1<d.inArray(b,Y):!(!Y||!Y.length)},empty:function(){Y=[];return this},disable:function(){Y=k=s=c;return this},disabled:function(){return!Y},lock:function(){k=c;s||z.disable();return this},locked:function(){return!k},fireWith:function(b,d){d=d||[];d=[b,d.slice?d.slice():d];!Y||g&&!k||(a?k.push(d):l(d));return this},fire:function(){z.fireWith(this,arguments);return this},fired:function(){return!!g}};return z};d.extend({Deferred:function(b){var a=[["resolve","done",d.Callbacks("once memory"),"resolved"],
["reject","fail",d.Callbacks("once memory"),"rejected"],["notify","progress",d.Callbacks("memory")]],c="pending",g={state:function(){return c},always:function(){r.done(arguments).fail(arguments);return this},then:function(){var b=arguments;return d.Deferred(function(c){d.each(a,function(a,h){var s=h[0],e=d.isFunction(b[a])&&b[a];r[h[1]](function(){var b=e&&e.apply(this,arguments);if(b&&d.isFunction(b.promise))b.promise().done(c.resolve).fail(c.reject).progress(c.notify);else c[s+"With"](this===g?
c.promise():this,e?[b]:arguments)})});b=null}).promise()},promise:function(b){return null!=b?d.extend(b,g):g}},r={};g.pipe=g.then;d.each(a,function(b,d){var e=d[2],f=d[3];g[d[1]]=e.add;f&&e.add(function(){c=f},a[b^1][2].disable,a[2][2].lock);r[d[0]]=function(){r[d[0]+"With"](this===r?g:this,arguments);return this};r[d[0]+"With"]=e.fireWith});g.promise(r);b&&b.call(r,r);return r},when:function(b){var a=0,c=I.call(arguments),g=c.length,r=1!==g||b&&d.isFunction(b.promise)?g:0,m=1===r?b:d.Deferred(),
e=function(b,a,h){return function(d){a[b]=this;h[b]=1<arguments.length?I.call(arguments):d;h===f?m.notifyWith(a,h):--r||m.resolveWith(a,h)}},f,k,l;if(1<g)for(f=Array(g),k=Array(g),l=Array(g);a<g;a++)c[a]&&d.isFunction(c[a].promise)?c[a].promise().done(e(a,l,c)).fail(m.reject).progress(e(a,k,f)):--r;r||m.resolveWith(l,c);return m.promise()}});d.support=function(){var b,h,c,g,r,m,e,f=E.createElement("div");f.setAttribute("className","t");f.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>";
h=f.getElementsByTagName("*");c=f.getElementsByTagName("a")[0];if(!h||!c||!h.length)return{};g=E.createElement("select");r=g.appendChild(E.createElement("option"));h=f.getElementsByTagName("input")[0];c.style.cssText="top:1px;float:left;opacity:.5";b={getSetAttribute:"t"!==f.className,leadingWhitespace:3===f.firstChild.nodeType,tbody:!f.getElementsByTagName("tbody").length,htmlSerialize:!!f.getElementsByTagName("link").length,style:/top/.test(c.getAttribute("style")),hrefNormalized:"/a"===c.getAttribute("href"),
opacity:/^0.5/.test(c.style.opacity),cssFloat:!!c.style.cssFloat,checkOn:!!h.value,optSelected:r.selected,enctype:!!E.createElement("form").enctype,html5Clone:"<:nav></:nav>"!==E.createElement("nav").cloneNode(!0).outerHTML,boxModel:"CSS1Compat"===E.compatMode,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,boxSizingReliable:!0,pixelPosition:!1};h.checked=!0;b.noCloneChecked=h.cloneNode(!0).checked;g.disabled=!0;b.optDisabled=!r.disabled;try{delete f.test}catch(l){b.deleteExpando=
!1}h=E.createElement("input");h.setAttribute("value","");b.input=""===h.getAttribute("value");h.value="t";h.setAttribute("type","radio");b.radioValue="t"===h.value;h.setAttribute("checked","t");h.setAttribute("name","t");c=E.createDocumentFragment();c.appendChild(h);b.appendChecked=h.checked;b.checkClone=c.cloneNode(!0).cloneNode(!0).lastChild.checked;f.attachEvent&&(f.attachEvent("onclick",function(){b.noCloneEvent=!1}),f.cloneNode(!0).click());for(e in{submit:!0,change:!0,focusin:!0})f.setAttribute(c=
"on"+e,"t"),b[e+"Bubbles"]=c in a||!1===f.attributes[c].expando;f.style.backgroundClip="content-box";f.cloneNode(!0).style.backgroundClip="";b.clearCloneStyle="content-box"===f.style.backgroundClip;d(function(){var h,d,c=E.getElementsByTagName("body")[0];c&&(h=E.createElement("div"),h.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",c.appendChild(h).appendChild(f),f.innerHTML="<table><tr><td></td><td>t</td></tr></table>",d=f.getElementsByTagName("td"),
d[0].style.cssText="padding:0;margin:0;border:0;display:none",m=0===d[0].offsetHeight,d[0].style.display="",d[1].style.display="none",b.reliableHiddenOffsets=m&&0===d[0].offsetHeight,f.innerHTML="",f.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",b.boxSizing=4===f.offsetWidth,b.doesNotIncludeMarginInBodyOffset=1!==c.offsetTop,a.getComputedStyle&&(b.pixelPosition="1%"!==
(a.getComputedStyle(f,null)||{}).top,b.boxSizingReliable="4px"===(a.getComputedStyle(f,null)||{width:"4px"}).width,d=f.appendChild(E.createElement("div")),d.style.cssText=f.style.cssText="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",d.style.marginRight=d.style.width="0",f.style.width="1px",b.reliableMarginRight=!parseFloat((a.getComputedStyle(d,null)||{}).marginRight)),typeof f.style.zoom!==k&&(f.innerHTML="",f.style.cssText=
"padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;width:1px;padding:1px;display:inline;zoom:1",b.inlineBlockNeedsLayout=3===f.offsetWidth,f.style.display="block",f.innerHTML="<div></div>",f.firstChild.style.width="5px",b.shrinkWrapBlocks=3!==f.offsetWidth,b.inlineBlockNeedsLayout&&(c.style.zoom=1)),c.removeChild(h),f=null)});h=g=c=r=c=h=null;return b}();var yb=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,xb=/([A-Z])/g;d.extend({cache:{},
expando:"jQuery"+("1.9.1"+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(b){b=b.nodeType?d.cache[b[d.expando]]:b[d.expando];return!!b&&!n(b)},data:function(b,a,d){return l(b,a,d)},removeData:function(b,a){return q(b,a)},_data:function(b,a,d){return l(b,a,d,!0)},_removeData:function(b,a){return q(b,a,!0)},acceptData:function(b){if(b.nodeType&&1!==b.nodeType&&9!==b.nodeType)return!1;var a=b.nodeName&&d.noData[b.nodeName.toLowerCase()];
return!a||!0!==a&&b.getAttribute("classid")===a}});d.fn.extend({data:function(b,a){var s,g,r=this[0],m=0,e=null;if(b===c){if(this.length&&(e=d.data(r),1===r.nodeType&&!d._data(r,"parsedAttrs"))){for(s=r.attributes;m<s.length;m++)g=s[m].name,g.indexOf("data-")||(g=d.camelCase(g.slice(5)),p(r,g,e[g]));d._data(r,"parsedAttrs",!0)}return e}return"object"===typeof b?this.each(function(){d.data(this,b)}):d.access(this,function(a){if(a===c)return r?p(r,b,d.data(r,b)):null;this.each(function(){d.data(this,
b,a)})},null,a,1<arguments.length,null,!0)},removeData:function(b){return this.each(function(){d.removeData(this,b)})}});d.extend({queue:function(b,a,c){var g;if(b)return a=(a||"fx")+"queue",g=d._data(b,a),c&&(!g||d.isArray(c)?g=d._data(b,a,d.makeArray(c)):g.push(c)),g||[]},dequeue:function(b,a){a=a||"fx";var c=d.queue(b,a),g=c.length,r=c.shift(),m=d._queueHooks(b,a),e=function(){d.dequeue(b,a)};"inprogress"===r&&(r=c.shift(),g--);if(m.cur=r)"fx"===a&&c.unshift("inprogress"),delete m.stop,r.call(b,
e,m);!g&&m&&m.empty.fire()},_queueHooks:function(b,a){var c=a+"queueHooks";return d._data(b,c)||d._data(b,c,{empty:d.Callbacks("once memory").add(function(){d._removeData(b,a+"queue");d._removeData(b,c)})})}});d.fn.extend({queue:function(b,a){var s=2;"string"!==typeof b&&(a=b,b="fx",s--);return arguments.length<s?d.queue(this[0],b):a===c?this:this.each(function(){var c=d.queue(this,b,a);d._queueHooks(this,b);"fx"===b&&"inprogress"!==c[0]&&d.dequeue(this,b)})},dequeue:function(b){return this.each(function(){d.dequeue(this,
b)})},delay:function(b,a){b=d.fx?d.fx.speeds[b]||b:b;return this.queue(a||"fx",function(a,d){var h=setTimeout(a,b);d.stop=function(){clearTimeout(h)}})},clearQueue:function(b){return this.queue(b||"fx",[])},promise:function(b,a){var s,g=1,r=d.Deferred(),m=this,e=this.length,f=function(){--g||r.resolveWith(m,[m])};"string"!==typeof b&&(a=b,b=c);for(b=b||"fx";e--;)(s=d._data(m[e],b+"queueHooks"))&&s.empty&&(g++,s.empty.add(f));f();return r.promise(a)}});var ya,eb,Oa=/[\t\r\n]/g,Lb=/\r/g,Mb=/^(?:input|select|textarea|button|object)$/i,
Nb=/^(?:a|area)$/i,fb=/^(?:checked|selected|autofocus|autoplay|async|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped)$/i,Pa=/^(?:checked|selected)$/i,ra=d.support.getSetAttribute,Qa=d.support.input;d.fn.extend({attr:function(b,a){return d.access(this,d.attr,b,a,1<arguments.length)},removeAttr:function(b){return this.each(function(){d.removeAttr(this,b)})},prop:function(b,a){return d.access(this,d.prop,b,a,1<arguments.length)},removeProp:function(b){b=d.propFix[b]||b;return this.each(function(){try{this[b]=
c,delete this[b]}catch(a){}})},addClass:function(b){var a,c,g,r,m,e=0,f=this.length;a="string"===typeof b&&b;if(d.isFunction(b))return this.each(function(a){d(this).addClass(b.call(this,a,this.className))});if(a)for(a=(b||"").match(aa)||[];e<f;e++)if(c=this[e],g=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(Oa," "):" ")){for(m=0;r=a[m++];)0>g.indexOf(" "+r+" ")&&(g+=r+" ");c.className=d.trim(g)}return this},removeClass:function(b){var a,c,g,r,m,e=0,f=this.length;a=0===arguments.length||
"string"===typeof b&&b;if(d.isFunction(b))return this.each(function(a){d(this).removeClass(b.call(this,a,this.className))});if(a)for(a=(b||"").match(aa)||[];e<f;e++)if(c=this[e],g=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(Oa," "):"")){for(m=0;r=a[m++];)for(;0<=g.indexOf(" "+r+" ");)g=g.replace(" "+r+" "," ");c.className=b?d.trim(g):""}return this},toggleClass:function(b,a){var c=typeof b,g="boolean"===typeof a;return d.isFunction(b)?this.each(function(c){d(this).toggleClass(b.call(this,
c,this.className,a),a)}):this.each(function(){if("string"===c)for(var r,m=0,e=d(this),f=a,l=b.match(aa)||[];r=l[m++];)f=g?f:!e.hasClass(r),e[f?"addClass":"removeClass"](r);else if(c===k||"boolean"===c)this.className&&d._data(this,"__className__",this.className),this.className=this.className||!1===b?"":d._data(this,"__className__")||""})},hasClass:function(b){b=" "+b+" ";for(var a=0,d=this.length;a<d;a++)if(1===this[a].nodeType&&0<=(" "+this[a].className+" ").replace(Oa," ").indexOf(b))return!0;return!1},
val:function(b){var a,s,g,r=this[0];if(arguments.length)return g=d.isFunction(b),this.each(function(a){var h=d(this);1===this.nodeType&&(a=g?b.call(this,a,h.val()):b,null==a?a="":"number"===typeof a?a+="":d.isArray(a)&&(a=d.map(a,function(b){return null==b?"":b+""})),s=d.valHooks[this.type]||d.valHooks[this.nodeName.toLowerCase()],s&&"set"in s&&s.set(this,a,"value")!==c||(this.value=a))});if(r){if((s=d.valHooks[r.type]||d.valHooks[r.nodeName.toLowerCase()])&&"get"in s&&(a=s.get(r,"value"))!==c)return a;
a=r.value;return"string"===typeof a?a.replace(Lb,""):null==a?"":a}}});d.extend({valHooks:{option:{get:function(b){var a=b.attributes.value;return!a||a.specified?b.value:b.text}},select:{get:function(b){for(var a,c=b.options,g=b.selectedIndex,r=(b="select-one"===b.type||0>g)?null:[],m=b?g+1:c.length,e=0>g?m:b?g:0;e<m;e++)if(a=c[e],!(!a.selected&&e!==g||(d.support.optDisabled?a.disabled:null!==a.getAttribute("disabled"))||a.parentNode.disabled&&d.nodeName(a.parentNode,"optgroup"))){a=d(a).val();if(b)return a;
r.push(a)}return r},set:function(b,a){var c=d.makeArray(a);d(b).find("option").each(function(){this.selected=0<=d.inArray(d(this).val(),c)});c.length||(b.selectedIndex=-1);return c}}},attr:function(b,a,s){var g,r,m;r=b.nodeType;if(b&&3!==r&&8!==r&&2!==r){if(typeof b.getAttribute===k)return d.prop(b,a,s);if(r=1!==r||!d.isXMLDoc(b))a=a.toLowerCase(),g=d.attrHooks[a]||(fb.test(a)?eb:ya);if(s!==c)if(null===s)d.removeAttr(b,a);else{if(g&&r&&"set"in g&&(m=g.set(b,s,a))!==c)return m;b.setAttribute(a,s+"");
return s}else{if(g&&r&&"get"in g&&null!==(m=g.get(b,a)))return m;typeof b.getAttribute!==k&&(m=b.getAttribute(a));return null==m?c:m}}},removeAttr:function(b,a){var c,g,r=0,m=a&&a.match(aa);if(m&&1===b.nodeType)for(;c=m[r++];)g=d.propFix[c]||c,fb.test(c)?!ra&&Pa.test(c)?b[d.camelCase("default-"+c)]=b[g]=!1:b[g]=!1:d.attr(b,c,""),b.removeAttribute(ra?c:g)},attrHooks:{type:{set:function(b,a){if(!d.support.radioValue&&"radio"===a&&d.nodeName(b,"input")){var c=b.value;b.setAttribute("type",a);c&&(b.value=
c);return a}}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(b,a,s){var g,r,m;m=b.nodeType;if(b&&3!==m&&8!==m&&2!==m){if(m=1!==m||!d.isXMLDoc(b))a=d.propFix[a]||a,r=d.propHooks[a];return s!==c?r&&"set"in r&&(g=r.set(b,s,a))!==c?g:b[a]=s:r&&"get"in r&&null!==(g=
r.get(b,a))?g:b[a]}},propHooks:{tabIndex:{get:function(b){var a=b.getAttributeNode("tabindex");return a&&a.specified?parseInt(a.value,10):Mb.test(b.nodeName)||Nb.test(b.nodeName)&&b.href?0:c}}}});eb={get:function(b,a){var s=d.prop(b,a),g="boolean"===typeof s&&b.getAttribute(a);return(s="boolean"===typeof s?Qa&&ra?null!=g:Pa.test(a)?b[d.camelCase("default-"+a)]:!!g:b.getAttributeNode(a))&&!1!==s.value?a.toLowerCase():c},set:function(b,a,c){!1===a?d.removeAttr(b,c):Qa&&ra||!Pa.test(c)?b.setAttribute(!ra&&
d.propFix[c]||c,c):b[d.camelCase("default-"+c)]=b[c]=!0;return c}};Qa&&ra||(d.attrHooks.value={get:function(b,a){var s=b.getAttributeNode(a);return d.nodeName(b,"input")?b.defaultValue:s&&s.specified?s.value:c},set:function(b,a,c){if(d.nodeName(b,"input"))b.defaultValue=a;else return ya&&ya.set(b,a,c)}});ra||(ya=d.valHooks.button={get:function(b,a){var d=b.getAttributeNode(a);return d&&("id"===a||"name"===a||"coords"===a?""!==d.value:d.specified)?d.value:c},set:function(b,a,d){var g=b.getAttributeNode(d);
g||b.setAttributeNode(g=b.ownerDocument.createAttribute(d));g.value=a+="";return"value"===d||a===b.getAttribute(d)?a:c}},d.attrHooks.contenteditable={get:ya.get,set:function(b,a,d){ya.set(b,""===a?!1:a,d)}},d.each(["width","height"],function(b,a){d.attrHooks[a]=d.extend(d.attrHooks[a],{set:function(b,d){if(""===d)return b.setAttribute(a,"auto"),d}})}));d.support.hrefNormalized||(d.each(["href","src","width","height"],function(b,a){d.attrHooks[a]=d.extend(d.attrHooks[a],{get:function(b){b=b.getAttribute(a,
2);return null==b?c:b}})}),d.each(["href","src"],function(b,a){d.propHooks[a]={get:function(b){return b.getAttribute(a,4)}}}));d.support.style||(d.attrHooks.style={get:function(b){return b.style.cssText||c},set:function(b,a){return b.style.cssText=a+""}});d.support.optSelected||(d.propHooks.selected=d.extend(d.propHooks.selected,{get:function(b){if(b=b.parentNode)b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex;return null}}));d.support.enctype||(d.propFix.enctype="encoding");d.support.checkOn||
d.each(["radio","checkbox"],function(){d.valHooks[this]={get:function(b){return null===b.getAttribute("value")?"on":b.value}}});d.each(["radio","checkbox"],function(){d.valHooks[this]=d.extend(d.valHooks[this],{set:function(b,a){if(d.isArray(a))return b.checked=0<=d.inArray(d(b).val(),a)}})});var Ra=/^(?:input|select|textarea)$/i,Ob=/^key/,Pb=/^(?:mouse|contextmenu)|click/,gb=/^(?:focusinfocus|focusoutblur)$/,hb=/^([^.]*)(?:\.(.+)|)$/;d.event={global:{},add:function(b,a,s,g,r){var m,e,f,l,z,p,q,n,
I;if(f=d._data(b)){s.handler&&(l=s,s=l.handler,r=l.selector);s.guid||(s.guid=d.guid++);(e=f.events)||(e=f.events={});(z=f.handle)||(z=f.handle=function(b){return typeof d===k||b&&d.event.triggered===b.type?c:d.event.dispatch.apply(z.elem,arguments)},z.elem=b);a=(a||"").match(aa)||[""];for(f=a.length;f--;)m=hb.exec(a[f])||[],n=p=m[1],I=(m[2]||"").split(".").sort(),m=d.event.special[n]||{},n=(r?m.delegateType:m.bindType)||n,m=d.event.special[n]||{},p=d.extend({type:n,origType:p,data:g,handler:s,guid:s.guid,
selector:r,needsContext:r&&d.expr.match.needsContext.test(r),namespace:I.join(".")},l),(q=e[n])||(q=e[n]=[],q.delegateCount=0,m.setup&&!1!==m.setup.call(b,g,I,z)||(b.addEventListener?b.addEventListener(n,z,!1):b.attachEvent&&b.attachEvent("on"+n,z))),m.add&&(m.add.call(b,p),p.handler.guid||(p.handler.guid=s.guid)),r?q.splice(q.delegateCount++,0,p):q.push(p),d.event.global[n]=!0;b=null}},remove:function(b,a,c,g,r){var m,e,f,k,l,z,p,q,n,I,Q,v=d.hasData(b)&&d._data(b);if(v&&(z=v.events)){a=(a||"").match(aa)||
[""];for(l=a.length;l--;)if(f=hb.exec(a[l])||[],n=Q=f[1],I=(f[2]||"").split(".").sort(),n){p=d.event.special[n]||{};n=(g?p.delegateType:p.bindType)||n;q=z[n]||[];f=f[2]&&new RegExp("(^|\\.)"+I.join("\\.(?:.*\\.|)")+"(\\.|$)");for(k=m=q.length;m--;)e=q[m],!r&&Q!==e.origType||c&&c.guid!==e.guid||f&&!f.test(e.namespace)||g&&g!==e.selector&&("**"!==g||!e.selector)||(q.splice(m,1),e.selector&&q.delegateCount--,p.remove&&p.remove.call(b,e));k&&!q.length&&(p.teardown&&!1!==p.teardown.call(b,I,v.handle)||
d.removeEvent(b,n,v.handle),delete z[n])}else for(n in z)d.event.remove(b,n+a[l],c,g,!0);d.isEmptyObject(z)&&(delete v.handle,d._removeData(b,"events"))}},trigger:function(b,h,s,g){var r,m,e,f,k,l,z=[s||E],p=X.call(b,"type")?b.type:b;k=X.call(b,"namespace")?b.namespace.split("."):[];e=r=s=s||E;if(3!==s.nodeType&&8!==s.nodeType&&!gb.test(p+d.event.triggered)&&(0<=p.indexOf(".")&&(k=p.split("."),p=k.shift(),k.sort()),m=0>p.indexOf(":")&&"on"+p,b=b[d.expando]?b:new d.Event(p,"object"===typeof b&&b),
b.isTrigger=!0,b.namespace=k.join("."),b.namespace_re=b.namespace?new RegExp("(^|\\.)"+k.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=c,b.target||(b.target=s),h=null==h?[b]:d.makeArray(h,[b]),k=d.event.special[p]||{},g||!k.trigger||!1!==k.trigger.apply(s,h))){if(!g&&!k.noBubble&&!d.isWindow(s)){f=k.delegateType||p;gb.test(f+p)||(e=e.parentNode);for(;e;e=e.parentNode)z.push(e),r=e;r===(s.ownerDocument||E)&&z.push(r.defaultView||r.parentWindow||a)}for(l=0;(e=z[l++])&&!b.isPropagationStopped();)b.type=
1<l?f:k.bindType||p,(r=(d._data(e,"events")||{})[b.type]&&d._data(e,"handle"))&&r.apply(e,h),(r=m&&e[m])&&d.acceptData(e)&&r.apply&&!1===r.apply(e,h)&&b.preventDefault();b.type=p;if(!(g||b.isDefaultPrevented()||k._default&&!1!==k._default.apply(s.ownerDocument,h)||"click"===p&&d.nodeName(s,"a"))&&d.acceptData(s)&&m&&s[p]&&!d.isWindow(s)){(r=s[m])&&(s[m]=null);d.event.triggered=p;try{s[p]()}catch(q){}d.event.triggered=c;r&&(s[m]=r)}return b.result}},dispatch:function(b){b=d.event.fix(b);var a,s,g,
r,e=[],f=I.call(arguments);a=(d._data(this,"events")||{})[b.type]||[];var k=d.event.special[b.type]||{};f[0]=b;b.delegateTarget=this;if(!k.preDispatch||!1!==k.preDispatch.call(this,b)){e=d.event.handlers.call(this,b,a);for(a=0;(g=e[a++])&&!b.isPropagationStopped();)for(b.currentTarget=g.elem,r=0;(s=g.handlers[r++])&&!b.isImmediatePropagationStopped();)if(!b.namespace_re||b.namespace_re.test(s.namespace))b.handleObj=s,b.data=s.data,s=((d.event.special[s.origType]||{}).handle||s.handler).apply(g.elem,
f),s!==c&&!1===(b.result=s)&&(b.preventDefault(),b.stopPropagation());k.postDispatch&&k.postDispatch.call(this,b);return b.result}},handlers:function(b,a){var s,g,e,m,f=[],k=a.delegateCount,l=b.target;if(k&&l.nodeType&&(!b.button||"click"!==b.type))for(;l!=this;l=l.parentNode||this)if(1===l.nodeType&&(!0!==l.disabled||"click"!==b.type)){e=[];for(m=0;m<k;m++)g=a[m],s=g.selector+" ",e[s]===c&&(e[s]=g.needsContext?0<=d(s,this).index(l):d.find(s,this,null,[l]).length),e[s]&&e.push(g);e.length&&f.push({elem:l,
handlers:e})}k<a.length&&f.push({elem:this,handlers:a.slice(k)});return f},fix:function(b){if(b[d.expando])return b;var a,c,g;a=b.type;var e=b,m=this.fixHooks[a];m||(this.fixHooks[a]=m=Pb.test(a)?this.mouseHooks:Ob.test(a)?this.keyHooks:{});g=m.props?this.props.concat(m.props):this.props;b=new d.Event(e);for(a=g.length;a--;)c=g[a],b[c]=e[c];b.target||(b.target=e.srcElement||E);3===b.target.nodeType&&(b.target=b.target.parentNode);b.metaKey=!!b.metaKey;return m.filter?m.filter(b,e):b},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),
fixHooks:{},keyHooks:{props:["char","charCode","key","keyCode"],filter:function(b,a){null==b.which&&(b.which=null!=a.charCode?a.charCode:a.keyCode);return b}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(b,a){var d,g,e=a.button,m=a.fromElement;null==b.pageX&&null!=a.clientX&&(d=b.target.ownerDocument||E,g=d.documentElement,d=d.body,b.pageX=a.clientX+(g&&g.scrollLeft||d&&d.scrollLeft||0)-(g&&g.clientLeft||
d&&d.clientLeft||0),b.pageY=a.clientY+(g&&g.scrollTop||d&&d.scrollTop||0)-(g&&g.clientTop||d&&d.clientTop||0));!b.relatedTarget&&m&&(b.relatedTarget=m===b.target?a.toElement:m);b.which||e===c||(b.which=e&1?1:e&2?3:e&4?2:0);return b}},special:{load:{noBubble:!0},click:{trigger:function(){if(d.nodeName(this,"input")&&"checkbox"===this.type&&this.click)return this.click(),!1}},focus:{trigger:function(){if(this!==E.activeElement&&this.focus)try{return this.focus(),!1}catch(b){}},delegateType:"focusin"},
blur:{trigger:function(){if(this===E.activeElement&&this.blur)return this.blur(),!1},delegateType:"focusout"},beforeunload:{postDispatch:function(b){b.result!==c&&(b.originalEvent.returnValue=b.result)}}},simulate:function(b,a,c,g){b=d.extend(new d.Event,c,{type:b,isSimulated:!0,originalEvent:{}});g?d.event.trigger(b,null,a):d.event.dispatch.call(a,b);b.isDefaultPrevented()&&c.preventDefault()}};d.removeEvent=E.removeEventListener?function(b,a,d){b.removeEventListener&&b.removeEventListener(a,d,!1)}:
function(b,a,d){a="on"+a;b.detachEvent&&(typeof b[a]===k&&(b[a]=null),b.detachEvent(a,d))};d.Event=function(b,a){if(!(this instanceof d.Event))return new d.Event(b,a);b&&b.type?(this.originalEvent=b,this.type=b.type,this.isDefaultPrevented=b.defaultPrevented||!1===b.returnValue||b.getPreventDefault&&b.getPreventDefault()?v:x):this.type=b;a&&d.extend(this,a);this.timeStamp=b&&b.timeStamp||d.now();this[d.expando]=!0};d.Event.prototype={isDefaultPrevented:x,isPropagationStopped:x,isImmediatePropagationStopped:x,
preventDefault:function(){var b=this.originalEvent;this.isDefaultPrevented=v;b&&(b.preventDefault?b.preventDefault():b.returnValue=!1)},stopPropagation:function(){var b=this.originalEvent;this.isPropagationStopped=v;b&&(b.stopPropagation&&b.stopPropagation(),b.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=v;this.stopPropagation()}};d.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(b,a){d.event.special[b]={delegateType:a,bindType:a,handle:function(b){var c,
e=b.relatedTarget,m=b.handleObj;if(!e||e!==this&&!d.contains(this,e))b.type=m.origType,c=m.handler.apply(this,arguments),b.type=a;return c}}});d.support.submitBubbles||(d.event.special.submit={setup:function(){if(d.nodeName(this,"form"))return!1;d.event.add(this,"click._submit keypress._submit",function(b){b=b.target;(b=d.nodeName(b,"input")||d.nodeName(b,"button")?b.form:c)&&!d._data(b,"submitBubbles")&&(d.event.add(b,"submit._submit",function(b){b._submit_bubble=!0}),d._data(b,"submitBubbles",!0))})},
postDispatch:function(b){b._submit_bubble&&(delete b._submit_bubble,this.parentNode&&!b.isTrigger&&d.event.simulate("submit",this.parentNode,b,!0))},teardown:function(){if(d.nodeName(this,"form"))return!1;d.event.remove(this,"._submit")}});d.support.changeBubbles||(d.event.special.change={setup:function(){if(Ra.test(this.nodeName)){if("checkbox"===this.type||"radio"===this.type)d.event.add(this,"propertychange._change",function(b){"checked"===b.originalEvent.propertyName&&(this._just_changed=!0)}),
d.event.add(this,"click._change",function(b){this._just_changed&&!b.isTrigger&&(this._just_changed=!1);d.event.simulate("change",this,b,!0)});return!1}d.event.add(this,"beforeactivate._change",function(b){b=b.target;Ra.test(b.nodeName)&&!d._data(b,"changeBubbles")&&(d.event.add(b,"change._change",function(b){!this.parentNode||b.isSimulated||b.isTrigger||d.event.simulate("change",this.parentNode,b,!0)}),d._data(b,"changeBubbles",!0))})},handle:function(b){var a=b.target;if(this!==a||b.isSimulated||
b.isTrigger||"radio"!==a.type&&"checkbox"!==a.type)return b.handleObj.handler.apply(this,arguments)},teardown:function(){d.event.remove(this,"._change");return!Ra.test(this.nodeName)}});d.support.focusinBubbles||d.each({focus:"focusin",blur:"focusout"},function(b,a){var c=0,g=function(b){d.event.simulate(a,b.target,d.event.fix(b),!0)};d.event.special[a]={setup:function(){0===c++&&E.addEventListener(b,g,!0)},teardown:function(){0===--c&&E.removeEventListener(b,g,!0)}}});d.fn.extend({on:function(b,
a,s,g,e){var m,f;if("object"===typeof b){"string"!==typeof a&&(s=s||a,a=c);for(m in b)this.on(m,a,s,b[m],e);return this}null==s&&null==g?(g=a,s=a=c):null==g&&("string"===typeof a?(g=s,s=c):(g=s,s=a,a=c));if(!1===g)g=x;else if(!g)return this;1===e&&(f=g,g=function(b){d().off(b);return f.apply(this,arguments)},g.guid=f.guid||(f.guid=d.guid++));return this.each(function(){d.event.add(this,b,g,s,a)})},one:function(b,a,d,c){return this.on(b,a,d,c,1)},off:function(b,a,s){var g;if(b&&b.preventDefault&&b.handleObj)return g=
b.handleObj,d(b.delegateTarget).off(g.namespace?g.origType+"."+g.namespace:g.origType,g.selector,g.handler),this;if("object"===typeof b){for(g in b)this.off(g,a,b[g]);return this}if(!1===a||"function"===typeof a)s=a,a=c;!1===s&&(s=x);return this.each(function(){d.event.remove(this,b,s,a)})},bind:function(b,a,d){return this.on(b,null,a,d)},unbind:function(b,a){return this.off(b,null,a)},delegate:function(b,a,d,c){return this.on(a,b,d,c)},undelegate:function(b,a,d){return 1===arguments.length?this.off(b,
"**"):this.off(a,b||"**",d)},trigger:function(b,a){return this.each(function(){d.event.trigger(b,a,this)})},triggerHandler:function(b,a){var c=this[0];if(c)return d.event.trigger(b,a,c,!0)}});(function(b,a){function c(b){return na.test(b+"")}function g(){var b,a=[];return b=function(d,c){a.push(d+=" ")>w.cacheLength&&delete b[a.shift()];return b[d]=c}}function e(b){b[R]=!0;return b}function m(b){var a=C.createElement("div");try{return b(a)}catch(d){return!1}finally{}}function f(b,a,d,c){var h,g,e,
s,m;(a?a.ownerDocument||a:O)!==C&&Z(a);a=a||C;d=d||[];if(!b||"string"!==typeof b)return d;if(1!==(s=a.nodeType)&&9!==s)return[];if(!E&&!c){if(h=oa.exec(b))if(e=h[1])if(9===s)if((g=a.getElementById(e))&&g.parentNode){if(g.id===e)return d.push(g),d}else return d;else{if(a.ownerDocument&&(g=a.ownerDocument.getElementById(e))&&L(a,g)&&g.id===e)return d.push(g),d}else{if(h[2])return ba.apply(d,da.call(a.getElementsByTagName(b),0)),d;if((e=h[3])&&M.getByClassName&&a.getElementsByClassName)return ba.apply(d,
da.call(a.getElementsByClassName(e),0)),d}if(M.qsa&&!G.test(b)){h=!0;g=R;e=a;m=9===s&&b;if(1===s&&"object"!==a.nodeName.toLowerCase()){s=q(b);(h=a.getAttribute("id"))?g=h.replace(ra,"\\$&"):a.setAttribute("id",g);g="[id='"+g+"'] ";for(e=s.length;e--;)s[e]=g+n(s[e]);e=ia.test(b)&&a.parentNode||a;m=s.join(",")}if(m)try{return ba.apply(d,da.call(e.querySelectorAll(m),0)),d}catch(r){}finally{h||a.removeAttribute("id")}}}var k;a:{b=b.replace(xa,"$1");g=q(b);if(!c&&1===g.length){h=g[0]=g[0].slice(0);if(2<
h.length&&"ID"===(k=h[0]).type&&9===a.nodeType&&!E&&w.relative[h[1].type]){a=w.find.ID(k.matches[0].replace(ua,va),a)[0];if(!a){k=d;break a}b=b.slice(h.shift().value.length)}for(s=ha.needsContext.test(b)?0:h.length;s--;){k=h[s];if(w.relative[e=k.type])break;if(e=w.find[e])if(c=e(k.matches[0].replace(ua,va),ia.test(h[0].type)&&a.parentNode||a)){h.splice(s,1);b=c.length&&n(h);if(!b){ba.apply(d,da.call(c,0));k=d;break a}break}}}A(b,g)(c,a,E,d,ia.test(b));k=d}return k}function k(b,a){var d=a&&b,c=d&&
(~a.sourceIndex||-2147483648)-(~b.sourceIndex||-2147483648);if(c)return c;if(d)for(;d=d.nextSibling;)if(d===a)return-1;return b?1:-1}function l(b){return function(a){return"input"===a.nodeName.toLowerCase()&&a.type===b}}function z(b){return function(a){var d=a.nodeName.toLowerCase();return("input"===d||"button"===d)&&a.type===b}}function p(b){return e(function(a){a=+a;return e(function(d,c){for(var h,g=b([],d.length,a),e=g.length;e--;)d[h=g[e]]&&(d[h]=!(c[h]=d[h]))})})}function q(b,a){var d,c,h,g,
e,s,m;if(e=V[b+" "])return a?0:e.slice(0);e=b;s=[];for(m=w.preFilter;e;){if(!d||(c=ja.exec(e)))c&&(e=e.slice(c[0].length)||e),s.push(h=[]);d=!1;if(c=ka.exec(e))d=c.shift(),h.push({value:d,type:c[0].replace(xa," ")}),e=e.slice(d.length);for(g in w.filter)!(c=ha[g].exec(e))||m[g]&&!(c=m[g](c))||(d=c.shift(),h.push({value:d,type:g,matches:c}),e=e.slice(d.length));if(!d)break}return a?e.length:e?f.error(b):V(b,s).slice(0)}function n(b){for(var a=0,d=b.length,c="";a<d;a++)c+=b[a].value;return c}function I(b,
a,d){var c=a.dir,h=d&&"parentNode"===c,g=T++;return a.first?function(a,d,g){for(;a=a[c];)if(1===a.nodeType||h)return b(a,d,g)}:function(a,d,e){var s,f,m,r=P+" "+g;if(e)for(;a=a[c];){if((1===a.nodeType||h)&&b(a,d,e))return!0}else for(;a=a[c];)if(1===a.nodeType||h)if(m=a[R]||(a[R]={}),(f=m[c])&&f[0]===r){if(!0===(s=f[1])||s===u)return!0===s}else if(f=m[c]=[r],f[1]=b(a,d,e)||u,!0===f[1])return!0}}function Q(b){return 1<b.length?function(a,d,c){for(var h=b.length;h--;)if(!b[h](a,d,c))return!1;return!0}:
b[0]}function v(b,a,d,c,h){for(var g,e=[],s=0,f=b.length,m=null!=a;s<f;s++)if(g=b[s])if(!d||d(g,c,h))e.push(g),m&&a.push(s);return e}function J(b,a,d,c,h,g){c&&!c[R]&&(c=J(c));h&&!h[R]&&(h=J(h,g));return e(function(g,e,s,m){var r,k,l=[],z=[],p=e.length,q;if(!(q=g)){q=a||"*";for(var n=s.nodeType?[s]:s,I=[],Q=0,Y=n.length;Q<Y;Q++)f(q,n[Q],I);q=I}q=!b||!g&&a?q:v(q,l,b,s,m);n=d?h||(g?b:p||c)?[]:e:q;d&&d(q,n,s,m);if(c)for(r=v(n,z),c(r,[],s,m),s=r.length;s--;)if(k=r[s])n[z[s]]=!(q[z[s]]=k);if(g){if(h||
b){if(h){r=[];for(s=n.length;s--;)(k=n[s])&&r.push(q[s]=k);h(null,n=[],r,m)}for(s=n.length;s--;)(k=n[s])&&-1<(r=h?Ca.call(g,k):l[s])&&(g[r]=!(e[r]=k))}}else n=v(n===e?n.splice(p,n.length):n),h?h(null,e,n,m):ba.apply(e,n)})}function t(b){var a,d,c,h=b.length,g=w.relative[b[0].type];d=g||w.relative[" "];for(var e=g?1:0,s=I(function(b){return b===a},d,!0),f=I(function(b){return-1<Ca.call(a,b)},d,!0),m=[function(b,d,c){return!g&&(c||d!==ta)||((a=d).nodeType?s(b,d,c):f(b,d,c))}];e<h;e++)if(d=w.relative[b[e].type])m=
[I(Q(m),d)];else{d=w.filter[b[e].type].apply(null,b[e].matches);if(d[R]){for(c=++e;c<h&&!w.relative[b[c].type];c++);return J(1<e&&Q(m),1<e&&n(b.slice(0,e-1)).replace(xa,"$1"),d,e<c&&t(b.slice(e,c)),c<h&&t(b=b.slice(c)),c<h&&n(b))}m.push(d)}return Q(m)}function x(b,a){var d=0,c=0<a.length,h=0<b.length,g=function(g,e,s,m,r){var k,l,z=[],p=0,q="0",n=g&&[],I=null!=r,Q=ta,Y=g||h&&w.find.TAG("*",r&&e.parentNode||e),J=P+=null==Q?1:Math.random()||.1;I&&(ta=e!==C&&e,u=d);for(;null!=(r=Y[q]);q++){if(h&&r){for(k=
0;l=b[k++];)if(l(r,e,s)){m.push(r);break}I&&(P=J,u=++d)}c&&((r=!l&&r)&&p--,g&&n.push(r))}p+=q;if(c&&q!==p){for(k=0;l=a[k++];)l(n,z,e,s);if(g){if(0<p)for(;q--;)n[q]||z[q]||(z[q]=ea.call(m));z=v(z)}ba.apply(m,z);I&&!g&&0<z.length&&1<p+a.length&&f.uniqueSort(m)}I&&(P=J,ta=Q);return n};return c?e(g):g}function ca(){}var X,u,w,U,F,A,y,ta,Z,C,B,E,G,H,K,L,N,R="sizzle"+-new Date,O=b.document,M={},P=0,T=0,S=g(),V=g(),$=g(),aa=typeof a,W=[],ea=W.pop,ba=W.push,da=W.slice,Ca=W.indexOf||function(b){for(var a=
0,d=this.length;a<d;a++)if(this[a]===b)return a;return-1},W="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+".replace("w","w#"),ga="\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)[\\x20\\t\\r\\n\\f]*(?:([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+W+")|)|)[\\x20\\t\\r\\n\\f]*\\]",fa=":((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+ga.replace(3,8)+")*)|.*)\\)|)",xa=/^[\x20\t\r\n\f]+|((?:^|[^\\])(?:\\.)*)[\x20\t\r\n\f]+$/g,ja=/^[\x20\t\r\n\f]*,[\x20\t\r\n\f]*/,
ka=/^[\x20\t\r\n\f]*([\x20\t\r\n\f>+~])[\x20\t\r\n\f]*/,la=new RegExp(fa),ma=new RegExp("^"+W+"$"),ha={ID:/^#((?:\\.|[\w-]|[^\x00-\xa0])+)/,CLASS:/^\.((?:\\.|[\w-]|[^\x00-\xa0])+)/,NAME:/^\[name=['"]?((?:\\.|[\w-]|[^\x00-\xa0])+)['"]?\]/,TAG:new RegExp("^("+"(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+".replace("w","w*")+")"),ATTR:new RegExp("^"+ga),PSEUDO:new RegExp("^"+fa),CHILD:/^:(only|first|last|nth|nth-last)-(child|of-type)(?:\([\x20\t\r\n\f]*(even|odd|(([+-]|)(\d*)n|)[\x20\t\r\n\f]*(?:([+-]|)[\x20\t\r\n\f]*(\d+)|))[\x20\t\r\n\f]*\)|)/i,
needsContext:/^[\x20\t\r\n\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\([\x20\t\r\n\f]*((?:-\d)?\d*)[\x20\t\r\n\f]*\)|)(?=[^-]|$)/i},ia=/[\x20\t\r\n\f]*[+~]/,na=/^[^{]+\{\s*\[native code/,oa=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,pa=/^(?:input|select|textarea|button)$/i,qa=/^h\d$/i,ra=/'|\\/g,sa=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,ua=/\\([\da-fA-F]{1,6}[\x20\t\r\n\f]?|.)/g,va=function(b,a){var d="0x"+a-65536;return d!==d?a:0>d?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,
d&1023|56320)};try{da.call(O.documentElement.childNodes,0)[0].nodeType}catch(wa){da=function(b){for(var a,d=[];a=this[b++];)d.push(a);return d}}F=f.isXML=function(b){return(b=b&&(b.ownerDocument||b).documentElement)?"HTML"!==b.nodeName:!1};Z=f.setDocument=function(b){var d=b?b.ownerDocument||b:O;if(d===C||9!==d.nodeType||!d.documentElement)return C;C=d;B=d.documentElement;E=F(d);M.tagNameNoComments=m(function(b){b.appendChild(d.createComment(""));return!b.getElementsByTagName("*").length});M.attributes=
m(function(b){b.innerHTML="<select></select>";b=typeof b.lastChild.getAttribute("multiple");return"boolean"!==b&&"string"!==b});M.getByClassName=m(function(b){b.innerHTML="<div class='hidden e'></div><div class='hidden'></div>";if(!b.getElementsByClassName||!b.getElementsByClassName("e").length)return!1;b.lastChild.className="e";return 2===b.getElementsByClassName("e").length});M.getByName=m(function(b){b.id=R+0;b.innerHTML="<a name='"+R+"'></a><div name='"+R+"'></div>";B.insertBefore(b,B.firstChild);
var a=d.getElementsByName&&d.getElementsByName(R).length===2+d.getElementsByName(R+0).length;M.getIdNotName=!d.getElementById(R);B.removeChild(b);return a});w.attrHandle=m(function(b){b.innerHTML="<a href='#'></a>";return b.firstChild&&typeof b.firstChild.getAttribute!==aa&&"#"===b.firstChild.getAttribute("href")})?{}:{href:function(b){return b.getAttribute("href",2)},type:function(b){return b.getAttribute("type")}};M.getIdNotName?(w.find.ID=function(b,a){if(typeof a.getElementById!==aa&&!E){var d=
a.getElementById(b);return d&&d.parentNode?[d]:[]}},w.filter.ID=function(b){var a=b.replace(ua,va);return function(b){return b.getAttribute("id")===a}}):(w.find.ID=function(b,d){if(typeof d.getElementById!==aa&&!E){var c=d.getElementById(b);return c?c.id===b||typeof c.getAttributeNode!==aa&&c.getAttributeNode("id").value===b?[c]:a:[]}},w.filter.ID=function(b){var a=b.replace(ua,va);return function(b){return(b=typeof b.getAttributeNode!==aa&&b.getAttributeNode("id"))&&b.value===a}});w.find.TAG=M.tagNameNoComments?
function(b,a){if(typeof a.getElementsByTagName!==aa)return a.getElementsByTagName(b)}:function(b,a){var d,c=[],h=0,g=a.getElementsByTagName(b);if("*"===b){for(;d=g[h++];)1===d.nodeType&&c.push(d);return c}return g};w.find.NAME=M.getByName&&function(b,a){if(typeof a.getElementsByName!==aa)return a.getElementsByName(name)};w.find.CLASS=M.getByClassName&&function(b,a){if(typeof a.getElementsByClassName!==aa&&!E)return a.getElementsByClassName(b)};H=[];G=[":focus"];if(M.qsa=c(d.querySelectorAll))m(function(b){b.innerHTML=
"<select><option selected=''></option></select>";b.querySelectorAll("[selected]").length||G.push("\\[[\\x20\\t\\r\\n\\f]*(?:checked|disabled|ismap|multiple|readonly|selected|value)");b.querySelectorAll(":checked").length||G.push(":checked")}),m(function(b){b.innerHTML="<input type='hidden' i=''/>";b.querySelectorAll("[i^='']").length&&G.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:\"\"|'')");b.querySelectorAll(":enabled").length||G.push(":enabled",":disabled");b.querySelectorAll("*,:x");G.push(",.*:")});(M.matchesSelector=
c(K=B.matchesSelector||B.mozMatchesSelector||B.webkitMatchesSelector||B.oMatchesSelector||B.msMatchesSelector))&&m(function(b){M.disconnectedMatch=K.call(b,"div");K.call(b,"[s!='']:x");H.push("!=",fa)});G=new RegExp(G.join("|"));H=new RegExp(H.join("|"));L=c(B.contains)||B.compareDocumentPosition?function(b,a){var d=9===b.nodeType?b.documentElement:b,c=a&&a.parentNode;return b===c||!!(c&&1===c.nodeType&&(d.contains?d.contains(c):b.compareDocumentPosition&&b.compareDocumentPosition(c)&16))}:function(b,
a){if(a)for(;a=a.parentNode;)if(a===b)return!0;return!1};N=B.compareDocumentPosition?function(b,a){var c;return b===a?(y=!0,0):(c=a.compareDocumentPosition&&b.compareDocumentPosition&&b.compareDocumentPosition(a))?c&1||b.parentNode&&11===b.parentNode.nodeType?b===d||L(O,b)?-1:a===d||L(O,a)?1:0:c&4?-1:1:b.compareDocumentPosition?-1:1}:function(b,a){var c,h=0;c=b.parentNode;var g=a.parentNode,e=[b],s=[a];if(b===a)return y=!0,0;if(!c||!g)return b===d?-1:a===d?1:c?-1:g?1:0;if(c===g)return k(b,a);for(c=
b;c=c.parentNode;)e.unshift(c);for(c=a;c=c.parentNode;)s.unshift(c);for(;e[h]===s[h];)h++;return h?k(e[h],s[h]):e[h]===O?-1:s[h]===O?1:0};y=!1;[0,0].sort(N);M.detectDuplicates=y;return C};f.matches=function(b,a){return f(b,null,null,a)};f.matchesSelector=function(b,a){(b.ownerDocument||b)!==C&&Z(b);a=a.replace(sa,"='$1']");if(!(!M.matchesSelector||E||H&&H.test(a)||G.test(a)))try{var d=K.call(b,a);if(d||M.disconnectedMatch||b.document&&11!==b.document.nodeType)return d}catch(c){}return 0<f(a,C,null,
[b]).length};f.contains=function(b,a){(b.ownerDocument||b)!==C&&Z(b);return L(b,a)};f.attr=function(b,a){var d;(b.ownerDocument||b)!==C&&Z(b);E||(a=a.toLowerCase());return(d=w.attrHandle[a])?d(b):E||M.attributes?b.getAttribute(a):((d=b.getAttributeNode(a))||b.getAttribute(a))&&!0===b[a]?a:d&&d.specified?d.value:null};f.error=function(b){throw Error("Syntax error, unrecognized expression: "+b);};f.uniqueSort=function(b){var a,d=[],c=1,h=0;y=!M.detectDuplicates;b.sort(N);if(y){for(;a=b[c];c++)a===b[c-
1]&&(h=d.push(c));for(;h--;)b.splice(d[h],1)}return b};U=f.getText=function(b){var a,d="",c=0;a=b.nodeType;if(!a)for(;a=b[c];c++)d+=U(a);else if(1===a||9===a||11===a){if("string"===typeof b.textContent)return b.textContent;for(b=b.firstChild;b;b=b.nextSibling)d+=U(b)}else if(3===a||4===a)return b.nodeValue;return d};w=f.selectors={cacheLength:50,createPseudo:e,match:ha,find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},
preFilter:{ATTR:function(b){b[1]=b[1].replace(ua,va);b[3]=(b[4]||b[5]||"").replace(ua,va);"~="===b[2]&&(b[3]=" "+b[3]+" ");return b.slice(0,4)},CHILD:function(b){b[1]=b[1].toLowerCase();"nth"===b[1].slice(0,3)?(b[3]||f.error(b[0]),b[4]=+(b[4]?b[5]+(b[6]||1):2*("even"===b[3]||"odd"===b[3])),b[5]=+(b[7]+b[8]||"odd"===b[3])):b[3]&&f.error(b[0]);return b},PSEUDO:function(b){var a,d=!b[5]&&b[2];if(ha.CHILD.test(b[0]))return null;b[4]?b[2]=b[4]:d&&la.test(d)&&(a=q(d,!0))&&(a=d.indexOf(")",d.length-a)-d.length)&&
(b[0]=b[0].slice(0,a),b[2]=d.slice(0,a));return b.slice(0,3)}},filter:{TAG:function(b){if("*"===b)return function(){return!0};b=b.replace(ua,va).toLowerCase();return function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(b){var a=S[b+" "];return a||(a=new RegExp("(^|[\\x20\\t\\r\\n\\f])"+b+"([\\x20\\t\\r\\n\\f]|$)"))&&S(b,function(b){return a.test(b.className||typeof b.getAttribute!==aa&&b.getAttribute("class")||"")})},ATTR:function(b,a,d){return function(c){c=f.attr(c,b);if(null==
c)return"!="===a;if(!a)return!0;c+="";return"="===a?c===d:"!="===a?c!==d:"^="===a?d&&0===c.indexOf(d):"*="===a?d&&-1<c.indexOf(d):"$="===a?d&&c.slice(-d.length)===d:"~="===a?-1<(" "+c+" ").indexOf(d):"|="===a?c===d||c.slice(0,d.length+1)===d+"-":!1}},CHILD:function(b,a,d,c,h){var g="nth"!==b.slice(0,3),e="last"!==b.slice(-4),s="of-type"===a;return 1===c&&0===h?function(b){return!!b.parentNode}:function(a,d,m){var f,r,k,l,z;d=g!==e?"nextSibling":"previousSibling";var D=a.parentNode,p=s&&a.nodeName.toLowerCase();
m=!m&&!s;if(D){if(g){for(;d;){for(r=a;r=r[d];)if(s?r.nodeName.toLowerCase()===p:1===r.nodeType)return!1;z=d="only"===b&&!z&&"nextSibling"}return!0}z=[e?D.firstChild:D.lastChild];if(e&&m)for(m=D[R]||(D[R]={}),f=m[b]||[],l=f[0]===P&&f[1],k=f[0]===P&&f[2],r=l&&D.childNodes[l];r=++l&&r&&r[d]||(k=l=0)||z.pop();){if(1===r.nodeType&&++k&&r===a){m[b]=[P,l,k];break}}else if(m&&(f=(a[R]||(a[R]={}))[b])&&f[0]===P)k=f[1];else for(;(r=++l&&r&&r[d]||(k=l=0)||z.pop())&&((s?r.nodeName.toLowerCase()!==p:1!==r.nodeType)||
!++k||(m&&((r[R]||(r[R]={}))[b]=[P,k]),r!==a)););k-=h;return k===c||0===k%c&&0<=k/c}}},PSEUDO:function(b,a){var d,c=w.pseudos[b]||w.setFilters[b.toLowerCase()]||f.error("unsupported pseudo: "+b);return c[R]?c(a):1<c.length?(d=[b,b,"",a],w.setFilters.hasOwnProperty(b.toLowerCase())?e(function(b,d){for(var h,g=c(b,a),e=g.length;e--;)h=Ca.call(b,g[e]),b[h]=!(d[h]=g[e])}):function(b){return c(b,0,d)}):c}},pseudos:{not:e(function(b){var a=[],d=[],c=A(b.replace(xa,"$1"));return c[R]?e(function(b,a,d,h){h=
c(b,null,h,[]);for(var g=b.length;g--;)if(d=h[g])b[g]=!(a[g]=d)}):function(b,h,g){a[0]=b;c(a,null,g,d);return!d.pop()}}),has:e(function(b){return function(a){return 0<f(b,a).length}}),contains:e(function(b){return function(a){return-1<(a.textContent||a.innerText||U(a)).indexOf(b)}}),lang:e(function(b){ma.test(b||"")||f.error("unsupported lang: "+b);b=b.replace(ua,va).toLowerCase();return function(a){var d;do if(d=E?a.getAttribute("xml:lang")||a.getAttribute("lang"):a.lang)return d=d.toLowerCase(),
d===b||0===d.indexOf(b+"-");while((a=a.parentNode)&&1===a.nodeType);return!1}}),target:function(a){var d=b.location&&b.location.hash;return d&&d.slice(1)===a.id},root:function(b){return b===B},focus:function(b){return b===C.activeElement&&(!C.hasFocus||C.hasFocus())&&!!(b.type||b.href||~b.tabIndex)},enabled:function(b){return!1===b.disabled},disabled:function(b){return!0===b.disabled},checked:function(b){var a=b.nodeName.toLowerCase();return"input"===a&&!!b.checked||"option"===a&&!!b.selected},selected:function(b){b.parentNode&&
b.parentNode.selectedIndex;return!0===b.selected},empty:function(b){for(b=b.firstChild;b;b=b.nextSibling)if("@"<b.nodeName||3===b.nodeType||4===b.nodeType)return!1;return!0},parent:function(b){return!w.pseudos.empty(b)},header:function(b){return qa.test(b.nodeName)},input:function(b){return pa.test(b.nodeName)},button:function(b){var a=b.nodeName.toLowerCase();return"input"===a&&"button"===b.type||"button"===a},text:function(b){var a;return"input"===b.nodeName.toLowerCase()&&"text"===b.type&&(null==
(a=b.getAttribute("type"))||a.toLowerCase()===b.type)},first:p(function(){return[0]}),last:p(function(b,a){return[a-1]}),eq:p(function(b,a,d){return[0>d?d+a:d]}),even:p(function(b,a){for(var d=0;d<a;d+=2)b.push(d);return b}),odd:p(function(b,a){for(var d=1;d<a;d+=2)b.push(d);return b}),lt:p(function(b,a,d){for(a=0>d?d+a:d;0<=--a;)b.push(a);return b}),gt:p(function(b,a,d){for(d=0>d?d+a:d;++d<a;)b.push(d);return b})}};for(X in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})w.pseudos[X]=l(X);for(X in{submit:!0,
reset:!0})w.pseudos[X]=z(X);A=f.compile=function(b,a){var d,c=[],h=[],g=$[b+" "];if(!g){a||(a=q(b));for(d=a.length;d--;)g=t(a[d]),g[R]?c.push(g):h.push(g);g=$(b,x(h,c))}return g};w.pseudos.nth=w.pseudos.eq;w.filters=ca.prototype=w.pseudos;w.setFilters=new ca;Z();f.attr=d.attr;d.find=f;d.expr=f.selectors;d.expr[":"]=d.expr.pseudos;d.unique=f.uniqueSort;d.text=f.getText;d.isXMLDoc=f.isXML;d.contains=f.contains})(a);var Qb=/Until$/,Rb=/^(?:parents|prev(?:Until|All))/,zb=/^.[^:#\[\.,]*$/,ib=d.expr.match.needsContext,
Sb={children:!0,contents:!0,next:!0,prev:!0};d.fn.extend({find:function(b){var a,c,g,e=this.length;if("string"!==typeof b)return g=this,this.pushStack(d(b).filter(function(){for(a=0;a<e;a++)if(d.contains(g[a],this))return!0}));c=[];for(a=0;a<e;a++)d.find(b,this[a],c);c=this.pushStack(1<e?d.unique(c):c);c.selector=(this.selector?this.selector+" ":"")+b;return c},has:function(b){var a,c=d(b,this),g=c.length;return this.filter(function(){for(a=0;a<g;a++)if(d.contains(this,c[a]))return!0})},not:function(b){return this.pushStack(J(this,
b,!1))},filter:function(b){return this.pushStack(J(this,b,!0))},is:function(b){return!!b&&("string"===typeof b?ib.test(b)?0<=d(b,this.context).index(this[0]):0<d.filter(b,this).length:0<this.filter(b).length)},closest:function(b,a){for(var c,g=0,e=this.length,m=[],f=ib.test(b)||"string"!==typeof b?d(b,a||this.context):0;g<e;g++)for(c=this[g];c&&c.ownerDocument&&c!==a&&11!==c.nodeType;){if(f?-1<f.index(c):d.find.matchesSelector(c,b)){m.push(c);break}c=c.parentNode}return this.pushStack(1<m.length?
d.unique(m):m)},index:function(b){return b?"string"===typeof b?d.inArray(this[0],d(b)):d.inArray(b.jquery?b[0]:b,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(b,a){var c="string"===typeof b?d(b,a):d.makeArray(b&&b.nodeType?[b]:b),c=d.merge(this.get(),c);return this.pushStack(d.unique(c))},addBack:function(b){return this.add(null==b?this.prevObject:this.prevObject.filter(b))}});d.fn.andSelf=d.fn.addBack;d.each({parent:function(b){return(b=b.parentNode)&&11!==b.nodeType?
b:null},parents:function(b){return d.dir(b,"parentNode")},parentsUntil:function(b,a,c){return d.dir(b,"parentNode",c)},next:function(b){return A(b,"nextSibling")},prev:function(b){return A(b,"previousSibling")},nextAll:function(b){return d.dir(b,"nextSibling")},prevAll:function(b){return d.dir(b,"previousSibling")},nextUntil:function(b,a,c){return d.dir(b,"nextSibling",c)},prevUntil:function(b,a,c){return d.dir(b,"previousSibling",c)},siblings:function(b){return d.sibling((b.parentNode||{}).firstChild,
b)},children:function(b){return d.sibling(b.firstChild)},contents:function(b){return d.nodeName(b,"iframe")?b.contentDocument||b.contentWindow.document:d.merge([],b.childNodes)}},function(b,a){d.fn[b]=function(c,g){var e=d.map(this,a,c);Qb.test(b)||(g=c);g&&"string"===typeof g&&(e=d.filter(g,e));e=1<this.length&&!Sb[b]?d.unique(e):e;1<this.length&&Rb.test(b)&&(e=e.reverse());return this.pushStack(e)}});d.extend({filter:function(b,a,c){c&&(b=":not("+b+")");return 1===a.length?d.find.matchesSelector(a[0],
b)?[a[0]]:[]:d.find.matches(b,a)},dir:function(b,a,e){var g=[];for(b=b[a];b&&9!==b.nodeType&&(e===c||1!==b.nodeType||!d(b).is(e));)1===b.nodeType&&g.push(b),b=b[a];return g},sibling:function(b,a){for(var d=[];b;b=b.nextSibling)1===b.nodeType&&b!==a&&d.push(b);return d}});var $a="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Tb=/ jQuery\d+="(?:null|\d+)"/g,jb=new RegExp("<(?:"+$a+")[\\s/>]",
"i"),Sa=/^\s+/,kb=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,lb=/<([\w:]+)/,mb=/<tbody/i,Ub=/<|&#?\w+;/,Vb=/<(?:script|style|link)/i,Ma=/^(?:checkbox|radio)$/i,Wb=/checked\s*(?:[^=]|=\s*.checked.)/i,nb=/^$|\/(?:java|ecma)script/i,Ab=/^true\/(.*)/,Xb=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,da={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],
tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:d.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},Ta=F(E).appendChild(E.createElement("div"));da.optgroup=da.option;da.tbody=da.tfoot=da.colgroup=da.caption=da.thead;da.th=da.td;d.fn.extend({text:function(b){return d.access(this,function(b){return b===c?d.text(this):this.empty().append((this[0]&&this[0].ownerDocument||E).createTextNode(b))},
null,b,arguments.length)},wrapAll:function(b){if(d.isFunction(b))return this.each(function(a){d(this).wrapAll(b.call(this,a))});if(this[0]){var a=d(b,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&a.insertBefore(this[0]);a.map(function(){for(var b=this;b.firstChild&&1===b.firstChild.nodeType;)b=b.firstChild;return b}).append(this)}return this},wrapInner:function(b){return d.isFunction(b)?this.each(function(a){d(this).wrapInner(b.call(this,a))}):this.each(function(){var a=d(this),c=a.contents();
c.length?c.wrapAll(b):a.append(b)})},wrap:function(b){var a=d.isFunction(b);return this.each(function(c){d(this).wrapAll(a?b.call(this,c):b)})},unwrap:function(){return this.parent().each(function(){d.nodeName(this,"body")||d(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(b){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||this.appendChild(b)})},prepend:function(){return this.domManip(arguments,!0,function(b){1!==this.nodeType&&11!==
this.nodeType&&9!==this.nodeType||this.insertBefore(b,this.firstChild)})},before:function(){return this.domManip(arguments,!1,function(b){this.parentNode&&this.parentNode.insertBefore(b,this)})},after:function(){return this.domManip(arguments,!1,function(b){this.parentNode&&this.parentNode.insertBefore(b,this.nextSibling)})},remove:function(b,a){for(var c,g=0;null!=(c=this[g]);g++)if(!b||0<d.filter(b,[c]).length)a||1!==c.nodeType||d.cleanData(u(c)),c.parentNode&&(a&&d.contains(c.ownerDocument,c)&&
t(u(c,"script")),c.parentNode.removeChild(c));return this},empty:function(){for(var b,a=0;null!=(b=this[a]);a++){for(1===b.nodeType&&d.cleanData(u(b,!1));b.firstChild;)b.removeChild(b.firstChild);b.options&&d.nodeName(b,"select")&&(b.options.length=0)}return this},clone:function(b,a){b=null==b?!1:b;a=null==a?b:a;return this.map(function(){return d.clone(this,b,a)})},html:function(b){return d.access(this,function(b){var a=this[0]||{},g=0,e=this.length;if(b===c)return 1===a.nodeType?a.innerHTML.replace(Tb,
""):c;if(!("string"!==typeof b||Vb.test(b)||!d.support.htmlSerialize&&jb.test(b)||!d.support.leadingWhitespace&&Sa.test(b)||da[(lb.exec(b)||["",""])[1].toLowerCase()])){b=b.replace(kb,"<$1></$2>");try{for(;g<e;g++)a=this[g]||{},1===a.nodeType&&(d.cleanData(u(a,!1)),a.innerHTML=b);a=0}catch(f){}}a&&this.empty().append(b)},null,b,arguments.length)},replaceWith:function(b){d.isFunction(b)||"string"===typeof b||(b=d(b).not(this).detach());return this.domManip([b],!0,function(b){var a=this.nextSibling,
c=this.parentNode;c&&(d(this).remove(),c.insertBefore(b,a))})},detach:function(b){return this.remove(b,!0)},domManip:function(b,a,e){b=Q.apply([],b);var g,f,m,k,l=0,z=this.length,p=this,q=z-1,n=b[0],I=d.isFunction(n);if(I||!(1>=z||"string"!==typeof n||d.support.checkClone)&&Wb.test(n))return this.each(function(d){var g=p.eq(d);I&&(b[0]=n.call(this,d,a?g.html():c));g.domManip(b,a,e)});if(z&&(k=d.buildFragment(b,this[0].ownerDocument,!1,this),g=k.firstChild,1===k.childNodes.length&&(k=g),g)){a=a&&d.nodeName(g,
"tr");m=d.map(u(k,"script"),G);for(f=m.length;l<z;l++)g=k,l!==q&&(g=d.clone(g,!0,!0),f&&d.merge(m,u(g,"script"))),e.call(a&&d.nodeName(this[l],"table")?C(this[l],"tbody"):this[l],g,l);if(f)for(k=m[m.length-1].ownerDocument,d.map(m,y),l=0;l<f;l++)g=m[l],nb.test(g.type||"")&&!d._data(g,"globalEval")&&d.contains(k,g)&&(g.src?d.ajax({url:g.src,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0}):d.globalEval((g.text||g.textContent||g.innerHTML||"").replace(Xb,"")));k=g=null}return this}});d.each({appendTo:"append",
prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(b,a){d.fn[b]=function(b){for(var c=0,e=[],f=d(b),k=f.length-1;c<=k;c++)b=c===k?this:this.clone(!0),d(f[c])[a](b),ca.apply(e,b.get());return this.pushStack(e)}});d.extend({clone:function(b,a,c){var g,e,f,k,l,z=d.contains(b.ownerDocument,b);d.support.html5Clone||d.isXMLDoc(b)||!jb.test("<"+b.nodeName+">")?f=b.cloneNode(!0):(Ta.innerHTML=b.outerHTML,Ta.removeChild(f=Ta.firstChild));if(!(d.support.noCloneEvent&&
d.support.noCloneChecked||1!==b.nodeType&&11!==b.nodeType||d.isXMLDoc(b)))for(g=u(f),l=u(b),k=0;null!=(e=l[k]);++k)if(g[k]){var p=g[k],q=void 0,n=void 0,I=void 0;if(1===p.nodeType){q=p.nodeName.toLowerCase();if(!d.support.noCloneEvent&&p[d.expando]){I=d._data(p);for(n in I.events)d.removeEvent(p,n,I.handle);p.removeAttribute(d.expando)}if("script"===q&&p.text!==e.text)G(p).text=e.text,y(p);else if("object"===q)p.parentNode&&(p.outerHTML=e.outerHTML),d.support.html5Clone&&e.innerHTML&&!d.trim(p.innerHTML)&&
(p.innerHTML=e.innerHTML);else if("input"===q&&Ma.test(e.type))p.defaultChecked=p.checked=e.checked,p.value!==e.value&&(p.value=e.value);else if("option"===q)p.defaultSelected=p.selected=e.defaultSelected;else if("input"===q||"textarea"===q)p.defaultValue=e.defaultValue}}if(a)if(c)for(l=l||u(b),g=g||u(f),k=0;null!=(e=l[k]);k++)B(e,g[k]);else B(b,f);g=u(f,"script");0<g.length&&t(g,!z&&u(b,"script"));return f},buildFragment:function(b,a,c,g){for(var e,f,k,l,p,z,q=b.length,n=F(a),I=[],Q=0;Q<q;Q++)if((f=
b[Q])||0===f)if("object"===d.type(f))d.merge(I,f.nodeType?[f]:f);else if(Ub.test(f)){k=k||n.appendChild(a.createElement("div"));l=(lb.exec(f)||["",""])[1].toLowerCase();z=da[l]||da._default;k.innerHTML=z[1]+f.replace(kb,"<$1></$2>")+z[2];for(e=z[0];e--;)k=k.lastChild;!d.support.leadingWhitespace&&Sa.test(f)&&I.push(a.createTextNode(Sa.exec(f)[0]));if(!d.support.tbody)for(e=(f="table"!==l||mb.test(f)?"<table>"!==z[1]||mb.test(f)?0:k:k.firstChild)&&f.childNodes.length;e--;)d.nodeName(p=f.childNodes[e],
"tbody")&&!p.childNodes.length&&f.removeChild(p);d.merge(I,k.childNodes);for(k.textContent="";k.firstChild;)k.removeChild(k.firstChild);k=n.lastChild}else I.push(a.createTextNode(f));k&&n.removeChild(k);d.support.appendChecked||d.grep(u(I,"input"),K);for(Q=0;f=I[Q++];)if(!g||-1===d.inArray(f,g))if(b=d.contains(f.ownerDocument,f),k=u(n.appendChild(f),"script"),b&&t(k),c)for(e=0;f=k[e++];)nb.test(f.type||"")&&c.push(f);return n},cleanData:function(b,a){for(var c,g,e,f,l=0,p=d.expando,q=d.cache,n=d.support.deleteExpando,
I=d.event.special;null!=(c=b[l]);l++)if(a||d.acceptData(c))if(f=(e=c[p])&&q[e]){if(f.events)for(g in f.events)I[g]?d.event.remove(c,g):d.removeEvent(c,g,f.handle);q[e]&&(delete q[e],n?delete c[p]:typeof c.removeAttribute!==k?c.removeAttribute(p):c[p]=null,z.push(e))}}});var Aa,ia,na,Ua=/alpha\([^)]*\)/i,Yb=/opacity\s*=\s*([^)]*)/,Zb=/^(top|right|bottom|left)$/,$b=/^(none|table(?!-c[ea]).+)/,ob=/^margin/,Bb=new RegExp("^("+R+")(.*)$","i"),Ea=new RegExp("^("+R+")(?!px)[a-z%]+$","i"),ac=new RegExp("^([+-])=("+
R+")","i"),bb={BODY:"block"},bc={position:"absolute",visibility:"hidden",display:"block"},pb={letterSpacing:0,fontWeight:400},ha=["Top","Right","Bottom","Left"],ab=["Webkit","O","Moz","ms"];d.fn.extend({css:function(b,a){return d.access(this,function(b,a,h){var e,f={},k=0;if(d.isArray(a)){e=ia(b);for(h=a.length;k<h;k++)f[a[k]]=d.css(b,a[k],!1,e);return f}return h!==c?d.style(b,a,h):d.css(b,a)},b,a,1<arguments.length)},show:function(){return O(this,!0)},hide:function(){return O(this)},toggle:function(b){var a=
"boolean"===typeof b;return this.each(function(){(a?b:N(this))?d(this).show():d(this).hide()})}});d.extend({cssHooks:{opacity:{get:function(b,a){if(a){var d=na(b,"opacity");return""===d?"1":d}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":d.support.cssFloat?"cssFloat":"styleFloat"},style:function(b,a,e,g){if(b&&3!==b.nodeType&&8!==b.nodeType&&b.style){var f,m,k,l=d.camelCase(a),p=b.style;a=d.cssProps[l]||
(d.cssProps[l]=S(p,l));k=d.cssHooks[a]||d.cssHooks[l];if(e!==c){if(m=typeof e,"string"===m&&(f=ac.exec(e))&&(e=(f[1]+1)*f[2]+parseFloat(d.css(b,a)),m="number"),!(null==e||"number"===m&&isNaN(e)||("number"!==m||d.cssNumber[l]||(e+="px"),d.support.clearCloneStyle||""!==e||0!==a.indexOf("background")||(p[a]="inherit"),k&&"set"in k&&(e=k.set(b,e,g))===c)))try{p[a]=e}catch(z){}}else return k&&"get"in k&&(f=k.get(b,!1,g))!==c?f:p[a]}},css:function(b,a,e,g){var f,m;m=d.camelCase(a);a=d.cssProps[m]||(d.cssProps[m]=
S(b.style,m));(m=d.cssHooks[a]||d.cssHooks[m])&&"get"in m&&(f=m.get(b,!0,e));f===c&&(f=na(b,a,g));"normal"===f&&a in pb&&(f=pb[a]);return""===e||e?(b=parseFloat(f),!0===e||d.isNumeric(b)?b||0:f):f},swap:function(b,a,d,c){var e,f={};for(e in a)f[e]=b.style[e],b.style[e]=a[e];d=d.apply(b,c||[]);for(e in a)b.style[e]=f[e];return d}});a.getComputedStyle?(ia=function(b){return a.getComputedStyle(b,null)},na=function(b,a,e){var g,f=(e=e||ia(b))?e.getPropertyValue(a)||e[a]:c,m=b.style;e&&(""!==f||d.contains(b.ownerDocument,
b)||(f=d.style(b,a)),Ea.test(f)&&ob.test(a)&&(b=m.width,a=m.minWidth,g=m.maxWidth,m.minWidth=m.maxWidth=m.width=f,f=e.width,m.width=b,m.minWidth=a,m.maxWidth=g));return f}):E.documentElement.currentStyle&&(ia=function(b){return b.currentStyle},na=function(b,a,d){var e,f,m=(d=d||ia(b))?d[a]:c,k=b.style;null==m&&k&&k[a]&&(m=k[a]);if(Ea.test(m)&&!Zb.test(a)){d=k.left;if(f=(e=b.runtimeStyle)&&e.left)e.left=b.currentStyle.left;k.left="fontSize"===a?"1em":m;m=k.pixelLeft+"px";k.left=d;f&&(e.left=f)}return""===
m?"auto":m});d.each(["height","width"],function(b,a){d.cssHooks[a]={get:function(b,c,e){if(c)return 0===b.offsetWidth&&$b.test(d.css(b,"display"))?d.swap(b,bc,function(){return L(b,a,e)}):L(b,a,e)},set:function(b,c,e){var f=e&&ia(b);return H(b,c,e?w(b,a,e,d.support.boxSizing&&"border-box"===d.css(b,"boxSizing",!1,f),f):0)}}});d.support.opacity||(d.cssHooks.opacity={get:function(b,a){return Yb.test((a&&b.currentStyle?b.currentStyle.filter:b.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":a?"1":""},
set:function(b,a){var c=b.style,e=b.currentStyle,f=d.isNumeric(a)?"alpha(opacity="+100*a+")":"",m=e&&e.filter||c.filter||"";c.zoom=1;if((1<=a||""===a)&&""===d.trim(m.replace(Ua,""))&&c.removeAttribute&&(c.removeAttribute("filter"),""===a||e&&!e.filter))return;c.filter=Ua.test(m)?m.replace(Ua,f):m+" "+f}});d(function(){d.support.reliableMarginRight||(d.cssHooks.marginRight={get:function(b,a){if(a)return d.swap(b,{display:"inline-block"},na,[b,"marginRight"])}});!d.support.pixelPosition&&d.fn.position&&
d.each(["top","left"],function(b,a){d.cssHooks[a]={get:function(b,c){if(c)return c=na(b,a),Ea.test(c)?d(b).position()[a]+"px":c}}})});d.expr&&d.expr.filters&&(d.expr.filters.hidden=function(b){return 0>=b.offsetWidth&&0>=b.offsetHeight||!d.support.reliableHiddenOffsets&&"none"===(b.style&&b.style.display||d.css(b,"display"))},d.expr.filters.visible=function(b){return!d.expr.filters.hidden(b)});d.each({margin:"",padding:"",border:"Width"},function(b,a){d.cssHooks[b+a]={expand:function(d){var c=0,e=
{};for(d="string"===typeof d?d.split(" "):[d];4>c;c++)e[b+ha[c]+a]=d[c]||d[c-2]||d[0];return e}};ob.test(b)||(d.cssHooks[b+a].set=H)});var cc=/%20/g,Cb=/\[\]$/,qb=/\r?\n/g,dc=/^(?:submit|button|image|reset|file)$/i,ec=/^(?:input|select|textarea|keygen)/i;d.fn.extend({serialize:function(){return d.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var b=d.prop(this,"elements");return b?d.makeArray(b):this}).filter(function(){var b=this.type;return this.name&&!d(this).is(":disabled")&&
ec.test(this.nodeName)&&!dc.test(b)&&(this.checked||!Ma.test(b))}).map(function(b,a){var c=d(this).val();return null==c?null:d.isArray(c)?d.map(c,function(b){return{name:a.name,value:b.replace(qb,"\r\n")}}):{name:a.name,value:c.replace(qb,"\r\n")}}).get()}});d.param=function(b,a){var e,g=[],f=function(b,a){a=d.isFunction(a)?a():null==a?"":a;g[g.length]=encodeURIComponent(b)+"="+encodeURIComponent(a)};a===c&&(a=d.ajaxSettings&&d.ajaxSettings.traditional);if(d.isArray(b)||b.jquery&&!d.isPlainObject(b))d.each(b,
function(){f(this.name,this.value)});else for(e in b)V(e,b[e],a,f);return g.join("&").replace(cc,"+")};d.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(b,a){d.fn[a]=function(b,d){return 0<arguments.length?this.on(a,null,b,d):this.trigger(a)}});d.fn.hover=function(b,a){return this.mouseenter(b).mouseleave(a||b)};var sa,ma,
Va=d.now(),Wa=/\?/,fc=/#.*$/,rb=/([?&])_=[^&]*/,gc=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,hc=/^(?:GET|HEAD)$/,ic=/^\/\//,sb=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,tb=d.fn.load,ub={},Na={},vb="*/".concat("*");try{ma=Ia.href}catch(nc){ma=E.createElement("a"),ma.href="",ma=ma.href}sa=sb.exec(ma.toLowerCase())||[];d.fn.load=function(b,a,e){if("string"!==typeof b&&tb)return tb.apply(this,arguments);var g,f,m,k=this,l=b.indexOf(" ");0<=l&&(g=b.slice(l,b.length),b=b.slice(0,l));d.isFunction(a)?(e=a,a=c):
a&&"object"===typeof a&&(m="POST");0<k.length&&d.ajax({url:b,type:m,dataType:"html",data:a}).done(function(b){f=arguments;k.html(g?d("<div>").append(d.parseHTML(b)).find(g):b)}).complete(e&&function(b,a){k.each(e,f||[b.responseText,a,b])});return this};d.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(b,a){d.fn[a]=function(b){return this.on(a,b)}});d.each(["get","post"],function(b,a){d[a]=function(b,e,f,m){d.isFunction(e)&&(m=m||f,f=e,e=c);return d.ajax({url:b,
type:a,dataType:m,data:e,success:f})}});d.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ma,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(sa[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":vb,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},
converters:{"* text":a.String,"text html":!0,"text json":d.parseJSON,"text xml":d.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(b,a){return a?ea(ea(b,d.ajaxSettings),a):ea(d.ajaxSettings,b)},ajaxPrefilter:M(ub),ajaxTransport:M(Na),ajax:function(b,a){function e(b,a,f,g){var h,s,r,q,t=a;if(2!==X){X=2;l&&clearTimeout(l);z=c;k=g||"";u.readyState=0<b?4:0;if(f){q=n;g=u;var x,ca,U,y,A=q.contents,F=q.dataTypes,C=q.responseFields;for(y in C)y in f&&(g[C[y]]=f[y]);for(;"*"===F[0];)F.shift(),
ca===c&&(ca=q.mimeType||g.getResponseHeader("Content-Type"));if(ca)for(y in A)if(A[y]&&A[y].test(ca)){F.unshift(y);break}if(F[0]in f)U=F[0];else{for(y in f){if(!F[0]||q.converters[y+" "+F[0]]){U=y;break}x||(x=y)}U=U||x}U?(U!==F[0]&&F.unshift(U),q=f[U]):q=void 0}if(200<=b&&300>b||304===b)if(n.ifModified&&((f=u.getResponseHeader("Last-Modified"))&&(d.lastModified[m]=f),(f=u.getResponseHeader("etag"))&&(d.etag[m]=f)),204===b)h=!0,t="nocontent";else if(304===b)h=!0,t="notmodified";else{a:{s=n;r=q;var B,
Z,t={};x=0;ca=s.dataTypes.slice();U=ca[0];s.dataFilter&&(r=s.dataFilter(r,s.dataType));if(ca[1])for(Z in s.converters)t[Z.toLowerCase()]=s.converters[Z];for(;f=ca[++x];)if("*"!==f){if("*"!==U&&U!==f){Z=t[U+" "+f]||t["* "+f];if(!Z)for(B in t)if(h=B.split(" "),h[1]===f&&(Z=t[U+" "+h[0]]||t["* "+h[0]])){!0===Z?Z=t[B]:!0!==t[B]&&(f=h[0],ca.splice(x--,0,f));break}if(!0!==Z)if(Z&&s["throws"])r=Z(r);else try{r=Z(r)}catch(E){h={state:"parsererror",error:Z?E:"No conversion from "+U+" to "+f};break a}}U=f}h=
{state:"success",data:r}}t=h.state;s=h.data;r=h.error;h=!r}else if(r=t,b||!t)t="error",0>b&&(b=0);u.status=b;u.statusText=(a||t)+"";h?v.resolveWith(I,[s,t,u]):v.rejectWith(I,[u,t,r]);u.statusCode(J);J=c;p&&Q.trigger(h?"ajaxSuccess":"ajaxError",[u,n,h?s:r]);w.fireWith(I,[u,t]);p&&(Q.trigger("ajaxComplete",[u,n]),--d.active||d.event.trigger("ajaxStop"))}}"object"===typeof b&&(a=b,b=c);a=a||{};var g,f,m,k,l,p,z,q,n=d.ajaxSetup({},a),I=n.context||n,Q=n.context&&(I.nodeType||I.jquery)?d(I):d.event,v=d.Deferred(),
w=d.Callbacks("once memory"),J=n.statusCode||{},t={},x={},X=0,ca="canceled",u={readyState:0,getResponseHeader:function(b){var a;if(2===X){if(!q)for(q={};a=gc.exec(k);)q[a[1].toLowerCase()]=a[2];a=q[b.toLowerCase()]}return null==a?null:a},getAllResponseHeaders:function(){return 2===X?k:null},setRequestHeader:function(b,a){var d=b.toLowerCase();X||(b=x[d]=x[d]||b,t[b]=a);return this},overrideMimeType:function(b){X||(n.mimeType=b);return this},statusCode:function(b){var a;if(b)if(2>X)for(a in b)J[a]=
[J[a],b[a]];else u.always(b[u.status]);return this},abort:function(b){b=b||ca;z&&z.abort(b);e(0,b);return this}};v.promise(u).complete=w.add;u.success=u.done;u.error=u.fail;n.url=((b||n.url||ma)+"").replace(fc,"").replace(ic,sa[1]+"//");n.type=a.method||a.type||n.method||n.type;n.dataTypes=d.trim(n.dataType||"*").toLowerCase().match(aa)||[""];null==n.crossDomain&&(g=sb.exec(n.url.toLowerCase()),n.crossDomain=!(!g||g[1]===sa[1]&&g[2]===sa[2]&&(g[3]||("http:"===g[1]?80:443))==(sa[3]||("http:"===sa[1]?
80:443))));n.data&&n.processData&&"string"!==typeof n.data&&(n.data=d.param(n.data,n.traditional));W(ub,n,a,u);if(2===X)return u;(p=n.global)&&0===d.active++&&d.event.trigger("ajaxStart");n.type=n.type.toUpperCase();n.hasContent=!hc.test(n.type);m=n.url;n.hasContent||(n.data&&(m=n.url+=(Wa.test(m)?"&":"?")+n.data,delete n.data),!1===n.cache&&(n.url=rb.test(m)?m.replace(rb,"$1_="+Va++):m+(Wa.test(m)?"&":"?")+"_="+Va++));n.ifModified&&(d.lastModified[m]&&u.setRequestHeader("If-Modified-Since",d.lastModified[m]),
d.etag[m]&&u.setRequestHeader("If-None-Match",d.etag[m]));(n.data&&n.hasContent&&!1!==n.contentType||a.contentType)&&u.setRequestHeader("Content-Type",n.contentType);u.setRequestHeader("Accept",n.dataTypes[0]&&n.accepts[n.dataTypes[0]]?n.accepts[n.dataTypes[0]]+("*"!==n.dataTypes[0]?", "+vb+"; q=0.01":""):n.accepts["*"]);for(f in n.headers)u.setRequestHeader(f,n.headers[f]);if(n.beforeSend&&(!1===n.beforeSend.call(I,u,n)||2===X))return u.abort();ca="abort";for(f in{success:1,error:1,complete:1})u[f](n[f]);
if(z=W(Na,n,a,u)){u.readyState=1;p&&Q.trigger("ajaxSend",[u,n]);n.async&&0<n.timeout&&(l=setTimeout(function(){u.abort("timeout")},n.timeout));try{X=1,z.send(t,e)}catch(U){if(2>X)e(-1,U);else throw U;}}else e(-1,"No Transport");return u},getScript:function(b,a){return d.get(b,c,a,"script")},getJSON:function(b,a,c){return d.get(b,a,c,"json")}});d.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},
converters:{"text script":function(b){d.globalEval(b);return b}}});d.ajaxPrefilter("script",function(b){b.cache===c&&(b.cache=!1);b.crossDomain&&(b.type="GET",b.global=!1)});d.ajaxTransport("script",function(b){if(b.crossDomain){var a,e=E.head||d("head")[0]||E.documentElement;return{send:function(d,c){a=E.createElement("script");a.async=!0;b.scriptCharset&&(a.charset=b.scriptCharset);a.src=b.url;a.onload=a.onreadystatechange=function(b,d){if(d||!a.readyState||/loaded|complete/.test(a.readyState))a.onload=
a.onreadystatechange=null,a.parentNode&&a.parentNode.removeChild(a),a=null,d||c(200,"success")};e.insertBefore(a,e.firstChild)},abort:function(){if(a)a.onload(c,!0)}}}});var wb=[],Xa=/(=)\?(?=&|$)|\?\?/;d.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var b=wb.pop()||d.expando+"_"+Va++;this[b]=!0;return b}});d.ajaxPrefilter("json jsonp",function(b,e,f){var g,k,m,l=!1!==b.jsonp&&(Xa.test(b.url)?"url":"string"===typeof b.data&&!(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&
Xa.test(b.data)&&"data");if(l||"jsonp"===b.dataTypes[0])return g=b.jsonpCallback=d.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,l?b[l]=b[l].replace(Xa,"$1"+g):!1!==b.jsonp&&(b.url+=(Wa.test(b.url)?"&":"?")+b.jsonp+"="+g),b.converters["script json"]=function(){m||d.error(g+" was not called");return m[0]},b.dataTypes[0]="json",k=a[g],a[g]=function(){m=arguments},f.always(function(){a[g]=k;b[g]&&(b.jsonpCallback=e.jsonpCallback,wb.push(g));m&&d.isFunction(k)&&k(m[0]);m=k=c}),"script"});
var za,Da,jc=0,Ya=a.ActiveXObject&&function(){for(var b in za)za[b](c,!0)};d.ajaxSettings.xhr=a.ActiveXObject?function(){var b;if(!(b=!this.isLocal&&ga()))a:{try{b=new a.ActiveXObject("Microsoft.XMLHTTP");break a}catch(d){}b=void 0}return b}:ga;Da=d.ajaxSettings.xhr();d.support.cors=!!Da&&"withCredentials"in Da;(Da=d.support.ajax=!!Da)&&d.ajaxTransport(function(b){if(!b.crossDomain||d.support.cors){var e;return{send:function(f,g){var k,m,l=b.xhr();b.username?l.open(b.type,b.url,b.async,b.username,
b.password):l.open(b.type,b.url,b.async);if(b.xhrFields)for(m in b.xhrFields)l[m]=b.xhrFields[m];b.mimeType&&l.overrideMimeType&&l.overrideMimeType(b.mimeType);b.crossDomain||f["X-Requested-With"]||(f["X-Requested-With"]="XMLHttpRequest");try{for(m in f)l.setRequestHeader(m,f[m])}catch(p){}l.send(b.hasContent&&b.data||null);e=function(a,f){var m,s,p,n;try{if(e&&(f||4===l.readyState))if(e=c,k&&(l.onreadystatechange=d.noop,Ya&&delete za[k]),f)4!==l.readyState&&l.abort();else{n={};m=l.status;s=l.getAllResponseHeaders();
"string"===typeof l.responseText&&(n.text=l.responseText);try{p=l.statusText}catch(z){p=""}m||!b.isLocal||b.crossDomain?1223===m&&(m=204):m=n.text?200:404}}catch(q){f||g(-1,q)}n&&g(m,p,n,s)};b.async?4===l.readyState?setTimeout(e):(k=++jc,Ya&&(za||(za={},d(a).unload(Ya)),za[k]=e),l.onreadystatechange=e):e()},abort:function(){e&&e(c,!0)}}}});var wa,La,kc=/^(?:toggle|show|hide)$/,lc=new RegExp("^(?:([+-])=|)("+R+")([a-z%]*)$","i"),mc=/queueHooks$/,Ga=[function(b,a,c){var e,f,m,k,l,p,n=this,z=b.style,
q={},I=[],Q=b.nodeType&&N(b);c.queue||(l=d._queueHooks(b,"fx"),null==l.unqueued&&(l.unqueued=0,p=l.empty.fire,l.empty.fire=function(){l.unqueued||p()}),l.unqueued++,n.always(function(){n.always(function(){l.unqueued--;d.queue(b,"fx").length||l.empty.fire()})}));1===b.nodeType&&("height"in a||"width"in a)&&(c.overflow=[z.overflow,z.overflowX,z.overflowY],"inline"===d.css(b,"display")&&"none"===d.css(b,"float")&&(d.support.inlineBlockNeedsLayout&&"inline"!==P(b.nodeName)?z.zoom=1:z.display="inline-block"));
c.overflow&&(z.overflow="hidden",d.support.shrinkWrapBlocks||n.always(function(){z.overflow=c.overflow[0];z.overflowX=c.overflow[1];z.overflowY=c.overflow[2]}));for(f in a)m=a[f],kc.exec(m)&&(delete a[f],e=e||"toggle"===m,m!==(Q?"hide":"show")&&I.push(f));if(a=I.length)for(m=d._data(b,"fxshow")||d._data(b,"fxshow",{}),("hidden"in m)&&(Q=m.hidden),e&&(m.hidden=!Q),Q?d(b).show():n.done(function(){d(b).hide()}),n.done(function(){var a;d._removeData(b,"fxshow");for(a in q)d.style(b,a,q[a])}),f=0;f<a;f++)e=
I[f],k=n.createTween(e,Q?m[e]:0),q[e]=m[e]||d.style(b,e),e in m||(m[e]=k.start,Q&&(k.end=k.start,k.start="width"===e||"height"===e?1:0))}],Ba={"*":[function(b,a){var c,e,f=this.createTween(b,a),m=lc.exec(a),k=f.cur(),l=+k||0,n=1,p=20;if(m){c=+m[2];e=m[3]||(d.cssNumber[b]?"":"px");if("px"!==e&&l){l=d.css(f.elem,b,!0)||c||1;do n=n||".5",l/=n,d.style(f.elem,b,l+e);while(n!==(n=f.cur()/k)&&1!==n&&--p)}f.unit=e;f.start=l;f.end=m[1]?l+(m[1]+1)*c:c}return f}]};d.Animation=d.extend(Fa,{tweener:function(b,
a){d.isFunction(b)?(a=b,b=["*"]):b=b.split(" ");for(var c,e=0,f=b.length;e<f;e++)c=b[e],Ba[c]=Ba[c]||[],Ba[c].unshift(a)},prefilter:function(b,a){a?Ga.unshift(b):Ga.push(b)}});d.Tween=T;T.prototype={constructor:T,init:function(b,a,c,e,f,m){this.elem=b;this.prop=c;this.easing=f||"swing";this.options=a;this.start=this.now=this.cur();this.end=e;this.unit=m||(d.cssNumber[c]?"":"px")},cur:function(){var b=T.propHooks[this.prop];return b&&b.get?b.get(this):T.propHooks._default.get(this)},run:function(b){var a,
c=T.propHooks[this.prop];this.pos=this.options.duration?a=d.easing[this.easing](b,this.options.duration*b,0,1,this.options.duration):a=b;this.now=(this.end-this.start)*a+this.start;this.options.step&&this.options.step.call(this.elem,this.now,this);c&&c.set?c.set(this):T.propHooks._default.set(this);return this}};T.prototype.init.prototype=T.prototype;T.propHooks={_default:{get:function(b){return null==b.elem[b.prop]||b.elem.style&&null!=b.elem.style[b.prop]?(b=d.css(b.elem,b.prop,""))&&"auto"!==b?
b:0:b.elem[b.prop]},set:function(b){if(d.fx.step[b.prop])d.fx.step[b.prop](b);else b.elem.style&&(null!=b.elem.style[d.cssProps[b.prop]]||d.cssHooks[b.prop])?d.style(b.elem,b.prop,b.now+b.unit):b.elem[b.prop]=b.now}}};T.propHooks.scrollTop=T.propHooks.scrollLeft={set:function(b){b.elem.nodeType&&b.elem.parentNode&&(b.elem[b.prop]=b.now)}};d.each(["toggle","show","hide"],function(b,a){var c=d.fn[a];d.fn[a]=function(b,d,e){return null==b||"boolean"===typeof b?c.apply(this,arguments):this.animate(ja(a,
!0),b,d,e)}});d.fn.extend({fadeTo:function(b,a,d,c){return this.filter(N).css("opacity",0).show().end().animate({opacity:a},b,d,c)},animate:function(b,a,c,e){var f=d.isEmptyObject(b),m=d.speed(a,c,e),k=function(){var a=Fa(this,d.extend({},b),m);k.finish=function(){a.stop(!0)};(f||d._data(this,"finish"))&&a.stop(!0)};k.finish=k;return f||!1===m.queue?this.each(k):this.queue(m.queue,k)},stop:function(b,a,e){var f=function(b){var a=b.stop;delete b.stop;a(e)};"string"!==typeof b&&(e=a,a=b,b=c);a&&!1!==
b&&this.queue(b||"fx",[]);return this.each(function(){var a=!0,c=null!=b&&b+"queueHooks",h=d.timers,k=d._data(this);if(c)k[c]&&k[c].stop&&f(k[c]);else for(c in k)k[c]&&k[c].stop&&mc.test(c)&&f(k[c]);for(c=h.length;c--;)h[c].elem!==this||null!=b&&h[c].queue!==b||(h[c].anim.stop(e),a=!1,h.splice(c,1));!a&&e||d.dequeue(this,b)})},finish:function(b){!1!==b&&(b=b||"fx");return this.each(function(){var a,c=d._data(this),e=c[b+"queue"];a=c[b+"queueHooks"];var f=d.timers,k=e?e.length:0;c.finish=!0;d.queue(this,
b,[]);a&&a.cur&&a.cur.finish&&a.cur.finish.call(this);for(a=f.length;a--;)f[a].elem===this&&f[a].queue===b&&(f[a].anim.stop(!0),f.splice(a,1));for(a=0;a<k;a++)e[a]&&e[a].finish&&e[a].finish.call(this);delete c.finish})}});d.each({slideDown:ja("show"),slideUp:ja("hide"),slideToggle:ja("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(b,a){d.fn[b]=function(b,d,c){return this.animate(a,b,d,c)}});d.speed=function(b,a,c){var e=b&&"object"===typeof b?d.extend({},
b):{complete:c||!c&&a||d.isFunction(b)&&b,duration:b,easing:c&&a||a&&!d.isFunction(a)&&a};e.duration=d.fx.off?0:"number"===typeof e.duration?e.duration:e.duration in d.fx.speeds?d.fx.speeds[e.duration]:d.fx.speeds._default;if(null==e.queue||!0===e.queue)e.queue="fx";e.old=e.complete;e.complete=function(){d.isFunction(e.old)&&e.old.call(this);e.queue&&d.dequeue(this,e.queue)};return e};d.easing={linear:function(b){return b},swing:function(b){return.5-Math.cos(b*Math.PI)/2}};d.timers=[];d.fx=T.prototype.init;
d.fx.tick=function(){var b,a=d.timers,e=0;for(wa=d.now();e<a.length;e++)b=a[e],b()||a[e]!==b||a.splice(e--,1);a.length||d.fx.stop();wa=c};d.fx.timer=function(b){b()&&d.timers.push(b)&&d.fx.start()};d.fx.interval=13;d.fx.start=function(){La||(La=setInterval(d.fx.tick,d.fx.interval))};d.fx.stop=function(){clearInterval(La);La=null};d.fx.speeds={slow:600,fast:200,_default:400};d.fx.step={};d.expr&&d.expr.filters&&(d.expr.filters.animated=function(b){return d.grep(d.timers,function(a){return b===a.elem}).length});
d.fn.offset=function(b){if(arguments.length)return b===c?this:this.each(function(a){d.offset.setOffset(this,b,a)});var a,e,f={top:0,left:0},l=(e=this[0])&&e.ownerDocument;if(l){a=l.documentElement;if(!d.contains(a,e))return f;typeof e.getBoundingClientRect!==k&&(f=e.getBoundingClientRect());e=oa(l);return{top:f.top+(e.pageYOffset||a.scrollTop)-(a.clientTop||0),left:f.left+(e.pageXOffset||a.scrollLeft)-(a.clientLeft||0)}}};d.offset={setOffset:function(b,a,c){var e=d.css(b,"position");"static"===e&&
(b.style.position="relative");var f=d(b),k=f.offset(),l=d.css(b,"top"),n=d.css(b,"left"),p={},z={};("absolute"===e||"fixed"===e)&&-1<d.inArray("auto",[l,n])?(z=f.position(),e=z.top,n=z.left):(e=parseFloat(l)||0,n=parseFloat(n)||0);d.isFunction(a)&&(a=a.call(b,c,k));null!=a.top&&(p.top=a.top-k.top+e);null!=a.left&&(p.left=a.left-k.left+n);"using"in a?a.using.call(b,p):f.css(p)}};d.fn.extend({position:function(){if(this[0]){var b,a,c={top:0,left:0},e=this[0];"fixed"===d.css(e,"position")?a=e.getBoundingClientRect():
(b=this.offsetParent(),a=this.offset(),d.nodeName(b[0],"html")||(c=b.offset()),c.top+=d.css(b[0],"borderTopWidth",!0),c.left+=d.css(b[0],"borderLeftWidth",!0));return{top:a.top-c.top-d.css(e,"marginTop",!0),left:a.left-c.left-d.css(e,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var b=this.offsetParent||E.documentElement;b&&!d.nodeName(b,"html")&&"static"===d.css(b,"position");)b=b.offsetParent;return b||E.documentElement})}});d.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},
function(b,a){var e=/Y/.test(a);d.fn[b]=function(f){return d.access(this,function(b,f,g){var k=oa(b);if(g===c)return k?a in k?k[a]:k.document.documentElement[f]:b[f];k?k.scrollTo(e?d(k).scrollLeft():g,e?g:d(k).scrollTop()):b[f]=g},b,f,arguments.length,null)}});d.each({Height:"height",Width:"width"},function(b,a){d.each({padding:"inner"+b,content:a,"":"outer"+b},function(e,f){d.fn[f]=function(f,g){var k=arguments.length&&(e||"boolean"!==typeof f),l=e||(!0===f||!0===g?"margin":"border");return d.access(this,
function(a,e,f){return d.isWindow(a)?a.document.documentElement["client"+b]:9===a.nodeType?(e=a.documentElement,Math.max(a.body["scroll"+b],e["scroll"+b],a.body["offset"+b],e["offset"+b],e["client"+b])):f===c?d.css(a,e,l):d.style(a,e,f,l)},a,k?f:c,k,null)}})});a.jQuery=a.$=d;"function"===typeof define&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return d})})(window);var WebMol=WebMol||{};
WebMol.Math={clamp:function(a,c,e){return Math.min(Math.max(a,c),e)},degToRad:function(){var a=Math.PI/180;return function(c){return c*a}}()};WebMol.Quaternion=function(a,c,e,f){this.x=a||0;this.y=c||0;this.z=e||0;this.w=void 0!==f?f:1};
WebMol.Quaternion.prototype={constructor:WebMol.Quaternion,set:function(a,c,e,f){this.x=a;this.y=c;this.z=e;this.w=f;return this},copy:function(a){this.x=a.x;this.y=a.y;this.z=a.z;this.w=a.w;return this},conjugate:function(){this.x*=-1;this.y*=-1;this.z*=-1;return this},inverse:function(){return this.conjugate().normalize()},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},normalize:function(){var a=this.length();0===a?(this.z=this.y=this.x=0,this.w=1):
(a=1/a,this.x*=a,this.y*=a,this.z*=a,this.w*=a);return this},multiply:function(a){return this.multiplyQuaternions(this,a)},multiplyQuaternions:function(a,c){var e=a.x,f=a.y,l=a.z,q=a.w,p=c.x,n=c.y,v=c.z,x=c.w;this.x=e*x+q*p+f*v-l*n;this.y=f*x+q*n+l*p-e*v;this.z=l*x+q*v+e*n-f*p;this.w=q*x-e*p-f*n-l*v}};WebMol.Vector2=function(a,c){this.x=a||0;this.y=c||0};
WebMol.Vector2.prototype={constructor:WebMol.Vector2,set:function(a,c){this.x=a;this.y=c;return this},subVectors:function(a,c){this.x=a.x-c.x;this.y=a.y-c.y;return this},copy:function(a){this.x=a.x;this.y=a.y;return this},clone:function(){return new WebMol.Vector2(this.x,this.y)}};WebMol.Vector3=function(a,c,e){this.x=a||0;this.y=c||0;this.z=e||0};
WebMol.Vector3.prototype={constructor:WebMol.Vector3,set:function(a,c,e){this.x=a;this.y=c;this.z=e;return this},copy:function(a){this.x=a.x;this.y=a.y;this.z=a.z;return this},add:function(a){this.x+=a.x;this.y+=a.y;this.z+=a.z;return this},addVectors:function(a,c){this.x=a.x+c.x;this.y=a.y+c.y;this.z=a.z+c.z;return this},sub:function(a){this.x-=a.x;this.y-=a.y;this.z-=a.z;return this},subVectors:function(a,c){this.x=a.x-c.x;this.y=a.y-c.y;this.z=a.z-c.z;return this},multiplyScalar:function(a){this.x*=
a;this.y*=a;this.z*=a;return this},divideScalar:function(a){0!==a?(this.x/=a,this.y/=a,this.z/=a):this.z=this.y=this.x=0;return this},distanceTo:function(a){return Math.sqrt(this.distanceToSquared(a))},distanceToSquared:function(a){var c=this.x-a.x,e=this.y-a.y;a=this.z-a.z;return c*c+e*e+a*a},applyMatrix4:function(a){var c=this.x,e=this.y,f=this.z;a=a.elements;this.x=a[0]*c+a[4]*e+a[8]*f+a[12];this.y=a[1]*c+a[5]*e+a[9]*f+a[13];this.z=a[2]*c+a[6]*e+a[10]*f+a[14];return this},applyProjection:function(a){var c=
this.x,e=this.y,f=this.z;a=a.elements;var l=a[3]*c+a[7]*e+a[11]*f+a[15];this.x=(a[0]*c+a[4]*e+a[8]*f+a[12])/l;this.y=(a[1]*c+a[5]*e+a[9]*f+a[13])/l;this.z=(a[2]*c+a[6]*e+a[10]*f+a[14])/l;return this},applyQuaternion:function(a){var c=this.x,e=this.y,f=this.z,l=a.x,q=a.y,p=a.z;a=a.w;var n=a*c+q*f-p*e,v=a*e+p*c-l*f,x=a*f+l*e-q*c,c=-a*c-q*e-p*f;this.x=n*a+c*-l+v*-p-x*-q;this.y=v*a+c*-q+x*-l-n*-p;this.z=x*a+c*-p+n*-q-v*-l;return this},negate:function(){return this.multiplyScalar(-1)},dot:function(a){return this.x*
a.x+this.y*a.y+this.z*a.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},normalize:function(){return this.divideScalar(this.length())},cross:function(a){var c=this.x,e=this.y,f=this.z;this.x=e*a.z-f*a.y;this.y=f*a.x-c*a.z;this.z=c*a.y-e*a.x;return this},crossVectors:function(a,c){this.x=a.y*c.z-a.z*c.y;this.y=a.z*c.x-a.x*c.z;this.z=a.x*c.y-a.y*c.x;return this},getPositionFromMatrix:function(a){this.x=
a.elements[12];this.y=a.elements[13];this.z=a.elements[14];return this},setEulerFromRotationMatrix:function(a,c){var e=a.elements,f=e[0],l=e[4],q=e[8],p=e[5],n=e[9],v=e[6],e=e[10];void 0===c||"XYZ"===c?(this.y=Math.asin(WebMol.Math.clamp(q,-1,1)),.99999>Math.abs(q)?(this.x=Math.atan2(-n,e),this.z=Math.atan2(-l,f)):(this.x=Math.atan2(v,p),this.z=0)):console.error("Error with vector's setEulerFromRotationMatrix: Unknown order: "+c);return this},clone:function(){return new WebMol.Vector3(this.x,this.y,
this.z)}};WebMol.Matrix3=function(a,c,e,f,l,q,p,n,v){this.elements=new Float32Array(9);this.set(void 0!==a?a:1,c||0,e||0,f||0,void 0!==l?l:1,q||0,p||0,n||0,void 0!==v?v:1)};
WebMol.Matrix3.prototype={constructor:WebMol.Matrix3,set:function(a,c,e,f,l,q,p,n,v){var x=this.elements;x[0]=a;x[3]=c;x[6]=e;x[1]=f;x[4]=l;x[7]=q;x[2]=p;x[5]=n;x[8]=v;return this},identity:function(){this.set(1,0,0,0,1,0,0,0,1);return this},copy:function(a){a=a.elements;this.set(a[0],a[3],a[6],a[1],a[4],a[7],a[2],a[5],a[8])},multiplyScalar:function(a){var c=this.elements;c[0]*=a;c[3]*=a;c[6]*=a;c[1]*=a;c[4]*=a;c[7]*=a;c[2]*=a;c[5]*=a;c[8]*=a;return this},getInverse:function(a,c){var e=a.elements,
f=this.elements;f[0]=e[10]*e[5]-e[6]*e[9];f[1]=-e[10]*e[1]+e[2]*e[9];f[2]=e[6]*e[1]-e[2]*e[5];f[3]=-e[10]*e[4]+e[6]*e[8];f[4]=e[10]*e[0]-e[2]*e[8];f[5]=-e[6]*e[0]+e[2]*e[4];f[6]=e[9]*e[4]-e[5]*e[8];f[7]=-e[9]*e[0]+e[1]*e[8];f[8]=e[5]*e[0]-e[1]*e[4];e=e[0]*f[0]+e[1]*f[3]+e[2]*f[6];if(0===e){if(c)throw Error("Matrix3.getInverse(): can't invert matrix, determinant is 0");console.warn("Matrix3.getInverse(): can't invert matrix, determinant is 0");this.identity();return this}this.multiplyScalar(1/e);return this},
transpose:function(){var a,c=this.elements;a=c[1];c[1]=c[3];c[3]=a;a=c[2];c[2]=c[6];c[6]=a;a=c[5];c[5]=c[7];c[7]=a;return this},clone:function(){var a=this.elements;return new WebMol.Matrix3(a[0],a[3],a[6],a[1],a[4],a[7],a[2],a[5],a[8])}};
WebMol.Matrix4=function(a,c,e,f,l,q,p,n,v,x,A,J,F,C,G,y){var t=this.elements=new Float32Array(16);t[0]=void 0!==a?a:1;t[4]=c||0;t[8]=e||0;t[12]=f||0;t[1]=l||0;t[5]=void 0!==q?q:1;t[9]=p||0;t[13]=n||0;t[2]=v||0;t[6]=x||0;t[10]=void 0!==A?A:1;t[14]=J||0;t[3]=F||0;t[7]=C||0;t[11]=G||0;t[15]=void 0!==y?y:1};
WebMol.Matrix4.prototype={constructor:WebMol.Matrix4,set:function(a,c,e,f,l,q,p,n,v,x,A,J,F,C,G,y){var t=this.elements;t[0]=a;t[4]=c;t[8]=e;t[12]=f;t[1]=l;t[5]=q;t[9]=p;t[13]=n;t[2]=v;t[6]=x;t[10]=A;t[14]=J;t[3]=F;t[7]=C;t[11]=G;t[15]=y;return this},identity:function(){this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1);return this},copy:function(a){a=a.elements;this.set(a[0],a[4],a[8],a[12],a[1],a[5],a[9],a[13],a[2],a[6],a[10],a[14],a[3],a[7],a[11],a[15]);return this},setRotationFromEuler:function(a,c){var e=
this.elements,f=a.x,l=a.y,q=a.z,p=Math.cos(f),f=Math.sin(f),n=Math.cos(l),l=Math.sin(l),v=Math.cos(q),q=Math.sin(q);if(void 0===c||"XYZ"===c){var x=p*v,A=p*q,J=f*v,F=f*q;e[0]=n*v;e[4]=-n*q;e[8]=l;e[1]=A+J*l;e[5]=x-F*l;e[9]=-f*n;e[2]=F-x*l;e[6]=J+A*l;e[10]=p*n}else console.error("Error with matrix4 setRotationFromEuler. Order: "+c);return this},setRotationFromQuaternion:function(a){var c=this.elements,e=a.x,f=a.y,l=a.z,q=a.w,p=e+e,n=f+f,v=l+l;a=e*p;var x=e*n,e=e*v,A=f*n,f=f*v,l=l*v,p=q*p,n=q*n,q=q*
v;c[0]=1-(A+l);c[4]=x-q;c[8]=e+n;c[1]=x+q;c[5]=1-(a+l);c[9]=f-p;c[2]=e-n;c[6]=f+p;c[10]=1-(a+A);return this},lookAt:function(){var a=new WebMol.Vector3,c=new WebMol.Vector3,e=new WebMol.Vector3;return function(f,l,q){var p=this.elements;e.subVectors(f,l).normalize();0===e.length()&&(e.z=1);a.crossVectors(q,e).normalize();0===a.length()&&(e.x+=1E-4,a.crossVectors(q,e).normalize());c.crossVectors(e,a);p[0]=a.x;p[4]=c.x;p[8]=e.x;p[1]=a.y;p[5]=c.y;p[9]=e.y;p[2]=a.z;p[6]=c.z;p[10]=e.z;return this}}(),
multiplyMatrices:function(a,c){var e=a.elements,f=c.elements,l=this.elements,q=e[0],p=e[4],n=e[8],v=e[12],x=e[1],A=e[5],J=e[9],F=e[13],C=e[2],G=e[6],y=e[10],t=e[14],B=e[3],u=e[7],K=e[11],e=e[15],S=f[0],N=f[4],O=f[8],H=f[12],w=f[1],L=f[5],P=f[9],$=f[13],V=f[2],M=f[6],W=f[10],ea=f[14],ga=f[3],fa=f[7],ba=f[11],f=f[15];l[0]=q*S+p*w+n*V+v*ga;l[4]=q*N+p*L+n*M+v*fa;l[8]=q*O+p*P+n*W+v*ba;l[12]=q*H+p*$+n*ea+v*f;l[1]=x*S+A*w+J*V+F*ga;l[5]=x*N+A*L+J*M+F*fa;l[9]=x*O+A*P+J*W+F*ba;l[13]=x*H+A*$+J*ea+F*f;l[2]=C*
S+G*w+y*V+t*ga;l[6]=C*N+G*L+y*M+t*fa;l[10]=C*O+G*P+y*W+t*ba;l[14]=C*H+G*$+y*ea+t*f;l[3]=B*S+u*w+K*V+e*ga;l[7]=B*N+u*L+K*M+e*fa;l[11]=B*O+u*P+K*W+e*ba;l[15]=B*H+u*$+K*ea+e*f;return this},multiplyScalar:function(a){var c=this.elements;c[0]*=a;c[4]*=a;c[8]*=a;c[12]*=a;c[1]*=a;c[5]*=a;c[9]*=a;c[13]*=a;c[2]*=a;c[6]*=a;c[10]*=a;c[14]*=a;c[3]*=a;c[7]*=a;c[11]*=a;c[15]*=a;return this},transpose:function(){var a=this.elements,c;c=a[1];a[1]=a[4];a[4]=c;c=a[2];a[2]=a[8];a[8]=c;c=a[6];a[6]=a[9];a[9]=c;c=a[3];
a[3]=a[12];a[12]=c;c=a[7];a[7]=a[13];a[13]=c;c=a[11];a[11]=a[14];a[14]=c;return this},getPosition:function(){var a=new WebMol.Vector3;return function(){console.warn("DEPRECATED: Matrix4's .getPosition() has been removed. Use Vector3.getPositionFromMatrix( matrix ) instead.");var c=this.elements;return a.set(c[12],c[13],c[14])}}(),setPosition:function(a){var c=this.elements;c[12]=a.x;c[13]=a.y;c[14]=a.z;return this},getInverse:function(a,c){var e=this.elements,f=a.elements,l=f[0],q=f[4],p=f[8],n=f[12],
v=f[1],x=f[5],A=f[9],J=f[13],F=f[2],C=f[6],G=f[10],y=f[14],t=f[3],B=f[7],u=f[11],K=f[15];e[0]=A*y*B-J*G*B+J*C*u-x*y*u-A*C*K+x*G*K;e[4]=n*G*B-p*y*B-n*C*u+q*y*u+p*C*K-q*G*K;e[8]=p*J*B-n*A*B+n*x*u-q*J*u-p*x*K+q*A*K;e[12]=n*A*C-p*J*C-n*x*G+q*J*G+p*x*y-q*A*y;e[1]=J*G*t-A*y*t-J*F*u+v*y*u+A*F*K-v*G*K;e[5]=p*y*t-n*G*t+n*F*u-l*y*u-p*F*K+l*G*K;e[9]=n*A*t-p*J*t-n*v*u+l*J*u+p*v*K-l*A*K;e[13]=p*J*F-n*A*F+n*v*G-l*J*G-p*v*y+l*A*y;e[2]=x*y*t-J*C*t+J*F*B-v*y*B-x*F*K+v*C*K;e[6]=n*C*t-q*y*t-n*F*B+l*y*B+q*F*K-l*C*K;
e[10]=q*J*t-n*x*t+n*v*B-l*J*B-q*v*K+l*x*K;e[14]=n*x*F-q*J*F-n*v*C+l*J*C+q*v*y-l*x*y;e[3]=A*C*t-x*G*t-A*F*B+v*G*B+x*F*u-v*C*u;e[7]=q*G*t-p*C*t+p*F*B-l*G*B-q*F*u+l*C*u;e[11]=p*x*t-q*A*t-p*v*B+l*A*B+q*v*u-l*x*u;e[15]=q*A*F-p*x*F+p*v*C-l*A*C-q*v*G+l*x*G;e=f[0]*e[0]+f[1]*e[4]+f[2]*e[8]+f[3]*e[12];if(0===e){if(c)throw Error("Matrix4.getInverse(): can't invert matrix, determinant is 0");console.warn("Matrix4.getInverse(): can't invert matrix, determinant is 0");this.identity();return this}this.multiplyScalar(1/
e);return this},compose:function(){var a=new WebMol.Matrix4,c=new WebMol.Matrix4;return function(e,f,l){var q=this.elements;a.identity();a.setRotationFromQuaternion(f);c.makeScale(l.x,l.y,l.z);this.multiplyMatrices(a,c);q[12]=e.x;q[13]=e.y;q[14]=e.z;return this}}(),decompose:function(){var a=new WebMol.Vector3,c=new WebMol.Vector3,e=new WebMol.Vector3,f=new WebMol.Matrix4;return function(l,q,p){var n=this.elements;a.set(n[0],n[1],n[2]);c.set(n[4],n[5],n[6]);e.set(n[8],n[9],n[10]);l=l instanceof WebMol.Vector3?
l:new WebMol.Vector3;q=q instanceof WebMol.Quaternion?q:new WebMol.Quaternion;p=p instanceof Webmol.Vector3?p:new WebMol.Vector3;p.x=a.length();p.y=c.length();p.z=e.length();l.x=n[12];l.y=n[13];l.z=n[14];f.copy(this);f.elements[0]/=p.x;f.elements[1]/=p.x;f.elements[2]/=p.x;f.elements[4]/=p.y;f.elements[5]/=p.y;f.elements[6]/=p.y;f.elements[8]/=p.z;f.elements[9]/=p.z;f.elements[10]/=p.z;q.setFromRotationMatrix(f);return[l,q,p]}}(),scale:function(a){var c=this.elements,e=a.x,f=a.y;a=a.z;c[0]*=e;c[4]*=
f;c[8]*=a;c[1]*=e;c[5]*=f;c[9]*=a;c[2]*=e;c[6]*=f;c[10]*=a;c[3]*=e;c[7]*=f;c[11]*=a;return this},getMaxScaleOnAxis:function(){var a=this.elements;return Math.sqrt(Math.max(a[0]*a[0]+a[1]*a[1]+a[2]*a[2],Math.max(a[4]*a[4]+a[5]*a[5]+a[6]*a[6],a[8]*a[8]+a[9]*a[9]+a[10]*a[10])))},makeFrustum:function(a,c,e,f,l,q){var p=this.elements;p[0]=2*l/(c-a);p[4]=0;p[8]=(c+a)/(c-a);p[12]=0;p[1]=0;p[5]=2*l/(f-e);p[9]=(f+e)/(f-e);p[13]=0;p[2]=0;p[6]=0;p[10]=-(q+l)/(q-l);p[14]=-2*q*l/(q-l);p[3]=0;p[7]=0;p[11]=-1;p[15]=
0;return this},makePerspective:function(a,c,e,f){a=e*Math.tan(WebMol.Math.degToRad(.5*a));var l=-a;return this.makeFrustum(l*c,a*c,l,a,e,f)},clone:function(){var a=this.elements;return new WebMol.Matrix4(a[0],a[4],a[8],a[12],a[1],a[5],a[9],a[13],a[2],a[6],a[10],a[14],a[3],a[7],a[11],a[15])}};WebMol.Ray=function(a,c){this.origin=void 0!==a?a:new WebMol.Vector3;this.direction=void 0!==c?c:new WebMol.Vector3};
WebMol.Ray.prototype={constructor:WebMol.Ray,set:function(a,c){this.origin.copy(a);this.direction.copy(c);return this},copy:function(a){this.origin.copy(a.origin);this.direction.copy(a.direction);return this},at:function(a,c){return(c||new WebMol.Vector3).copy(this.direction).multiplyScalar(a).add(this.origin)},recast:function(){var a=new WebMol.Vector3;return function(c){this.origin.copy(this.at(c,a));return this}}(),closestPointToPoint:function(a,c){var e=c||new WebMol.Vector3;e.subVectors(a,this.origin);
var f=e.dot(this.direction);return e.copy(this.direction).multiplyScalar(f).add(this.origin)},distanceToPoint:function(){var a=new WebMol.Vector3;return function(c){var e=a.subVectors(c,this.origin).dot(this.direction);a.copy(this.direction).multiplyScalar(e).add(this.origin);return a.distanceTo(c)}}(),isIntersectionCylinder:function(){},isIntersectionSphere:function(a){return this.distanceToPoint(a.center)<=a.radius},isIntersectionPlane:function(a){return 0!==a.normal.dot(this.direction)||0===a.distanceToPoint(this.origin)?
!0:!1},distanceToPlane:function(a){var c=a.normal.dot(this.direction);if(0===c){if(0===a.distanceToPoint(this.origin))return 0}else return-(this.origin.dot(a.normal)+a.constant)/c},intersectPlane:function(a,c){var e=this.distanceToPlane(a);return void 0===e?void 0:this.at(e,c)},applyMatrix4:function(a){this.direction.add(this.origin).applyMatrix4(a);this.origin.applyMatrix4(a);this.direction.sub(this.origin);return this},equals:function(a){return a.origin.equals(this.origin)&&a.direction.equals(this.direction)},
clone:function(){return(new WebMol.Ray).copy(this)}};WebMol.Sphere=function(a,c){this.center=void 0!==a?a:new WebMol.Vector3;this.radius=void 0!==c?c:0};
WebMol.Sphere.prototype={constructor:WebMol.Sphere,set:function(a,c){this.center.copy(a);this.radius=c;return this},copy:function(a){this.center.copy(a.center);this.radius=a.radius;return this},applyMatrix4:function(a){this.center.applyMatrix4(a);this.radius*=a.getMaxScaleOnAxis();return this},translate:function(a){this.center.add(a);return this},equals:function(a){return a.center.equals(this.center)&&a.radius===this.radius},clone:function(){return(new WebMol.Sphere).copy(this)}};
WebMol.Cylinder=function(a,c,e){this.c1=void 0!==a?a:new WebMol.Vector3;this.c2=void 0!==c?c:new WebMol.Vector3;this.direction=(new WebMol.Vector3).subVectors(this.c2,this.c1).normalize();this.radius=void 0!==e?e:0};
WebMol.Cylinder.prototype={constructor:WebMol.Cylinder,copy:function(a){this.c1.copy(a.c1);this.c2.copy(a.c2);this.direction.copy(a.direction);this.radius=a.radius;return this},lengthSq:function(){var a=new WebMol.Vector3;return function(){return a.subVectors(this.c2,this.c1).lengthSq()}}(),applyMatrix4:function(a){this.direction.add(this.c1).applyMatrix4(a);this.c1.applyMatrix4(a);this.c2.applyMatrix4(a);this.direction.sub(this.c1).normalize();this.radius*=a.getMaxScaleOnAxis();return this}};
WebMol.Triangle=function(a,c,e){this.a=void 0!==a?a:new WebMol.Vector3;this.b=void 0!==c?c:new WebMol.Vector3;this.c=void 0!==e?e:new WebMol.Vector3};
WebMol.Triangle.prototype={constructor:WebMol.Triangle,copy:function(a){this.a.copy(a.a);this.b.copy(a.b);this.c.copy(a.c);return this},applyMatrix4:function(a){this.a.applyMatrix4(a);this.b.applyMatrix4(a);this.c.applyMatrix4(a);return this},getNormal:function(){var a=new WebMol.Vector3;return function(){var c=this.a.clone();c.sub(this.b);a.subVectors(this.c,this.b);c.cross(a);c.normalize();return c}}()};
WebMol.EventDispatcher=function(){var a={};this.addEventListener=function(c,e){void 0===a[c]&&(a[c]=[]);-1===a[c].indexOf(e)&&a[c].push(e)};this.removeEventListener=function(c,e){var f=a[c].indexOf(e);-1!==f&&a[c].splice(f,1)};this.dispatchEvent=function(c){var e=a[c.type];if(void 0!==e){c.target=this;for(var f=0,l=e.length;f<l;f++)e[f].call(this,c)}}};WebMol.Color=function(a){return 1<arguments.length?(this.r=arguments[0]||0,this.g=arguments[1]||0,this.b=arguments[2]||0,this):this.set(a)};
WebMol.Color.prototype={constructor:WebMol.Color,r:0,g:0,b:0,set:function(a){if(a instanceof WebMol.Color)return a.clone();"number"===typeof a&&this.setHex(a)},setHex:function(a){a=Math.floor(a);this.r=(a>>16&255)/255;this.g=(a>>8&255)/255;this.b=(a&255)/255;return this},clone:function(){return new WebMol.Color(this.r,this.g,this.b)},copy:function(a){this.r=a.r;this.g=a.g;this.b=a.b;return this},scaled:function(){var a={};a.r=Math.round(255*this.r);a.g=Math.round(255*this.g);a.b=Math.round(255*this.b);
a.a=1;return a}};
WebMol.Object3D=function(){this.id=WebMol.Object3DIDCount++;this.name="";this.parent=void 0;this.children=[];this.position=new WebMol.Vector3;this.rotation=new WebMol.Vector3;this.matrix=new WebMol.Matrix4;this.matrixWorld=new WebMol.Matrix4;this.quaternion=new WebMol.Quaternion;this.eulerOrder="XYZ";this.up=new WebMol.Vector3(0,1,0);this.scale=new WebMol.Vector3(1,1,1);this.rotationAutoUpdate=this.matrixWorldNeedsUpdate=this.matrixAutoUpdate=!0;this.useQuaternion=!1;this.visible=!0};
WebMol.Object3D.prototype={constructor:WebMol.Object3D,lookAt:function(a){this.matrix.lookAt(a,this.position,this.up);this.rotationAutoUpdate&&(!0===this.useQuaternion?this.quaternion.copy(this.matrix.decompose()[1]):this.rotation.setEulerFromRotationMatrix(this.matrix,this.eulerOrder))},add:function(a){if(a===this)console.error("Can't add WebMol.Object3D to itself");else{a.parent=this;this.children.push(a);for(var c=this;void 0!==c.parent;)c=c.parent;void 0!==c&&c instanceof WebMol.Scene&&c.__addObject(a)}},
remove:function(a){var c=this.children.indexOf(a);if(-1!==c){a.parent=void 0;this.children.splice(c,1);for(c=this;void 0!==c.parent;)c=c.parent;void 0!==c&&c instanceof WebMol.Scene&&c.__removeObject(a)}},updateMatrix:function(){this.matrix.setPosition(this.position);!1===this.useQuaternion?this.matrix.setRotationFromEuler(this.rotation,this.eulerOrder):this.matrix.setRotationFromQuaternion(this.quaternion);1===this.scale.x&&1===this.scale.y&&1===this.scale.z||this.matrix.scale(this.scale);this.matrixWorldNeedsUpdate=
!0},updateMatrixWorld:function(a){!0===this.matrixAutoUpdate&&this.updateMatrix();if(!0===this.matrixWorldNeedsUpdate||!0===a)void 0===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix);this.matrixWorldNeedsUpdate=!1;for(a=0;a<this.children.length;a++)this.children[a].updateMatrixWorld(!0)},clone:function(a){void 0===a&&(a=new WebMol.Object3D);a.name=this.name;a.up.copy(this.up);a.position.copy(this.position);a.rotation.copy(this.rotation);
a.eulerOrder=this.eulerOrder;a.scale.copy(this.scale);a.rotationAutoUpdate=this.rotationAutoUpdate;a.matrix.copy(this.matrix);a.matrixWorld.copy(this.matrixWorld);a.quaternion.copy(this.quaternion);a.useQuaternion=this.useQuaternion;a.visible=this.visible;for(var c=0;c<this.children.length;c++)a.add(this.children[c].clone());return a}};WebMol.Object3DIDCount=0;
WebMol.Geometry=function(){var a=function(a){this.id=a||0;this.lineArray=this.faceArray=this.normalArray=this.colorArray=this.vertexArray=null;this.lineidx=this.faceidx=this.vertices=0};a.prototype.getNumVertices=function(){return this.vertices};a.prototype.getVertices=function(){return this.vertexArray};a.prototype.getCentroid=function(){for(var a=new WebMol.Vector3,c,e,p,n=0;n<this.vertices;++n)c=3*n,e=this.vertexArray[c],p=this.vertexArray[c+1],c=this.vertexArray[c+2],a.x+=e,a.y+=p,a.z+=c;a.divideScalar(this.vertices);
return a};a.prototype.setNormals=function(){var a=this.faceArray,c=this.vertexArray,e=this.normalArray;if(this.vertices&&this.faceidx)for(var p,n,v,x,A,J,F=0;F<a.length/3;++F)p=3*a[3*F],n=3*a[3*F+1],v=3*a[3*F+2],x=new WebMol.Vector3(c[p],c[p+1],c[p+2]),A=new WebMol.Vector3(c[n],c[n+1],c[n+2]),J=new WebMol.Vector3(c[v],c[v+1],c[v+2]),x.subVectors(x,A),J.subVectors(J,A),J.cross(x),x=J,x.normalize(),e[p]+=x.x,e[n]+=x.x,e[v]+=x.x,e[p+1]+=x.y,e[n+1]+=x.y,e[v+1]+=x.y,e[p+2]+=x.z,e[n+2]+=x.z,e[v+2]+=x.z};
a.prototype.setLineIndices=function(){if(this.faceidx){var a=this.faceArray,c=this.lineArray=new Uint16Array(2*this.faceidx);this.lineidx=2*this.faceidx;for(var e,p=0;p<this.faceidx/3;++p){e=3*p;lineoffset=2*e;var n=a[e],v=a[e+1];e=a[e+2];c[lineoffset]=n;c[lineoffset+1]=v;c[lineoffset+2]=n;c[lineoffset+3]=e;c[lineoffset+4]=v;c[lineoffset+5]=e}}};a.prototype.truncateArrayBuffers=function(a,c){a=!0===a?!0:!1;var e=this.colorArray,p=this.normalArray,n=this.faceArray,v=this.lineArray;this.vertexArray=
this.vertexArray.subarray(0,3*this.vertices);this.colorArray=e.subarray(0,3*this.vertices);a?(this.normalArray=p.subarray(0,3*this.vertices),this.faceArray=n.subarray(0,this.faceidx),this.lineArray=0<this.lineidx?v.subarray(0,this.lineidx):new Uint16Array):(this.normalArray=new Float32Array,this.faceArray=new Uint16Array,this.lineArray=new Uint16Array);c&&(this.normalArray&&(this.normalArray=new Float32Array(this.normalArray)),this.faceArray&&(this.faceArray=new Uint16Array(this.faceArray)),this.lineArray&&
(this.lineArray=new Uint16Array(this.lineArray)),this.vertexArray&&(this.vertexArray=new Float32Array(this.vertexArray)),this.colorArray&&(this.colorArray=new Float32Array(this.colorArray)));this.__inittedArrays=!0};var c=function(c){var e=new a(c.geometryGroups.length);c.geometryGroups.push(e);c.groups=c.geometryGroups.length;e.vertexArray=new Float32Array(196605);e.colorArray=new Float32Array(196605);c.mesh&&(e.normalArray=new Float32Array(196605),e.faceArray=new Uint16Array(393210),e.lineArray=
new Uint16Array(393210));return e},e=function(a){WebMol.EventDispatcher.call(this);this.id=WebMol.GeometryIDCount++;this.name="";this.hasTangents=!1;this.dynamic=!0;this.mesh=!0===a?!0:!1;this.buffersNeedUpdate=this.colorsNeedUpdate=this.normalsNeedUpdate=this.elementsNeedUpdate=this.verticesNeedUpdate=!1;this.geometryGroups=[];this.groups=0};e.prototype={constructor:e,updateGeoGroup:function(a){var e=0<this.groups?this.geometryGroups[this.groups-1]:null;if(!e||65535<e.vertices+(a||0))e=c(this);return e},
addGeoGroup:function(){return c(this)},setUpNormals:function(a){a=a||!1;for(var c=0;c<this.groups;c++)this.geometryGroups[c].setNormals(a)},setUpWireframe:function(){for(var a=0;a<this.groups;a++)this.geometryGroups[a].setLineIndices()},initTypedArrays:function(){for(var a=0;a<this.groups;a++){var c=this.geometryGroups[a];!0!==c.__inittedArrays&&c.truncateArrayBuffers(this.mesh,!1)}},dispose:function(){this.dispatchEvent({type:"dispose"})}};return e}();
Object.defineProperty(WebMol.Geometry.prototype,"vertices",{get:function(){for(var a=0,c=0;c<this.groups;c++)a+=this.geometryGroups[c].vertices;return a}});WebMol.GeometryIDCount=0;
WebMol.Raycaster=function(){var a=function(a,c,e,f){this.ray=new WebMol.Ray(a,c);0<this.ray.direction.lengthSq()&&this.ray.direction.normalize();this.near=f||0;this.far=e||Infinity},c=new WebMol.Sphere,e=new WebMol.Cylinder,f=new WebMol.Triangle,l=new WebMol.Vector3,q=new WebMol.Vector3,p=new WebMol.Vector3,n=new WebMol.Vector3;new WebMol.Ray;new WebMol.Vector3;var v=new WebMol.Vector3;new WebMol.Matrix4;var x=function(a,c){return a.distance-c.distance},A=function(a){return Math.min(Math.max(a,-1),
1)};a.prototype.precision=1E-4;a.prototype.linePrecision=.2;a.prototype.set=function(a,c){this.ray.set(a,c)};a.prototype.intersectObjects=function(a,F){for(var C=[],G=0,y=F.length;G<y;G++)a:{var t=a,B=F[G],u=C;v.getPositionFromMatrix(t.matrixWorld);if(!0===B.clickable&&void 0!==B.intersectionShape){var K=B.intersectionShape,S=this.linePrecision,S=S*t.matrixWorld.getMaxScaleOnAxis(),S=S*S;if(void 0!==B.boundingSphere&&B.boundingSphere instanceof WebMol.Sphere&&(c.copy(B.boundingSphere),c.applyMatrix4(t.matrixWorld),
!this.ray.isIntersectionSphere(c)))break a;for(var N=void 0,O=void 0,H=void 0,w=void 0,L=H=void 0,P=void 0,$=void 0,V=void 0,M=void 0,W=M=L=w=void 0,N=0,O=K.triangle.length;N<O;N++)K.triangle[N]instanceof WebMol.Triangle&&(f.copy(K.triangle[N]),f.applyMatrix4(t.matrixWorld),H=f.getNormal(),w=this.ray.direction.dot(H),0<=w||(l.subVectors(f.a,this.ray.origin),P=H.dot(l)/w,0>P||(q.copy(this.ray.direction).multiplyScalar(P).add(this.ray.origin),q.sub(f.a),p.copy(f.b).sub(f.a),n.copy(f.c).sub(f.a),w=p.dot(n),
H=p.lengthSq(),L=n.lengthSq(),L=(H*q.dot(n)-w*q.dot(p))/(H*L-w*w),0>L||1<L||(w=(q.dot(p)-L*w)/H,0>w||1<w||1<w+L||u.push({clickable:B,distance:P})))));N=0;for(O=K.cylinder.length;N<O;N++)K.cylinder[N]instanceof WebMol.Cylinder&&(e.copy(K.cylinder[N]),e.applyMatrix4(t.matrixWorld),l.subVectors(e.c1,this.ray.origin),H=l.dot(e.direction),L=l.dot(this.ray.direction),w=A(this.ray.direction.dot(e.direction)),V=1-w*w,0!==V&&(M=(w*L-H)/V,W=(L-w*H)/V,q.copy(e.direction).multiplyScalar(M).add(e.c1),p.copy(this.ray.direction).multiplyScalar(W).add(this.ray.origin),
$=n.subVectors(q,p).lengthSq(),M=e.radius*e.radius,$<=M&&(M=(w*H-L)*(w*H-L)-V*(l.lengthSq()-H*H-M),L=0>=M?P=Math.sqrt($):P=(L-w*H-Math.sqrt(M))/V,w=w*L-H,0>w||w*w>e.lengthSq()||0>L||u.push({clickable:B,distance:P}))));N=0;for(O=K.line.length;N<O;N+=2)q.copy(K.line[N]),q.applyMatrix4(t.matrixWorld),p.copy(K.line[N+1]),p.applyMatrix4(t.matrixWorld),n.subVectors(p,q),P=n.lengthSq(),n.normalize(),l.subVectors(q,this.ray.origin),lineProj=l.dot(n),L=l.dot(this.ray.direction),w=A(this.ray.direction.dot(n)),
V=1-w*w,0!==V&&(M=(w*L-lineProj)/V,W=(L-w*lineProj)/V,q.add(n.multiplyScalar(M)),p.copy(this.ray.direction).multiplyScalar(W).add(this.ray.origin),$=n.subVectors(p,q).lengthSq(),$<S&&M*M<P&&u.push({clickable:B,distance:W}));N=0;for(O=K.sphere.length;N<O;N++)if(K.sphere[N]instanceof WebMol.Sphere&&(c.copy(K.sphere[N]),c.applyMatrix4(t.matrixWorld),this.ray.isIntersectionSphere(c))){q.subVectors(c.center,this.ray.origin);t=q.dot(this.ray.direction);M=t*t-(q.lengthSq()-c.radius*c.radius);if(0>t)break a;
P=0>=M?t:t-Math.sqrt(M);u.push({clickable:B,distance:P});break a}}}C.sort(x);return C};return a}();WebMol.Projector=function(){new WebMol.Matrix4;var a=new WebMol.Matrix4;this.projectVector=function(c,e){e.matrixWorldInverse.getInverse(e.matrixWorld);a.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse);return c.applyProjection(a)};this.unprojectVector=function(c,e){e.projectionMatrixInverse.getInverse(e.projectionMatrix);a.multiplyMatrices(e.matrixWorld,e.projectionMatrixInverse);return c.applyProjection(a)}};
WebMol.Camera=function(a,c,e,f){WebMol.Object3D.call(this);this.fov=void 0!==a?a:50;this.aspect=void 0!==c?c:1;this.near=void 0!==e?e:.1;this.far=void 0!==f?f:2E3;this.projectionMatrix=new WebMol.Matrix4;this.projectionMatrixInverse=new WebMol.Matrix4;this.matrixWorldInverse=new WebMol.Matrix4;this.updateProjectionMatrix()};WebMol.Camera.prototype=Object.create(WebMol.Object3D.prototype);
WebMol.Camera.prototype.lookAt=function(a){this.matrix.lookAt(this.position,a,this.up);this.rotationAutoUpdate&&(!1===this.useQuaternion?this.rotation.setEulerFromRotationMatrix(this.matrix,this.eulerOrder):this.quaternion.copy(this.matrix.decompose()[1]))};WebMol.Camera.prototype.updateProjectionMatrix=function(){this.projectionMatrix.makePerspective(this.fov,this.aspect,this.near,this.far)};
WebMol.SpritePlugin=function(){function a(a,c){return a.z!==c.z?c.z-a.z:c.id-a.id}var c,e,f,l,q,p,n,v,x,A;this.init=function(a){c=a.context;e=a;f=a.getPrecision();l=new Float32Array(16);q=new Uint16Array(6);a=0;l[a++]=-1;l[a++]=-1;l[a++]=0;l[a++]=0;l[a++]=1;l[a++]=-1;l[a++]=1;l[a++]=0;l[a++]=1;l[a++]=1;l[a++]=1;l[a++]=1;l[a++]=-1;l[a++]=1;l[a++]=0;l[a++]=1;a=0;q[a++]=0;q[a++]=1;q[a++]=2;q[a++]=0;q[a++]=2;q[a++]=3;p=c.createBuffer();n=c.createBuffer();c.bindBuffer(c.ARRAY_BUFFER,p);c.bufferData(c.ARRAY_BUFFER,
l,c.STATIC_DRAW);c.bindBuffer(c.ELEMENT_ARRAY_BUFFER,n);c.bufferData(c.ELEMENT_ARRAY_BUFFER,q,c.STATIC_DRAW);a=WebMol.ShaderLib.sprite;var F=f,C=c.createProgram(),G=c.createShader(c.FRAGMENT_SHADER),y=c.createShader(c.VERTEX_SHADER),F="precision "+F+" float;\n";c.shaderSource(G,F+a.fragmentShader);c.shaderSource(y,F+a.vertexShader);c.compileShader(G);c.compileShader(y);c.getShaderParameter(G,c.COMPILE_STATUS)&&c.getShaderParameter(y,c.COMPILE_STATUS)?(c.attachShader(C,G),c.attachShader(C,y),c.linkProgram(C),
c.getProgramParameter(C,c.LINK_STATUS)||console.error("Could not initialize shader"),a=C):(console.error(c.getShaderInfoLog(G)),console.error("could not initialize shader"),a=null);v=a;x={};A={};x.position=c.getAttribLocation(v,"position");x.uv=c.getAttribLocation(v,"uv");A.uvOffset=c.getUniformLocation(v,"uvOffset");A.uvScale=c.getUniformLocation(v,"uvScale");A.rotation=c.getUniformLocation(v,"rotation");A.scale=c.getUniformLocation(v,"scale");A.alignment=c.getUniformLocation(v,"alignment");A.color=
c.getUniformLocation(v,"color");A.map=c.getUniformLocation(v,"map");A.opacity=c.getUniformLocation(v,"opacity");A.useScreenCoordinates=c.getUniformLocation(v,"useScreenCoordinates");A.sizeAttenuation=c.getUniformLocation(v,"sizeAttenuation");A.screenPosition=c.getUniformLocation(v,"screenPosition");A.modelViewMatrix=c.getUniformLocation(v,"modelViewMatrix");A.projectionMatrix=c.getUniformLocation(v,"projectionMatrix");A.fogType=c.getUniformLocation(v,"fogType");A.fogDensity=c.getUniformLocation(v,
"fogDensity");A.fogNear=c.getUniformLocation(v,"fogNear");A.fogFar=c.getUniformLocation(v,"fogFar");A.fogColor=c.getUniformLocation(v,"fogColor");A.alphaTest=c.getUniformLocation(v,"alphaTest")};this.render=function(f,l,q,G){var y=f.__webglSprites,t=y.length;if(t){var B=x,u=A,K=G/q;q*=.5;var S=.5*G;c.useProgram(v);c.enableVertexAttribArray(B.position);c.enableVertexAttribArray(B.uv);c.disable(c.CULL_FACE);c.enable(c.BLEND);c.bindBuffer(c.ARRAY_BUFFER,p);c.vertexAttribPointer(B.position,2,c.FLOAT,
!1,16,0);c.vertexAttribPointer(B.uv,2,c.FLOAT,!1,16,8);c.bindBuffer(c.ELEMENT_ARRAY_BUFFER,n);c.uniformMatrix4fv(u.projectionMatrix,!1,l.projectionMatrix.elements);c.activeTexture(c.TEXTURE0);c.uniform1i(u.map,0);var N=B=0;(B=f.fog)?(c.uniform3f(u.fogColor,B.color.r,B.color.g,B.color.b),c.uniform1f(u.fogNear,B.near),c.uniform1f(u.fogFar,B.far),c.uniform1i(u.fogType,1),N=B=1):(c.uniform1i(u.fogType,0),N=B=0);var O,H,w,L=[];for(O=0;O<t;O++)H=y[O],w=H.material,H.visible&&0!==w.opacity&&(w.useScreenCoordinates?
H.z=-H.position.z:(H._modelViewMatrix.multiplyMatrices(l.matrixWorldInverse,H.matrixWorld),H.z=-H._modelViewMatrix.elements[14]));y.sort(a);for(O=0;O<t;O++)H=y[O],w=H.material,H.visible&&0!==w.opacity&&w.map&&w.map.image&&w.map.image.width&&(c.uniform1f(u.alphaTest,w.alphaTest),!0===w.useScreenCoordinates?(c.uniform1i(u.useScreenCoordinates,1),c.uniform3f(u.screenPosition,(H.position.x*e.devicePixelRatio-q)/q,(S-H.position.y*e.devicePixelRatio)/S,Math.max(0,Math.min(1,H.position.z))),L[0]=e.devicePixelRatio,
L[1]=e.devicePixelRatio):(c.uniform1i(u.useScreenCoordinates,0),c.uniform1i(u.sizeAttenuation,w.sizeAttenuation?1:0),c.uniformMatrix4fv(u.modelViewMatrix,!1,H._modelViewMatrix.elements),L[0]=1,L[1]=1),l=f.fog&&w.fog?N:0,B!==l&&(c.uniform1i(u.fogType,l),B=l),l=1/(w.scaleByViewport?G:1),L[0]=L[0]*l*K*H.scale.x,L[1]=L[1]*l*H.scale.y,c.uniform2f(u.uvScale,w.uvScale.x,w.uvScale.y),c.uniform2f(u.uvOffset,w.uvOffset.x,w.uvOffset.y),c.uniform2f(u.alignment,w.alignment.x,w.alignment.y),c.uniform1f(u.opacity,
w.opacity),c.uniform3f(u.color,w.color.r,w.color.g,w.color.b),c.uniform1f(u.rotation,H.rotation),c.uniform2fv(u.scale,L),e.setDepthTest(w.depthTest),e.setDepthWrite(w.depthWrite),e.setTexture(w.map,0),c.drawElements(c.TRIANGLES,6,c.UNSIGNED_SHORT,0));c.enable(c.CULL_FACE)}}};WebMol.Light=function(a,c){WebMol.Object3D.call(this);this.color=new WebMol.Color(a);this.position=new WebMol.Vector3(0,1,0);this.target=new WebMol.Object3D;this.intensity=void 0!==c?c:1;this.onlyShadow=this.castShadow=!1};
WebMol.Light.prototype=Object.create(WebMol.Object3D.prototype);WebMol.Material=function(){WebMol.EventDispatcher.call(this);this.id=WebMol.MaterialIdCount++;this.name="";this.side=WebMol.FrontSide;this.opacity=1;this.transparent=!1;this.blending=WebMol.NormalBlending;this.depthWrite=this.depthTest=!0;this.polygonOffset=!1;this.alphaTest=this.polygonOffsetUnits=this.polygonOffsetFactor=0;this.needsUpdate=this.visible=!0};
WebMol.Material.prototype.setValues=function(a){if(void 0!==a)for(var c in a){var e=a[c];if(void 0===e)console.warn("WebMol.Material: '"+c+"' parameter is undefined.");else if(c in this){var f=this[c];f instanceof WebMol.Color&&e instanceof WebMol.Color?f.copy(e):f instanceof WebMol.Color?f.set(e):f instanceof WebMol.Vector3&&e instanceof WebMol.Vector3?f.copy(e):this[c]=e}}};
WebMol.Material.prototype.clone=function(a){void 0===a&&(a=new WebMol.Material);a.name=this.name;a.side=this.side;a.opacity=this.opacity;a.transparent=this.transparent;a.blending=this.blending;a.depthTest=this.depthTest;a.depthWrite=this.depthWrite;a.polygonOffset=this.polygonOffset;a.polygonOffsetFactor=this.polygonOffsetFactor;a.polygonOffsetUnits=this.polygonOffsetUnits;a.alphaTest=this.alphaTest;a.overdraw=this.overdraw;a.visible=this.visible;return a};WebMol.Material.prototype.dispose=function(){this.dispatchEvent({type:"dispose"})};
WebMol.MaterialIdCount=0;WebMol.LineBasicMaterial=function(a){WebMol.Material.call(this);this.color=new WebMol.Color(16777215);this.linewidth=1;this.linejoin=this.linecap="round";this.vertexColors=!1;this.fog=!0;this.shaderID="basic";this.setValues(a)};WebMol.LineBasicMaterial.prototype=Object.create(WebMol.Material.prototype);WebMol.LineBasicMaterial.prototype.clone=function(){var a=new WebMol.LineBasicMaterial;WebMol.Material.prototype.clone.call(this,a);a.color.copy();return a};
WebMol.MeshLambertMaterial=function(a){WebMol.Material.call(this);this.color=new WebMol.Color(16777215);this.ambient=new WebMol.Color(1048575);this.emissive=new WebMol.Color(0);this.wrapAround=!1;this.wrapRGB=new WebMol.Vector3(1,1,1);this.envMap=this.specularMap=this.lightMap=this.map=null;this.reflectivity=1;this.refractionRatio=.98;this.fog=!0;this.wireframe=!1;this.wireframeLinewidth=1;this.wireframeLinejoin=this.wireframeLinecap="round";this.shading=WebMol.SmoothShading;this.shaderID="lambert";
this.vertexColors=WebMol.NoColors;this.skinning=!1;this.setValues(a)};WebMol.MeshLambertMaterial.prototype=Object.create(WebMol.Material.prototype);
WebMol.MeshLambertMaterial.prototype.clone=function(a){"undefined"===typeof a&&(a=new WebMol.MeshLambertMaterial);WebMol.Material.prototype.clone.call(this,a);a.color.copy(this.color);a.ambient.copy(this.ambient);a.emissive.copy(this.emissive);a.wrapAround=this.wrapAround;a.wrapRGB.copy(this.wrapRGB);a.map=this.map;a.lightMap=this.lightMap;a.specularMap=this.specularMap;a.envMap=this.envMap;a.combine=this.combine;a.reflectivity=this.reflectivity;a.refractionRatio=this.refractionRatio;a.fog=this.fog;
a.shading=this.shading;a.shaderID=this.shaderID;a.vertexColors=this.vertexColors;a.skinning=this.skinning;a.morphTargets=this.morphTargets;a.morphNormals=this.morphNormals;return a};WebMol.MeshDoubleLambertMaterial=function(a){WebMol.MeshLambertMaterial.call(this);this.shaderID="lambertdouble";this.side=WebMol.DoubleSide};WebMol.MeshDoubleLambertMaterial.prototype=Object.create(WebMol.MeshLambertMaterial.prototype);
WebMol.MeshDoubleLambertMaterial.prototype.clone=function(){var a=new WebMol.MeshDoubleLambertMaterial;WebMol.MeshLambertMaterial.prototype.clone.call(this,a);return a};
WebMol.ImposterMaterial=function(a){WebMol.Material.call(this);this.color=new WebMol.Color(16777215);this.ambient=new WebMol.Color(1048575);this.emissive=new WebMol.Color(0);this.wrapAround=!1;this.wrapRGB=new WebMol.Vector3(1,1,1);this.envMap=this.specularMap=this.lightMap=this.map=null;this.reflectivity=1;this.refractionRatio=.98;this.fog=!0;this.wireframe=!1;this.wireframeLinewidth=1;this.wireframeLinejoin=this.wireframeLinecap="round";this.shading=WebMol.SmoothShading;this.shaderID="sphereimposter";
this.vertexColors=WebMol.NoColors;this.skinning=!1;this.setValues(a)};WebMol.ImposterMaterial.prototype=Object.create(WebMol.Material.prototype);
WebMol.ImposterMaterial.prototype.clone=function(){var a=new WebMol.ImposterMaterial;WebMol.Material.prototype.clone.call(this,a);a.color.copy(this.color);a.ambient.copy(this.ambient);a.emissive.copy(this.emissive);a.wrapAround=this.wrapAround;a.wrapRGB.copy(this.wrapRGB);a.map=this.map;a.lightMap=this.lightMap;a.specularMap=this.specularMap;a.envMap=this.envMap;a.combine=this.combine;a.reflectivity=this.reflectivity;a.refractionRatio=this.refractionRatio;a.fog=this.fog;a.shading=this.shading;a.shaderID=
this.shaderID;a.vertexColors=this.vertexColors;a.skinning=this.skinning;a.morphTargets=this.morphTargets;a.morphNormals=this.morphNormals;return a};
WebMol.SpriteMaterial=function(a){WebMol.Material.call(this);this.color=new WebMol.Color(16777215);this.map=new WebMol.Texture;this.useScreenCoordinates=!0;this.depthTest=!this.useScreenCoordinates;this.sizeAttenuation=!this.useScreenCoordinates;this.scaleByViewPort=!this.sizeAttenuation;this.alignment=WebMol.SpriteAlignment.center.clone();this.fog=!1;this.uvOffset=new WebMol.Vector2(0,0);this.uvScale=new WebMol.Vector2(1,1);this.setValues(a);a=a||{};void 0===a.depthTest&&(this.depthTest=!this.useScreenCoordinates);
void 0===a.sizeAttenuation&&(this.sizeAttenuation=!this.useScreenCoordinates);void 0===a.scaleByViewPort&&(this.scaleByViewPort=!this.sizeAttenuation)};WebMol.SpriteMaterial.prototype=Object.create(WebMol.Material.prototype);
WebMol.SpriteMaterial.prototype.clone=function(){var a=new WebMol.SpriteMaterial;WebMol.Material.prototype.clone.call(this,a);a.color.copy(this.color);a.map=this.map;a.useScreenCoordinates=useScreenCoordinates;a.sizeAttenuation=this.sizeAttenuation;a.scaleByViewport=this.scaleByViewPort;a.alignment.copy(this.alignment);a.uvOffset.copy(this.uvOffset);return a};WebMol.SpriteAlignment={};WebMol.SpriteAlignment.topLeft=new WebMol.Vector2(1,-1);WebMol.SpriteAlignment.topCenter=new WebMol.Vector2(0,-1);
WebMol.SpriteAlignment.topRight=new WebMol.Vector2(-1,-1);WebMol.SpriteAlignment.centerLeft=new WebMol.Vector2(1,0);WebMol.SpriteAlignment.center=new WebMol.Vector2(0,0);WebMol.SpriteAlignment.centerRight=new WebMol.Vector2(-1,0);WebMol.SpriteAlignment.bottomLeft=new WebMol.Vector2(1,1);WebMol.SpriteAlignment.bottomCenter=new WebMol.Vector2(0,1);WebMol.SpriteAlignment.bottomRight=new WebMol.Vector2(-1,1);
WebMol.Texture=function(a){WebMol.EventDispatcher.call(this);this.id=WebMol.TextureIdCount++;this.name="";this.image=a;this.mipmaps=[];this.mapping=new WebMol.UVMapping;this.wrapT=this.wrapS=WebMol.ClampToEdgeWrapping;this.magFilter=WebMol.LinearFilter;this.minFilter=WebMol.LinearMipMapLinearFilter;this.anisotropy=1;this.format=WebMol.RGBAFormat;this.type=WebMol.UnsignedByteType;this.offset=new WebMol.Vector2(0,0);this.repeat=new WebMol.Vector2(1,1);this.generateMipmaps=!0;this.premultiplyAlpha=!1;
this.flipY=!0;this.unpackAlignment=4;this.needsUpdate=!1;this.onUpdate=null};
WebMol.Texture.prototype={constructor:WebMol.Texture,clone:function(a){void 0===a&&(a=new WebMol.Texture);a.image=this.image;a.mipmaps=this.mipmaps.slice(0);a.mapping=this.mapping;a.wrapS=this.wrapS;a.wrapT=this.wrapT;a.magFilter=this.magFilter;a.minFilter=this.minFilter;a.anisotropy=this.anisotropy;a.format=this.format;a.type=this.type;a.offset.copy(this.offset);a.repeat.copy(this.repeat);a.generateMipmaps=this.generateMipmaps;a.premultiplyAlpha=this.premultiplyAlpha;a.flipY=this.flipY;a.unpackAlignment=
this.unpackAlignment;return a},dispose:function(){this.dispatchEvent({type:"dispose"})}};WebMol.TextureIdCount=0;WebMol.FrontSide=0;WebMol.BackSide=1;WebMol.DoubleSide=2;WebMol.NoBlending=0;WebMol.NormalBlending=1;WebMol.AdditiveBlending=2;WebMol.SubtractiveBlending=3;WebMol.MultiplyBlending=4;WebMol.CustomBlending=5;WebMol.NoShading=0;WebMol.FlatShading=1;WebMol.SmoothShading=2;WebMol.NoColors=0;WebMol.FaceColors=1;WebMol.VertexColors=2;WebMol.MultiplyOperation=0;WebMol.MixOperation=1;
WebMol.AddOperation=2;WebMol.UVMapping=function(){};WebMol.ClampToEdgeWrapping=1001;WebMol.LinearFilter=1006;WebMol.LinearMipMapLinearFilter=1008;WebMol.UnsignedByteType=1009;WebMol.RGBAFormat=1021;WebMol.Line=function(a,c,e){WebMol.Object3D.call(this);this.geometry=a;this.material=void 0!==c?c:new WebMol.LineBasicMaterial({color:16777215*Math.random()});this.type=void 0!==e?e:WebMol.LineStrip};WebMol.LineStrip=0;WebMol.LinePieces=1;WebMol.Line.prototype=Object.create(WebMol.Object3D.prototype);
WebMol.Line.prototype.clone=function(a){void 0===a&&(a=new WebMol.Line(this.geometry,this.material,this.type));WebMol.Object3D.prototype.clone.call(this,a);return a};WebMol.Mesh=function(a,c){WebMol.Object3D.call(this);this.geometry=a;this.material=void 0!==c?c:new WebMol.MeshBasicMaterial({color:16777215*Math.random(),wireframe:!0})};WebMol.Mesh.prototype=Object.create(WebMol.Object3D.prototype);
WebMol.Mesh.prototype.clone=function(a){void 0===a&&(a=new WebMol.Mesh(this.geometry,this.material));WebMol.Object3D.prototype.clone.call(this,a);return a};WebMol.Sprite=function(a){WebMol.Object3D.call(this);this.material=void 0!==a?a:new WebMol.SpriteMaterial;this.rotation3d=this.rotation;this.rotation=0};WebMol.Sprite.prototype=Object.create(WebMol.Object3D.prototype);
WebMol.Sprite.prototype.updateMatrix=function(){this.matrix.setPosition(this.position);this.rotation3d.set(0,0,this.rotation);this.matrix.setRotationFromEuler(this.rotation3d);1===this.scale.x&&1===this.scale.y||this.matrix.scale(this.scale);this.matrixWorldNeedsUpdate=!0};WebMol.Sprite.prototype.clone=function(a){void 0===a&&(a=new WebMol.Sprite(this.material));WebMol.Object3D.prototype.clone.call(this,a);return a};
WebMol.Renderer=function(a){function c(a){ba[a]||(k.enableVertexAttribArray(a),ba[a]=!0)}function e(a,c){var e;"fragment"===a?e=k.createShader(k.FRAGMENT_SHADER):"vertex"===a&&(e=k.createShader(k.VERTEX_SHADER));k.shaderSource(e,c);k.compileShader(e);return k.getShaderParameter(e,k.COMPILE_STATUS)?e:(console.error(k.getShaderInfoLog(e)),console.error("could not initialize shader"),null)}function f(a,c,e,f,l,n,p,q){var d,t,v;c?(t=a.length-1,q=c=-1):(t=0,c=a.length,q=1);for(var u=t;u!==c;u+=q)if(d=
a[u],d.render&&(t=d.object,v=d.buffer,d=d[e])){p&&y.setBlending(d.blending);y.setDepthTest(d.depthTest);y.setDepthWrite(d.depthWrite);var w=d.polygonOffset;null!==w&&(w?k.enable(k.POLYGON_OFFSET_FILL):k.disable(k.POLYGON_OFFSET_FILL));y.setMaterialFaces(d);y.renderBuffer(f,l,n,d,v,t)}}function l(a){return 0===(a&a-1)}function q(a){return a===WebMol.UnsignedByteType?k.UNSIGNED_BYTE:a===WebMol.RGBAFormat?k.RGBA:0}a=a||{};var p=void 0!==a.canvas?a.canvas:document.createElement("canvas"),n=void 0!==a.precision?
a.precision:"highp",v=void 0!==a.alpha?a.alpha:!0,x=void 0!==a.premultipliedAlpha?a.premultipliedAlpha:!0,A=void 0!==a.antialias?a.antialias:!1,J=void 0!==a.stencil?a.stencil:!0,F=void 0!==a.preserveDrawingBuffer?a.preserveDrawingBuffer:!1,C=void 0!==a.clearColor?new WebMol.Color(a.clearColor):new WebMol.Color(0),G=void 0!==a.clearAlpha?a.clearAlpha:0;this.domElement=p;this.context=null;this.devicePixelRatio=void 0!==a.devicePixelRatio?a.devicePixelRatio:void 0!==self.devicePixelRatio?self.devicePixelRatio:
1;this.autoUpdateScene=this.autoUpdateObjects=this.sortObjects=this.autoClearStencil=this.autoClearDepth=this.autoClearColor=this.autoClear=!0;this.renderPluginsPost=[];this.info={memory:{programs:0,geometries:0,textures:0},render:{calls:0,vertices:0,faces:0,points:0}};var y=this,t=[],B=0,u=null,K=-1,S=null,N=null,O=0,H=-1,w=-1,L=-1,P=-1,$=null,V=0,M=0,W=0,ea=0,ga=0,fa=0,ba={},Fa=new WebMol.Matrix4,Ha=new WebMol.Vector3,T=new WebMol.Vector3,ja=!0,oa=[0,0,0],ka=[],pa=[],k;try{if(!(k=p.getContext("experimental-webgl",
{alpha:v,premultipliedAlpha:x,antialias:A,stencil:J,preserveDrawingBuffer:F})))throw"Error creating WebGL context.";}catch(E){console.error(E)}k.getExtension("EXT_frag_depth");k.clearColor(0,0,0,1);k.clearDepth(1);k.clearStencil(0);k.enable(k.DEPTH_TEST);k.depthFunc(k.LEQUAL);k.frontFace(k.CCW);k.cullFace(k.BACK);k.enable(k.CULL_FACE);k.enable(k.BLEND);k.blendEquation(k.FUNC_ADD);k.blendFunc(k.SRC_ALPHA,k.ONE_MINUS_SRC_ALPHA);k.clearColor(C.r,C.g,C.b,G);k.getExtension("EXT_frag_depth");this.context=
k;this.getContext=function(){return k};this.getPrecision=function(){return n};this.setClearColorHex=function(a,c){C.setHex(a);G=c;k.clearColor(C.r,C.g,C.b,G)};this.setSize=function(a,c){p.width=a*this.devicePixelRatio;p.height=c*this.devicePixelRatio;p.style.width=a+"px";p.style.height=c+"px";this.setViewport(0,0,p.width,p.height)};this.setViewport=function(a,c,e,f){V=void 0!==a?a:0;M=void 0!==c?c:0;W=void 0!==e?e:p.width;ea=void 0!==f?f:p.height;k.viewport(V,M,W,ea)};this.clear=function(a,c,e){var f=
0;if(void 0===a||a)f|=k.COLOR_BUFFER_BIT;if(void 0===c||c)f|=k.DEPTH_BUFFER_BIT;if(void 0===e||e)f|=k.STENCIL_BUFFER_BIT;k.clear(f)};this.clearTarget=function(a,c,e){this.clear(a,c,e)};this.setMaterialFaces=function(a){var c=a.side===WebMol.DoubleSide;a=a.side===WebMol.BackSide;H!==c&&(c?k.disable(k.CULL_FACE):k.enable(k.CULL_FACE),H=c);w!==a&&(a?k.frontFace(k.CW):k.frontFace(k.CCW),w=a)};this.setDepthTest=function(a){L!==a&&(a?k.enable(k.DEPTH_TEST):k.disable(k.DEPTH_TEST),L=a)};this.setDepthWrite=
function(a){P!==a&&(k.depthMask(a),P=a)};this.setBlending=function(a){a===WebMol.NoBlending?k.disable(k.BLEND):(k.enable(k.BLEND),k.blendEquationSeparate(k.FUNC_ADD,k.FUNC_ADD),k.blendFuncSeparate(k.SRC_ALPHA,k.ONE_MINUS_SRC_ALPHA,k.ONE,k.ONE_MINUS_SRC_ALPHA))};this.addPostPlugin=function(a){a.init(this);this.renderPluginsPost.push(a)};var Ia=function(a){a=a.target;a.removeEventListener("dispose",Ia);a.__webglInit=void 0;void 0!==a.__webglVertexBuffer&&k.deleteBuffer(a.__webglVertexBuffer);void 0!==
a.__webglColorBuffer&&k.deleteBuffer(a.__webglColorBuffer);if(void 0!==a.geometryGroups)for(var c=0,e=a.groups;c<e;c++){var f=a.geometryGroups[c];void 0!==f.__webglVertexBuffer&&k.deleteBuffer(f.__webglVertexBuffer);void 0!==f.__webglColorBuffer&&k.deleteBuffer(f.__webglColorBuffer);void 0!==f.__webglNormalBuffer&&k.deleteBuffer(f.__webglNormalBuffer);void 0!==f.__webglFaceBuffer&&k.deleteBuffer(f.__webglFaceBuffer);void 0!==f.__webglLineBuffer&&k.deleteBuffer(f.__webglLineBuffer)}y.info.memory.geometries--},
Ja=function(a){a=a.target;a.removeEventListener("dispose",Ja);a.image&&a.image.__webglTextureCube?k.deleteTexture(a.image.__webglTextureCube):a.__webglInit&&(a.__webglInit=!1,k.deleteTexture(a.__webglTexture));y.info.memory.textures--},Ka=function(a){a=a.target;a.removeEventListener("dispose",Ka);qa(a)},qa=function(a){var c=a.program;if(void 0!==c){a.program=void 0;var e,f,l=!1;a=0;for(e=t.length;a<e;a++)if(f=t[a],f.program===c){f.usedTimes--;0===f.usedTimes&&(l=!0);break}if(!0===l){l=[];a=0;for(e=
t.length;a<e;a++)f=t[a],f.program!==c&&l.push(f);t=l;k.deleteProgram(c);y.info.memory.programs--}}};this.initMaterial=function(a,c,f,l){a.addEventListener("dispose",Ka);if(c=a.shaderID)c=WebMol.ShaderLib[c],a.vertexShader=c.vertexShader,a.fragmentShader=c.fragmentShader,a.uniforms=WebMol.ShaderUtils.clone(c.uniforms);var p;a:{var q=a.fragmentShader;l=a.vertexShader;f=a.uniforms;var v={wireframe:a.wireframe},u,d;c=[];c.push(q);c.push(l);for(u in v)c.push(u),c.push(v[u]);c=c.join();u=0;for(d=t.length;u<
d;u++){var w=t[u];if(w.code===c){w.usedTimes++;p=w.program;break a}}u=k.createProgram();w="precision "+n+" float;";d=""+w;v=[v.wireframe?"#define WIREFRAME 1":"",w].join("\n");q=e("fragment",v+q);l=e("vertex",d+l);k.attachShader(u,l);k.attachShader(u,q);k.linkProgram(u);k.getProgramParameter(u,k.LINK_STATUS)||console.error("Could not initialize shader");u.uniforms={};u.attributes={};l="viewMatrix modelViewMatrix projectionMatrix normalMatrix modelMatrix cameraPosition".split(" ");for(p in f)l.push(p);
for(p=0;p<l.length;p++)f=l[p],u.uniforms[f]=k.getUniformLocation(u,f);l=["position","normal","color","lineDistance"];for(p=0;p<l.length;p++)f=l[p],u.attributes[f]=k.getAttribLocation(u,f);u.id=B++;t.push({program:u,code:c,usedTimes:1});y.info.memory.programs=t.length;p=u}a.program=p};this.renderBuffer=function(a,e,f,l,p,n){if(l.visible){var q;l.needsUpdate&&(l.program&&qa(l),y.initMaterial(l,e,f,n),l.needsUpdate=!1);var v=!1,d=l.program,t=d.uniforms;q=l.uniforms;d!=u&&(k.useProgram(d),u=d,v=!0);l.id!=
K&&(K=l.id,v=!0);a!=N&&(N=a,v=!0);if(v){k.uniformMatrix4fv(t.projectionMatrix,!1,a.projectionMatrix.elements);k.uniformMatrix4fv(t.modelViewMatrix,!1,n._modelViewMatrix.elements);q.fogColor.value=f.color;q.fogNear.value=f.near;q.fogFar.value=f.far;if(0===l.shaderID.lastIndexOf("lambert",0)){k.uniformMatrix4fv(t.viewMatrix,!1,a.matrixWorldInverse.elements);k.uniformMatrix3fv(t.normalMatrix,!1,n._normalMatrix.elements);if(ja){var w,x,A=0,B=0,C=0;a=0;for(f=e.length;a<f;a++)if(v=e[a],w=v.color,x=v.intensity,
v instanceof WebMol.Light&&(A++,T.getPositionFromMatrix(v.matrixWorld),Ha.getPositionFromMatrix(v.target.matrixWorld),T.sub(Ha),T.normalize(),0!==T.x||0!==T.y||0!==T.z))pa[C]=T.x,pa[C+1]=T.y,pa[C+2]=T.z,ka[C]=w.r*x,ka[C+1]=w.g*x,ka[C+2]=w.b*x,C+=3,B++;oa[0]=0;oa[1]=0;oa[2]=0;ja=!1}q.ambientLightColor.value=oa;q.directionalLightColor.value=ka;q.directionalLightDirection.value=pa;q.ambient.value=l.ambient;q.emissive.value=l.emissive}else"sphereimposter"===l.shaderID&&(k.uniformMatrix4fv(t.viewMatrix,
!1,a.matrixWorldInverse.elements),k.uniformMatrix3fv(t.normalMatrix,!1,n._normalMatrix.elements));q.opacity.value=l.opacity;q.diffuse.value=l.color;for(var E in q)t[E]&&(e=q[E].type,a=q[E].value,f=t[E],"f"===e?k.uniform1f(f,a):"fv"===e?k.uniform3fv(f,a):"c"===e&&k.uniform3f(f,a.r,a.g,a.b))}q=d.attributes;t=!1;d=16777215*p.id+2*d.id+(l.wireframe?1:0);d!==S&&(S=d,t=!0);if(t){for(var F in ba)ba[F]&&(k.disableVertexAttribArray(F),ba[F]=!1);0<=q.position&&(k.bindBuffer(k.ARRAY_BUFFER,p.__webglVertexBuffer),
c(q.position),k.vertexAttribPointer(q.position,3,k.FLOAT,!1,0,0));0<=q.color&&(k.bindBuffer(k.ARRAY_BUFFER,p.__webglColorBuffer),c(q.color),k.vertexAttribPointer(q.color,3,k.FLOAT,!1,0,0));0<=q.normal&&(k.bindBuffer(k.ARRAY_BUFFER,p.__webglNormalBuffer),c(q.normal),k.vertexAttribPointer(q.normal,3,k.FLOAT,!1,0,0))}var G;n instanceof WebMol.Mesh?(l.wireframe?(n=p.lineidx,l=l.wireframeLinewidth,l!==$&&(k.lineWidth(l),$=l),t&&k.bindBuffer(k.ELEMENT_ARRAY_BUFFER,p.__webglLineBuffer),k.drawElements(k.LINES,
n,k.UNSIGNED_SHORT,0)):(G=p.faceidx,t&&k.bindBuffer(k.ELEMENT_ARRAY_BUFFER,p.__webglFaceBuffer),k.drawElements(k.TRIANGLES,G,k.UNSIGNED_SHORT,0)),y.info.render.calls++,y.info.render.vertices+=G,y.info.render.faces+=G/3):n instanceof WebMol.Line&&(n=p.vertices,p=l.linewidth,p!==$&&(k.lineWidth(p),$=p),k.drawArrays(k.LINES,0,n),y.info.render.calls++)}};this.render=function(a,c,e){if(!1===c instanceof WebMol.Camera)console.error("WebMol.Renderer.render: camera is not an instance of WebMol.Camera.");
else{var k,l,p,n,q=a.__lights,d=a.fog;K=-1;ja=!0;this.autoUpdateScene&&a.updateMatrixWorld();void 0===c.parent&&c.updateMatrixWorld();c.matrixWorldInverse.getInverse(c.matrixWorld);Fa.multiplyMatrices(c.projectionMatrix,c.matrixWorldInverse);this.autoUpdateObjects&&this.initWebGLObjects(a);y.info.render.calls=0;y.info.render.vertices=0;y.info.render.faces=0;y.info.render.points=0;ga=W;fa=ea;(this.autoClear||e)&&this.clear(this.autoClearColor,this.autoClearDepth,this.autoClearStencil);n=a.__webglObjects;
e=0;for(k=n.length;e<k;e++)if(l=n[e],p=l.object,l.render=!1,p.visible){p._modelViewMatrix.multiplyMatrices(c.matrixWorldInverse,p.matrixWorld);p._normalMatrix.getInverse(p._modelViewMatrix);p._normalMatrix.transpose();p=l;var t=p.object.material;t.transparent?(p.opaque=null,p.transparent=t,t=t.clone(),t.opacity=0,p.blank=t):(p.opaque=t,p.transparent=null);l.render=!0}this.setBlending(WebMol.NoBlending);f(a.__webglObjects,!0,"opaque",c,q,d,!1,null);f(a.__webglObjects,!0,"blank",c,q,d,!0,null);f(a.__webglObjects,
!1,"transparent",c,q,d,!0,null);q=this.renderPluginsPost;S=-1;N=u=null;w=K=H=L=P=-1;if(q.length)for(d=0,e=q.length;d<e;d++)ja=!0,q[d].render(a,c,ga,fa),S=-1,N=u=null,w=K=H=L=P=-1;this.setDepthTest(!0);this.setDepthWrite(!0)}};this.initWebGLObjects=function(a){a.__webglObjects||(a.__webglObjects=[],a.__webglObjectsImmediate=[],a.__webglSprites=[],a.__webglFlares=[]);if(a.__objectsAdded.length){for(;a.__objectsAdded.length;){var c=a.__objectsAdded[0],e=a,f=void 0,l=void 0,p=void 0,n=void 0;if(!c.__webglInit&&
(c.__webglInit=!0,c._modelViewMatrix=new WebMol.Matrix4,c._normalMatrix=new WebMol.Matrix3,void 0!==c.geometry&&void 0===c.geometry.__webglInit&&(c.geometry.__webglInit=!0,c.geometry.addEventListener("dispose",Ia)),c instanceof WebMol.Mesh||c instanceof WebMol.Line))for(p=c.geometry,f=0,l=p.geometryGroups.length;f<l;f++)n=p.geometryGroups[f],n.id=O++,n.__webglVertexBuffer||(c instanceof WebMol.Mesh?(n.__webglVertexBuffer=k.createBuffer(),n.__webglNormalBuffer=k.createBuffer(),n.__webglColorBuffer=
k.createBuffer(),n.__webglFaceBuffer=k.createBuffer(),n.__webglLineBuffer=k.createBuffer(),y.info.memory.geometries++,p.elementsNeedUpdate=!0,p.normalsNeedUpdate=!0):c instanceof WebMol.Line&&(n.__webglVertexBuffer=k.createBuffer(),n.__webglColorBuffer=k.createBuffer(),y.info.memory.geometries++),p.verticesNeedUpdate=!0,p.colorsNeedUpdate=!0);if(!c.__webglActive){if(c instanceof WebMol.Mesh||c instanceof WebMol.Line)for(p=c.geometry,f=0,l=p.geometryGroups.length;f<l;f++)n=p.geometryGroups[f],e.__webglObjects.push({buffer:n,
object:c,opaque:null,transparent:null});else c instanceof WebMol.Sprite&&e.__webglSprites.push(c);c.__webglActive=!0}a.__objectsAdded.splice(0,1)}S=-1}for(;a.__objectsRemoved.length;){c=a.__objectsRemoved[0];e=a;if(c instanceof WebMol.Mesh||c instanceof WebMol.Line)for(e=e.__webglObjects,f=c,l=e.length-1;0<=l;--l)e[l].object===f&&e.splice(l,1);else if(c instanceof WebMol.Sprite)for(e=e.__webglSprites,f=c,l=e.length-1;0<=l;--l)e[l]===f&&e.splice(l,1);c.__webglActive=!1;a.__objectsRemoved.splice(0,
1)}c=0;for(e=a.__webglObjects.length;c<e;c++)if(l=a.__webglObjects[c].object,f=l.geometry,n=void 0,l instanceof WebMol.Mesh||l instanceof WebMol.Line){l=0;for(p=f.geometryGroups.length;l<p;l++)if(n=f.geometryGroups[l],f.verticesNeedUpdate||f.elementsNeedUpdate||f.colorsNeedUpdate||f.normalsNeedUpdate){var q=k.STATIC_DRAW,d=n.vertexArray,t=n.colorArray;k.bindBuffer(k.ARRAY_BUFFER,n.__webglVertexBuffer);k.bufferData(k.ARRAY_BUFFER,d,q);k.bindBuffer(k.ARRAY_BUFFER,n.__webglColorBuffer);k.bufferData(k.ARRAY_BUFFER,
t,q);void 0!==n.normalArray&&void 0!==n.__webglNormalBuffer&&(d=n.normalArray,k.bindBuffer(k.ARRAY_BUFFER,n.__webglNormalBuffer),k.bufferData(k.ARRAY_BUFFER,d,q));void 0!==n.faceArray&&void 0!==n.__webglFaceBuffer&&(d=n.faceArray,k.bindBuffer(k.ELEMENT_ARRAY_BUFFER,n.__webglFaceBuffer),k.bufferData(k.ELEMENT_ARRAY_BUFFER,d,q));void 0!==n.lineArray&&void 0!==n.__webglLineBuffer&&(d=n.lineArray,k.bindBuffer(k.ELEMENT_ARRAY_BUFFER,n.__webglLineBuffer),k.bufferData(k.ELEMENT_ARRAY_BUFFER,d,q))}f.verticesNeedUpdate=
!1;f.elementsNeedUpdate=!1;f.normalsNeedUpdate=!1;f.colorsNeedUpdate=!1;f.buffersNeedUpdate=!1}};this.setTexture=function(a,c){if(a.needsUpdate){a.__webglInit||(a.__webglInit=!0,a.addEventListener("dispose",Ja),a.__webglTexture=k.createTexture(),y.info.memory.textures++);k.activeTexture(k.TEXTURE0+c);k.bindTexture(k.TEXTURE_2D,a.__webglTexture);k.pixelStorei(k.UNPACK_FLIP_Y_WEBGL,a.flipY);k.pixelStorei(k.UNPACK_PREMULTIPLY_ALPHA_WEBGL,a.premultiplyAlpha);k.pixelStorei(k.UNPACK_ALIGNMENT,a.unpackAlignment);
var e=a.image,e=l(e.width)&&l(e.height),f=q(a.format),p=q(a.type),n=k.TEXTURE_2D;e?(k.texParameteri(n,k.TEXTURE_WRAP_S,q(a.wrapS)),k.texParameteri(n,k.TEXTURE_WRAP_T,q(a.wrapT)),k.texParameteri(n,k.TEXTURE_MAG_FILTER,q(a.magFilter)),k.texParameteri(n,k.TEXTURE_MIN_FILTER,q(a.minFilter))):(k.texParameteri(n,k.TEXTURE_WRAP_S,k.CLAMP_TO_EDGE),k.texParameteri(n,k.TEXTURE_WRAP_T,k.CLAMP_TO_EDGE),k.texParameteri(n,k.TEXTURE_MAG_FILTER,k.LINEAR),k.texParameteri(n,k.TEXTURE_MIN_FILTER,k.LINEAR));var t=a.mipmaps;
if(0<t.length&&e){for(var u=0,d=t.length;u<d;u++)n=t[u],k.texImage2D(k.TEXTURE_2D,u,f,f,p,n);a.generateMipmaps=!1}else k.texImage2D(k.TEXTURE_2D,0,f,f,p,a.image);a.generateMipmaps&&e&&k.generateMipmap(k.TEXTURE_2D);a.needsUpdate=!1;if(a.onUpdate)a.onUpdate()}else k.activeTexture(k.TEXTURE0+c),k.bindTexture(k.TEXTURE_2D,a.__webglTexture)};this.addPostPlugin(new WebMol.SpritePlugin)};
WebMol.Scene=function(){WebMol.Object3D.call(this);this.overrideMaterial=this.fog=null;this.matrixAutoUpdate=!1;this.__objects=[];this.__lights=[];this.__objectsAdded=[];this.__objectsRemoved=[]};WebMol.Scene.prototype=Object.create(WebMol.Object3D.prototype);
WebMol.Scene.prototype.__addObject=function(a){a instanceof WebMol.Light?(-1===this.__lights.indexOf(a)&&this.__lights.push(a),a.target&&void 0===a.target.parent&&this.add(a.target)):-1===this.__objects.indexOf(a)&&(this.__objects.push(a),this.__objectsAdded.push(a),-1!==this.__objectsRemoved.indexOf(a)&&this.__objectsRemoved.splice(c,1));for(var c=0;c<a.children.length;c++)this.__addObject(a.children[c])};
WebMol.Scene.prototype.__removeObject=function(a){var c;a instanceof WebMol.Light?(c=this.__lights.indexOf(a),-1!==c&&this.__lights.splice(c,1)):(c=this.__objects.indexOf(a),-1!==c&&(this.__objects.splice(c,1),this.__objectsRemoved.push(a),-1!==this.__objectsAdded.indexOf(a)&&this.__objectsAdded.splice(c,1)));for(c=0;c<a.children.length;c++)this.__removeObject(a.children[c])};WebMol.Fog=function(a,c,e){this.name="";this.color=new WebMol.Color(a);this.near=void 0!==c?c:1;this.far=void 0!==e?e:1E3};
WebMol.Fog.prototype.clone=function(){return new WebMol.Fog(this.color.getHex(),this.near,this.far)};WebMol.ShaderUtils={clone:function(a){var c,e={};for(c in a){e[c]={};e[c].type=a[c].type;var f=a[c].value;f instanceof WebMol.Color?e[c].value=f.clone():"number"===typeof f?e[c].value=f:f instanceof Array?e[c].value=[]:console.error("Error copying shader uniforms from ShaderLib: unknown type for uniform")}return e}};
WebMol.ShaderLib={basic:{fragmentShader:"uniform mat4 viewMatrix;\nuniform vec3 cameraPosition;\nuniform vec3 diffuse;\nuniform float opacity;\nuniform vec3 fogColor;\nuniform float fogNear;\nuniform float fogFar;\nvarying vec3 vColor;\nvoid main() {\n    gl_FragColor = vec4( diffuse, opacity );\n    gl_FragColor = gl_FragColor * vec4( vColor, opacity );\n    float depth = gl_FragCoord.z / gl_FragCoord.w;\n    float fogFactor = smoothstep( fogNear, fogFar, depth );\n    gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );\n}",vertexShader:"uniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\nuniform mat4 viewMatrix;\nuniform mat3 normalMatrix;\nuniform vec3 cameraPosition;\nattribute vec3 position;\nattribute vec3 color;\nvarying vec3 vColor;\nvoid main() {\n    vColor = color;\n    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n    gl_Position = projectionMatrix * mvPosition;\n}",
uniforms:{opacity:{type:"f",value:1},diffuse:{type:"c",value:new WebMol.Color(1,1,1)},fogColor:{type:"c",value:new WebMol.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2E3}}},sphereimposter:{fragmentShader:"uniform mat4 viewMatrix;\nuniform vec3 cameraPosition;\nuniform vec3 diffuse;\nuniform float opacity;\nuniform vec3 fogColor;\nuniform float fogNear;\nuniform float fogFar;\nvarying vec3 vColor;\nvarying vec2 mapping;\nvoid main() {\n\t float lensqr = dot(mapping,mapping);\n\t if(lensqr > 2.0)\n\t    discard;\n\t float w = sqrt(2.0 - lensqr);\n\t float z = sqrt(sqrt(2.0)-lensqr);\n\t gl_FragDepthEXT = -.1*z;\n    gl_FragColor = vec4( w*vColor, 1 );\n}",
vertexShader:"uniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\nuniform mat4 viewMatrix;\nuniform mat3 normalMatrix;\nuniform vec3 cameraPosition;\nattribute vec3 position;\nattribute vec3 normal;\nattribute vec3 color;\nvarying vec2 mapping;\nvarying vec3 vColor;\nvoid main() {\n    vColor = color;\n    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n    vec4 projPosition = projectionMatrix * mvPosition;\n\t vec4 adjust = projectionMatrix*vec4(normal, 1.0);  adjust.y *= -1.0; adjust.z = 0.0; adjust.w = 0.0;\n\t mapping = normal.xy;\n\t gl_Position = projPosition+adjust;\n}",
uniforms:{opacity:{type:"f",value:1},diffuse:{type:"c",value:new WebMol.Color(1,1,1)},fogColor:{type:"c",value:new WebMol.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2E3}}},lambert:{fragmentShader:"uniform mat4 viewMatrix;\nuniform vec3 cameraPosition;\nuniform float opacity;\nuniform vec3 fogColor;\nuniform float fogNear;\nuniform float fogFar;\nvarying vec3 vLightFront;\nvarying vec3 vColor;\nvoid main() {\n    gl_FragColor = vec4( vec3 ( 1.0 ), opacity );\n    #ifndef WIREFRAME\n    gl_FragColor.xyz *= vLightFront;\n    #endif\n    gl_FragColor = gl_FragColor * vec4( vColor, opacity );\n    float depth = gl_FragCoord.z / gl_FragCoord.w;\n    float fogFactor = smoothstep( fogNear, fogFar, depth );\n    gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );\n}",
vertexShader:"uniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\nuniform mat4 viewMatrix;\nuniform mat3 normalMatrix;\nuniform vec3 cameraPosition;\nuniform vec3 ambient;\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 ambientLightColor;\nuniform vec3 directionalLightColor[ 1 ];\nuniform vec3 directionalLightDirection[ 1 ];\nattribute vec3 position;\nattribute vec3 normal;\nattribute vec3 color;\nvarying vec3 vColor;\nvarying vec3 vLightFront;\nvoid main() {\n    vColor = color;\n    vec3 objectNormal = normal;\n    vec3 transformedNormal = normalMatrix * objectNormal;\n    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n    vLightFront = vec3( 0.0 );\n    transformedNormal = normalize( transformedNormal );\n    vec4 lDirection = viewMatrix * vec4( directionalLightDirection[ 0 ], 0.0 );\n    vec3 dirVector = normalize( lDirection.xyz );\n    float dotProduct = dot( transformedNormal, dirVector );\n    vec3 directionalLightWeighting = vec3( max( dotProduct, 0.0 ) );\n    vLightFront += directionalLightColor[ 0 ] * directionalLightWeighting;\n    vLightFront = vLightFront * diffuse + ambient * ambientLightColor + emissive;\n    gl_Position = projectionMatrix * mvPosition;\n}",
uniforms:{opacity:{type:"f",value:1},diffuse:{type:"c",value:new WebMol.Color(1,1,1)},fogColor:{type:"c",value:new WebMol.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2E3},ambient:{type:"c",value:new WebMol.Color(1,1,1)},emissive:{type:"c",value:new WebMol.Color(1,1,1)},ambientLightColor:{type:"fv",value:[]},directionalLightColor:{type:"fv",value:[]},directionalLightDirection:{type:"fv",value:[]}}},lambertdouble:{fragmentShader:"uniform mat4 viewMatrix;\nuniform vec3 cameraPosition;\nuniform float opacity;\nuniform vec3 fogColor;\nuniform float fogNear;\nuniform float fogFar;\nvarying vec3 vLightFront;\nvarying vec3 vLightBack;\nvarying vec3 vColor;\nvoid main() {\n    gl_FragColor = vec4( vec3 ( 1.0 ), opacity );\n    #ifndef WIREFRAME\n\t if ( gl_FrontFacing )\n\t\tgl_FragColor.xyz *= vLightFront;\n\t else\n\t\tgl_FragColor.xyz *= vLightBack;\n    #endif\n    gl_FragColor = gl_FragColor * vec4( vColor, opacity );\n    float depth = gl_FragCoord.z / gl_FragCoord.w;\n    float fogFactor = smoothstep( fogNear, fogFar, depth );\n    gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );\n}",
vertexShader:"uniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\nuniform mat4 viewMatrix;\nuniform mat3 normalMatrix;\nuniform vec3 cameraPosition;\nuniform vec3 ambient;\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 ambientLightColor;\nuniform vec3 directionalLightColor[ 1 ];\nuniform vec3 directionalLightDirection[ 1 ];\nattribute vec3 position;\nattribute vec3 normal;\nattribute vec3 color;\nvarying vec3 vColor;\nvarying vec3 vLightFront;\nvarying vec3 vLightBack;\nvoid main() {\n    vColor = color;\n    vec3 objectNormal = normal;\n    vec3 transformedNormal = normalMatrix * objectNormal;\n    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n    vLightFront = vec3( 0.0 );\n    vLightBack = vec3( 0.0 );\n    transformedNormal = normalize( transformedNormal );\n    vec4 lDirection = viewMatrix * vec4( directionalLightDirection[ 0 ], 0.0 );\n    vec3 dirVector = normalize( lDirection.xyz );\n    float dotProduct = dot( transformedNormal, dirVector );\n    vec3 directionalLightWeighting = vec3( max( dotProduct, 0.0 ) );\n\t vec3 directionalLightWeightingBack = vec3( max( -dotProduct, 0.0 ) );\n    vLightFront += directionalLightColor[ 0 ] * directionalLightWeighting;\n\t vLightBack += directionalLightColor[ 0 ] * directionalLightWeightingBack;\n    vLightFront = vLightFront * diffuse + ambient * ambientLightColor + emissive;\n\t vLightBack = vLightBack * diffuse + ambient * ambientLightColor + emissive;\n    gl_Position = projectionMatrix * mvPosition;\n}",
uniforms:{opacity:{type:"f",value:1},diffuse:{type:"c",value:new WebMol.Color(1,1,1)},fogColor:{type:"c",value:new WebMol.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2E3},ambient:{type:"c",value:new WebMol.Color(1,1,1)},emissive:{type:"c",value:new WebMol.Color(1,1,1)},ambientLightColor:{type:"fv",value:[]},directionalLightColor:{type:"fv",value:[]},directionalLightDirection:{type:"fv",value:[]}}},sprite:{fragmentShader:"uniform vec3 color;\nuniform sampler2D map;\nuniform float opacity;\nuniform int fogType;\nuniform vec3 fogColor;\nuniform float fogDensity;\nuniform float fogNear;\nuniform float fogFar;\nuniform float alphaTest;\nvarying vec2 vUV;\nvoid main() {\n    vec4 texture = texture2D(map, vUV);\n    if (texture.a < alphaTest) discard;\n    gl_FragColor = vec4(color * texture.xyz, texture.a * opacity);\n    if (fogType > 0) {\n        float depth = gl_FragCoord.z / gl_FragCoord.w;\n        float fogFactor = 0.0;\n        if (fogType == 1) {\n            fogFactor = smoothstep(fogNear, fogFar, depth);\n        }\n        else {\n            const float LOG2 = 1.442695;\n            float fogFactor = exp2(- fogDensity * fogDensity * depth * depth * LOG2);\n            fogFactor = 1.0 - clamp(fogFactor, 0.0, 1.0);\n        }\n        gl_FragColor = mix(gl_FragColor, vec4(fogColor, gl_FragColor.w), fogFactor);\n    }\n}",
vertexShader:"uniform int useScreenCoordinates;\nuniform int sizeAttenuation;\nuniform vec3 screenPosition;\nuniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\nuniform float rotation;\nuniform vec2 scale;\nuniform vec2 alignment;\nuniform vec2 uvOffset;\nuniform vec2 uvScale;\nattribute vec2 position;\nattribute vec2 uv;\nvarying vec2 vUV;\nvoid main() {\n    vUV = uvOffset + uv * uvScale;\n    vec2 alignedPosition = position + alignment;\n    vec2 rotatedPosition;\n    rotatedPosition.x = ( cos(rotation) * alignedPosition.x - sin(rotation) * alignedPosition.y ) * scale.x;\n    rotatedPosition.y = ( sin(rotation) * alignedPosition.x + cos(rotation) * alignedPosition.y ) * scale.y;\n    vec4 finalPosition;\n    if(useScreenCoordinates != 0) {\n        finalPosition = vec4(screenPosition.xy + rotatedPosition, screenPosition.z, 1.0);\n    }\n    else {\n        finalPosition = projectionMatrix * modelViewMatrix * vec4(0.0, 0.0, 0.0, 1.0);\n        finalPosition.xy += rotatedPosition * (sizeAttenuation == 1 ? 1.0 : finalPosition.z);\n    }\n    gl_Position = finalPosition;\n}",
uniforms:{}}};WebMol=WebMol||{};
WebMol.partialCharges=[{resn:"ALA",atom:"N",props:{partialCharge:-.15}},{resn:"ALA",atom:"CA",props:{partialCharge:.1}},{resn:"ALA",atom:"CB",props:{partialCharge:0}},{resn:"ALA",atom:"C",props:{partialCharge:.6}},{resn:"ALA",atom:"O",props:{partialCharge:-.55}},{resn:"ARG",atom:"N",props:{partialCharge:-.15}},{resn:"ARG",atom:"CA",props:{partialCharge:.1}},{resn:"ARG",atom:"CB",props:{partialCharge:0}},{resn:"ARG",atom:"CG",props:{partialCharge:0}},{resn:"ARG",atom:"CD",props:{partialCharge:.1}},
{resn:"ARG",atom:"NE",props:{partialCharge:-.1}},{resn:"ARG",atom:"CZ",props:{partialCharge:.5}},{resn:"ARG",atom:"NH1",props:{partialCharge:.25}},{resn:"ARG",atom:"NH2",props:{partialCharge:.25}},{resn:"ARG",atom:"C",props:{partialCharge:.6}},{resn:"ARG",atom:"O",props:{partialCharge:-.55}},{resn:"ASN",atom:"N",props:{partialCharge:-.15}},{resn:"ASN",atom:"CA",props:{partialCharge:.1}},{resn:"ASN",atom:"CB",props:{partialCharge:0}},{resn:"ASN",atom:"CG",props:{partialCharge:.55}},{resn:"ASN",atom:"OD1",
props:{partialCharge:-.55}},{resn:"ASN",atom:"ND2",props:{partialCharge:0}},{resn:"ASN",atom:"C",props:{partialCharge:.6}},{resn:"ASN",atom:"O",props:{partialCharge:-.55}},{resn:"ASP",atom:"N",props:{partialCharge:-.15}},{resn:"ASP",atom:"CA",props:{partialCharge:.1}},{resn:"ASP",atom:"CB",props:{partialCharge:0}},{resn:"ASP",atom:"CG",props:{partialCharge:.14}},{resn:"ASP",atom:"OD1",props:{partialCharge:-.57}},{resn:"ASP",atom:"OD2",props:{partialCharge:-.57}},{resn:"ASP",atom:"C",props:{partialCharge:.6}},
{resn:"ASP",atom:"O",props:{partialCharge:-.55}},{resn:"CYS",atom:"N",props:{partialCharge:-.15}},{resn:"CYS",atom:"CA",props:{partialCharge:.1}},{resn:"CYS",atom:"CB",props:{partialCharge:.19}},{resn:"CYS",atom:"SG",props:{partialCharge:-.19}},{resn:"CYS",atom:"C",props:{partialCharge:.6}},{resn:"CYS",atom:"O",props:{partialCharge:-.55}},{resn:"GLN",atom:"N",props:{partialCharge:-.15}},{resn:"GLN",atom:"CA",props:{partialCharge:.1}},{resn:"GLN",atom:"CB",props:{partialCharge:0}},{resn:"GLN",atom:"CG",
props:{partialCharge:0}},{resn:"GLN",atom:"CD",props:{partialCharge:.55}},{resn:"GLN",atom:"OE1",props:{partialCharge:-.55}},{resn:"GLN",atom:"NE2",props:{partialCharge:0}},{resn:"GLN",atom:"C",props:{partialCharge:.6}},{resn:"GLN",atom:"O",props:{partialCharge:-.55}},{resn:"GLU",atom:"N",props:{partialCharge:-.15}},{resn:"GLU",atom:"CA",props:{partialCharge:.1}},{resn:"GLU",atom:"CB",props:{partialCharge:0}},{resn:"GLU",atom:"CG",props:{partialCharge:0}},{resn:"GLU",atom:"CD",props:{partialCharge:.14}},
{resn:"GLU",atom:"OE1",props:{partialCharge:-.57}},{resn:"GLU",atom:"OE2",props:{partialCharge:-.57}},{resn:"GLU",atom:"C",props:{partialCharge:.6}},{resn:"GLU",atom:"O",props:{partialCharge:-.55}},{resn:"GLY",atom:"N",props:{partialCharge:-.15}},{resn:"GLY",atom:"CA",props:{partialCharge:.1}},{resn:"GLY",atom:"C",props:{partialCharge:.6}},{resn:"GLY",atom:"O",props:{partialCharge:-.55}},{resn:"HIS",atom:"N",props:{partialCharge:-.15}},{resn:"HIS",atom:"CA",props:{partialCharge:.1}},{resn:"HIS",atom:"CB",
props:{partialCharge:0}},{resn:"HIS",atom:"CG",props:{partialCharge:.1}},{resn:"HIS",atom:"ND1",props:{partialCharge:-.1}},{resn:"HIS",atom:"CD2",props:{partialCharge:.1}},{resn:"HIS",atom:"NE2",props:{partialCharge:-.4}},{resn:"HIS",atom:"CE1",props:{partialCharge:.3}},{resn:"HIS",atom:"C",props:{partialCharge:.6}},{resn:"HIS",atom:"O",props:{partialCharge:-.55}},{resn:"ILE",atom:"N",props:{partialCharge:-.15}},{resn:"ILE",atom:"CA",props:{partialCharge:.1}},{resn:"ILE",atom:"CB",props:{partialCharge:0}},
{resn:"ILE",atom:"CG2",props:{partialCharge:0}},{resn:"ILE",atom:"CG1",props:{partialCharge:0}},{resn:"ILE",atom:"CD",props:{partialCharge:0}},{resn:"ILE",atom:"C",props:{partialCharge:.6}},{resn:"ILE",atom:"O",props:{partialCharge:-.55}},{resn:"LEU",atom:"N",props:{partialCharge:-.15}},{resn:"LEU",atom:"CA",props:{partialCharge:.1}},{resn:"LEU",atom:"CB",props:{partialCharge:0}},{resn:"LEU",atom:"CG",props:{partialCharge:0}},{resn:"LEU",atom:"CD1",props:{partialCharge:0}},{resn:"LEU",atom:"CD2",
props:{partialCharge:0}},{resn:"LEU",atom:"C",props:{partialCharge:.6}},{resn:"LEU",atom:"O",props:{partialCharge:-.55}},{resn:"LYS",atom:"N",props:{partialCharge:-.15}},{resn:"LYS",atom:"CA",props:{partialCharge:.1}},{resn:"LYS",atom:"CB",props:{partialCharge:0}},{resn:"LYS",atom:"CG",props:{partialCharge:0}},{resn:"LYS",atom:"CD",props:{partialCharge:0}},{resn:"LYS",atom:"CE",props:{partialCharge:.25}},{resn:"LYS",atom:"NZ",props:{partialCharge:.75}},{resn:"LYS",atom:"C",props:{partialCharge:.6}},
{resn:"LYS",atom:"O",props:{partialCharge:-.55}},{resn:"MET",atom:"N",props:{partialCharge:-.15}},{resn:"MET",atom:"CA",props:{partialCharge:.1}},{resn:"MET",atom:"CB",props:{partialCharge:0}},{resn:"MET",atom:"CG",props:{partialCharge:.06}},{resn:"MET",atom:"SD",props:{partialCharge:-.12}},{resn:"MET",atom:"CE",props:{partialCharge:.06}},{resn:"MET",atom:"C",props:{partialCharge:.6}},{resn:"MET",atom:"O",props:{partialCharge:-.55}},{resn:"PHE",atom:"N",props:{partialCharge:-.15}},{resn:"PHE",atom:"CA",
props:{partialCharge:.1}},{resn:"PHE",atom:"CB",props:{partialCharge:0}},{resn:"PHE",atom:"CG",props:{partialCharge:0}},{resn:"PHE",atom:"CD1",props:{partialCharge:0}},{resn:"PHE",atom:"CD2",props:{partialCharge:0}},{resn:"PHE",atom:"CE1",props:{partialCharge:0}},{resn:"PHE",atom:"CE2",props:{partialCharge:0}},{resn:"PHE",atom:"CZ",props:{partialCharge:0}},{resn:"PHE",atom:"C",props:{partialCharge:.6}},{resn:"PHE",atom:"O",props:{partialCharge:-.55}},{resn:"PRO",atom:"N",props:{partialCharge:-.25}},
{resn:"PRO",atom:"CD",props:{partialCharge:.1}},{resn:"PRO",atom:"CA",props:{partialCharge:.1}},{resn:"PRO",atom:"CB",props:{partialCharge:0}},{resn:"PRO",atom:"CG",props:{partialCharge:0}},{resn:"PRO",atom:"C",props:{partialCharge:.6}},{resn:"PRO",atom:"O",props:{partialCharge:-.55}},{resn:"SER",atom:"N",props:{partialCharge:-.15}},{resn:"SER",atom:"CA",props:{partialCharge:.1}},{resn:"SER",atom:"CB",props:{partialCharge:.25}},{resn:"SER",atom:"OG",props:{partialCharge:-.25}},{resn:"SER",atom:"C",
props:{partialCharge:.6}},{resn:"SER",atom:"O",props:{partialCharge:-.55}},{resn:"THR",atom:"N",props:{partialCharge:-.15}},{resn:"THR",atom:"CA",props:{partialCharge:.1}},{resn:"THR",atom:"CB",props:{partialCharge:.25}},{resn:"THR",atom:"OG1",props:{partialCharge:-.25}},{resn:"THR",atom:"CG2",props:{partialCharge:0}},{resn:"THR",atom:"C",props:{partialCharge:.6}},{resn:"THR",atom:"O",props:{partialCharge:-.55}},{resn:"TRP",atom:"N",props:{partialCharge:-.15}},{resn:"TRP",atom:"CA",props:{partialCharge:.1}},
{resn:"TRP",atom:"CB",props:{partialCharge:0}},{resn:"TRP",atom:"CG",props:{partialCharge:-.03}},{resn:"TRP",atom:"CD2",props:{partialCharge:.1}},{resn:"TRP",atom:"CE2",props:{partialCharge:-.04}},{resn:"TRP",atom:"CE3",props:{partialCharge:-.03}},{resn:"TRP",atom:"CD1",props:{partialCharge:.06}},{resn:"TRP",atom:"NE1",props:{partialCharge:-.06}},{resn:"TRP",atom:"CZ2",props:{partialCharge:0}},{resn:"TRP",atom:"CZ3",props:{partialCharge:0}},{resn:"TRP",atom:"CH2",props:{partialCharge:0}},{resn:"TRP",
atom:"C",props:{partialCharge:.6}},{resn:"TRP",atom:"O",props:{partialCharge:-.55}},{resn:"TYR",atom:"N",props:{partialCharge:-.15}},{resn:"TYR",atom:"CA",props:{partialCharge:.1}},{resn:"TYR",atom:"CB",props:{partialCharge:0}},{resn:"TYR",atom:"CG",props:{partialCharge:0}},{resn:"TYR",atom:"CD1",props:{partialCharge:0}},{resn:"TYR",atom:"CE1",props:{partialCharge:0}},{resn:"TYR",atom:"CD2",props:{partialCharge:0}},{resn:"TYR",atom:"CE2",props:{partialCharge:0}},{resn:"TYR",atom:"CZ",props:{partialCharge:.25}},
{resn:"TYR",atom:"OH",props:{partialCharge:-.25}},{resn:"TYR",atom:"C",props:{partialCharge:.6}},{resn:"TYR",atom:"O",props:{partialCharge:-.55}},{resn:"VAL",atom:"N",props:{partialCharge:-.15}},{resn:"VAL",atom:"CA",props:{partialCharge:.1}},{resn:"VAL",atom:"CB",props:{partialCharge:0}},{resn:"VAL",atom:"CG1",props:{partialCharge:0}},{resn:"VAL",atom:"CG2",props:{partialCharge:0}},{resn:"VAL",atom:"C",props:{partialCharge:.6}},{resn:"VAL",atom:"O",props:{partialCharge:-.55}}];
WebMol.partialCharges=WebMol.partialCharges;
WebMol=window.WebMol||{};WebMol.createViewer=function(z,D){"string"===$.type(z)&&(z=$("#"+z));if(z){D=D||{};D.order||(D.order=["glmol","jmol"]);D.defaultcolors||(D.defaultcolors=WebMol.elementColors.defaultColors);for(var B=0;B<D.order.length;B++){var H=D.order[B],w=H+"Viewer";if("function"===typeof this[w])try{return new this[w](z,D.callback,D.defaultcolors,D.Wa)}catch(f){console.log("error with "+H+":"+f)}}alert("Unable to instantiate webmol viewer: "+D.order);return null}};
WebMol.download=function(z,D){var B="";if("pdb:"===z.substr(0,4)){B="pdb";z=z.substr(4).toUpperCase();if(!z.match(/^[1-9][A-Za-z0-9]{3}$/)){alert("Wrong PDB ID");return}uri="http://www.pdb.org/pdb/files/"+z+".pdb"}else if("cid:"==z.substr(0,4)){B="sdf";z=z.substr(4);if(!z.match(/^[1-9]+$/)){alert("Wrong Compound ID");return}uri="http://pubchem.ncbi.nlm.nih.gov/rest/pug/compound/cid/"+z+"/SDF?record_type=3d"}$.get(uri,function(H){D.addModel(H,B);D.zoomTo();D.render()});return null};
WebMol.SurfaceType={VDW:1,MS:2,SAS:3,SES:4};
WebMol.f={j:{},color:function(z){if("undefined"!==typeof this.j[z])return this.j[z];z=this.ya(z);var D=new WebMol.Color(z);return this.j[z]=D},oa:{white:16777215,silver:12632256,gray:8421504,grey:8421504,black:0,red:16711680,maroon:8388608,yellow:16776960,orange:16737792,olive:8421376,lime:65280,green:32768,aqua:65535,cyan:65535,teal:32896,blue:255,navy:128,fuchsia:16711935,magenta:16711935,purple:8388736},ya:function(z){if(parseInt(z))return z;if("string"===typeof z)return this.oa[z.trim().toLowerCase()]||
0}};WebMol.CC=WebMol.f;WebMol.CC.color=WebMol.f.color;WebMol.aa=function(z,D){var B=D.geometry;void 0!==B&&z.geometryGroups.push(B.geometryGroups[0])};WebMol.Va=function(z){return z.toString().replace(/^[^\/]+\/\*!?/,"").replace(/\*\/[^\/]+$/,"")};WebMol.syncSurface=!1;if(0<=window.navigator.userAgent.indexOf("MSIE ")||0<=window.navigator.userAgent.indexOf("Trident/"))WebMol.syncSurface=!0;WebMol=WebMol||{};
WebMol.q=function(){var z={Z:function(f,b,p,c){function g(a,d,F,s,c,x){var g=new WebMol.Vector3;g.copy(e);var q=c;s&1<<c||!(s&1<<x)||(q=x);q&1&&F++;q&2&&d++;q&4&&a++;g.x+=A.x*a;g.y+=A.y*d;g.z+=A.z*F;a=(h*a+d)*m+F;if(u)return b.push(g),b.length-1;0>n[a]&&(n[a]=b.length,b.push(g));return n[a]}var a=!!c.wa,e=c.hasOwnProperty("origin")&&c.origin.hasOwnProperty("x")?c.origin:{x:0,y:0,z:0},u=!!c.voxel,d=c.ba||0,h=c.ca||0,m=c.da||0;c=c.scale||1;var A=(new WebMol.Vector3(1,1,1)).multiplyScalar(c),n=new Int32Array(d*
h*m),l;c=0;for(l=n.length;c<l;++c)n[c]=-1;l=new Int32Array(12);var t=a?H:D,a=a?w:B;for(c=0;c<d-1;++c)for(var s=0;s<h-1;++s)for(var C=0;C<m-1;++C){for(var x=0,q=0;8>q;++q)x|=!!(f[(h*(c+((q&4)>>2))+s+((q&2)>>1))*m+C+(q&1)]&2)<<q;if(0!==x&&255!==x){var y=t[x];if(0!==y)for(q=a[x],y&1&&(l[0]=g(c,s,C,x,0,1)),y&2&&(l[1]=g(c,s,C,x,1,3)),y&4&&(l[2]=g(c,s,C,x,3,2)),y&8&&(l[3]=g(c,s,C,x,2,0)),y&16&&(l[4]=g(c,s,C,x,4,5)),y&32&&(l[5]=g(c,s,C,x,5,7)),y&64&&(l[6]=g(c,s,C,x,7,6)),y&128&&(l[7]=g(c,s,C,x,6,4)),y&256&&
(l[8]=g(c,s,C,x,0,4)),y&512&&(l[9]=g(c,s,C,x,1,5)),y&1024&&(l[10]=g(c,s,C,x,3,7)),y&2048&&(l[11]=g(c,s,C,x,2,6)),x=0;x<q.length;x+=3){var y=l[q[x]],F=l[q[x+1]],I=l[q[x+2]];u&&3<=x&&(b.push(b[y]),y=b.length-1,b.push(b[F]),F=b.length-1,b.push(b[I]),I=b.length-1);p.push(y);p.push(F);p.push(I)}}}},Y:function(f,b,p){var c=Array(b.length),g,a,e,u;g=0;for(a=b.length;g<a;g++)c[g]={x:0,y:0,z:0};var d=Array(20),h;for(g=0;20>g;g++)d[g]=Array(b.length);g=0;for(a=b.length;g<a;g++)d[0][g]=0;g=0;for(a=p.length/
3;g<a;g++){var m=3*g,A=3*g+1,n=3*g+2;h=!0;e=0;for(u=d[0][p[m]];e<u;e++)if(p[A]==d[e+1][p[m]]){h=!1;break}h&&(d[0][p[m]]++,d[d[0][p[m]]][p[m]]=p[A]);h=!0;e=0;for(u=d[0][p[m]];e<u;e++)if(p[n]==d[e+1][p[m]]){h=!1;break}h&&(d[0][p[m]]++,d[d[0][p[m]]][p[m]]=p[n]);h=!0;e=0;for(u=d[0][p[A]];e<u;e++)if(p[m]==d[e+1][p[A]]){h=!1;break}h&&(d[0][p[A]]++,d[d[0][p[A]]][p[A]]=p[m]);h=!0;e=0;for(u=d[0][p[A]];e<u;e++)if(p[n]==d[e+1][p[A]]){h=!1;break}h&&(d[0][p[A]]++,d[d[0][p[A]]][p[A]]=p[n]);h=!0;for(e=0;e<d[0][p[n]];e++)if(p[m]==
d[e+1][p[n]]){h=!1;break}h&&(d[0][p[n]]++,d[d[0][p[n]]][p[n]]=p[m]);h=!0;e=0;for(u=d[0][p[n]];e<u;e++)if(p[A]==d[e+1][p[n]]){h=!1;break}h&&(d[0][p[n]]++,d[d[0][p[n]]][p[n]]=p[A])}for(p=0;p<f;p++){g=0;for(a=b.length;g<a;g++)if(3>d[0][g])c[g].x=b[g].x,c[g].y=b[g].y,c[g].z=b[g].z;else if(3==d[0][g]||4==d[0][g]){c[g].x=0;c[g].y=0;e=c[g].z=0;for(u=d[0][g];e<u;e++)c[g].x+=b[d[e+1][g]].x,c[g].y+=b[d[e+1][g]].y,c[g].z+=b[d[e+1][g]].z;c[g].x+=.5*b[g].x;c[g].y+=.5*b[g].y;c[g].z+=.5*b[g].z;c[g].x/=.5+d[0][g];
c[g].y/=.5+d[0][g];c[g].z/=.5+d[0][g]}else{c[g].x=0;c[g].y=0;e=c[g].z=0;for(u=d[0][g];e<u;e++)c[g].x+=b[d[e+1][g]].x,c[g].y+=b[d[e+1][g]].y,c[g].z+=b[d[e+1][g]].z;c[g].x+=1*b[g].x;c[g].y+=1*b[g].y;c[g].z+=1*b[g].z;c[g].x/=1+d[0][g];c[g].y/=1+d[0][g];c[g].z/=1+d[0][g]}g=0;for(a=b.length;g<a;g++)b[g].x=c[g].x,b[g].y=c[g].y,b[g].z=c[g].z}},pa:[0,0,0,0,0,0,0,2816,0,0,0,1792,0,3328,3584,3840,0,0,0,138,0,21,0,134,0,0,0,652,0,2067,3865,3600,0,0,0,42,0,0,0,294,0,0,21,28,0,3875,1049,3360,0,168,162,170,0,645,
2475,2210,0,687,293,172,4010,3747,3497,3232,0,0,0,0,0,69,0,900,0,0,0,1792,138,131,1608,1920,0,81,0,2074,84,85,84,86,0,81,0,3676,330,1105,1881,1616,0,0,0,42,0,69,0,502,0,0,21,3580,138,2035,1273,1520,2816,104,2337,106,840,581,367,102,2816,3695,3429,3180,1898,1635,1385,1120,0,0,0,0,0,0,0,3910,0,0,69,588,42,2083,41,2880,0,0,0,1722,0,2293,4095,3830,0,255,757,764,2538,2291,3065,2800,0,0,81,338,0,3925,1119,3414,84,855,85,340,2130,2899,89,2384,1792,712,194,1162,4036,3781,3535,3270,708,719,197,204,3018,2755,
2505,2240,0,0,0,0,168,420,168,1958,162,162,676,2988,170,163,680,928,3328,3096,3328,3642,52,53,1855,1590,2340,2111,2869,2620,298,51,825,560,3584,3584,3090,3482,1668,1941,1183,1430,146,2975,2069,2460,154,915,153,400,3840,3592,3329,3082,1796,1541,1295,1030,2818,2575,2309,2060,778,515,265,0]},D=new Uint32Array(z.pa),B=z.$a=[[],[],[],[],[],[],[],[11,9,8],[],[],[],[8,10,9],[],[10,8,11],[9,11,10],[8,10,9,8,11,10],[],[],[],[1,7,3],[],[4,2,0],[],[2,1,7],[],[],[],[2,7,3,2,9,7],[],[1,4,11,1,0,4],[3,8,0,11,9,
4,11,10,9],[4,11,9,11,10,9],[],[],[],[5,3,1],[],[],[],[2,5,8,2,1,5],[],[],[2,4,0],[3,2,4],[],[0,9,1,8,10,5,8,11,10],[3,4,0,3,10,4],[5,8,10,8,11,10],[],[3,5,7],[7,1,5],[1,7,3,1,5,7],[],[9,2,0,9,7,2],[0,3,8,1,7,11,1,5,7],[11,1,7,1,5,7],[],[9,1,0,5,3,2,5,7,3],[8,2,5,8,0,2],[2,5,3,5,7,3],[3,9,1,3,8,9,7,11,10,7,10,5],[9,1,0,10,7,11,10,5,7],[3,8,0,7,10,5,7,11,10],[11,5,7,11,10,5],[],[],[],[],[],[0,6,2],[],[7,2,9,7,9,8],[],[],[],[8,10,9],[7,1,3],[7,1,0],[6,9,3,6,10,9],[7,10,8,10,9,8],[],[6,0,4],[],[11,1,
4,11,3,1],[2,4,6],[2,0,4,2,4,6],[2,4,6],[1,4,2,4,6,2],[],[6,0,4],[],[2,11,3,6,9,4,6,10,9],[8,6,1,8,1,3],[10,0,6,0,4,6],[8,0,3,9,6,10,9,4,6],[10,4,6,10,9,4],[],[],[],[5,3,1],[],[0,6,2],[],[7,4,8,5,2,1,5,6,2],[],[],[2,4,0],[7,4,8,2,11,3,10,5,6],[7,1,3],[5,6,10,0,9,1,8,7,4],[5,6,10,7,0,3,7,4,0],[10,5,6,4,8,7],[9,11,8],[3,5,6],[0,5,11,0,11,8],[6,3,5,3,1,5],[3,9,6,3,8,9],[9,6,0,6,2,0],[0,3,8,2,5,6,2,1,5],[1,6,2,1,5,6],[9,11,8],[1,0,9,6,10,5,11,3,2],[6,10,5,2,8,0,2,11,8],[3,2,11,10,5,6],[10,5,6,9,3,8,9,
1,3],[0,9,1,5,6,10],[8,0,3,10,5,6],[10,5,6],[],[],[],[],[],[],[],[1,10,2,9,11,6,9,8,11],[],[],[6,0,2],[3,6,9,3,2,6],[3,5,1],[0,5,1,0,11,5],[0,3,5],[6,9,11,9,8,11],[],[],[],[4,5,9,7,1,10,7,3,1],[],[11,6,7,2,4,5,2,0,4],[11,6,7,8,0,3,1,10,2,9,4,5],[6,7,11,1,10,2,9,4,5],[],[4,1,0,4,5,1,6,7,3,6,3,2],[9,4,5,0,6,7,0,2,6],[4,5,9,6,3,2,6,7,3],[6,7,11,5,3,8,5,1,3],[6,7,11,4,1,0,4,5,1],[4,5,9,3,8,0,11,6,7],[9,4,5,7,11,6],[],[],[0,6,4],[8,6,4,8,1,6],[],[0,10,2,0,9,10,4,8,11,4,11,6],[10,2,1,6,0,3,6,4,0],[10,2,
1,11,4,8,11,6,4],[4,2,6],[1,0,9,2,4,8,2,6,4],[2,4,0,2,6,4],[8,2,4,2,6,4],[11,4,1,11,6,4],[0,9,1,4,11,6,4,8,11],[3,6,0,6,4,0],[8,6,4,8,11,6],[10,8,9],[6,3,9,6,7,3],[6,7,1],[10,7,1,7,3,1],[7,11,6,8,10,2,8,9,10],[11,6,7,10,0,9,10,2,0],[2,1,10,7,11,6,8,0,3],[1,10,2,6,7,11],[7,2,6,7,9,2],[1,0,9,3,6,7,3,2,6],[7,0,6,0,2,6],[2,7,3,2,6,7],[7,11,6,3,9,1,3,8,9],[9,1,0,11,6,7],[0,3,8,11,6,7],[11,6,7],[],[],[],[],[5,3,7],[8,5,2,8,7,5],[5,3,7],[1,10,2,5,8,7,5,9,8],[1,7,5],[1,7,5],[9,2,7,9,7,5],[11,3,2,8,5,9,8,
7,5],[1,3,7,1,7,5],[0,7,1,7,5,1],[9,3,5,3,7,5],[9,7,5,9,8,7],[8,10,11],[3,4,10,3,10,11],[8,10,11],[5,9,4,1,11,3,1,10,11],[2,4,5],[5,2,4,2,0,4],[0,3,8,5,9,4,10,2,1],[2,1,10,9,4,5],[2,8,5,2,11,8],[3,2,11,1,4,5,1,0,4],[9,4,5,8,2,11,8,0,2],[11,3,2,9,4,5],[8,5,3,5,1,3],[5,0,4,5,1,0],[3,8,0,4,5,9],[9,4,5],[11,9,10],[11,9,10],[1,11,4,1,10,11],[8,7,4,11,1,10,11,3,1],[2,7,9,2,9,10],[4,8,7,0,10,2,0,9,10],[2,1,10,0,7,4,0,3,7],[10,2,1,8,7,4],[1,7,4],[3,2,11,4,8,7,9,1,0],[11,4,2,4,0,2],[2,11,3,7,4,8],[4,1,7,1,
3,7],[1,0,9,8,7,4],[3,4,0,3,7,4],[8,7,4],[8,9,10,8,10,11],[3,9,11,9,10,11],[0,10,8,10,11,8],[10,3,1,10,11,3],[2,8,10,8,9,10],[9,2,0,9,10,2],[8,0,3,1,10,2],[10,2,1],[1,11,9,11,8,9],[11,3,2,0,9,1],[11,0,2,11,8,0],[11,3,2],[8,1,3,8,9,1],[9,1,0],[8,0,3],[]],H=[0,265,515,778,2060,2309,2575,2822,1030,1295,1541,1804,3082,3331,3593,3840,400,153,915,666,2460,2197,2975,2710,1430,1183,1941,1692,3482,3219,3993,3728,560,825,51,314,2620,2869,2111,2358,1590,1855,1077,1340,3642,3891,3129,3376,928,681,419,170,2988,
2725,2479,2214,1958,1711,1445,1196,4010,3747,3497,3232,2240,2505,2755,3018,204,453,719,966,3270,3535,3781,4044,1226,1475,1737,1984,2384,2137,2899,2650,348,85,863,598,3414,3167,3925,3676,1370,1107,1881,1616,2800,3065,2291,2554,764,1013,255,502,3830,4095,3317,3580,1786,2035,1273,1520,2912,2665,2403,2154,876,613,367,102,3942,3695,3429,3180,1898,1635,1385,1120,1120,1385,1635,1898,3180,3429,3695,3942,102,367,613,876,2154,2403,2665,2912,1520,1273,2035,1786,3580,3317,4095,3830,502,255,1013,764,2554,2291,
3065,2800,1616,1881,1107,1370,3676,3925,3167,3414,598,863,85,348,2650,2899,2137,2384,1984,1737,1475,1226,4044,3781,3535,3270,966,719,453,204,3018,2755,2505,2240,3232,3497,3747,4010,1196,1445,1711,1958,2214,2479,2725,2988,170,419,681,928,3376,3129,3891,3642,1340,1077,1855,1590,2358,2111,2869,2620,314,51,825,560,3728,3993,3219,3482,1692,1941,1183,1430,2710,2975,2197,2460,666,915,153,400,3840,3593,3331,3082,1804,1541,1295,1030,2822,2575,2309,2060,778,515,265,0],w=[[],[8,3,0],[9,0,1],[8,3,1,8,1,9],[11,
2,3],[11,2,0,11,0,8],[11,2,3,0,1,9],[2,1,11,1,9,11,11,9,8],[10,1,2],[8,3,0,1,2,10],[9,0,2,9,2,10],[3,2,8,2,10,8,8,10,9],[10,1,3,10,3,11],[1,0,10,0,8,10,10,8,11],[0,3,9,3,11,9,9,11,10],[8,10,9,8,11,10],[8,4,7],[3,0,4,3,4,7],[1,9,0,8,4,7],[9,4,1,4,7,1,1,7,3],[2,3,11,7,8,4],[7,11,4,11,2,4,4,2,0],[3,11,2,4,7,8,9,0,1],[2,7,11,2,1,7,1,4,7,1,9,4],[10,1,2,8,4,7],[2,10,1,0,4,7,0,7,3],[4,7,8,0,2,10,0,10,9],[2,7,3,2,9,7,7,9,4,2,10,9],[8,4,7,11,10,1,11,1,3],[11,4,7,1,4,11,1,11,10,1,0,4],[3,8,0,7,11,4,11,9,4,
11,10,9],[7,11,4,4,11,9,11,10,9],[9,5,4],[3,0,8,4,9,5],[5,4,0,5,0,1],[4,8,5,8,3,5,5,3,1],[11,2,3,9,5,4],[9,5,4,8,11,2,8,2,0],[3,11,2,1,5,4,1,4,0],[8,5,4,2,5,8,2,8,11,2,1,5],[2,10,1,9,5,4],[0,8,3,5,4,9,10,1,2],[10,5,2,5,4,2,2,4,0],[3,4,8,3,2,4,2,5,4,2,10,5],[5,4,9,1,3,11,1,11,10],[0,9,1,4,8,5,8,10,5,8,11,10],[3,4,0,3,10,4,4,10,5,3,11,10],[4,8,5,5,8,10,8,11,10],[9,5,7,9,7,8],[0,9,3,9,5,3,3,5,7],[8,0,7,0,1,7,7,1,5],[1,7,3,1,5,7],[11,2,3,8,9,5,8,5,7],[9,2,0,9,7,2,2,7,11,9,5,7],[0,3,8,2,1,11,1,7,11,1,
5,7],[2,1,11,11,1,7,1,5,7],[1,2,10,5,7,8,5,8,9],[9,1,0,10,5,2,5,3,2,5,7,3],[5,2,10,8,2,5,8,5,7,8,0,2],[10,5,2,2,5,3,5,7,3],[3,9,1,3,8,9,7,11,10,7,10,5],[9,1,0,10,7,11,10,5,7],[3,8,0,7,10,5,7,11,10],[11,5,7,11,10,5],[11,7,6],[0,8,3,11,7,6],[9,0,1,11,7,6],[7,6,11,3,1,9,3,9,8],[2,3,7,2,7,6],[8,7,0,7,6,0,0,6,2],[1,9,0,3,7,6,3,6,2],[7,6,2,7,2,9,2,1,9,7,9,8],[1,2,10,6,11,7],[2,10,1,7,6,11,8,3,0],[11,7,6,10,9,0,10,0,2],[7,6,11,3,2,8,8,2,10,8,10,9],[6,10,7,10,1,7,7,1,3],[6,10,1,6,1,7,7,1,0,7,0,8],[9,0,3,
6,9,3,6,10,9,6,3,7],[6,10,7,7,10,8,10,9,8],[8,4,6,8,6,11],[11,3,6,3,0,6,6,0,4],[0,1,9,4,6,11,4,11,8],[1,9,4,11,1,4,11,3,1,11,4,6],[3,8,2,8,4,2,2,4,6],[2,0,4,2,4,6],[1,9,0,3,8,2,2,8,4,2,4,6],[9,4,1,1,4,2,4,6,2],[10,1,2,11,8,4,11,4,6],[10,1,2,11,3,6,6,3,0,6,0,4],[0,2,10,0,10,9,4,11,8,4,6,11],[2,11,3,6,9,4,6,10,9],[8,4,6,8,6,1,6,10,1,8,1,3],[1,0,10,10,0,6,0,4,6],[8,0,3,9,6,10,9,4,6],[10,4,6,10,9,4],[9,5,4,7,6,11],[4,9,5,3,0,8,11,7,6],[6,11,7,4,0,1,4,1,5],[6,11,7,4,8,5,5,8,3,5,3,1],[4,9,5,6,2,3,6,3,7],
[9,5,4,8,7,0,0,7,6,0,6,2],[4,0,1,4,1,5,6,3,7,6,2,3],[7,4,8,5,2,1,5,6,2],[6,11,7,1,2,10,9,5,4],[11,7,6,8,3,0,1,2,10,9,5,4],[11,7,6,10,5,2,2,5,4,2,4,0],[7,4,8,2,11,3,10,5,6],[4,9,5,6,10,7,7,10,1,7,1,3],[5,6,10,0,9,1,8,7,4],[5,6,10,7,0,3,7,4,0],[10,5,6,4,8,7],[5,6,9,6,11,9,9,11,8],[0,9,5,0,5,3,3,5,6,3,6,11],[0,1,5,0,5,11,5,6,11,0,11,8],[11,3,6,6,3,5,3,1,5],[9,5,6,3,9,6,3,8,9,3,6,2],[5,6,9,9,6,0,6,2,0],[0,3,8,2,5,6,2,1,5],[1,6,2,1,5,6],[1,2,10,5,6,9,9,6,11,9,11,8],[1,0,9,6,10,5,11,3,2],[6,10,5,2,8,0,
2,11,8],[3,2,11,10,5,6],[10,5,6,9,3,8,9,1,3],[0,9,1,5,6,10],[8,0,3,10,5,6],[10,5,6],[10,6,5],[8,3,0,10,6,5],[0,1,9,5,10,6],[10,6,5,9,8,3,9,3,1],[3,11,2,10,6,5],[6,5,10,2,0,8,2,8,11],[1,9,0,6,5,10,11,2,3],[1,10,2,5,9,6,9,11,6,9,8,11],[1,2,6,1,6,5],[0,8,3,2,6,5,2,5,1],[5,9,6,9,0,6,6,0,2],[9,6,5,3,6,9,3,9,8,3,2,6],[11,6,3,6,5,3,3,5,1],[0,5,1,0,11,5,5,11,6,0,8,11],[0,5,9,0,3,5,3,6,5,3,11,6],[5,9,6,6,9,11,9,8,11],[10,6,5,4,7,8],[5,10,6,7,3,0,7,0,4],[5,10,6,0,1,9,8,4,7],[4,5,9,6,7,10,7,1,10,7,3,1],[7,8,
4,2,3,11,10,6,5],[11,6,7,10,2,5,2,4,5,2,0,4],[11,6,7,8,0,3,1,10,2,9,4,5],[6,7,11,1,10,2,9,4,5],[7,8,4,5,1,2,5,2,6],[4,1,0,4,5,1,6,7,3,6,3,2],[9,4,5,8,0,7,0,6,7,0,2,6],[4,5,9,6,3,2,6,7,3],[6,7,11,4,5,8,5,3,8,5,1,3],[6,7,11,4,1,0,4,5,1],[4,5,9,3,8,0,11,6,7],[9,4,5,7,11,6],[10,6,4,10,4,9],[8,3,0,9,10,6,9,6,4],[1,10,0,10,6,0,0,6,4],[8,6,4,8,1,6,6,1,10,8,3,1],[2,3,11,6,4,9,6,9,10],[0,10,2,0,9,10,4,8,11,4,11,6],[10,2,1,11,6,3,6,0,3,6,4,0],[10,2,1,11,4,8,11,6,4],[9,1,4,1,2,4,4,2,6],[1,0,9,3,2,8,2,4,8,2,
6,4],[2,4,0,2,6,4],[3,2,8,8,2,4,2,6,4],[1,4,9,11,4,1,11,1,3,11,6,4],[0,9,1,4,11,6,4,8,11],[11,6,3,3,6,0,6,4,0],[8,6,4,8,11,6],[6,7,10,7,8,10,10,8,9],[9,3,0,6,3,9,6,9,10,6,7,3],[6,1,10,6,7,1,7,0,1,7,8,0],[6,7,10,10,7,1,7,3,1],[7,11,6,3,8,2,8,10,2,8,9,10],[11,6,7,10,0,9,10,2,0],[2,1,10,7,11,6,8,0,3],[1,10,2,6,7,11],[7,2,6,7,9,2,2,9,1,7,8,9],[1,0,9,3,6,7,3,2,6],[8,0,7,7,0,6,0,2,6],[2,7,3,2,6,7],[7,11,6,3,9,1,3,8,9],[9,1,0,11,6,7],[0,3,8,11,6,7],[11,6,7],[11,7,5,11,5,10],[3,0,8,7,5,10,7,10,11],[9,0,1,
10,11,7,10,7,5],[3,1,9,3,9,8,7,10,11,7,5,10],[10,2,5,2,3,5,5,3,7],[5,10,2,8,5,2,8,7,5,8,2,0],[9,0,1,10,2,5,5,2,3,5,3,7],[1,10,2,5,8,7,5,9,8],[2,11,1,11,7,1,1,7,5],[0,8,3,2,11,1,1,11,7,1,7,5],[9,0,2,9,2,7,2,11,7,9,7,5],[11,3,2,8,5,9,8,7,5],[1,3,7,1,7,5],[8,7,0,0,7,1,7,5,1],[0,3,9,9,3,5,3,7,5],[9,7,5,9,8,7],[4,5,8,5,10,8,8,10,11],[3,0,4,3,4,10,4,5,10,3,10,11],[0,1,9,4,5,8,8,5,10,8,10,11],[5,9,4,1,11,3,1,10,11],[3,8,4,3,4,2,2,4,5,2,5,10],[10,2,5,5,2,4,2,0,4],[0,3,8,5,9,4,10,2,1],[2,1,10,9,4,5],[8,4,
5,2,8,5,2,11,8,2,5,1],[3,2,11,1,4,5,1,0,4],[9,4,5,8,2,11,8,0,2],[11,3,2,9,4,5],[4,5,8,8,5,3,5,1,3],[5,0,4,5,1,0],[3,8,0,4,5,9],[9,4,5],[7,4,11,4,9,11,11,9,10],[3,0,8,7,4,11,11,4,9,11,9,10],[11,7,4,1,11,4,1,10,11,1,4,0],[8,7,4,11,1,10,11,3,1],[2,3,7,2,7,9,7,4,9,2,9,10],[4,8,7,0,10,2,0,9,10],[2,1,10,0,7,4,0,3,7],[10,2,1,8,7,4],[2,11,7,2,7,1,1,7,4,1,4,9],[3,2,11,4,8,7,9,1,0],[7,4,11,11,4,2,4,0,2],[2,11,3,7,4,8],[9,1,4,4,1,7,1,3,7],[1,0,9,8,7,4],[3,4,0,3,7,4],[8,7,4],[8,9,10,8,10,11],[0,9,3,3,9,11,9,
10,11],[1,10,0,0,10,8,10,11,8],[10,3,1,10,11,3],[3,8,2,2,8,10,8,9,10],[9,2,0,9,10,2],[8,0,3,1,10,2],[10,2,1],[2,11,1,1,11,9,11,8,9],[11,3,2,0,9,1],[11,0,2,11,8,0],[11,3,2],[8,1,3,8,9,1],[9,1,0],[8,0,3],[]];return z}();"undefined"===typeof console&&(console={log:function(){}});
WebMol.la=function(){function z(a,d,e){var s=new Int32Array(a*d*e*3);this.set=function(a,F,c,b){a=3*((a*d+F)*e+c);s[a]=b.c;s[a+1]=b.d;s[a+2]=b.e};this.get=function(a,F,b){a=3*((a*d+F)*e+b);return{c:s[a],d:s[a+1],e:s[a+2]}}}function D(a){return a.elem&&"undefined"!=typeof t[a.elem]?a.elem:"X"}var B=0,H=0,w=0,f=2,b=0,p=0,c=0,g=0,a=null,e=null,u=null,d=0,h=0,m=0,A=0,n=0,l=0,t={H:1.2,Li:1.82,Na:2.27,K:2.75,C:1.7,N:1.55,O:1.52,F:1.47,P:1.8,S:1.8,CL:1.75,BR:1.85,SE:1.9,ZN:1.39,CU:1.4,NI:1.63,X:2},s={},
C={},x,q,y=[new Int32Array([1,0,0]),new Int32Array([-1,0,0]),new Int32Array([0,1,0]),new Int32Array([0,-1,0]),new Int32Array([0,0,1]),new Int32Array([0,0,-1]),new Int32Array([1,1,0]),new Int32Array([1,-1,0]),new Int32Array([-1,1,0]),new Int32Array([-1,-1,0]),new Int32Array([1,0,1]),new Int32Array([1,0,-1]),new Int32Array([-1,0,1]),new Int32Array([-1,0,-1]),new Int32Array([0,1,1]),new Int32Array([0,1,-1]),new Int32Array([0,-1,1]),new Int32Array([0,-1,-1]),new Int32Array([1,1,1]),new Int32Array([1,
1,-1]),new Int32Array([1,-1,1]),new Int32Array([-1,1,1]),new Int32Array([1,-1,-1]),new Int32Array([-1,-1,1]),new Int32Array([-1,1,-1]),new Int32Array([-1,-1,-1])];this.xa=function(d){var s={},b,c;b=0;for(c=d.length;b<c;b++)s[d[b]]=!0;d=q;b=0;for(c=d.length;b<c;b++)d[b].x=d[b].x/f-B,d[b].y=d[b].y/f-H,d[b].z=d[b].z/f-w;var g=[];b=0;for(c=x.length;b<c;b+=3){var p=x[b],C=x[b+1],y=x[b+2],l=d[C].atomid,h=d[y].atomid,t=d[p].atomid;l<t&&(t=l);h<t&&(t=h);s[t]&&p!==C&&C!==y&&p!==y&&(g.push(p),g.push(C),g.push(y))}u=
e=a=null;return{vertices:d,faces:g}};this.Aa=function(s,x,q){1E6<q&&(f=1);q=1/f*5.5;d=s[0][0];A=s[1][0];h=s[0][1];n=s[1][1];m=s[0][2];l=s[1][2];x?(d-=1.4+q,h-=1.4+q,m-=1.4+q,A+=1.4+q,n+=1.4+q,l+=1.4+q):(d-=q,h-=q,m-=q,A+=q,n+=q,l+=q);d=Math.floor(d*f)/f;h=Math.floor(h*f)/f;m=Math.floor(m*f)/f;A=Math.ceil(A*f)/f;n=Math.ceil(n*f)/f;l=Math.ceil(l*f)/f;B=-d;H=-h;w=-m;c=Math.ceil(f*(A-d))+1;p=Math.ceil(f*(n-h))+1;b=Math.ceil(f*(l-m))+1;this.U(x);g=1.4*f;a=new Uint8Array(c*p*b);e=new Float64Array(c*p*b);
u=new Int32Array(c*p*b);console.log("Box size: ",c,p,b,a.length)};this.U=function(a){var d=[],b,e;flagradius=a;for(var c in t)if(t.hasOwnProperty(c))for(e=t[c],d[c]=a?(e+1.4)*f+.5:e*f+.5,e=d[c]*d[c],C[c]=Math.floor(d[c])+1,s[c]=new Int32Array(C[c]*C[c]),j=indx=0;j<C[c];j++)for(k=0;k<C[c];k++)b=j*j+k*k,b>e?s[c][indx]=-1:(b=Math.sqrt(e-b),s[c][indx]=Math.floor(b)),indx++};this.ua=function(d,b){var c,s;c=0;for(s=a.length;c<s;c++)a[c]=0,e[c]=-1,u[c]=-1;for(c in b)s=d[b[c]],void 0!==s&&this.sa(s,d);c=
0;for(s=a.length;c<s;c++)a[c]&1&&(a[c]|=2)};this.sa=function(d,e){var g,q,x,y,l,h,t,n,m,A,L,z,P,S,T,O,Z;g=Math.floor(.5+f*(d.x+B));q=Math.floor(.5+f*(d.y+H));x=Math.floor(.5+f*(d.z+w));var ba=D(d),U=0,Y=p*b;A=0;for(Z=C[ba];A<Z;A++)for(L=0;L<Z;L++){if(-1!=s[ba][U])for(S=-1;2>S;S++)for(T=-1;2>T;T++)for(O=-1;2>O;O++)if(0!==S&&0!==T&&0!==O)for(t=S*A,m=O*L,z=0;z<=s[ba][U];z++)n=z*T,y=g+t,l=q+n,P=x+m,0>y||0>l||0>P||y>=c||l>=p||P>=b||(P=y*Y+l*b+P,a[P]&1?(h=e[u[P]],y=Math.floor(.5+f*(h.x+B)),l=Math.floor(.5+
f*(h.y+H)),h=Math.floor(.5+f*(h.z+w)),t*t+n*n+m*m<y*y+l*l+h*h&&(u[P]=d.serial)):(a[P]|=1,u[P]=d.serial));U++}};this.va=function(d,c){var b,e;b=0;for(e=a.length;b<e;b++)a[b]&=-3;for(b in c)e=d[c[b]],void 0!==e&&this.ta(e,d)};this.ta=function(d,e){var g,q,x,y,l,h,t=0,n,m,A,L,z,P,S,T,O,Z,ba;g=Math.floor(.5+f*(d.x+B));q=Math.floor(.5+f*(d.y+H));x=Math.floor(.5+f*(d.z+w));var U=D(d),Y=p*b;z=0;for(ba=C[U];z<ba;z++)for(P=0;P<ba;P++){if(-1!=s[U][t])for(T=-1;2>T;T++)for(O=-1;2>O;O++)for(Z=-1;2>Z;Z++)if(0!==
T&&0!==O&&0!==Z)for(n=T*z,A=Z*P,S=0;S<=s[U][t];S++)m=S*O,y=g+n,l=q+m,L=x+A,0>y||0>l||0>L||y>=c||l>=p||L>=b||(L=y*Y+l*b+L,a[L]&2?(h=e[u[L]],y=Math.floor(.5+f*(h.x+B)),l=Math.floor(.5+f*(h.y+H)),h=Math.floor(.5+f*(h.z+w)),n*n+m*m+A*A<y*y+l*l+h*h&&(u[L]=d.serial)):(a[L]|=2,u[L]=d.serial));t++}};this.na=function(){var d=p*b;for(i=0;i<c;i++)for(j=0;j<b;j++)for(k=0;k<p;k++){var e=i*d+k*b+j;if(a[e]&1)for(var s=0;26>s;){var g=i+y[s][0],q=j+y[s][2],x=k+y[s][1];if(-1<g&&g<c&&-1<x&&x<p&&-1<q&&q<b&&!(a[g*d+x*
b+q]&1)){a[e]|=4;break}else s++}}};this.qa=function(){var d,s,q,x=new z(c,p,b),C=p*b,y=g*g,l=[];q=[];var h;for(d=0;d<c;d++)for(s=0;s<p;s++)for(q=0;q<b;q++)if(h=d*C+s*b+q,a[h]&=-3,a[h]&1&&a[h]&4){var t={c:d,d:s,e:q};x.set(d,s,q,t);l.push(t);e[h]=0;a[h]|=2;a[h]&=-5}do for(q=this.ra(l,x),l=[],d=0,s=q.length;d<s;d++)h=C*q[d].c+b*q[d].d+q[d].e,a[h]&=-5,e[h]<=1.0404*y&&l.push({c:q[d].c,d:q[d].d,e:q[d].e});while(0!==l.length);d=f-.5;0>d&&(d=0);y-=.5/(.1+d);for(d=0;d<c;d++)for(s=0;s<p;s++)for(q=0;q<b;q++)h=
d*C+s*b+q,a[h]&=-5,a[h]&1&&(!(a[h]&2)||a[h]&2&&e[h]>=y)&&(a[h]|=4)};this.ra=function(d,s){var q,g,x,h,C,l,t,u,n,m,f,A=[];if(0===d.length)return A;tnv={c:-1,d:-1,e:-1};var w=p*b;t=0;for(n=d.length;t<n;t++)for(q=d[t].c,g=d[t].d,x=d[t].e,m=s.get(q,g,x),u=0;6>u;u++)tnv.c=q+y[u][0],tnv.d=g+y[u][1],tnv.e=x+y[u][2],tnv.c<c&&-1<tnv.c&&tnv.d<p&&-1<tnv.d&&tnv.e<b&&-1<tnv.e&&(f=tnv.c*w+b*tnv.d+tnv.e,a[f]&1&&!(a[f]&2)?(s.set(tnv.c,tnv.d,x+y[u][2],m),h=tnv.c-m.c,C=tnv.d-m.d,l=tnv.e-m.e,h=h*h+C*C+l*l,e[f]=h,a[f]|=
2,a[f]|=4,A.push({c:tnv.c,d:tnv.d,e:tnv.e})):a[f]&1&&a[f]&2&&(h=tnv.c-m.c,C=tnv.d-m.d,l=tnv.e-m.e,h=h*h+C*C+l*l,h<e[f]&&(s.set(tnv.c,tnv.d,tnv.e,m),e[f]=h,a[f]&4||(a[f]|=4,A.push({c:tnv.c,d:tnv.d,e:tnv.e})))));t=0;for(n=d.length;t<n;t++)for(q=d[t].c,g=d[t].d,x=d[t].e,m=s.get(q,g,x),u=6;18>u;u++)tnv.c=q+y[u][0],tnv.d=g+y[u][1],tnv.e=x+y[u][2],tnv.c<c&&-1<tnv.c&&tnv.d<p&&-1<tnv.d&&tnv.e<b&&-1<tnv.e&&(f=tnv.c*w+b*tnv.d+tnv.e,a[f]&1&&!(a[f]&2)?(s.set(tnv.c,tnv.d,x+y[u][2],m),h=tnv.c-m.c,C=tnv.d-m.d,l=
tnv.e-m.e,h=h*h+C*C+l*l,e[f]=h,a[f]|=2,a[f]|=4,A.push({c:tnv.c,d:tnv.d,e:tnv.e})):a[f]&1&&a[f]&2&&(h=tnv.c-m.c,C=tnv.d-m.d,l=tnv.e-m.e,h=h*h+C*C+l*l,h<e[f]&&(s.set(tnv.c,tnv.d,tnv.e,m),e[f]=h,a[f]&4||(a[f]|=4,A.push({c:tnv.c,d:tnv.d,e:tnv.e})))));t=0;for(n=d.length;t<n;t++)for(q=d[t].c,g=d[t].d,x=d[t].e,m=s.get(q,g,x),u=18;26>u;u++)tnv.c=q+y[u][0],tnv.d=g+y[u][1],tnv.e=x+y[u][2],tnv.c<c&&-1<tnv.c&&tnv.d<p&&-1<tnv.d&&tnv.e<b&&-1<tnv.e&&(f=tnv.c*w+b*tnv.d+tnv.e,a[f]&1&&!(a[f]&2)?(s.set(tnv.c,tnv.d,
x+y[u][2],m),h=tnv.c-m.c,C=tnv.d-m.d,l=tnv.e-m.e,h=h*h+C*C+l*l,e[f]=h,a[f]|=2,a[f]|=4,A.push({c:tnv.c,d:tnv.d,e:tnv.e})):a[f]&1&&a[f]&2&&(h=tnv.c-m.c,C=tnv.d-m.d,l=tnv.e-m.e,h=h*h+C*C+l*l,h<e[f]&&(s.set(tnv.c,tnv.d,tnv.e,m),e[f]=h,a[f]&4||(a[f]|=4,A.push({c:tnv.c,d:tnv.d,e:tnv.e})))));return A};this.Fa=function(d){for(var s=0,b=a.length;s<b;s++)1==d?a[s]&=-5:4==d?(a[s]&=-3,a[s]&4&&(a[s]|=2),a[s]&=-5):2==d?a[s]&4&&a[s]&2?a[s]&=-5:a[s]&4&&!(a[s]&2)&&(a[s]|=2):3==d&&(a[s]&=-5)};this.Ea=function(d){this.Fa(d);
q=[];x=[];WebMol.q.Z(a,q,x,{Ya:1,ba:c,ca:p,da:b});d=p*b;for(var s=0,e=q.length;s<e;s++)q[s].atomid=u[q[s].x*d+b*q[s].y+q[s].z];WebMol.q.Y(1,q,x)}};WebMol.ka='self.onmessage=function(oEvent){var obj=oEvent.data,type=obj.type;if(0>type)self.atomData=obj.atoms,self.volume=obj.volume,self.ps=new ProteinSurface;else{var ps=self.ps;ps.initparm(obj.expandedExtent,1==type?!1:!0,self.volume),ps.fillvoxels(self.atomData,obj.extendedAtoms),ps.buildboundary(),(4===type||2===type)&&(ps.fastdistancemap(),ps.boundingatom(!1),ps.fillvoxelswaals(self.atomData,obj.extendedAtoms)),ps.marchingcube(type);var VandF=ps.getFacesAndVertices(obj.atomsToShow);self.postMessage(VandF)}};var Vector3=function(x,y,z){this.x=x||0,this.y=y||0,this.z=z||0};Vector3.prototype={constructor:Vector3,copy:function(v){return this.x=v.x,this.y=v.y,this.z=v.z,this},multiplyScalar:function(s){return this.x*=s,this.y*=s,this.z*=s,this}};var ISDONE=2,ProteinSurface=function (){var faces,verts,origextent,INOUT=1,ISDONE=2,ISBOUND=4,ptranx=0,ptrany=0,ptranz=0,probeRadius=1.4,defaultScaleFactor=2,scaleFactor=defaultScaleFactor,pHeight=0,pWidth=0,pLength=0,cutRadius=0,vpBits=null,vpDistance=null,vpAtomID=null,pminx=0,pminy=0,pminz=0,pmaxx=0,pmaxy=0,pmaxz=0,vdwRadii={H:1.2,Li:1.82,Na:2.27,K:2.75,C:1.7,N:1.55,O:1.52,F:1.47,P:1.8,S:1.8,CL:1.75,BR:1.85,SE:1.9,ZN:1.39,CU:1.4,NI:1.63,X:2},getVDWIndex=function(atom){return atom.elem&&"undefined"!=typeof vdwRadii[atom.elem]?atom.elem:"X"},depty={},widxz={},nb=[new Int32Array([1,0,0]),new Int32Array([-1,0,0]),new Int32Array([0,1,0]),new Int32Array([0,-1,0]),new Int32Array([0,0,1]),new Int32Array([0,0,-1]),new Int32Array([1,1,0]),new Int32Array([1,-1,0]),new Int32Array([-1,1,0]),new Int32Array([-1,-1,0]),new Int32Array([1,0,1]),new Int32Array([1,0,-1]),new Int32Array([-1,0,1]),new Int32Array([-1,0,-1]),new Int32Array([0,1,1]),new Int32Array([0,1,-1]),new Int32Array([0,-1,1]),new Int32Array([0,-1,-1]),new Int32Array([1,1,1]),new Int32Array([1,1,-1]),new Int32Array([1,-1,1]),new Int32Array([-1,1,1]),new Int32Array([1,-1,-1]),new Int32Array([-1,-1,1]),new Int32Array([-1,1,-1]),new Int32Array([-1,-1,-1])];this.getFacesAndVertices=function(atomlist){var i,il,atomsToShow={};for(i=0,il=atomlist.length;il>i;i++)atomsToShow[atomlist[i]]=!0;var vertices=verts;for(i=0,il=vertices.length;il>i;i++)vertices[i].x=vertices[i].x/scaleFactor-ptranx,vertices[i].y=vertices[i].y/scaleFactor-ptrany,vertices[i].z=vertices[i].z/scaleFactor-ptranz;var finalfaces=[];for(i=0,il=faces.length;il>i;i+=3){var fa=faces[i],fb=faces[i+1],fc=faces[i+2],a=vertices[fa].atomid,b=vertices[fb].atomid,c=vertices[fc].atomid,which=a;if(which>b&&(which=b),which>c&&(which=c),atomsToShow[which]){{vertices[faces[i]],vertices[faces[i+1]],vertices[faces[i+2]]}fa!==fb&&fb!==fc&&fa!==fc&&(finalfaces.push(fa),finalfaces.push(fb),finalfaces.push(fc))}}return vpBits=null,vpDistance=null,vpAtomID=null,{vertices:vertices,faces:finalfaces}},this.initparm=function(extent,btype,volume){volume>1e6&&(scaleFactor=defaultScaleFactor/2);var margin=1/scaleFactor*5.5;origextent=extent,pminx=extent[0][0],pmaxx=extent[1][0],pminy=extent[0][1],pmaxy=extent[1][1],pminz=extent[0][2],pmaxz=extent[1][2],btype?(pminx-=probeRadius+margin,pminy-=probeRadius+margin,pminz-=probeRadius+margin,pmaxx+=probeRadius+margin,pmaxy+=probeRadius+margin,pmaxz+=probeRadius+margin):(pminx-=margin,pminy-=margin,pminz-=margin,pmaxx+=margin,pmaxy+=margin,pmaxz+=margin),pminx=Math.floor(pminx*scaleFactor)/scaleFactor,pminy=Math.floor(pminy*scaleFactor)/scaleFactor,pminz=Math.floor(pminz*scaleFactor)/scaleFactor,pmaxx=Math.ceil(pmaxx*scaleFactor)/scaleFactor,pmaxy=Math.ceil(pmaxy*scaleFactor)/scaleFactor,pmaxz=Math.ceil(pmaxz*scaleFactor)/scaleFactor,ptranx=-pminx,ptrany=-pminy,ptranz=-pminz,pLength=Math.ceil(scaleFactor*(pmaxx-pminx))+1,pWidth=Math.ceil(scaleFactor*(pmaxy-pminy))+1,pHeight=Math.ceil(scaleFactor*(pmaxz-pminz))+1,this.boundingatom(btype),cutRadius=probeRadius*scaleFactor,vpBits=new Uint8Array(pLength*pWidth*pHeight),vpDistance=new Float64Array(pLength*pWidth*pHeight),vpAtomID=new Int32Array(pLength*pWidth*pHeight)},this.boundingatom=function(btype){var txz,tdept,sradius,tradius=[];flagradius=btype;for(var i in vdwRadii)if(vdwRadii.hasOwnProperty(i)){var r=vdwRadii[i];for(tradius[i]=btype?(r+probeRadius)*scaleFactor+.5:r*scaleFactor+.5,sradius=tradius[i]*tradius[i],widxz[i]=Math.floor(tradius[i])+1,depty[i]=new Int32Array(widxz[i]*widxz[i]),indx=0,j=0;j<widxz[i];j++)for(k=0;k<widxz[i];k++)txz=j*j+k*k,txz>sradius?depty[i][indx]=-1:(tdept=Math.sqrt(sradius-txz),depty[i][indx]=Math.floor(tdept)),indx++}},this.fillvoxels=function(atoms,atomlist){var i,il;for(i=0,il=vpBits.length;il>i;i++)vpBits[i]=0,vpDistance[i]=-1,vpAtomID[i]=-1;for(i in atomlist){var atom=atoms[atomlist[i]];void 0!==atom&&this.fillAtom(atom,atoms)}for(i=0,il=vpBits.length;il>i;i++)vpBits[i]&INOUT&&(vpBits[i]|=ISDONE)},this.fillAtom=function(atom,atoms){var cx,cy,cz,ox,oy,oz,mi,mj,mk,i,j,k,si,sj,sk,ii,jj,kk,n;cx=Math.floor(.5+scaleFactor*(atom.x+ptranx)),cy=Math.floor(.5+scaleFactor*(atom.y+ptrany)),cz=Math.floor(.5+scaleFactor*(atom.z+ptranz));var at=getVDWIndex(atom),nind=0,pWH=pWidth*pHeight;for(i=0,n=widxz[at];n>i;i++)for(j=0;n>j;j++){if(-1!=depty[at][nind])for(ii=-1;2>ii;ii++)for(jj=-1;2>jj;jj++)for(kk=-1;2>kk;kk++)if(0!==ii&&0!==jj&&0!==kk)for(mi=ii*i,mk=kk*j,k=0;k<=depty[at][nind];k++)if(mj=k*jj,si=cx+mi,sj=cy+mj,sk=cz+mk,!(0>si||0>sj||0>sk||si>=pLength||sj>=pWidth||sk>=pHeight)){var index=si*pWH+sj*pHeight+sk;if(vpBits[index]&INOUT){var atom2=atoms[vpAtomID[index]];ox=Math.floor(.5+scaleFactor*(atom2.x+ptranx)),oy=Math.floor(.5+scaleFactor*(atom2.y+ptrany)),oz=Math.floor(.5+scaleFactor*(atom2.z+ptranz)),ox*ox+oy*oy+oz*oz>mi*mi+mj*mj+mk*mk&&(vpAtomID[index]=atom.serial)}else vpBits[index]|=INOUT,vpAtomID[index]=atom.serial}nind++}},this.fillvoxelswaals=function(atoms,atomlist){var i,il;for(i=0,il=vpBits.length;il>i;i++)vpBits[i]&=~ISDONE;for(i in atomlist){var atom=atoms[atomlist[i]];void 0!==atom&&this.fillAtomWaals(atom,atoms)}},this.fillAtomWaals=function(atom,atoms){var cx,cy,cz,ox,oy,oz,mi,mj,mk,si,sj,sk,i,j,k,ii,jj,kk,n,nind=0;cx=Math.floor(.5+scaleFactor*(atom.x+ptranx)),cy=Math.floor(.5+scaleFactor*(atom.y+ptrany)),cz=Math.floor(.5+scaleFactor*(atom.z+ptranz));var at=getVDWIndex(atom),pWH=pWidth*pHeight;for(i=0,n=widxz[at];n>i;i++)for(j=0;n>j;j++){if(-1!=depty[at][nind])for(ii=-1;2>ii;ii++)for(jj=-1;2>jj;jj++)for(kk=-1;2>kk;kk++)if(0!==ii&&0!==jj&&0!==kk)for(mi=ii*i,mk=kk*j,k=0;k<=depty[at][nind];k++)if(mj=k*jj,si=cx+mi,sj=cy+mj,sk=cz+mk,!(0>si||0>sj||0>sk||si>=pLength||sj>=pWidth||sk>=pHeight)){var index=si*pWH+sj*pHeight+sk;if(vpBits[index]&ISDONE){var atom2=atoms[vpAtomID[index]];ox=Math.floor(.5+scaleFactor*(atom2.x+ptranx)),oy=Math.floor(.5+scaleFactor*(atom2.y+ptrany)),oz=Math.floor(.5+scaleFactor*(atom2.z+ptranz)),ox*ox+oy*oy+oz*oz>mi*mi+mj*mj+mk*mk&&(vpAtomID[index]=atom.serial)}else vpBits[index]|=ISDONE,vpAtomID[index]=atom.serial}nind++}},this.buildboundary=function(){var pWH=pWidth*pHeight;for(i=0;pLength>i;i++)for(j=0;pHeight>j;j++)for(k=0;pWidth>k;k++){var index=i*pWH+k*pHeight+j;if(vpBits[index]&INOUT)for(var ii=0;26>ii;){var ti=i+nb[ii][0],tj=j+nb[ii][2],tk=k+nb[ii][1];if(ti>-1&&pLength>ti&&tk>-1&&pWidth>tk&&tj>-1&&pHeight>tj&&!(vpBits[ti*pWH+tk*pHeight+tj]&INOUT)){vpBits[index]|=ISBOUND;break}ii++}}};var PointGrid=function(length,width,height){var data=new Int32Array(length*width*height*3);this.set=function(x,y,z,pt){var index=3*((x*width+y)*height+z);data[index]=pt.ix,data[index+1]=pt.iy,data[index+2]=pt.iz},this.get=function(x,y,z){var index=3*((x*width+y)*height+z);return{ix:data[index],iy:data[index+1],iz:data[index+2]}}};this.fastdistancemap=function(){var i,j,k,n,index,boundPoint=new PointGrid(pLength,pWidth,pHeight),pWH=pWidth*pHeight,cutRSq=cutRadius*cutRadius,inarray=[],outarray=[];for(i=0;pLength>i;i++)for(j=0;pWidth>j;j++)for(k=0;pHeight>k;k++)if(index=i*pWH+j*pHeight+k,vpBits[index]&=~ISDONE,vpBits[index]&INOUT&&vpBits[index]&ISBOUND){var triple={ix:i,iy:j,iz:k};boundPoint.set(i,j,k,triple),inarray.push(triple),vpDistance[index]=0,vpBits[index]|=ISDONE,vpBits[index]&=~ISBOUND}do for(outarray=this.fastoneshell(inarray,boundPoint),inarray=[],i=0,n=outarray.length;n>i;i++)index=pWH*outarray[i].ix+pHeight*outarray[i].iy+outarray[i].iz,vpBits[index]&=~ISBOUND,vpDistance[index]<=1.0404*cutRSq&&inarray.push({ix:outarray[i].ix,iy:outarray[i].iy,iz:outarray[i].iz});while(0!==inarray.length);inarray=[],outarray=[],boundPoint=null;var cutsf=scaleFactor-.5;0>cutsf&&(cutsf=0);var cutoff=cutRSq-.5/(.1+cutsf);for(i=0;pLength>i;i++)for(j=0;pWidth>j;j++)for(k=0;pHeight>k;k++)index=i*pWH+j*pHeight+k,vpBits[index]&=~ISBOUND,vpBits[index]&INOUT&&(!(vpBits[index]&ISDONE)||vpBits[index]&ISDONE&&vpDistance[index]>=cutoff)&&(vpBits[index]|=ISBOUND)},this.fastoneshell=function(inarray,boundPoint){var tx,ty,tz,dx,dy,dz,i,j,n,square,bp,index,outarray=[];if(0===inarray.length)return outarray;tnv={ix:-1,iy:-1,iz:-1};var pWH=pWidth*pHeight;for(i=0,n=inarray.length;n>i;i++)for(tx=inarray[i].ix,ty=inarray[i].iy,tz=inarray[i].iz,bp=boundPoint.get(tx,ty,tz),j=0;6>j;j++)tnv.ix=tx+nb[j][0],tnv.iy=ty+nb[j][1],tnv.iz=tz+nb[j][2],tnv.ix<pLength&&tnv.ix>-1&&tnv.iy<pWidth&&tnv.iy>-1&&tnv.iz<pHeight&&tnv.iz>-1&&(index=tnv.ix*pWH+pHeight*tnv.iy+tnv.iz,vpBits[index]&INOUT&&!(vpBits[index]&ISDONE)?(boundPoint.set(tnv.ix,tnv.iy,tz+nb[j][2],bp),dx=tnv.ix-bp.ix,dy=tnv.iy-bp.iy,dz=tnv.iz-bp.iz,square=dx*dx+dy*dy+dz*dz,vpDistance[index]=square,vpBits[index]|=ISDONE,vpBits[index]|=ISBOUND,outarray.push({ix:tnv.ix,iy:tnv.iy,iz:tnv.iz})):vpBits[index]&INOUT&&vpBits[index]&ISDONE&&(dx=tnv.ix-bp.ix,dy=tnv.iy-bp.iy,dz=tnv.iz-bp.iz,square=dx*dx+dy*dy+dz*dz,square<vpDistance[index]&&(boundPoint.set(tnv.ix,tnv.iy,tnv.iz,bp),vpDistance[index]=square,vpBits[index]&ISBOUND||(vpBits[index]|=ISBOUND,outarray.push({ix:tnv.ix,iy:tnv.iy,iz:tnv.iz})))));for(i=0,n=inarray.length;n>i;i++)for(tx=inarray[i].ix,ty=inarray[i].iy,tz=inarray[i].iz,bp=boundPoint.get(tx,ty,tz),j=6;18>j;j++)tnv.ix=tx+nb[j][0],tnv.iy=ty+nb[j][1],tnv.iz=tz+nb[j][2],tnv.ix<pLength&&tnv.ix>-1&&tnv.iy<pWidth&&tnv.iy>-1&&tnv.iz<pHeight&&tnv.iz>-1&&(index=tnv.ix*pWH+pHeight*tnv.iy+tnv.iz,vpBits[index]&INOUT&&!(vpBits[index]&ISDONE)?(boundPoint.set(tnv.ix,tnv.iy,tz+nb[j][2],bp),dx=tnv.ix-bp.ix,dy=tnv.iy-bp.iy,dz=tnv.iz-bp.iz,square=dx*dx+dy*dy+dz*dz,vpDistance[index]=square,vpBits[index]|=ISDONE,vpBits[index]|=ISBOUND,outarray.push({ix:tnv.ix,iy:tnv.iy,iz:tnv.iz})):vpBits[index]&INOUT&&vpBits[index]&ISDONE&&(dx=tnv.ix-bp.ix,dy=tnv.iy-bp.iy,dz=tnv.iz-bp.iz,square=dx*dx+dy*dy+dz*dz,square<vpDistance[index]&&(boundPoint.set(tnv.ix,tnv.iy,tnv.iz,bp),vpDistance[index]=square,vpBits[index]&ISBOUND||(vpBits[index]|=ISBOUND,outarray.push({ix:tnv.ix,iy:tnv.iy,iz:tnv.iz})))));for(i=0,n=inarray.length;n>i;i++)for(tx=inarray[i].ix,ty=inarray[i].iy,tz=inarray[i].iz,bp=boundPoint.get(tx,ty,tz),j=18;26>j;j++)tnv.ix=tx+nb[j][0],tnv.iy=ty+nb[j][1],tnv.iz=tz+nb[j][2],tnv.ix<pLength&&tnv.ix>-1&&tnv.iy<pWidth&&tnv.iy>-1&&tnv.iz<pHeight&&tnv.iz>-1&&(index=tnv.ix*pWH+pHeight*tnv.iy+tnv.iz,vpBits[index]&INOUT&&!(vpBits[index]&ISDONE)?(boundPoint.set(tnv.ix,tnv.iy,tz+nb[j][2],bp),dx=tnv.ix-bp.ix,dy=tnv.iy-bp.iy,dz=tnv.iz-bp.iz,square=dx*dx+dy*dy+dz*dz,vpDistance[index]=square,vpBits[index]|=ISDONE,vpBits[index]|=ISBOUND,outarray.push({ix:tnv.ix,iy:tnv.iy,iz:tnv.iz})):vpBits[index]&INOUT&&vpBits[index]&ISDONE&&(dx=tnv.ix-bp.ix,dy=tnv.iy-bp.iy,dz=tnv.iz-bp.iz,square=dx*dx+dy*dy+dz*dz,square<vpDistance[index]&&(boundPoint.set(tnv.ix,tnv.iy,tnv.iz,bp),vpDistance[index]=square,vpBits[index]&ISBOUND||(vpBits[index]|=ISBOUND,outarray.push({ix:tnv.ix,iy:tnv.iy,iz:tnv.iz})))));return outarray},this.marchingcubeinit=function(stype){for(var i=0,lim=vpBits.length;lim>i;i++)1==stype?vpBits[i]&=~ISBOUND:4==stype?(vpBits[i]&=~ISDONE,vpBits[i]&ISBOUND&&(vpBits[i]|=ISDONE),vpBits[i]&=~ISBOUND):2==stype?vpBits[i]&ISBOUND&&vpBits[i]&ISDONE?vpBits[i]&=~ISBOUND:vpBits[i]&ISBOUND&&!(vpBits[i]&ISDONE)&&(vpBits[i]|=ISDONE):3==stype&&(vpBits[i]&=~ISBOUND)};this.marchingcube=function(stype){this.marchingcubeinit(stype),verts=[],faces=[],march(vpBits,verts,faces,{smooth:1,nX:pLength,nY:pWidth,nZ:pHeight});for(var pWH=pWidth*pHeight,i=0,vlen=verts.length;vlen>i;i++)verts[i].atomid=vpAtomID[verts[i].x*pWH+pHeight*verts[i].y+verts[i].z];laplacianSmooth(1,verts,faces)}},march=function (data,verts,faces,spec){var i,il,fulltable=!!spec.fulltable,origin=spec.hasOwnProperty("origin")&&spec.origin.hasOwnProperty("x")?spec.origin:{x:0,y:0,z:0},voxel=!!spec.voxel,nX=spec.nX||0,nY=spec.nY||0,nZ=spec.nZ||0,scale=spec.scale||1,unitCube=new Vector3(1,1,1).multiplyScalar(scale),vertnums=new Int32Array(nX*nY*nZ);for(i=0,il=vertnums.length;il>i;++i)vertnums[i]=-1;var getVertex=function(i,j,k,code,p1,p2){var pt=new Vector3;pt.copy(origin);var val1=!!(code&1<<p1),val2=!!(code&1<<p2),p=p1;!val1&&val2&&(p=p2),1&p&&k++,2&p&&j++,4&p&&i++,pt.x+=unitCube.x*i,pt.y+=unitCube.y*j,pt.z+=unitCube.z*k;var index=(nY*i+j)*nZ+k;return voxel?(verts.push(pt),verts.length-1):(vertnums[index]<0&&(vertnums[index]=verts.length,verts.push(pt)),vertnums[index])},intersects=new Int32Array(12),etable=fulltable?edgeTable2:edgeTable,tritable=fulltable?triTable2:triTable;for(i=0;nX-1>i;++i)for(var j=0;nY-1>j;++j)for(var k=0;nZ-1>k;++k){for(var code=0,p=0;8>p;++p){var index=(nY*(i+((4&p)>>2))+j+((2&p)>>1))*nZ+k+(1&p),val=!!(data[index]&ISDONE);code|=val<<p}if(0!==code&&255!==code){var ecode=etable[code];if(0!==ecode){var ttable=tritable[code];1&ecode&&(intersects[0]=getVertex(i,j,k,code,0,1)),2&ecode&&(intersects[1]=getVertex(i,j,k,code,1,3)),4&ecode&&(intersects[2]=getVertex(i,j,k,code,3,2)),8&ecode&&(intersects[3]=getVertex(i,j,k,code,2,0)),16&ecode&&(intersects[4]=getVertex(i,j,k,code,4,5)),32&ecode&&(intersects[5]=getVertex(i,j,k,code,5,7)),64&ecode&&(intersects[6]=getVertex(i,j,k,code,7,6)),128&ecode&&(intersects[7]=getVertex(i,j,k,code,6,4)),256&ecode&&(intersects[8]=getVertex(i,j,k,code,0,4)),512&ecode&&(intersects[9]=getVertex(i,j,k,code,1,5)),1024&ecode&&(intersects[10]=getVertex(i,j,k,code,3,7)),2048&ecode&&(intersects[11]=getVertex(i,j,k,code,2,6));for(var t=0;t<ttable.length;t+=3){var a=intersects[ttable[t]],b=intersects[ttable[t+1]],c=intersects[ttable[t+2]];voxel&&t>=3&&(verts.push(verts[a]),a=verts.length-1,verts.push(verts[b]),b=verts.length-1,verts.push(verts[c]),c=verts.length-1),faces.push(a),faces.push(b),faces.push(c)}}}}},laplacianSmooth=function (numiter,verts,faces){var i,il,j,jl,k,tps=new Array(verts.length);for(i=0,il=verts.length;il>i;i++)tps[i]={x:0,y:0,z:0};var flagvert,vertdeg=new Array(20);for(i=0;20>i;i++)vertdeg[i]=new Array(verts.length);for(i=0,il=verts.length;il>i;i++)vertdeg[0][i]=0;for(i=0,il=faces.length/3;il>i;i++){var aoffset=3*i,boffset=3*i+1,coffset=3*i+2;for(flagvert=!0,j=0,jl=vertdeg[0][faces[aoffset]];jl>j;j++)if(faces[boffset]==vertdeg[j+1][faces[aoffset]]){flagvert=!1;break}for(flagvert&&(vertdeg[0][faces[aoffset]]++,vertdeg[vertdeg[0][faces[aoffset]]][faces[aoffset]]=faces[boffset]),flagvert=!0,j=0,jl=vertdeg[0][faces[aoffset]];jl>j;j++)if(faces[coffset]==vertdeg[j+1][faces[aoffset]]){flagvert=!1;break}for(flagvert&&(vertdeg[0][faces[aoffset]]++,vertdeg[vertdeg[0][faces[aoffset]]][faces[aoffset]]=faces[coffset]),flagvert=!0,j=0,jl=vertdeg[0][faces[boffset]];jl>j;j++)if(faces[aoffset]==vertdeg[j+1][faces[boffset]]){flagvert=!1;break}for(flagvert&&(vertdeg[0][faces[boffset]]++,vertdeg[vertdeg[0][faces[boffset]]][faces[boffset]]=faces[aoffset]),flagvert=!0,j=0,jl=vertdeg[0][faces[boffset]];jl>j;j++)if(faces[coffset]==vertdeg[j+1][faces[boffset]]){flagvert=!1;break}for(flagvert&&(vertdeg[0][faces[boffset]]++,vertdeg[vertdeg[0][faces[boffset]]][faces[boffset]]=faces[coffset]),flagvert=!0,j=0;j<vertdeg[0][faces[coffset]];j++)if(faces[aoffset]==vertdeg[j+1][faces[coffset]]){flagvert=!1;break}for(flagvert&&(vertdeg[0][faces[coffset]]++,vertdeg[vertdeg[0][faces[coffset]]][faces[coffset]]=faces[aoffset]),flagvert=!0,j=0,jl=vertdeg[0][faces[coffset]];jl>j;j++)if(faces[boffset]==vertdeg[j+1][faces[coffset]]){flagvert=!1;break}flagvert&&(vertdeg[0][faces[coffset]]++,vertdeg[vertdeg[0][faces[coffset]]][faces[coffset]]=faces[boffset])}var wt=1,wt2=.5;for(k=0;numiter>k;k++){for(i=0,il=verts.length;il>i;i++)if(vertdeg[0][i]<3)tps[i].x=verts[i].x,tps[i].y=verts[i].y,tps[i].z=verts[i].z;else if(3==vertdeg[0][i]||4==vertdeg[0][i]){for(tps[i].x=0,tps[i].y=0,tps[i].z=0,j=0,jl=vertdeg[0][i];jl>j;j++)tps[i].x+=verts[vertdeg[j+1][i]].x,tps[i].y+=verts[vertdeg[j+1][i]].y,tps[i].z+=verts[vertdeg[j+1][i]].z;tps[i].x+=wt2*verts[i].x,tps[i].y+=wt2*verts[i].y,tps[i].z+=wt2*verts[i].z,tps[i].x/=wt2+vertdeg[0][i],tps[i].y/=wt2+vertdeg[0][i],tps[i].z/=wt2+vertdeg[0][i]}else{for(tps[i].x=0,tps[i].y=0,tps[i].z=0,j=0,jl=vertdeg[0][i];jl>j;j++)tps[i].x+=verts[vertdeg[j+1][i]].x,tps[i].y+=verts[vertdeg[j+1][i]].y,tps[i].z+=verts[vertdeg[j+1][i]].z;tps[i].x+=wt*verts[i].x,tps[i].y+=wt*verts[i].y,tps[i].z+=wt*verts[i].z,tps[i].x/=wt+vertdeg[0][i],tps[i].y/=wt+vertdeg[0][i],tps[i].z/=wt+vertdeg[0][i]}for(i=0,il=verts.length;il>i;i++)verts[i].x=tps[i].x,verts[i].y=tps[i].y,verts[i].z=tps[i].z}},edgeTable=new Uint32Array([0,0,0,0,0,0,0,2816,0,0,0,1792,0,3328,3584,3840,0,0,0,138,0,21,0,134,0,0,0,652,0,2067,3865,3600,0,0,0,42,0,0,0,294,0,0,21,28,0,3875,1049,3360,0,168,162,170,0,645,2475,2210,0,687,293,172,4010,3747,3497,3232,0,0,0,0,0,69,0,900,0,0,0,1792,138,131,1608,1920,0,81,0,2074,84,85,84,86,0,81,0,3676,330,1105,1881,1616,0,0,0,42,0,69,0,502,0,0,21,3580,138,2035,1273,1520,2816,104,2337,106,840,581,367,102,2816,3695,3429,3180,1898,1635,1385,1120,0,0,0,0,0,0,0,3910,0,0,69,588,42,2083,41,2880,0,0,0,1722,0,2293,4095,3830,0,255,757,764,2538,2291,3065,2800,0,0,81,338,0,3925,1119,3414,84,855,85,340,2130,2899,89,2384,1792,712,194,1162,4036,3781,3535,3270,708,719,197,204,3018,2755,2505,2240,0,0,0,0,168,420,168,1958,162,162,676,2988,170,163,680,928,3328,3096,3328,3642,52,53,1855,1590,2340,2111,2869,2620,298,51,825,560,3584,3584,3090,3482,1668,1941,1183,1430,146,2975,2069,2460,154,915,153,400,3840,3592,3329,3082,1796,1541,1295,1030,2818,2575,2309,2060,778,515,265,0]),triTable=[[],[],[],[],[],[],[],[11,9,8],[],[],[],[8,10,9],[],[10,8,11],[9,11,10],[8,10,9,8,11,10],[],[],[],[1,7,3],[],[4,2,0],[],[2,1,7],[],[],[],[2,7,3,2,9,7],[],[1,4,11,1,0,4],[3,8,0,11,9,4,11,10,9],[4,11,9,11,10,9],[],[],[],[5,3,1],[],[],[],[2,5,8,2,1,5],[],[],[2,4,0],[3,2,4],[],[0,9,1,8,10,5,8,11,10],[3,4,0,3,10,4],[5,8,10,8,11,10],[],[3,5,7],[7,1,5],[1,7,3,1,5,7],[],[9,2,0,9,7,2],[0,3,8,1,7,11,1,5,7],[11,1,7,1,5,7],[],[9,1,0,5,3,2,5,7,3],[8,2,5,8,0,2],[2,5,3,5,7,3],[3,9,1,3,8,9,7,11,10,7,10,5],[9,1,0,10,7,11,10,5,7],[3,8,0,7,10,5,7,11,10],[11,5,7,11,10,5],[],[],[],[],[],[0,6,2],[],[7,2,9,7,9,8],[],[],[],[8,10,9],[7,1,3],[7,1,0],[6,9,3,6,10,9],[7,10,8,10,9,8],[],[6,0,4],[],[11,1,4,11,3,1],[2,4,6],[2,0,4,2,4,6],[2,4,6],[1,4,2,4,6,2],[],[6,0,4],[],[2,11,3,6,9,4,6,10,9],[8,6,1,8,1,3],[10,0,6,0,4,6],[8,0,3,9,6,10,9,4,6],[10,4,6,10,9,4],[],[],[],[5,3,1],[],[0,6,2],[],[7,4,8,5,2,1,5,6,2],[],[],[2,4,0],[7,4,8,2,11,3,10,5,6],[7,1,3],[5,6,10,0,9,1,8,7,4],[5,6,10,7,0,3,7,4,0],[10,5,6,4,8,7],[9,11,8],[3,5,6],[0,5,11,0,11,8],[6,3,5,3,1,5],[3,9,6,3,8,9],[9,6,0,6,2,0],[0,3,8,2,5,6,2,1,5],[1,6,2,1,5,6],[9,11,8],[1,0,9,6,10,5,11,3,2],[6,10,5,2,8,0,2,11,8],[3,2,11,10,5,6],[10,5,6,9,3,8,9,1,3],[0,9,1,5,6,10],[8,0,3,10,5,6],[10,5,6],[],[],[],[],[],[],[],[1,10,2,9,11,6,9,8,11],[],[],[6,0,2],[3,6,9,3,2,6],[3,5,1],[0,5,1,0,11,5],[0,3,5],[6,9,11,9,8,11],[],[],[],[4,5,9,7,1,10,7,3,1],[],[11,6,7,2,4,5,2,0,4],[11,6,7,8,0,3,1,10,2,9,4,5],[6,7,11,1,10,2,9,4,5],[],[4,1,0,4,5,1,6,7,3,6,3,2],[9,4,5,0,6,7,0,2,6],[4,5,9,6,3,2,6,7,3],[6,7,11,5,3,8,5,1,3],[6,7,11,4,1,0,4,5,1],[4,5,9,3,8,0,11,6,7],[9,4,5,7,11,6],[],[],[0,6,4],[8,6,4,8,1,6],[],[0,10,2,0,9,10,4,8,11,4,11,6],[10,2,1,6,0,3,6,4,0],[10,2,1,11,4,8,11,6,4],[4,2,6],[1,0,9,2,4,8,2,6,4],[2,4,0,2,6,4],[8,2,4,2,6,4],[11,4,1,11,6,4],[0,9,1,4,11,6,4,8,11],[3,6,0,6,4,0],[8,6,4,8,11,6],[10,8,9],[6,3,9,6,7,3],[6,7,1],[10,7,1,7,3,1],[7,11,6,8,10,2,8,9,10],[11,6,7,10,0,9,10,2,0],[2,1,10,7,11,6,8,0,3],[1,10,2,6,7,11],[7,2,6,7,9,2],[1,0,9,3,6,7,3,2,6],[7,0,6,0,2,6],[2,7,3,2,6,7],[7,11,6,3,9,1,3,8,9],[9,1,0,11,6,7],[0,3,8,11,6,7],[11,6,7],[],[],[],[],[5,3,7],[8,5,2,8,7,5],[5,3,7],[1,10,2,5,8,7,5,9,8],[1,7,5],[1,7,5],[9,2,7,9,7,5],[11,3,2,8,5,9,8,7,5],[1,3,7,1,7,5],[0,7,1,7,5,1],[9,3,5,3,7,5],[9,7,5,9,8,7],[8,10,11],[3,4,10,3,10,11],[8,10,11],[5,9,4,1,11,3,1,10,11],[2,4,5],[5,2,4,2,0,4],[0,3,8,5,9,4,10,2,1],[2,1,10,9,4,5],[2,8,5,2,11,8],[3,2,11,1,4,5,1,0,4],[9,4,5,8,2,11,8,0,2],[11,3,2,9,4,5],[8,5,3,5,1,3],[5,0,4,5,1,0],[3,8,0,4,5,9],[9,4,5],[11,9,10],[11,9,10],[1,11,4,1,10,11],[8,7,4,11,1,10,11,3,1],[2,7,9,2,9,10],[4,8,7,0,10,2,0,9,10],[2,1,10,0,7,4,0,3,7],[10,2,1,8,7,4],[1,7,4],[3,2,11,4,8,7,9,1,0],[11,4,2,4,0,2],[2,11,3,7,4,8],[4,1,7,1,3,7],[1,0,9,8,7,4],[3,4,0,3,7,4],[8,7,4],[8,9,10,8,10,11],[3,9,11,9,10,11],[0,10,8,10,11,8],[10,3,1,10,11,3],[2,8,10,8,9,10],[9,2,0,9,10,2],[8,0,3,1,10,2],[10,2,1],[1,11,9,11,8,9],[11,3,2,0,9,1],[11,0,2,11,8,0],[11,3,2],[8,1,3,8,9,1],[9,1,0],[8,0,3],[]]';
WebMol.R=window.URL.createObjectURL(new Blob([WebMol.ka]));WebMol.workerString=WebMol.ka;WebMol.SurfaceWorker=WebMol.R;
$(document).ready(function(){void 0!==$(".webmoljs_viewer")[0]&&(WebMol.ma=!0);if(WebMol.ma){WebMol.viewers={};var z=0;$(".webmoljs_viewer").each(function(){var D=$(this),B=null;"undefined"===typeof $(D).css("position")&&$(D).css("position","relative");var H="function"===typeof window[D.data("callback")]?window[D.data("callback")]:null;D.data("pdb")?B="http://www.pdb.org/pdb/files/"+D.data("pdb")+".pdb":D.data("href")&&(B=D.data("href"));var w=Number(D.data("backgroundcolor"))||0,f=D.data("style")||
{line:{}},b=D.data("select")||{},p=WebMol.viewers[this.id||z++]=WebMol.createViewer(D,{defaultcolors:WebMol.Xa,callback:function(b){b.setBackgroundColor(w)}});if(B){var c=D.data("datatype")||"pdb";$.get(B,function(g){p.addModel(g,c);p.setStyle(b,f);H&&H(p);p.zoomTo();p.render()},"text")}else D.data("element")&&(B=$("#"+D.data("element")).val()||"",c=D.data("datatype"),c||(console.log("Warning: No type specified for embedded viewer with moldata from "+D.data("element")+"\n assuming type 'pdb'"),c=
"pdb"),p.addModel(B,c),p.setStyle(b,f)),H&&H(p),p.zoomTo(),p.render()})}});WebMol.elementColors=WebMol.elementColors||{};WebMol.elementColors.defaultColor=16716947;
WebMol.elementColors.Jmol={H:16777215,He:14286847,HE:14286847,Li:13402367,LI:13402367,B:16758197,C:9474192,N:3166456,O:16715021,F:9494608,Na:11230450,NA:11230450,Mg:9109248,MG:9109248,Al:12560038,AL:12560038,Si:1578E4,SI:1578E4,P:16744448,S:16777008,Cl:2093087,CL:2093087,Ca:4062976,CA:4062976,Ti:12567239,TI:12567239,Cr:9083335,CR:9083335,Mn:10255047,MN:10255047,Fe:14706227,FE:14706227,Ni:5296208,NI:5296208,Cu:13140019,CU:13140019,Zn:8224944,ZN:8224944,Br:10889513,BR:10889513,Ag:12632256,AG:12632256,
I:9699476,Ba:51456,BA:51456,Au:16765219,AU:16765219};
WebMol.elementColors.rasmol={H:16777215,He:16761035,HE:16761035,Li:11674146,LI:11674146,B:65280,C:13158600,N:9408511,O:15728640,F:14329120,Na:255,NA:255,Mg:2263842,MG:2263842,Al:8421520,AL:8421520,Si:14329120,SI:14329120,P:16753920,S:16762930,Cl:65280,CL:65280,Ca:8421520,CA:8421520,Ti:8421520,TI:8421520,Cr:8421520,CR:8421520,Mn:8421520,MN:8421520,Fe:16753920,FE:16753920,Ni:10824234,NI:10824234,Cu:10824234,CU:10824234,Zn:10824234,ZN:10824234,Br:10824234,BR:10824234,Ag:8421520,AG:8421520,I:10494192,
Ba:16753920,BA:16753920,Au:14329120,AU:14329120};WebMol.elementColors.defaultColors=WebMol.elementColors.rasmol;WebMol.elementColors.greenCarbon=$.extend({},WebMol.elementColors.defaultColors);WebMol.elementColors.greenCarbon.C=65280;WebMol.elementColors.cyanCarbon=$.extend({},WebMol.elementColors.defaultColors);WebMol.elementColors.cyanCarbon.C=65535;WebMol.elementColors.magentaCarbon=$.extend({},WebMol.elementColors.defaultColors);WebMol.elementColors.magentaCarbon.C=16711935;
WebMol.elementColors.yellowCarbon=$.extend({},WebMol.elementColors.defaultColors);WebMol.elementColors.yellowCarbon.C=16776960;WebMol.elementColors.whiteCarbon=$.extend({},WebMol.elementColors.defaultColors);WebMol.elementColors.whiteCarbon.C=16777215;WebMol.elementColors.orangeCarbon=$.extend({},WebMol.elementColors.defaultColors);WebMol.elementColors.orangeCarbon.C=16737792;WebMol.elementColors.purpleCarbon=$.extend({},WebMol.elementColors.defaultColors);WebMol.elementColors.purpleCarbon.C=8388736;
var WebMol=WebMol||{};WebMol.RWB=function(z,D){this.valueToHex=function(B,H){var w,f;H?(w=H[0],f=H[1]):(w=z,f=D);if(void 0===B)return 16777215;B<w&&(B=w);B>f&&(B=f);var b=(f+w)/2;B<=b?(w=Math.floor(255*Math.sqrt((B-w)/(b-w))),w=16711680+256*w+w):(w=Math.floor(255*Math.sqrt(1-(B-b)/(f-b))),w=65536*w+256*w+255);return w};this.jmolID=function(){return"rwb"};this.range=function(){return"undefined"!=typeof z&&"undefined"!=typeof D?[z,D]:null}};
WebMol.ROYGB=function(z,D){this.valueToHex=function(B,H){var w,f;H?(w=H[0],f=H[1]):(w=z,f=D);if("undefined"==typeof B)return 16777215;B<w&&(B=w);B>f&&(B=f);var b=(w+f)/2,p=(w+b)/2,c=(b+f)/2;B<p?(w=Math.floor(255*Math.sqrt((B-w)/(p-w))),w=256*w+16711680):B<b?(w=Math.floor(255*Math.sqrt(1-(B-p)/(b-p))),w=65536*w+65280):B<c?(w=Math.floor(255*Math.sqrt((B-b)/(c-b))),w=65280+1*w):(w=Math.floor(255*Math.sqrt(1-(B-c)/(f-c))),w=256*w+255);return w};this.jmolID=function(){return"roygb"};this.range=function(){return"undefined"!=
typeof z&&"undefined"!=typeof D?[z,D]:null}};
WebMol.Sinebow=function(z,D){this.valueToHex=function(B,H){var w,f;H?(w=H[0],f=H[1]):(w=z,f=D);if("undefined"==typeof B)return 16777215;B<w&&(B=w);B>f&&(B=f);var b=(B-w)/(f-w)*5/6+.5;w=Math.sin(Math.PI*b);f=Math.sin(Math.PI*(b+1/3));b=Math.sin(Math.PI*(b+2/3));return 65536*Math.floor(255*w*w)+256*Math.floor(255*b*b)+1*Math.floor(255*f*f)};this.jmolID=function(){return"sinebow"};this.range=function(){return"undefined"!=typeof z&&"undefined"!=typeof D?[z,D]:null}};WebMol=WebMol||{};
WebMol.drawCartoon=function(){function z(B,z,w,f,b){if(!(2>z.length)){b=b||5;z=D(z,b);w=D(w,b);var p=new WebMol.Geometry(!0),c=[],g,a,e,u,d,h=[[0,2,-6,-8],[-4,-2,6,4],[7,-1,-5,3],[-3,5,1,-7]],m,A,n,l,t,s,C,x,q,y;s=0;for(C=z.length;s<C;s++){n=WebMol.f.color(f[Math.round((s-1)/b)]);c.push(a=z[s]);c.push(a);c.push(e=w[s]);c.push(e);s<C-1&&(m=z[s+1].clone().sub(z[s]),g=w[s].clone().sub(z[s]).cross(m).normalize().multiplyScalar(.4));c.push(u=z[s].clone().add(g));c.push(u);c.push(d=w[s].clone().add(g));
c.push(d);void 0!==a.atom&&(l=a.atom);y=p.updateGeoGroup(8);x=y.vertexArray;q=y.colorArray;var F=y.faceArray;m=y.vertices;A=3*m;x[A]=a.x;x[A+1]=a.y;x[A+2]=a.z;x[A+3]=a.x;x[A+4]=a.y;x[A+5]=a.z;x[A+6]=e.x;x[A+7]=e.y;x[A+8]=e.z;x[A+9]=e.x;x[A+10]=e.y;x[A+11]=e.z;x[A+12]=u.x;x[A+13]=u.y;x[A+14]=u.z;x[A+15]=u.x;x[A+16]=u.y;x[A+17]=u.z;x[A+18]=d.x;x[A+19]=d.y;x[A+20]=d.z;x[A+21]=d.x;x[A+22]=d.y;x[A+23]=d.z;for(x=0;8>x;++x)q[A+3*x]=n.r,q[A+1+3*x]=n.g,q[A+2+3*x]=n.b;if(0<s)for(A=void 0!==t&&void 0!==l&&t.serial!==
l.serial,x=0;4>x;x++)if(q=[m+h[x][0],m+h[x][1],m+h[x][2],m+h[x][3]],e=y.faceidx,F[e]=q[0],F[e+1]=q[1],F[e+2]=q[3],F[e+3]=q[1],F[e+4]=q[2],F[e+5]=q[3],y.faceidx+=6,l.clickable||t.clickable){d=c[q[3]].clone();e=c[q[0]].clone();var I=c[q[2]].clone();u=c[q[1]].clone();d.atom=c[q[3]].atom||null;I.atom=c[q[2]].atom||null;e.atom=c[q[0]].atom||null;u.atom=c[q[1]].atom||null;if(A){var V=d.clone().add(e).multiplyScalar(.5),M=I.clone().add(u).multiplyScalar(.5),N=d.clone().add(u).multiplyScalar(.5);0===x%2?
(t.clickable&&(q=new WebMol.Triangle(V,N,d),a=new WebMol.Triangle(M,I,N),d=new WebMol.Triangle(N,I,d),t.intersectionShape.triangle.push(q),t.intersectionShape.triangle.push(a),t.intersectionShape.triangle.push(d)),l.clickable&&(q=new WebMol.Triangle(e,u,N),a=new WebMol.Triangle(u,M,N),d=new WebMol.Triangle(e,N,V),l.intersectionShape.triangle.push(q),l.intersectionShape.triangle.push(a),l.intersectionShape.triangle.push(d))):(l.clickable&&(q=new WebMol.Triangle(V,N,d),a=new WebMol.Triangle(M,I,N),
d=new WebMol.Triangle(N,I,d),l.intersectionShape.triangle.push(q),l.intersectionShape.triangle.push(a),l.intersectionShape.triangle.push(d)),t.clickable&&(q=new WebMol.Triangle(e,u,N),a=new WebMol.Triangle(u,M,N),d=new WebMol.Triangle(e,N,V),t.intersectionShape.triangle.push(q),t.intersectionShape.triangle.push(a),t.intersectionShape.triangle.push(d)))}else l.clickable&&(q=new WebMol.Triangle(e,u,d),a=new WebMol.Triangle(u,I,d),l.intersectionShape.triangle.push(q),l.intersectionShape.triangle.push(a))}y.vertices+=
8;t=l}z=c.length-8;y=p.updateGeoGroup(8);x=y.vertexArray;q=y.colorArray;F=y.faceArray;m=y.vertices;A=3*m;e=y.faceidx;for(s=0;4>s;s++)c.push(c[2*s]),c.push(c[z+2*s]),w=c[2*s],f=c[z+2*s],x[A+6*s]=w.x,x[A+1+6*s]=w.y,x[A+2+6*s]=w.z,x[A+3+6*s]=f.x,x[A+4+6*s]=f.y,x[A+5+6*s]=f.z,q[A+6*s]=n.r,q[A+1+6*s]=n.g,q[A+2+6*s]=n.b,q[A+3+6*s]=n.r,q[A+4+6*s]=n.g,q[A+5+6*s]=n.b;q=[m,m+2,m+6,m+4];a=[m+1,m+5,m+7,m+3];F[e]=q[0];F[e+1]=q[1];F[e+2]=q[3];F[e+3]=q[1];F[e+4]=q[2];F[e+5]=q[3];F[e+6]=a[0];F[e+7]=a[1];F[e+8]=a[3];
F[e+9]=a[1];F[e+10]=a[2];F[e+11]=a[3];y.faceidx+=12;y.vertices+=8;p.initTypedArrays();p.setUpNormals();c=new WebMol.MeshLambertMaterial;c.vertexColors=WebMol.FaceColors;c.side=WebMol.DoubleSide;p=new WebMol.Mesh(p,c);B.add(p)}}function D(B,z){var w=[],f=B,f=[];f.push(B[0]);var b,p,c,g,a,e;b=1;for(p=B.length-1;b<p;b++)g=B[b],a=B[b+1],g.Ka?f.push(new WebMol.Vector3((g.x+a.x)/2,(g.y+a.y)/2,(g.z+a.z)/2)):f.push(g);f.push(B[B.length-1]);b=-1;for(p=f.length;b<=p-3;b++){c=f[-1===b?0:b];g=f[b+1];a=f[b+2];
e=f[b===p-3?p-1:b+3];c=(new WebMol.Vector3).subVectors(a,c).multiplyScalar(.5);e=(new WebMol.Vector3).subVectors(e,g).multiplyScalar(.5);for(var u=0;u<z;u++){var d=1/z*u,d=new WebMol.Vector3(g.x+d*c.x+d*d*(-3*g.x+3*a.x-2*c.x-e.x)+d*d*d*(2*g.x-2*a.x+c.x+e.x),g.y+d*c.y+d*d*(-3*g.y+3*a.y-2*c.y-e.y)+d*d*d*(2*g.y-2*a.y+c.y+e.y),g.z+d*c.z+d*d*(-3*g.z+3*a.z-2*c.z-e.z)+d*d*d*(2*g.z-2*a.z+c.z+e.z)),h=Math.floor((w.length+2)/z);void 0!==B[h]&&void 0!==B[h].atom&&(d.atom=B[h].atom);w.push(d)}}w.push(f[f.length-
1]);return w}return function(B,D,w){var f,b,p;f=2;b=5;p=!1;var c=[],g,a,e;for(e=0;e<f;e++)c[e]=[];e=[];var u,d,h,m,A,n=null,l=null;for(g in D)if(a=D[g],void 0!==a&&("O"==a.atom||"CA"==a.atom)&&!a.hetflag)if("CA"==a.atom){if(u!=a.chain||h+1!=a.resi||d!=a.ea){z(B,c[0],c[f-1],e,b);c=[];for(e=0;e<f;e++)c[e]=[];e=[];n=null}m=new WebMol.Vector3(a.x,a.y,a.z);A=a;u=a.chain;d=a.ea;h=a.resi;var l=a.ss,t=a.color;w?t=w.valueToHex(a.resi,w.range()):"undefined"!==typeof a.style.cartoon.color&&(t=a.style.cartoon.color);
e.push(t);!0!==a.clickable||void 0!==a.intersectionShape&&void 0!==a.intersectionShape.triangle||(a.intersectionShape={sphere:null,cylinder:[],line:[],triangle:[]})}else for(a=new WebMol.Vector3(a.x,a.y,a.z),a.sub(m),a.normalize(),a.multiplyScalar("c"==l?.3:1.3),null!==n&&0>a.dot(n)&&a.negate(),n=a,a=0;a<f;a++)t=-1+2/(f-1)*a,t=new WebMol.Vector3(m.x+n.x*t,m.y+n.y*t,m.z+n.z*t),t.atom=A,p||"s"!=l||(t.Ka=!0),c[a].push(t);z(B,c[0],c[f-1],e,b)}}();WebMol=WebMol||{};
WebMol.h=function(){var z={},D=function(){var b=new WebMol.Vector3;return function(p){b.set(p[0],p[1],p[2]);var c=b.x,g=b.y,a=b.z,e=Math.sqrt(c*c+g*g);1E-4>e?(p=0,e=1):(p=-c/e,e=g/e);g=-p*c+e*g;c=Math.sqrt(g*g+a*a);1E-4>c?(a=0,g=1):(a/=c,g/=c);c=new Float32Array(9);c[0]=e;c[1]=p;c[2]=0;c[3]=-p*g;c[4]=e*g;c[5]=a;c[6]=p*a;c[7]=-e*a;c[8]=g;return c}}(),B=function(){var b=[];b[0]=new WebMol.Vector3(-1,0,0);b[4]=new WebMol.Vector3(0,0,1);b[8]=new WebMol.Vector3(1,0,0);b[12]=new WebMol.Vector3(0,0,-1);
b[2]=b[0].clone().add(b[4]).normalize();b[6]=b[4].clone().add(b[8]).normalize();b[10]=b[8].clone().add(b[12]).normalize();b[14]=b[12].clone().add(b[0]).normalize();b[1]=b[0].clone().add(b[2]).normalize();b[3]=b[2].clone().add(b[4]).normalize();b[5]=b[4].clone().add(b[6]).normalize();b[7]=b[6].clone().add(b[8]).normalize();b[9]=b[8].clone().add(b[10]).normalize();b[11]=b[10].clone().add(b[12]).normalize();b[13]=b[12].clone().add(b[14]).normalize();b[15]=b[14].clone().add(b[0]).normalize();return b}(),
H={j:{},M:function(b){if(void 0!==this.j[b])return this.j[b];new WebMol.Vector3(0,1,0);for(var p=B.length,c=[],g=[],a,e=0;e<p;e++)c.push(B[e].clone().multiplyScalar(b)),c.push(B[e].clone().multiplyScalar(b)),a=B[e].clone().normalize(),g.push(a),g.push(a);var e=[],u=2*Math.PI,d=Math.PI,h,m,f=!1,n=!1;for(m=0;10>=m;m++){var f=0===m||10===m?!0:!1,n=5===m?!0:!1,l=[],t=[];for(h=0;h<=p;h++)if(n){var s=h<p?2*h:0;t.push(s+1);l.push(s)}else{a=h/p;var C=m/10;f&&0!==h?f&&l.push(c.length-1):h<p?(s=new WebMol.Vector3,
s.x=-b*Math.cos(0+a*u)*Math.sin(0+C*d),s.y=b*Math.cos(0+C*d),s.z=b*Math.sin(0+a*u)*Math.sin(0+C*d),1E-5>Math.abs(s.x)&&(s.x=0),1E-5>Math.abs(s.y)&&(s.y=0),1E-5>Math.abs(s.z)&&(s.z=0),a=new WebMol.Vector3(s.x,s.y,s.z),a.normalize(),c.push(s),g.push(a),l.push(c.length-1)):l.push(c.length-p)}n&&e.push(t);e.push(l)}p={vertices:c,v:g,D:e,w:p,za:10};return this.j[b]=p}},w=0;z.i=function(b,p,c,g,a,e,u){if(p&&c){w++;var d=e||u;a=a||{r:0,g:0,b:0};var h=[c.x,c.y,c.z];h[0]-=p.x;h[1]-=p.y;h[2]-=p.z;var h=D(h),
m=H.M(g);g=m.w;var f=m.za,n=d?f*g+2:2*g;b=b.updateGeoGroup(n);var l=m.vertices,t=m.v,m=m.D,s=m[f/2],C=m[f/2+1],x=b.vertices,q,y,F,I,V,M,N=b.vertexArray,G=b.normalArray,E=b.colorArray,B=b.faceArray;for(F=0;F<g;++F)y=2*F,I=h[0]*l[y].x+h[3]*l[y].y+h[6]*l[y].z,V=h[1]*l[y].x+h[4]*l[y].y+h[7]*l[y].z,M=h[5]*l[y].y+h[8]*l[y].z,q=3*(x+y),y=b.faceidx,N[q]=I+p.x,N[q+1]=V+p.y,N[q+2]=M+p.z,N[q+3]=I+c.x,N[q+4]=V+c.y,N[q+5]=M+c.z,G[q]=I,G[q+3]=I,G[q+1]=V,G[q+4]=V,G[q+2]=M,G[q+5]=M,E[q]=a.r,E[q+3]=a.r,E[q+1]=a.g,
E[q+4]=a.g,E[q+2]=a.b,E[q+5]=a.b,B[y]=C[F]+x,B[y+1]=C[F+1]+x,B[y+2]=s[F]+x,B[y+3]=s[F]+x,B[y+4]=C[F+1]+x,B[y+5]=s[F+1]+x,b.faceidx+=6;if(d){e=e?f+1:f/2+1;var z,W,ca,R,L,X,P,S,T,O,Z,ba,U;for(V=u?0:f/2;V<e;V++)if(V!==f/2){var Y=V<=f/2?c:p;for(I=0;I<g;I++)y=b.faceidx,u=m[V][I+1],F=3*(u+x),d=m[V][I],M=3*(d+x),s=m[V+1][I],q=3*(s+x),C=m[V+1][I+1],U=3*(C+x),z=h[0]*l[u].x+h[3]*l[u].y+h[6]*l[u].z,W=h[0]*l[d].x+h[3]*l[d].y+h[6]*l[d].z,ca=h[0]*l[s].x+h[3]*l[s].y+h[6]*l[s].z,R=h[0]*l[C].x+h[3]*l[C].y+h[6]*l[C].z,
L=h[1]*l[u].x+h[4]*l[u].y+h[7]*l[u].z,X=h[1]*l[d].x+h[4]*l[d].y+h[7]*l[d].z,P=h[1]*l[s].x+h[4]*l[s].y+h[7]*l[s].z,S=h[1]*l[C].x+h[4]*l[C].y+h[7]*l[C].z,T=h[5]*l[u].y+h[8]*l[u].z,O=h[5]*l[d].y+h[8]*l[d].z,Z=h[5]*l[s].y+h[8]*l[s].z,ba=h[5]*l[C].y+h[8]*l[C].z,N[F]=z+Y.x,N[M]=W+Y.x,N[q]=ca+Y.x,N[U]=R+Y.x,N[F+1]=L+Y.y,N[M+1]=X+Y.y,N[q+1]=P+Y.y,N[U+1]=S+Y.y,N[F+2]=T+Y.z,N[M+2]=O+Y.z,N[q+2]=Z+Y.z,N[U+2]=ba+Y.z,E[F]=a.r,E[M]=a.r,E[q]=a.r,E[U]=a.r,E[F+1]=a.g,E[M+1]=a.g,E[q+1]=a.g,E[U+1]=a.g,E[F+2]=a.b,E[M+
2]=a.b,E[q+2]=a.b,E[U+2]=a.b,z=h[0]*t[u].x+h[3]*t[u].y+h[6]*t[u].z,W=h[0]*t[d].x+h[3]*t[d].y+h[6]*t[d].z,ca=h[0]*t[s].x+h[3]*t[s].y+h[6]*t[s].z,R=h[0]*t[C].x+h[3]*t[C].y+h[6]*t[C].z,L=h[1]*t[u].x+h[4]*t[u].y+h[7]*t[u].z,X=h[1]*t[d].x+h[4]*t[d].y+h[7]*t[d].z,P=h[1]*t[s].x+h[4]*t[s].y+h[7]*t[s].z,S=h[1]*t[C].x+h[4]*t[C].y+h[7]*t[C].z,T=h[5]*t[u].y+h[8]*t[u].z,O=h[5]*t[d].y+h[8]*t[d].z,Z=h[5]*t[s].y+h[8]*t[s].z,ba=h[5]*t[C].y+h[8]*t[C].z,0===V?(G[F]=z,G[q]=ca,G[U]=R,G[F+1]=L,G[q+1]=P,G[U+1]=S,G[F+2]=
T,G[q+2]=Z,G[U+2]=ba,B[y]=u+x,B[y+1]=s+x,B[y+2]=C+x,b.faceidx+=3):V===e-1?(G[F]=z,G[M]=W,G[q]=ca,G[F+1]=L,G[M+1]=X,G[q+1]=P,G[F+2]=T,G[M+2]=O,G[q+2]=Z,B[y]=u+x,B[y+1]=d+x,B[y+2]=s+x,b.faceidx+=3):(G[F]=z,G[M]=W,G[U]=R,G[F+1]=L,G[M+1]=X,G[U+1]=S,G[F+2]=T,G[M+2]=O,G[U+2]=ba,G[M]=W,G[q]=ca,G[U]=R,G[M+1]=X,G[q+1]=P,G[U+1]=S,G[M+2]=O,G[q+2]=Z,G[U+2]=ba,B[y]=u+x,B[y+1]=d+x,B[y+2]=C+x,B[y+3]=d+x,B[y+4]=s+x,B[y+5]=C+x,b.faceidx+=6)}}b.vertices+=n}};z.Qa=function(b,p,c,g,a){if(p&&c){a=a||{r:0,g:0,b:0};var e=
[c.x,c.y,c.z];e.x-=p.x;e.y-=p.y;e.z-=p.z;var u=D(e),d=B.length;b=b.updateGeoGroup(d+2);var h=b.vertices,f,A,n,l=b.vertexArray,t=b.normalArray,s=b.colorArray,C=b.faceArray;f=3*h;e=(new WebMol.Vector3(e[0],e[1],e[2])).normalize();l[f]=p.x;l[f+1]=p.y;l[f+2]=p.z;t[f]=-e.x;t[f+1]=-e.y;t[f+2]=-e.z;s[f]=a.r;s[f+1]=a.g;s[f+2]=a.b;l[f+3]=c.x;l[f+4]=c.y;l[f+5]=c.z;t[f+3]=e.x;t[f+4]=e.y;t[f+5]=e.z;s[f+3]=a.r;s[f+4]=a.g;s[f+5]=a.b;f+=6;for(c=0;c<d;++c)n=B[c].clone(),n.multiplyScalar(g),e=u[0]*n.x+u[3]*n.y+u[6]*
n.z,A=u[1]*n.x+u[4]*n.y+u[7]*n.z,n=u[5]*n.y+u[8]*n.z,l[f]=e+p.x,l[f+1]=A+p.y,l[f+2]=n+p.z,t[f]=e,t[f+1]=A,t[f+2]=n,s[f]=a.r,s[f+1]=a.g,s[f+2]=a.b,f+=3;b.vertices+=d+2;p=b.faceidx;for(c=0;c<d;c++)g=h+2+c,a=h+2+(c+1)%d,C[p]=g,C[p+1]=a,C[p+2]=0,p+=3,C[p]=g,C[p+1]=a,C[p+2]=1,p+=3;b.faceidx+=6*d}};var f={j:{},M:function(b){if("undefined"!==typeof this.j[b])return this.j[b];var f={vertices:[],D:[],v:[]},c=16,g=10;1>b&&(c=10,g=8);var a=2*Math.PI,e=Math.PI,u,d;for(d=0;d<=g;d++){var h=[];for(u=0;u<=c;u++){var m=
u/c,A=d/g,n={};n.x=-b*Math.cos(0+m*a)*Math.sin(0+A*e);n.y=b*Math.cos(0+A*e);n.z=b*Math.sin(0+m*a)*Math.sin(0+A*e);m=new WebMol.Vector3(n.x,n.y,n.z);m.normalize();f.vertices.push(n);f.v.push(m);h.push(f.vertices.length-1)}f.D.push(h)}return this.j[b]=f}};z.W=function(b,p,c,g){new WebMol.Vector3(p.x,p.y,p.z);var a=f.M(c),e=a.vertices,u=a.v;b=b.updateGeoGroup(e.length);for(var d=b.vertices,h=b.vertexArray,m=b.colorArray,A=b.faceArray,n=b.lineArray,l=b.normalArray,t=0,s=e.length;t<s;++t){var C=3*(d+t),
x=e[t];h[C]=x.x+p.x;h[C+1]=x.y+p.y;h[C+2]=x.z+p.z;m[C]=g.r;m[C+1]=g.g;m[C+2]=g.b}b.vertices+=e.length;a=a.D;h=a.length-1;for(g=0;g<h;g++)for(m=a[g].length-1,p=0;p<m;p++){var t=b.faceidx,s=b.lineidx,C=a[g][p+1]+d,x=3*C,q=a[g][p]+d,y=3*q,F=a[g+1][p]+d,I=3*F,V=a[g+1][p+1]+d,w=3*V,B=u[C-d],G=u[q-d],z=u[F-d],D=u[V-d];Math.abs(e[C-d].y)===c?(l[x]=B.x,l[I]=z.x,l[w]=D.x,l[x+1]=B.y,l[I+1]=z.y,l[w+1]=D.y,l[x+2]=B.z,l[I+2]=z.z,l[w+2]=D.z,A[t]=C,A[t+1]=F,A[t+2]=V,n[s]=C,n[s+1]=F,n[s+2]=C,n[s+3]=V,n[s+4]=F,n[s+
5]=V,b.faceidx+=3,b.lineidx+=6):Math.abs(e[F-d].y)===c?(l[x]=B.x,l[y]=G.x,l[I]=z.x,l[x+1]=B.y,l[y+1]=G.y,l[I+1]=z.y,l[x+2]=B.z,l[y+2]=G.z,l[I+2]=z.z,A[t]=C,A[t+1]=q,A[t+2]=F,n[s]=C,n[s+1]=q,n[s+2]=C,n[s+3]=F,n[s+4]=q,n[s+5]=F,b.faceidx+=3,b.lineidx+=6):(l[x]=B.x,l[y]=G.x,l[w]=D.x,l[x+1]=B.y,l[y+1]=G.y,l[w+1]=D.y,l[x+2]=B.z,l[y+2]=G.z,l[w+2]=D.z,l[y]=G.x,l[I]=z.x,l[w]=D.x,l[y+1]=G.y,l[I+1]=z.y,l[w+1]=D.y,l[y+2]=G.z,l[I+2]=z.z,l[w+2]=D.z,A[t]=C,A[t+1]=q,A[t+2]=V,A[t+3]=q,A[t+4]=F,A[t+5]=V,n[s]=C,n[s+
1]=q,n[s+2]=C,n[s+3]=V,n[s+4]=q,n[s+5]=F,n[s+6]=F,n[s+7]=V,b.faceidx+=6,b.lineidx+=8)}};return z}();WebMol=WebMol||{};
WebMol.GLModel=function(){function z(b){var c=[],g,a;g=0;for(a=b.length;g<a;g++){b[g].index=g;var e=b[g];e.hetflag||"N"!==e.atom&&"O"!==e.atom||(c.push(e),e.Q=null,e.p=Number.POSITIVE_INFINITY)}c.sort(function(a,d){return a.z-d.z});g=0;for(a=c.length;g<a;g++)for(e=c[g],b=g+1;b<a;b++){var f=c[b],d=f.z-e.z;if(3.2<d)break;if(f.atom!=e.atom){var h=Math.abs(f.y-e.y);if(!(3.2<h)){var m=Math.abs(f.x-e.x);3.2<m||(d=m*m+h*h+d*d,10.24<d||f.chain==e.chain&&4>Math.abs(f.resi-e.resi)||(d<e.p&&(e.Q=f,e.p=d),d<
f.p&&(f.Q=e,f.p=d)))}}}}function D(b){var c=[],g=[],a,e;a=0;for(e=b.length;a<e;a++){var f=b[a];f.index=a;f.hetflag?g.push(f):c.push(f)}B(g);c.sort(function(a,d){return a.chain!=d.chain?a.chain<d.chain?-1:1:a.resi-d.resi});var g=b=-1,d;a=0;for(e=c.length;a<e;a++){f=c[a];f.resi!==b&&(b=f.resi,d||g++,d=!1);f.ea=g;for(var h=a+1;h<c.length;h++){var m=c[h];if(m.chain!=f.chain)break;if(1<m.resi-f.resi)break;H(f,m)&&(-1===f.bonds.indexOf(m.index)&&(f.bonds.push(m.index),f.bondOrder.push(1),m.bonds.push(f.index),
m.bondOrder.push(1)),f.resi!==m.resi&&(d=!0))}}}function B(b){var c=b.slice(0),g,a;g=0;for(a=b.length;g<a;g++)b[g].index||(b[g].index=g);c.sort(function(a,b){return a.z-b.z});g=0;for(a=c.length;g<a;g++){var e=c[g];for(b=g+1;b<a;b++){var f=c[b];if(1.9<f.z-e.z)break;H(e,f)&&-1==e.bonds.indexOf(f.index)&&(e.bonds.push(f.index),e.bondOrder.push(1),f.bonds.push(e.index),f.bondOrder.push(1))}}}function H(b,c){var g=b.x-c.x,g=g*g;if(3.6<g)return!1;var a=b.y-c.y,a=a*a;if(3.6<a)return!1;var e=b.z-c.z,e=e*
e;if(3.6<e)return!1;g=g+a+e;return isNaN(g)||.5>g||1.3<g&&("H"==b.elem||"H"==c.elem||"D"==b.elem||"D"==c.elem)?!1:3.6>g&&("S"==b.elem||"S"==c.elem)?!0:2.78<g?!1:!0}function w(b,c){return b&&c?JSON.stringify(b)==JSON.stringify(c):b==c}var f={line:{}},b={H:1.2,Li:1.82,Na:2.27,K:2.75,C:1.7,N:1.55,O:1.52,F:1.47,P:1.8,S:1.8,CL:1.75,BR:1.85,SE:1.9,ZN:1.39,CU:1.4,NI:1.63};return function(p,c){function g(a,d){if(a.style.sphere){var b=a.style.sphere;if(!b.hidden){var e=a.color;"undefined"!=typeof b.color&&
(e=b.color);e=WebMol.f.color(e);b=u(a,b);if(!0===a.clickable&&void 0!==a.intersectionShape){var c=new WebMol.Vector3(a.x,a.y,a.z);a.intersectionShape.sphere.push(new WebMol.Sphere(c,b))}WebMol.h.W(d,a,b,e)}}}function a(a,d,b,e,c,g){a[b]=e.x;a[b+1]=e.y;a[b+2]=e.z;d[b]=g.r;d[b+1]=g.g;d[b+2]=g.b;a[b+3]=c.x;a[b+4]=c.y;a[b+5]=c.z;d[b+3]=g.r;d[b+4]=g.g;d[b+5]=g.b}function e(a,b,e){var c=new WebMol.Vector3(a.x,a.y,a.z),g=(new WebMol.Vector3(b.x,b.y,b.z)).clone(),f=null;g.sub(c);1===a.bonds.length?1===b.bonds.length?
(f=g.clone(),1E-4<Math.abs(f.x)?f.y+=1:f.x+=1):(e=(e+1)%b.bonds.length,a=b.bonds[e],a=d[a],a=new WebMol.Vector3(a.x,a.y,a.z),a=a.clone(),a.sub(c),f=a.clone(),f.cross(g)):(e=(e+1)%a.bonds.length,a=a.bonds[e],a=d[a],a=new WebMol.Vector3(a.x,a.y,a.z),a=a.clone(),a.sub(c),f=a.clone(),f.cross(g));.01>f.lengthSq()&&(f=g.clone(),1E-4<Math.abs(f.x)?f.y+=1:f.x+=1);f.cross(g);f.normalize();return f}function u(a,d){var e=1.5;"undefined"!=typeof d.radius?e=d.radius:b[a.elem]&&(e=b[a.elem]);"undefined"!=typeof d.scale&&
(e*=d.scale);return e}var d=[],h=null,m=null,A=null,n=null,l=WebMol.elementColors.defaultColor,t=c?c:WebMol.elementColors.defaultColors;this.getID=function(){return p};this.addMolData=function(a,b,e){e=e||{};a||console.error("Erorr with addMolData: No input data specified");switch(b){case "xyz":var c=d;b=a.split("\n");if(!(3>b.length)){var g=parseInt(b[0].substr(0,3));if(!(isNaN(g)||0>=g||b.length<g+2)){e=2;for(var h=c.length,g=h+g;h<g;h++){var n=b[e++].replace(/^\s+/,"").replace(/\s+/g," ").split(" "),
u={};u.serial=h;u.atom=u.elem=n[0];u.x=parseFloat(n[1]);u.y=parseFloat(n[2]);u.z=parseFloat(n[3]);u.hetflag=!0;u.bonds=[];u.bondOrder=[];u.properties={};c[h]=u}B(c)}}break;case "pdb":b=d;n=!e.Ta;e=b.length;var m,g=[],h=[],u=[];a=a.split("\n");var w,A,E;for(w=0;w<a.length;w++){E=a[w].replace(/^\s*/,"");m=E.substr(0,6);var K;if("ATOM  "==m||"HETATM"==m){var J,H,ca,R,L,X,P,S,T;m=E.substr(16,1);if(" "==m||"A"==m)if(S=parseInt(E.substr(6,5)),m=E.substr(12,4).replace(/ /g,""),A=E.substr(17,3),K=E.substr(21,
1),J=parseInt(E.substr(22,4)),H=E.substr(26,1),ca=parseFloat(E.substr(30,8)),R=parseFloat(E.substr(38,8)),L=parseFloat(E.substr(46,8)),T=parseFloat(E.substr(60,8)),P=E.substr(76,2).replace(/ /g,""),""===P&&(P=E.substr(12,2).replace(/ /g,"")),"H"!=P&&"HH"!=P&&"HD"!=P||!n)X="H"==E[0]?!0:!1,u[S]=b.length,b.push({resn:A,x:ca,y:R,z:L,elem:P,hetflag:X,chain:K,resi:J,icode:H,rescode:J+(" "!=H?"^"+H:""),serial:S,atom:m,bonds:[],ss:"c",bondOrder:[],properties:{},b:T,pdbline:E})}else if("SHEET "==m)m=E.substr(21,
1),A=parseInt(E.substr(22,4)),K=E.substr(32,1),E=parseInt(E.substr(33,4)),g.push([m,A,K,E]);else if("CONECT"==m)for(m=b[u[parseInt(E.substr(6,5))]],A=0;4>A;A++)K=parseInt(E.substr([11,16,21,26][A],5)),J=b[u[K]],void 0!==m&&void 0!==J&&(m.bonds.push(u[K]),m.bondOrder.push(1));else"HELIX "==m&&(m=E.substr(19,1),A=parseInt(E.substr(21,4)),K=E.substr(31,1),E=parseInt(E.substr(33,4)),h.push([m,A,K,E]))}n=(new Date).getTime();D(b);console.log("bond connecting "+((new Date).getTime()-n));n=(new Date).getTime();
z(b);u={};w=0;for(E=b.length;w<E;w++)m=b[w],"undefined"===typeof u[m.chain]&&(u[m.chain]=[]),isFinite(m.p)&&(u[m.chain][m.resi]=4===Math.abs(m.Q.resi-m.resi)?"h":"s");for(c in u){for(w=1;w<u[c].length-1;w++)E=u[c][w-1],m=u[c][w+1],a=u[c][w],E==m&&a!=E&&(u[c][w]=E);for(w=0;w<u[c].length;w++)a=u[c][w],"h"!=a&&"s"!=a||u[c][w-1]==a||u[c][w+1]==a||delete u[c][w]}w=0;for(E=b.length;w<E;w++)m=b[w],a=u[m.chain][m.resi],"undefined"!=typeof a&&(m.ss=a,u[m.chain][m.resi-1]!=a&&(m.ha=!0),u[m.chain][m.resi+1]!=
a&&(m.ia=!0));console.log("secondary structure "+((new Date).getTime()-n));for(w=e;w<b.length;w++)if(m=b[w],void 0!==m){for(A=0;A<g.length;A++)m.chain!=g[A][0]||m.resi<g[A][1]||m.resi>g[A][3]||(m.ss="s",m.resi==g[A][1]&&(m.ha=!0),m.resi==g[A][3]&&(m.ia=!0));for(A=0;A<h.length;A++)m.chain!=h[A][0]||m.resi<h[A][1]||m.resi>h[A][3]||(m.ss="h",m.resi==h[A][1]?m.ha=!0:m.resi==h[A][3]&&(m.ia=!0))}break;case "sdf":c=d;b=a.split("\n");if(!(4>b.length||(n=parseInt(b[3].substr(0,3)),isNaN(n)||0>=n||(e=parseInt(b[3].substr(3,
3)),g=4,b.length<4+n+e)))){h=c.length;a=h+n;for(n=h;n<a;n++)u=b[g],g++,w={},w.serial=n,w.x=parseFloat(u.substr(0,10)),w.y=parseFloat(u.substr(10,10)),w.z=parseFloat(u.substr(20,10)),w.hetflag=!0,w.atom=w.elem=u.substr(31,3).replace(/ /g,""),w.bonds=[],w.bondOrder=[],w.properties={},c[n]=w;for(n=0;n<e;n++)u=b[g],g++,a=parseInt(u.substr(0,3))-1+h,w=parseInt(u.substr(3,3))-1+h,u=parseInt(u.substr(6,3)),c[a].bonds.push(w),c[a].bondOrder.push(u),c[w].bonds.push(a),c[w].bondOrder.push(u)}break;case "mol2":c=
d;e=a.search(/@<TRIPOS>MOLECULE/);b=a.search(/@<TRIPOS>ATOM/);if(-1!=e&&-1!=b){b=[];e=a.substr(e,a.length).split("\n");u=e[2].replace(/^\s+/,"").replace(/\s+/g," ").split(" ");a=parseInt(u[0]);g=0;1<u.length&&(g=parseInt(u[1]));h=4;for(n=3;n<e.length;n++)if("@<TRIPOS>ATOM"==e[n]){h=n+1;break}n=c.length;for(a=n+a;n<a;n++)u=e[h++],u=u.replace(/^\s+/,"").replace(/\s+/g," ").split(" "),w={},E=n,m=parseInt(u[0]),w.serial=m,w.x=parseFloat(u[2]),w.y=parseFloat(u[3]),w.z=parseFloat(u[4]),w.atom=w.elem=u[5].split(".")[0],
"H"!=w.elem&&(w.bonds=[],w.bondOrder=[],w.properties={},b[m]=E,c.push(w));for(n=!1;h<e.length;)if("@<TRIPOS>BOND"==e[h++]){n=!0;break}if(n&&g)for(n=0;n<g;n++)u=e[h++],u=u.replace(/^\s+/,"").replace(/\s+/g," ").split(" "),a=parseInt(u[1]),fromAtom=c[b[a]],w=parseInt(u[2]),toAtom=c[b[w]],u=parseInt(u[3]),isNaN(u)&&(u=1),void 0!==fromAtom&&void 0!==toAtom&&(fromAtom.bonds.push(b[w]),fromAtom.bondOrder.push(u),toAtom.bonds.push(b[a]),toAtom.bondOrder.push(u))}break;case "cube":if(c=d,b=a.replace(/^\s+/,
"").split(/[\n\r]+/),!(6>b.length)){e=b[2].replace(/^\s+/,"").replace(/\s+/g," ").split(" ");g=Math.abs(parseFloat(e[0]));e=b[3].replace(/^\s+/,"").replace(/\s+/g," ").split(" ");e=0<parseFloat(e[0])?.529177:1;b=b.splice(6,g);g=c.length;h=g+b.length;for(n=g;n<h;++n)u={},u.serial=n,a=b[n-g].replace(/^\s+/,"").replace(/\s+/g," ").split(" "),6==a[0]?u.elem="C":1==a[0]?u.elem="H":8==a[0]?u.elem="O":17==a[0]&&(u.elem="CL"),u.x=parseFloat(a[2])*e,u.y=parseFloat(a[3])*e,u.z=parseFloat(a[4])*e,u.hetflag=
!0,u.bonds=[],u.bondOrder=[],u.properties={},c.push(u);B(c)}}c=d;for(b=0;b<c.length;b++)if(e=c[b])e.style=e.style||f,e.color=e.color||t[e.elem]||l,e.u=p,e.clickable&&(e.intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]})};this.atomIsSelected=function(a,b){if("undefined"===typeof b)return!0;var d=!!b.Sa,e=!0,c;for(c in b)if(b.hasOwnProperty(c)&&"props"!=c&&"invert"!=c&&"model"!=c){if("undefined"===typeof a[c]){e=!1;break}var g=!1;if($.isArray(b[c])){for(var f=b[c],h=0;h<f.length;h++)if(a[c]==
f[h]){g=!0;break}if(!g){e=!1;break}}else if(a[c]!=b[c]){e=!1;break}}return d?!e:e};this.selectedAtoms=function(a){for(var b=[],e=0;e<d.length;e++){var c=d[e];c&&this.atomIsSelected(c,a)&&b.push(c)}return b};this.addAtoms=function(a){h=null;var b=d.length,e=[],c;for(c=0;c<a.length;c++)e[a[c].index]=b+c;for(c=0;c<a.length;c++){var b=a[c],g=e[b.index],f=$.extend(!1,{},b);f.index=g;f.bonds=[];f.bondOrder=[];for(g=0;g<b.bonds.length;g++){var u=e[b.bonds[g]];"undefined"!=typeof u&&(f.bonds.push(u),f.bondOrder.push(b.bondOrder[g]))}d.push(f)}};
this.removeAtoms=function(a){h=null;var b=[],e;for(e=0;e<a.length;e++)b[a[e].index]=!0;a=[];for(e=0;e<d.length;e++){var c=d[e];b[c.index]||a.push(c)}d=[];this.addAtoms(a)};this.setStyle=function(a,b,e){if(e||null===h||!w(b,A)){A=e?null:b;b=$.extend(!0,{},b);for(var c=!1,g=0;g<d.length;g++)if(d[g].V=!1,this.atomIsSelected(d[g],a)){c=!0;d[g].clickable&&(d[g].intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]});e||(d[g].style={});for(var f in b)b.hasOwnProperty(f)&&(d[g].style[f]=b[f])}c&&
(h=null)}};this.setColorByElement=function(a,b){if(null===h||!w(b,n)){n=b;var d=this.selectedAtoms(a);0<d.length&&(h=null);for(var e=0;e<d.length;e++){var c=d[e];"undefined"!==typeof b[c.elem]&&(c.color=b[c.elem])}}};this.setColorByProperty=function(a,b,d){a=this.selectedAtoms(a);n=null;0<a.length&&(h=null);var e=Number.POSITIVE_INFINITY,c=Number.NEGATIVE_INFINITY,g,f;for(g=0;g<a.length;g++)f=a[g],f.properties&&void 0!==typeof f.properties[b]&&(f=parseFloat(f.properties[b]),f<e&&(e=f),f>c&&(c=f));
for(g=0;g<a.length;g++)if(f=a[g],f.properties&&void 0!==typeof f.properties[b]){var u=d.valueToHex(parseFloat(f.properties[b]),[e,c]);f.color=u}};this.globj=function(b){var c=new Date;if(null===h){var f=d;console.log("creating for "+p);var l=new WebMol.Object3D,n=[],t={},w={},A=new WebMol.Geometry(!0),B=new WebMol.Geometry(!0),z=new WebMol.Geometry(!0),D,E,H=[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY];D=0;for(E=f.length;D<E;D++){var J=f[D];if(J&&J.style){J.clickable&&void 0===J.intersectionShape&&
(J.intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]});g(J,A);var W=J,ca=B;if(W.style.La){var R=W.style.La;if(!R.hidden){var L=u(W,R),X=W.color;"undefined"!=typeof R.color&&(X=R.color);for(var P=WebMol.f.color(X),S=ca.updateGeoGroup(4),T=S.vertices,O=3*T,Z=S.vertexArray,ba=S.colorArray,U=0;4>U;U++)Z[O+3*U]=W.x,Z[O+3*U+1]=W.y,Z[O+3*U+2]=W.z;for(var Y=S.normalArray,ba=S.colorArray,U=0;4>U;U++)ba[O+3*U]=P.r,ba[O+3*U+1]=P.g,ba[O+3*U+2]=P.b;Y[O+0]=-L;Y[O+1]=-L;Y[O+2]=0;Y[O+3]=-L;Y[O+4]=L;Y[O+
5]=0;Y[O+6]=L;Y[O+7]=L;Y[O+8]=0;Y[O+9]=L;Y[O+10]=-L;Y[O+11]=0;S.vertices+=4;var Ea=S.faceArray,Ma=S.faceidx;Ea[Ma+0]=T;Ea[Ma+1]=T+1;Ea[Ma+2]=T+2;Ea[Ma+3]=T+2;Ea[Ma+4]=T+3;Ea[Ma+5]=T;S.faceidx+=6}}var qa=J,db=w;if(qa.style.cross){var Ua=qa.style.cross;if(!Ua.hidden){var eb=Ua.linewidth||1;db[eb]||(db[eb]=new WebMol.Geometry);var ab=db[eb].updateGeoGroup(6),Na=u(qa,Ua),Oa=[[Na,0,0],[-Na,0,0],[0,Na,0],[0,-Na,0],[0,0,Na],[0,0,-Na]],nb=qa.clickable;nb&&void 0===qa.intersectionShape&&(qa.intersectionShape=
{sphere:[],cylinder:[],line:[]});var bb=WebMol.f.color(qa.color);Ua.color&&(bb=WebMol.f.color(Ua.color));for(var fb=ab.vertexArray,gb=ab.colorArray,Fa=0;6>Fa;Fa++){var Pa=3*ab.vertices;ab.vertices++;fb[Pa]=qa.x+Oa[Fa][0];fb[Pa+1]=qa.y+Oa[Fa][1];fb[Pa+2]=qa.z+Oa[Fa][2];gb[Pa]=bb.r;gb[Pa+1]=bb.g;gb[Pa+2]=bb.b;if(nb){var Qa=new WebMol.Vector3(Oa[Fa][0],Oa[Fa][1],Oa[Fa][2]);Qa.multiplyScalar(.1);Qa.set(Qa.x+qa.x,Qa.y+qa.y,Qa.z+qa.z);qa.intersectionShape.line.push(Qa)}}}}var da=J,ub=f,hb=t;if(da.style.line){var ob=
da.style.line;if(!ob.hidden){var ib=ob.linewidth||1;hb[ib]||(hb[ib]=new WebMol.Geometry);for(var ka=hb[ib].updateGeoGroup(2*da.bonds.length),ga=ka.vertexArray,ha=ka.colorArray,Aa=0;Aa<da.bonds.length;Aa++){var Ha=ub[da.bonds[Aa]];if(Ha.style.line&&!(da.serial>=Ha.serial)){var ya=new WebMol.Vector3(da.x,da.y,da.z),Ia=new WebMol.Vector3(Ha.x,Ha.y,Ha.z),cb=ya.clone().add(Ia).multiplyScalar(.5),pb=!1;da.clickable&&(void 0===da.intersectionShape&&(da.intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]}),
da.intersectionShape.line.push(ya),da.intersectionShape.line.push(Ia));var ma=WebMol.f.color(da.color),Ba=WebMol.f.color(Ha.color);if(da.l&&da.l[Aa]){var Ga=da.l[Aa];if(!Ga.Da)continue;Ga.radius&&(bondR=Ga.radius);Ga.ga&&(pb=!0);"undefined"!=typeof Ga.G&&(ma=WebMol.f.color(Ga.G));"undefined"!=typeof Ga.J&&(Ba=WebMol.f.color(Ga.J))}var ia=3*ka.vertices;if(1<da.bondOrder[Aa]&&4>da.bondOrder[Aa]&&!pb){var Ra=e(da,Ha,Aa),za=Ia.clone();za.sub(ya);if(2==da.bondOrder[Aa])if(Ra.multiplyScalar(.1),p1a=ya.clone(),
p1a.add(Ra),p1b=ya.clone(),p1b.sub(Ra),p2a=p1a.clone(),p2a.add(za),p2b=p1b.clone(),p2b.add(za),ma==Ba)ka.vertices+=4,a(ga,ha,ia,p1a,p2a,ma),a(ga,ha,ia+6,p1b,p2b,ma);else{ka.vertices+=8;za.multiplyScalar(.5);var Ja=p1a.clone();Ja.add(za);var Ka=p1b.clone();Ka.add(za);a(ga,ha,ia,p1a,Ja,ma);a(ga,ha,ia+6,Ja,p2a,Ba);a(ga,ha,ia+12,p1b,Ka,ma);a(ga,ha,ia+18,Ka,p2b,Ba)}else 3==da.bondOrder[Aa]&&(Ra.multiplyScalar(.1),p1a=ya.clone(),p1a.add(Ra),p1b=ya.clone(),p1b.sub(Ra),p2a=p1a.clone(),p2a.add(za),p2b=p1b.clone(),
p2b.add(za),ma==Ba?(ka.vertices+=6,a(ga,ha,ia,ya,Ia,ma),a(ga,ha,ia+6,p1a,p2a,ma),a(ga,ha,ia+12,p1b,p2b,ma)):(ka.vertices+=12,za.multiplyScalar(.5),Ja=p1a.clone(),Ja.add(za),Ka=p1b.clone(),Ka.add(za),a(ga,ha,ia,ya,cb,ma),a(ga,ha,ia+6,cb,Ia,Ba),a(ga,ha,ia+12,p1a,Ja,ma),a(ga,ha,ia+18,Ja,p2a,Ba),a(ga,ha,ia+24,p1b,Ka,ma),a(ga,ha,ia+30,Ka,p2b,Ba)))}else ma==Ba?(ka.vertices+=2,a(ga,ha,ia,ya,Ia,ma)):(ka.vertices+=4,a(ga,ha,ia,ya,cb,ma),a(ga,ha,ia+6,cb,Ia,Ba))}}}}var Q=J,vb=f,fa=z;if(Q.style.stick){var Va=
Q.style.stick;if(!Va.hidden){var Wa=Va.radius||.25,ra=Wa,qb=Va.singleBonds||!1,Xa=!1,Ya=!1,Sa=Q.color;"undefined"!=typeof Va.color&&(Sa=Va.color);var ua=WebMol.f.color(Sa),ja=void 0,va=void 0;!Q.V&&4>Q.bonds.length&&(Xa=!0);for(var la=0;la<Q.bonds.length;la++){var ea=vb[Q.bonds[la]];if(Q.serial<ea.serial){var jb=ea.style;if(jb.stick){var Za=ea.color;"undefined"!=typeof jb.stick.color&&(Za=jb.stick.color);var La=WebMol.f.color(Za),ra=Wa,$a=qb;if(Q.l&&Q.l[la]){var wa=Q.l[la];if(wa.Da)continue;wa.radius&&
(ra=wa.radius);wa.ga&&($a=!0);"undefined"!=typeof wa.G&&(ua=WebMol.f.color(wa.G));"undefined"!=typeof wa.J&&(La=WebMol.f.color(wa.J))}var na=new WebMol.Vector3(Q.x,Q.y,Q.z),xa=new WebMol.Vector3(ea.x,ea.y,ea.z);if(1===Q.bondOrder[la]||$a){if(!ea.V&&4>ea.bonds.length&&(Ya=!0),Sa!=Za?(ja=(new WebMol.Vector3).addVectors(na,xa).multiplyScalar(.5),WebMol.h.i(fa,na,ja,ra,ua,Xa,!1),WebMol.h.i(fa,ja,xa,ra,La,!1,Ya)):WebMol.h.i(fa,na,xa,ra,ua,Xa,Ya),Q.clickable||ea.clickable){ja=(new WebMol.Vector3).addVectors(na,
xa).multiplyScalar(.5);if(Q.clickable){var wb=new WebMol.Cylinder(na,ja,ra),xb=new WebMol.Sphere(na,ra);Q.intersectionShape.cylinder.push(wb);Q.intersectionShape.sphere.push(xb)}if(ea.clickable){var yb=new WebMol.Cylinder(xa,ja,ra),zb=new WebMol.Sphere(xa,ra);ea.intersectionShape.cylinder.push(yb);ea.intersectionShape.sphere.push(zb)}}}else if(1<Q.bondOrder[la]){var Da=!1;mtoCap=!1;ra!=Wa&&(mtoCap=Da=!0);var Ta=xa.clone(),Ca=null;Ta.sub(na);var aa,oa,pa,sa,ta,Ca=e(Q,ea,la);if(2==Q.bondOrder[la]){if(aa=
ra/2.5,Ca=e(Q,ea,la),Ca.multiplyScalar(1.5*aa),oa=na.clone(),oa.add(Ca),pa=na.clone(),pa.sub(Ca),sa=oa.clone(),sa.add(Ta),ta=pa.clone(),ta.add(Ta),Sa!=Za?(ja=(new WebMol.Vector3).addVectors(oa,sa).multiplyScalar(.5),va=(new WebMol.Vector3).addVectors(pa,ta).multiplyScalar(.5),WebMol.h.i(fa,oa,ja,aa,ua,Da,!1),WebMol.h.i(fa,ja,sa,aa,La,!1,mtoCap),WebMol.h.i(fa,pa,va,aa,ua,Da,!1),WebMol.h.i(fa,va,ta,aa,La,!1,mtoCap)):(WebMol.h.i(fa,oa,sa,aa,ua,Da,mtoCap),WebMol.h.i(fa,pa,ta,aa,ua,Da,mtoCap)),Q.clickable||
ea.clickable)ja=(new WebMol.Vector3).addVectors(oa,sa).multiplyScalar(.5),va=(new WebMol.Vector3).addVectors(pa,ta).multiplyScalar(.5),Q.clickable&&(cylinder1a=new WebMol.Cylinder(oa,ja,aa),cylinder1b=new WebMol.Cylinder(pa,va,aa),Q.intersectionShape.cylinder.push(cylinder1a),Q.intersectionShape.cylinder.push(cylinder1b)),ea.clickable&&(cylinder2a=new WebMol.Cylinder(sa,ja,aa),cylinder2b=new WebMol.Cylinder(ta,va,aa),ea.intersectionShape.cylinder.push(cylinder2a),ea.intersectionShape.cylinder.push(cylinder2b))}else 3==
Q.bondOrder[la]&&(aa=ra/4,Ca.cross(Ta),Ca.normalize(),Ca.multiplyScalar(3*aa),oa=na.clone(),oa.add(Ca),pa=na.clone(),pa.sub(Ca),sa=oa.clone(),sa.add(Ta),ta=pa.clone(),ta.add(Ta),Sa!=Za?(ja=(new WebMol.Vector3).addVectors(oa,sa).multiplyScalar(.5),va=(new WebMol.Vector3).addVectors(pa,ta).multiplyScalar(.5),mp3=(new WebMol.Vector3).addVectors(na,xa).multiplyScalar(.5),WebMol.h.i(fa,oa,ja,aa,ua,Da,!1),WebMol.h.i(fa,ja,sa,aa,La,!1,mtoCap),WebMol.h.i(fa,na,mp3,aa,ua,Xa,!1),WebMol.h.i(fa,mp3,xa,aa,La,
!1,Ya),WebMol.h.i(fa,pa,va,aa,ua,Da,!1),WebMol.h.i(fa,va,ta,aa,La,!1,mtoCap)):(WebMol.h.i(fa,oa,sa,aa,ua,Da,mtoCap),WebMol.h.i(fa,na,xa,aa,ua,Xa,Ya),WebMol.h.i(fa,pa,ta,aa,ua,Da,mtoCap)),Q.clickable||ea.clickable)&&(ja=(new WebMol.Vector3).addVectors(oa,sa).multiplyScalar(.5),va=(new WebMol.Vector3).addVectors(pa,ta).multiplyScalar(.5),mp3=(new WebMol.Vector3).addVectors(na,xa).multiplyScalar(.5),Q.clickable&&(cylinder1a=new WebMol.Cylinder(oa.clone(),ja.clone(),aa),cylinder1b=new WebMol.Cylinder(pa.clone(),
va.clone(),aa),cylinder1c=new WebMol.Cylinder(na.clone(),mp3.clone(),aa),Q.intersectionShape.cylinder.push(cylinder1a),Q.intersectionShape.cylinder.push(cylinder1b),Q.intersectionShape.cylinder.push(cylinder1c)),ea.clickable&&(cylinder2a=new WebMol.Cylinder(sa.clone(),ja.clone(),aa),cylinder2b=new WebMol.Cylinder(ta.clone(),va.clone(),aa),cylinder2c=new WebMol.Cylinder(xa.clone(),mp3.clone(),aa),ea.intersectionShape.cylinder.push(cylinder2a),ea.intersectionShape.cylinder.push(cylinder2b),ea.intersectionShape.cylinder.push(cylinder2c)))}}}}for(var kb=
0==Q.bonds.length,lb=0,rb=!1,la=0;la<Q.bonds.length;la++)$a=qb,Q.l&&Q.l[la]&&(wa=Q.l[la],wa.ga&&($a=!0),wa.radius&&wa.radius!=Wa&&(rb=!0)),($a||1==Q.bondOrder[la])&&lb++;rb?0<lb&&(kb=!0):0==lb&&(kb=!0);if(kb){var Ab=Q.style,ra=Wa;Q.style={sphere:{radius:ra,color:Sa}};g(Q,fa);Q.style=Ab}}}"undefined"===typeof J.style.cartoon||J.style.cartoon.hidden||("spectrum"===J.style.cartoon.color&&"number"===typeof J.resi&&(J.resi<H[0]&&(H[0]=J.resi),J.resi>H[1]&&(H[1]=J.resi)),n.push(J))}}if(0<n.length){var sb=
null;H[0]<H[1]&&(sb=new WebMol.Sinebow(H[0],H[1]));WebMol.drawCartoon(l,n,sb);for(D=0;D<l.children.length;D++);}if(0<A.vertices){var Bb=new WebMol.MeshLambertMaterial({ambient:0,vertexColors:!0,reflectivity:0});A.initTypedArrays();var Cb=new WebMol.Mesh(A,Bb);l.add(Cb)}if(0<B.vertices){var Db=new WebMol.Oa({ambient:0,vertexColors:!0,reflectivity:0});B.initTypedArrays();var Eb=new WebMol.Mesh(B,Db);console.log("spherei geometry "+B.vertices.length);l.add(Eb)}if(0<z.vertices){var tb=new WebMol.MeshLambertMaterial({vertexColors:!0,
ambient:0,reflectivity:0});z.initTypedArrays();tb.wireframe&&z.setUpWireframe();var Fb=new WebMol.Mesh(z,tb);l.add(Fb)}for(D in t)if(t.hasOwnProperty(D)){var mb=D,Gb=new WebMol.LineBasicMaterial({linewidth:mb,vertexColors:!0});t[D].initTypedArrays();var Hb=new WebMol.Line(t[D],Gb,WebMol.LinePieces);l.add(Hb)}for(D in w)if(w.hasOwnProperty(D)){var mb=D,Ib=new WebMol.LineBasicMaterial({linewidth:mb,vertexColors:!0});w[D].initTypedArrays();var Jb=new WebMol.Line(w[D],Ib,WebMol.LinePieces);l.add(Jb)}h=
l;console.log("object creation time: "+(new Date-c));m&&(b.remove(m),m=null);m=h.clone();b.add(m)}};this.removegl=function(a){m&&(void 0!==m.geometry&&m.geometry.dispose(),void 0!==m.material&&m.material.dispose(),a.remove(m),m=null);h=null}}}();
WebMol.GLShape=function(){function z(w,f){f=f||{};WebMol.ShapeIDCount++;this.id=w;this.boundingSphere=new WebMol.Sphere;this.intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]};D(this,f);var b=[],p=null,c=null,g=new WebMol.Geometry(!0);this.updateStyle=function(a){for(var b in a)f[b]=a[b];D(this,f)};this.addCustom=function(a){a.vertexArr=a.vertexArr||[];a.faceArr=a.faceArr||[];a.normalArr=a.normalArr||[];a.lineArr=a.lineArr||[];var e=g.addGeoGroup();H(this,e,a);e.truncateArrayBuffers(!0,
!0);for(a=0;a<e.colorArray.length/3;++a)e.colorArray[3*a]=this.color.r,e.colorArray[3*a+1]=this.color.g,e.colorArray[3*a+2]=this.color.b;b.push({id:e.id,t:e,o:e.getCentroid()});B(this.boundingSphere,b,e.vertexArray)};this.addSphere=function(a){a.center=a.center||{x:0,y:0,z:0};a.radius=a.radius?WebMol.Math.clamp(a.radius,0,Infinity):1.5;a.color=WebMol.f.color(a.color);this.intersectionShape.sphere.push(new WebMol.Sphere(a.center,a.radius));var e=g.addGeoGroup();WebMol.h.W(g,a.center,a.radius,a.color);
e.truncateArrayBuffers(!0,!0);b.push({id:e.id,t:e,o:new WebMol.Vector3(a.center.x,a.center.y,a.center.z)});B(this.boundingSphere,b,e.vertexArray)};this.addCylinder=function(a){a.start=a.start||{};a.end=a.end||{};var e=new WebMol.Vector3(a.start.x||0,a.start.y||0,a.start.z||0),c=new WebMol.Vector3(a.end.x||3,a.end.y||0,a.end.z||0),d=a.radius||.1,f=WebMol.f.color(a.color),m=g.addGeoGroup();WebMol.h.i(g,e,c,d,f,a.Ra,a.Za);m.truncateArrayBuffers(!0,!0);e=new WebMol.Vector3;b.push({id:m.id,t:m,o:e.addVectors(a.start,
a.end).multiplyScalar(.5)});B(this.boundingSphere,b,m.vertexArray)};this.addArrow=function(a){a.start=a.start||{};a.end=a.end||{};a.start=new WebMol.Vector3(a.start.x||0,a.start.y||0,a.start.z||0);if(a.dir instanceof WebMol.Vector3&&a.length instanceof number){var e=a.dir.clone().multiplyScalar(length).add(start);a.end=e}else a.end=new WebMol.Vector3(a.end.x||3,a.end.y||0,a.end.z||0);a.radius=a.radius||.1;a.radiusRatio=a.radiusRatio||1.618034;a.mid=0<a.mid&&1>a.mid?a.mid:.618034;var e=g.addGeoGroup(),
c=a.start,d=a.end,f=a.radius,m=a.radiusRatio,w=a.mid;if(c&&d){var n=d.clone();n.sub(c).multiplyScalar(w);var l=c.clone().add(n),w=n.clone().negate();this.intersectionShape.cylinder.push(new WebMol.Cylinder(c.clone(),l.clone(),f));this.intersectionShape.sphere.push(new WebMol.Sphere(c.clone(),f));var t=[];t[0]=n.clone();1E-4<Math.abs(t[0].x)?t[0].y+=1:t[0].x+=1;t[0].cross(n);t[0].normalize();t[0]=t[0];t[4]=t[0].clone();t[4].crossVectors(t[0],n);t[4].normalize();t[8]=t[0].clone().negate();t[12]=t[4].clone().negate();
t[2]=t[0].clone().add(t[4]).normalize();t[6]=t[4].clone().add(t[8]).normalize();t[10]=t[8].clone().add(t[12]).normalize();t[14]=t[12].clone().add(t[0]).normalize();t[1]=t[0].clone().add(t[2]).normalize();t[3]=t[2].clone().add(t[4]).normalize();t[5]=t[4].clone().add(t[6]).normalize();t[7]=t[6].clone().add(t[8]).normalize();t[9]=t[8].clone().add(t[10]).normalize();t[11]=t[10].clone().add(t[12]).normalize();t[13]=t[12].clone().add(t[14]).normalize();t[15]=t[14].clone().add(t[0]).normalize();var s=e.vertices,
p=e.vertexArray,x=e.faceArray,q=e.normalArray,y=e.lineArray,z,D,H;D=0;for(H=t.length;D<H;++D){z=3*(s+3*D);var M=t[D].clone().multiplyScalar(f).add(c),N=t[D].clone().multiplyScalar(f).add(l),G=t[D].clone().multiplyScalar(f*m).add(l);p[z]=M.x;p[z+1]=M.y;p[z+2]=M.z;p[z+3]=N.x;p[z+4]=N.y;p[z+5]=N.z;p[z+6]=G.x;p[z+7]=G.y;p[z+8]=G.z;0<D&&(z=new WebMol.Vector3(p[z-3],p[z-2],p[z-1]),M=d.clone(),N=l.clone(),G=new WebMol.Vector3(G.x,G.y,G.z),this.intersectionShape.triangle.push(new WebMol.Triangle(G,M,z)),
this.intersectionShape.triangle.push(new WebMol.Triangle(z.clone(),N,G.clone())))}e.vertices+=48;z=3*e.vertices;p[z]=c.x;p[z+1]=c.y;p[z+2]=c.z;p[z+3]=l.x;p[z+4]=l.y;p[z+5]=l.z;p[z+6]=d.x;p[z+7]=d.y;p[z+8]=d.z;e.vertices+=3;var E,K,J,W,ca,R,L,X,P=e.vertices-3,S=e.vertices-2,T=e.vertices-1,O=3*P,Z=3*S,ba=3*T;D=0;for(H=t.length-1;D<H;++D)E=s+3*D,c=e.faceidx,d=e.lineidx,f=E,z=3*f,m=E+1,M=3*m,l=E+2,N=3*l,p=E+4,K=3*p,G=E+5,J=3*G,E+=3,W=3*E,ca=R=t[D],L=X=t[D+1],q[z]=ca.x,q[M]=R.x,q[W]=X.x,q[z+1]=ca.y,q[M+
1]=R.y,q[W+1]=X.y,q[z+2]=ca.z,q[M+2]=R.z,q[W+2]=X.z,q[M]=R.x,q[K]=L.x,q[W]=X.x,q[M+1]=R.y,q[K+1]=L.y,q[W+1]=X.y,q[M+2]=R.z,q[K+2]=L.z,q[W+2]=X.z,q[N]=R.x,q[J]=L.x,q[N+1]=R.y,q[J+1]=L.y,q[N+2]=R.z,q[J+2]=L.z,x[c]=f,x[c+1]=m,x[c+2]=E,x[c+3]=m,x[c+4]=p,x[c+5]=E,x[c+6]=f,x[c+7]=E,x[c+8]=P,x[c+9]=l,x[c+10]=S,x[c+11]=G,x[c+12]=l,x[c+13]=T,x[c+14]=G,y[d]=f,y[d+1]=m,y[d+2]=f,y[d+3]=E,y[d+4]=p,y[d+5]=E,y[d+6]=f,y[d+7]=E,y[d+8]=l,y[d+9]=m,y[d+10]=l,y[d+11]=G,y[d+12]=p,y[d+13]=G,y[d+14]=l,y[d+15]=T,y[d+16]=
l,y[d+17]=G,y[d+18]=T,y[d+19]=G,e.faceidx+=15,e.lineidx+=20;s=[s+45,s+46,s+1,s,s+47,s+2];c=e.faceidx;d=e.lineidx;f=s[0];z=3*f;m=s[1];M=3*m;l=s[4];N=3*l;p=s[2];K=3*p;G=s[5];J=3*G;E=s[3];W=3*E;ca=R=t[15];L=X=t[0];q[z]=ca.x;q[M]=R.x;q[W]=X.x;q[z+1]=ca.y;q[M+1]=R.y;q[W+1]=X.y;q[z+2]=ca.z;q[M+2]=R.z;q[W+2]=X.z;q[M]=R.x;q[K]=L.x;q[W]=X.x;q[M+1]=R.y;q[K+1]=L.y;q[W+1]=X.y;q[M+2]=R.z;q[K+2]=L.z;q[W+2]=X.z;q[N]=R.x;q[J]=L.x;q[N+1]=R.y;q[J+1]=L.y;q[N+2]=R.z;q[J+2]=L.z;n.normalize();w.normalize();q[O]=w.x;q[Z]=
q[ba]=n.x;q[O+1]=w.y;q[Z+1]=q[ba+1]=n.y;q[O+2]=w.z;q[Z+2]=q[ba+2]=n.z;x[c]=f;x[c+1]=m;x[c+2]=E;x[c+3]=m;x[c+4]=p;x[c+5]=E;x[c+6]=f;x[c+7]=E;x[c+8]=P;x[c+9]=l;x[c+10]=S;x[c+11]=G;x[c+12]=l;x[c+13]=T;x[c+14]=G;y[d]=f;y[d+1]=m;y[d+2]=f;y[d+3]=E;y[d+4]=p;y[d+5]=E;y[d+6]=f;y[d+7]=E;y[d+8]=l;y[d+9]=m;y[d+10]=l;y[d+11]=G;y[d+12]=p;y[d+13]=G;y[d+14]=l;y[d+15]=T;y[d+16]=l;y[d+17]=G;y[d+18]=T;y[d+19]=G;e.faceidx+=15;e.lineidx+=20}e.truncateArrayBuffers(!0,!0);n=new WebMol.Vector3;b.push({id:e.id,t:e,o:n.addVectors(a.start,
a.end).multiplyScalar(.5)});B(this.boundingSphere,b,e.vertexArray)};this.addVolumetricData=function(a,c,f){var d=void 0!==f.isoval&&"number"===typeof f.isoval?f.isoval:0,h=f.voxel?!0:!1,m=g.addGeoGroup();switch(c){case "cube":var p=a.replace(/^\s+/,"").split(/[\n\r]+/);if(!(6>p.length)){var n=p[2].replace(/^\s+/,"").replace(/\s+/g," ").split(" "),l=Math.abs(parseFloat(n[0]));a=new WebMol.Vector3(parseFloat(n[1]),parseFloat(n[2]),parseFloat(n[3]));var n=p[3].replace(/^\s+/,"").replace(/\s+/g," ").split(" "),
t=0<parseFloat(n[0])?.529177:1;a.multiplyScalar(t);c=Math.abs(n[0]);var s=(new WebMol.Vector3(parseFloat(n[1]),parseFloat(n[2]),parseFloat(n[3]))).multiplyScalar(t),n=p[4].replace(/^\s+/,"").replace(/\s+/g," ").split(" "),w=Math.abs(n[0]);(new WebMol.Vector3(parseFloat(n[1]),parseFloat(n[2]),parseFloat(n[3]))).multiplyScalar(t);var n=p[5].replace(/^\s+/,"").replace(/\s+/g," ").split(" "),x=Math.abs(n[0]);(new WebMol.Vector3(parseFloat(n[1]),parseFloat(n[2]),parseFloat(n[3]))).multiplyScalar(t);p=
new Float32Array(p.splice(l+7).join(" ").replace(/^\s+/,"").split(/[\s\r]+/));n=new Int16Array(c*w*x);l=0;for(t=n.length;l<t;++l)n[l]=-1;n=new Uint8Array(c*w*x);l=0;for(t=p.length;l<t;++l)0<(0<=d?p[l]-d:d-p[l])&&(n[l]|=2);d=[];p=[];WebMol.q.Z(n,d,p,{wa:!0,voxel:h,scale:s.length(),origin:a,ba:c,ca:w,da:x});h||WebMol.q.Y(10,d,p);H(this,m,{vertexArr:d,faceArr:p,normalArr:[],lineArr:[]})}}b.push({id:m.id,t:m,o:m.getCentroid()});this.updateStyle(f);B(this.boundingSphere,b,m.vertexArray)};this.globj=function(a){g.initTypedArrays();
var b=this.color,b=b||WebMol.f.color(b);g.colorsNeedUpdate=!0;for(var f in g.geometryGroups)for(var d=g.geometryGroups[f],h=d.colorArray,m=0,d=d.vertices;m<d;++m)h[3*m]=b.r,h[3*m+1]=b.g,h[3*m+2]=b.b;p=new WebMol.Object3D;f=new WebMol.MeshLambertMaterial({wireframe:this.wireframe,vertexColors:!0,ambient:0,reflectivity:0,side:this.side,transparent:1>this.alpha?!0:!1,opacity:this.alpha});f=new WebMol.Mesh(g,f);p.add(f);c&&(a.remove(c),c=null);c=p.clone();a.add(c)};this.removegl=function(a){c&&(void 0!==
c.geometry&&c.geometry.dispose(),void 0!==c.material&&c.material.dispose(),a.remove(c),c=null);p=null}}function D(w,f){w.color=f.color||new WebMol.Color;w.wireframe=f.wireframe?!0:!1;w.alpha=f.alpha?WebMol.Math.clamp(f.alpha,0,1):1;w.side=void 0!==f.side?f.side:WebMol.DoubleSide;w.clickable=f.clickable?!0:!1;w.callback="function"===typeof f.callback?f.callback:null}function B(w,f,b){w.center.set(0,0,0);var p,c;if(0<f.length){p=0;for(c=f.length;p<c;++p)w.center.add(f[p].o);w.center.divideScalar(f.length)}f=
w.radius*w.radius;p=0;for(c=b.length/3;p<c;p++){var g=w.center.distanceToSquared({x:b[3*p],y:b[3*p+1],z:b[3*p+2]});f=Math.max(f,g)}w.radius=Math.sqrt(f)}function H(w,f,b){var p=b.vertexArr,c=b.normalArr,g=b.faceArr;b=b.lineArr;0!==p.length&&0!==g.length||console.warn("Error adding custom shape component: No vertices and/or face indices supplied!");f.vertices=p.length;f.faceidx=g.length;var a,e,u,d,h;d=0;for(h=f.vertices;d<h;++d)a=3*d,e=p[d],f.vertexArray[a]=e.x,f.vertexArray[a+1]=e.y,f.vertexArray[a+
2]=e.z;d=0;for(h=f.faceidx/3;d<h;++d){a=3*d;e=g[a];u=g[a+1];a=g[a+2];var m=new WebMol.Vector3,z=new WebMol.Vector3,n=new WebMol.Vector3;w.intersectionShape.triangle.push(new WebMol.Triangle(m.copy(p[e]),z.copy(p[u]),n.copy(p[a])))}f.faceArray=new Uint16Array(g);f.truncateArrayBuffers(!0,!0);if(c.length<f.vertices)f.setNormals();else for(f.normalArray=new Float32Array(3*f.vertices),d=0,h=f.vertices;d<h;++d)a=3*d,w=c[d],f.normalArray[a]=w.x,f.normalArray[a+1]=w.y,f.normalArray[a+2]=w.z;b.length?f.lineArray=
new Uint16Array(b):f.setLineIndices();f.lineidx=f.lineArray.length}Object.defineProperty(z.prototype,"position",{get:function(){return this.boundingSphere.center}});Object.defineProperty(z.prototype,"x",{get:function(){return this.boundingSphere.center.x}});Object.defineProperty(z.prototype,"y",{get:function(){return this.boundingSphere.center.y}});Object.defineProperty(z.prototype,"z",{get:function(){return this.boundingSphere.center.z}});return z}();WebMol.ShapeIDCount=0;WebMol.LabelCount=0;
WebMol.Label=function(z,D){this.id=WebMol.LabelCount++;this.stylespec=D||{};this.canvas=document.createElement("canvas");this.context=this.canvas.getContext("2d");this.sprite=new WebMol.Sprite;this.text=z};
WebMol.Label.prototype={setContext:function(){this.A=this.stylespec.A;"undefined"==typeof this.A&&(this.A=!0);this.font=this.stylespec.font=this.stylespec.font?this.stylespec.font:"Verdana";this.fontSize=this.stylespec.fontSize=this.stylespec.fontSize?this.stylespec.fontSize:20;this.fontSize*=2;this.fontColor=this.stylespec.fontColor=this.stylespec.fontColor?this.stylespec.fontColor:{r:255,g:255,b:255,a:1};this.borderThickness=this.stylespec.borderThickness=this.stylespec.borderThickness?this.stylespec.borderThickness:
4;this.borderColor=this.stylespec.borderColor=this.stylespec.borderColor?this.stylespec.borderColor:{r:0,g:0,b:0,a:1};this.backgroundColor=this.stylespec.backgroundColor=this.stylespec.backgroundColor?this.stylespec.backgroundColor:{r:0,g:0,b:0,a:1};this.position=this.stylespec.position=this.stylespec.position?this.stylespec.position:{x:-10,y:1,z:1};this.backgroundColor instanceof WebMol.Color&&(this.backgroundColor=this.backgroundColor.fa());this.borderColor instanceof WebMol.Color&&(this.borderColor=
this.borderColor.fa());this.fontColor instanceof WebMol.Color&&(this.fontColor=this.fontColor.fa());this.inFront=this.stylespec.inFront=void 0!==this.stylespec.inFront?this.stylespec.inFront:!0;this.context.clearRect(0,0,this.canvas.width,this.canvas.height);var z=this.stylespec.alignment||WebMol.SpriteAlignment.topLeft,D="";this.stylespec.bold&&(D="bold ");this.context.font=D+this.fontSize+"px  "+this.font;D=this.context.measureText(this.text).width;this.context.fillStyle="rgba("+this.backgroundColor.r+
","+this.backgroundColor.g+","+this.backgroundColor.b+","+this.backgroundColor.a+")";this.context.strokeStyle="rgba("+this.borderColor.r+","+this.borderColor.g+","+this.borderColor.b+","+this.borderColor.a+")";this.context.lineWidth=this.borderThickness;if(this.A){var B=this.context,H=this.borderThickness/2,w=this.borderThickness/2,f=D+2*this.borderThickness,b=1.25*this.fontSize+2*this.borderThickness;B.beginPath();B.moveTo(H+6,w);B.lineTo(H+f-6,w);B.quadraticCurveTo(H+f,w,H+f,w+6);B.lineTo(H+f,w+
b-6);B.quadraticCurveTo(H+f,w+b,H+f-6,w+b);B.lineTo(H+6,w+b);B.quadraticCurveTo(H,w+b,H,w+b-6);B.lineTo(H,w+6);B.quadraticCurveTo(H,w,H+6,w);B.closePath();B.fill()}this.context.fillStyle="rgba("+this.fontColor.r+","+this.fontColor.g+","+this.fontColor.b+","+this.fontColor.a+")";this.context.fillText(this.text,this.borderThickness,this.fontSize+this.borderThickness,D);D=new WebMol.Texture(this.canvas);D.needsUpdate=!0;this.sprite.material=new WebMol.SpriteMaterial({map:D,useScreenCoordinates:this.stylespec.Ma,
alignment:z,depthTest:!this.inFront});this.stylespec.Ma&&(this.position.z=0);this.sprite.scale.set(1.5*this.fontSize/2,this.fontSize/2,1);this.sprite.position.set(this.position.x,this.position.y,this.position.z)},dispose:function(){void 0!==this.sprite.material.map&&this.sprite.material.map.dispose();void 0!==this.sprite.material&&this.sprite.material.dispose()}};
WebMol.GLViewer=function(){function z(z){var B,H,w,f,b,p,c,g,a,e;B=H=w=9999;f=b=p=-9999;c=g=a=e=0;if(0===z.length)return[[0,0,0],[0,0,0],[0,0,0]];for(var u=0;u<z.length;u++){var d=z[u];void 0!==d&&(e++,c+=d.x,g+=d.y,a+=d.z,B=B<d.x?B:d.x,H=H<d.y?H:d.y,w=w<d.z?w:d.z,f=f>d.x?f:d.x,b=b>d.y?b:d.y,p=p>d.z?p:d.z)}return[[B,H,w],[f,b,p],[c/e,g/e,a/e]]}return function(D,B,H,w){function f(a,b,c){var d=new WebMol.Geometry(!0),e=d.updateGeoGroup(0),f=e.vertexArray,g=b.vertices,h,l,p;l=0;for(p=g.length;l<p;l++)h=
3*e.vertices,f[h]=g[l].x,f[h+1]=g[l].y,f[h+2]=g[l].z,e.vertices++;b=b.faces;e.faceidx=b.length;d.initTypedArrays();f=[];l=0;for(p=a.length;l<p;l++)(h=a[l])&&("undefined"!=typeof h.surfaceColor?f[l]=WebMol.f.color(h.surfaceColor):h.color&&(f[l]=WebMol.f.color(h.color)));a=e.vertexArray;h=e.colorArray;var m=e.normalArray,n,t,s;l=0;for(p=b.length;l<p;l+=3){var q=b[l],u=b[l+1],w=b[l+2];n=g[q].atomid;t=g[u].atomid;s=g[w].atomid;q*=3;u*=3;w*=3;h[q]=f[n].r;h[q+1]=f[n].g;h[q+2]=f[n].b;h[u]=f[t].r;h[u+1]=
f[t].g;h[u+2]=f[t].b;h[w]=f[s].r;h[w+1]=f[s].g;h[w+2]=f[s].b;n=new WebMol.Vector3(a[q],a[q+1],a[q+2]);t=new WebMol.Vector3(a[u],a[u+1],a[u+2]);s=new WebMol.Vector3(a[w],a[w+1],a[w+2]);s.subVectors(s,t);n.subVectors(n,t);s.cross(n);n=s;n.normalize();m[q]+=n.x;m[u]+=n.x;m[w]+=n.x;m[q+1]+=n.y;m[u+1]+=n.y;m[w+1]+=n.y;m[q+2]+=n.z;m[u+2]+=n.z;m[w+2]+=n.z}e.faceArray=new Uint16Array(b);c=new WebMol.Mesh(d,c);c.Pa=!0;return c}function b(a,b,d){function e(a){if(64E3>p(a))return[a];var b=a[1][0]-a[0][0],c=
a[1][1]-a[0][1],d=a[1][2]-a[0][2],c=b>c&&b>d?0:c>b&&c>d?1:2,d=f(a),b=f(a);a=(a[1][c]-a[0][c])/2+a[0][c];d[1][c]=a;b[0][c]=a;a=e(d);b=e(b);return a.concat(b)}function f(a){var b=[];b[0]=[a[0][0],a[0][1],a[0][2]];b[1]=[a[1][0],a[1][1],a[1][2]];return b}var g=[];a=e(a);for(var h=0,l=a.length;h<l;h++){var m=f(a[h]);m[0][0]-=6;m[0][1]-=6;m[0][2]-=6;m[1][0]+=6;m[1][1]+=6;m[1][2]+=6;var m=c(b,m),n=c(d,a[h]);g.push({L:a[h],T:m,ja:n})}return g}function p(a){return(a[1][0]-a[0][0])*(a[1][1]-a[0][1])*(a[1][2]-
a[0][2])}function c(a,b){for(var c=[],d=0;d<a.length;d++){var e=a[d];"undefined"!=typeof e&&(e.x<b[0][0]||e.x>b[1][0]||e.y<b[0][1]||e.y>b[1][1]||e.z<b[0][2]||e.z>b[1][2]||c.push(d))}return c}function g(a){var b=a.originalEvent.targetTouches[0].pageX-a.originalEvent.targetTouches[1].pageX;a=a.originalEvent.targetTouches[0].pageY-a.originalEvent.targetTouches[1].pageY;return Math.sqrt(b*b+a*a)}function a(){if(E){var a=I.position.z-K.position.z;1>a&&(a=1);I.near=a+ca;1>I.near&&(I.near=1);I.far=a+R;I.near+
1>I.far&&(I.far=I.near+1);I instanceof WebMol.Camera?I.fov=20:(I.right=a*Math.tan(Math.PI/180*20),I.left=-I.right,I.top=I.right/y,I.bottom=-I.top);I.updateProjectionMatrix();E.fog.near=I.near+.4*(I.far-I.near);E.fog.far=I.far;F.render(E,I)}}function e(a){var b=[];"undefined"===typeof a&&(a={});var c=[],d;if("undefined"===typeof a.u)for(d=0;d<n.length;d++)n[d]&&c.push(n[d]);else c=a.u,$.isArray(c)||(c=[c]);for(d=0;d<c.length;d++)b=b.concat(c[d].selectedAtoms(a));return b}function u(a,b,c,d){for(var e=
0;e<n.length;e++)if(n[e])n[e][a](b,c,d)}function d(a){var b=new WebMol.MeshLambertMaterial;b.vertexColors=WebMol.VertexColors;for(var c in a)"color"===c?(b[c]=WebMol.f.color(a.color),delete b.vertexColors):"map"!==c&&a.hasOwnProperty(c)&&(b[c]=a[c]);void 0!==a.opacity&&(b.transparent=1===a.opacity?!1:!0);return b}function h(a,b){for(var c=Number.POSITIVE_INFINITY,d=Number.NEGATIVE_INFINITY,e=0,f=a.length;e<f;e++){var g=a[e];g.properties&&"undefined"!=typeof g.properties[b]&&(g=g.properties[b],g<c&&
(c=g),g>d&&(d=g))}isFinite(c)||isFinite(d)?isFinite(c)?isFinite(d)||(d=c):c=d:c=d=0;return[c,d]}var m=this,A=D.id,n=[],l=[],t=[],s=[],C=D.width(),x=D.height(),q=$('<div class="glviewerSpinnerWrap" style = "position: absolute; width: 100%; height: 100%; display: table; z-index: 1;"><div class="glviewerSpinner" style="display: table-cell; text-align: center; vertical-align: middle; z-index:1"><img src="webmol/spinner.gif"></div></div>');$(D).append(q);q.hide();var y=C/x,F=new WebMol.Renderer({antialias:!0});
F.domElement.style.width="100%";F.domElement.style.height="100%";F.domElement.style.position="absolute";F.domElement.style.top="0px";F.domElement.style.zIndex="0";D.append(F.domElement);F.setSize(C,x);var I=new WebMol.Camera(10,y,1,800);I.position=new WebMol.Vector3(0,0,150);var V=new WebMol.Vector3;I.lookAt(V);var M=new WebMol.Raycaster(new WebMol.Vector3(0,0,0),new WebMol.Vector3(0,0,0)),N=new WebMol.Projector,G=new WebMol.Vector3(0,0,0),E=null,K=null,J=null,W=0,ca=-50,R=50,L=new WebMol.Quaternion(0,
0,0,1),X=new WebMol.Quaternion(0,0,0,1),P=!1,S=0,T=0,O=0,Z=0,ba=0,U=0,Y=0;(function(){E=new WebMol.Scene;E.fog=new WebMol.Fog(W,100,200);J=new WebMol.Object3D;K=new WebMol.Object3D;K.useQuaternion=!0;K.quaternion=new WebMol.Quaternion(0,0,0,1);K.add(J);E.add(K);var a=new WebMol.Light(16777215);a.position=(new WebMol.Vector3(.2,.2,1)).normalize();a.intensity=1;E.add(a)})();F.setClearColorHex(W,1);E.fog.color=WebMol.f.color(W);V=$(F.domElement);w||(V.bind("mousedown touchstart",function(b){b.preventDefault();
if(E){var c=b.pageX,d=b.pageY;b.originalEvent.targetTouches&&b.originalEvent.targetTouches[0]&&(c=b.originalEvent.targetTouches[0].pageX,d=b.originalEvent.targetTouches[0].pageY);if(void 0!==c){P=!0;mouseButton=b.which;S=c;T=d;O=0;b.originalEvent.targetTouches&&2==b.originalEvent.targetTouches.length&&(O=g(b));L=K.quaternion;ba=K.position.z;Z=J.position.clone();U=ca;Y=R;b=c/$(window).width()*2-1;G.set(b,2*-(d/x)+1,-1);N.unprojectVector(G,I);G.sub(I.position).normalize();M.set(I.position,G);d=[];b=
[];b=0;for(c=n.length;b<c;b++)var e=n[b].selectedAtoms({clickable:!0}),d=d.concat(e);b=0;for(c=t.length;b<c;b++)e=t[b],e.clickable&&d.push(e);b=M.intersectObjects(J,d);b.length&&(d=b[0].clickable,void 0!==d.callback&&"function"===typeof d.callback&&d.callback(d,m));a()}}}),V.bind("DOMMouseScroll mousewheel",function(b){b.preventDefault();if(E){var c=.85*(150-K.position.z);b.originalEvent.detail?K.position.z+=c*b.originalEvent.detail/10:b.originalEvent.wheelDelta&&(K.position.z-=c*b.originalEvent.wheelDelta/
400);a()}}),V.bind("contextmenu",function(a){a.preventDefault()}),$("body").bind("mouseup touchend",function(){P=!1}),V.bind("mousemove touchmove",function(b){b.preventDefault();if(E&&P){var c=0,d=$("input[name="+A+"_mouseMode]:checked");0<d.length&&(c=parseInt(d.val()));var d=b.pageX,e=b.pageY;b.originalEvent.targetTouches&&b.originalEvent.targetTouches[0]&&(d=b.originalEvent.targetTouches[0].pageX,e=b.originalEvent.targetTouches[0].pageY);if(void 0!==d){d=(d-S)/C;e=(e-T)/x;0!=O&&b.originalEvent.targetTouches&&
2==b.originalEvent.targetTouches.length?(e=g(b),c=2,e=2*(O-e)/(C+x)):b.originalEvent.targetTouches&&3==b.originalEvent.targetTouches.length&&(c=1);var f=Math.sqrt(d*d+e*e);3==c||3==mouseButton&&b.ctrlKey?(ca=U+100*d,R=Y+100*e):2==c||3==mouseButton||b.shiftKey?(b=.85*(150-K.position.z),80>b&&(b=80),K.position.z=ba-e*b):1==c||2==mouseButton||b.ctrlKey?(b=.85*(150-K.position.z),20>b&&(b=20),b=new WebMol.Vector3(d*b,-e*b,0),c=K.quaternion,c=(new WebMol.Quaternion(c.x,c.y,c.z,c.w)).inverse().normalize(),
b=b.applyQuaternion(c),J.position.x=Z.x+b.x,J.position.y=Z.y+b.y,J.position.z=Z.z+b.z):0!==c&&1!=mouseButton||0===f||(b=Math.sin(f*Math.PI)/f,X.x=Math.cos(f*Math.PI),X.y=0,X.z=b*d,X.w=-b*e,K.quaternion=new WebMol.Quaternion(1,0,0,0),K.quaternion.multiply(X),K.quaternion.multiply(L));a()}}}));this.setBackgroundColor=function(b,c){W=b;F.setClearColorHex(b,c|1);E.fog.color=WebMol.f.color(b);a()};this.setWidth=function(a){C=a||C;F.setSize(C,x)};this.setHeight=function(a){x=a||x;F.setSize(C,x)};this.resize=
function(){C=D.width();x=D.height();y=C/x;F.setSize(C,x);I.aspect=y;I.updateProjectionMatrix();a()};$(window).resize(this.resize);this.getModel=function(a){a=a||n.length-1;return n[a]};this.rotate=function(b,c){"undefined"===typeof c&&(c="y");var d=0,e=0,f=0,g=Math.PI*b/180,h=Math.sin(g/2),g=Math.cos(g/2);"x"==c&&(d=h);"y"==c&&(e=h);"z"==c&&(f=h);d=(new WebMol.Quaternion(d,e,f,g)).normalize();K.quaternion.multiply(d);a()};this.getView=function(){if(!J)return[0,0,0,0,0,0,0,1];var a=J.position,b=K.quaternion;
return[a.x,a.y,a.z,K.position.z,b.x,b.y,b.z,b.w]};this.setView=function(b){void 0!==b&&(b instanceof Array||8!==b.length)&&J&&K&&(J.position.x=b[0],J.position.y=b[1],J.position.z=b[2],K.position.z=b[3],K.quaternion.x=b[4],K.quaternion.y=b[5],K.quaternion.z=b[6],K.quaternion.w=b[7],"undefined"!=typeof b[8]&&(K.position.x=b[8],K.position.y=b[9]),a())};this.render=function(){var a=new Date,b=this.getView(),c;for(c=0;c<n.length;c++)n[c]&&n[c].globj(J);for(c=0;c<t.length;c++)t[c]&&t[c].globj(J);for(c in l)if(l.hasOwnProperty(c)){var d=
l[c].m;if(!l[c].s){d.verticesNeedUpdate=!0;d.elementsNeedUpdate=!0;d.normalsNeedUpdate=!0;d.colorsNeedUpdate=!0;d.buffersNeedUpdate=!0;d.boundingSphere=null;l[c].done&&(l[c].s=!0);l[c].n&&J.remove(l[c].n);var e=null,e=l[c].k instanceof WebMol.LineBasicMaterial?new WebMol.Line(d,l[c].k):new WebMol.Mesh(d,l[c].k);l[c].n=e;J.add(e)}}this.setView(b);b=new Date;q.hide();console.log("render time: "+(b-a))};this.pdbData=function(a){a=e(a);for(var b="",c=0,d=a.length;c<d;++c)b+=a[c].pdbline+"\n";return b};
this.zoom=function(b){K.position.z=150-(150-K.position.z)/(b||2);a()};this.zoomTo=function(b){b=e(b).concat(t);var c=e({}).concat(t);b=z(b);var c=z(c),d=new WebMol.Vector3(b[2][0],b[2][1],b[2][2]);J.position=d.multiplyScalar(-1);var d=c[1][0]-c[0][0],f=c[1][1]-c[0][1],c=c[1][2]-c[0][2],c=Math.sqrt(d*d+f*f+c*c);25>c&&(c=25);ca=-c/1.9;R=c/3;d=b[1][0]-b[0][0];f=b[1][1]-b[0][1];c=b[1][2]-b[0][2];c=Math.sqrt(d*d+f*f+c*c);25>c&&(c=25);K.position.z=-(.35*c/Math.tan(Math.PI/180*I.fov/2)-150);a()};this.addLabel=
function(b,c){var d=new WebMol.Label(b,c);d.setContext();J.add(d.sprite);s.push(d);a();return d};this.removeLabel=function(a){s.remove(a);a.dispose();J.remove(a.sprite)};this.Ha=function(){for(var a=0;a<s.length;a++)J.remove(s[a].sprite);s=[]};this.setLabelStyle=function(a,b){a.dispose();a.stylespec=b;a.setContext();J.add(a.sprite);return a};this.setLabelText=function(a,b){a.dispose();a.text=b;a.setContext();J.add(a.sprite);return a};this.addShape=function(a){a=a||{};a=new WebMol.GLShape(t.length,
a);t.push(a);return a};this.removeShape=function(a){if(a)for(a.removegl(J),delete t[a.id];0<t.length&&"undefined"===typeof t[t.length-1];)t.pop()};this.Ia=function(){for(var a=0;a<t.length;a++)t[a].removegl(J);t=[]};this.addSphere=function(a){var b=new WebMol.GLShape(t.length);a=a||{};b.addSphere(a);t.push(b);return b};this.addArrow=function(a){var b=new WebMol.GLShape(t.length);a=a||{};b.addArrow(a);t.push(b);return b};this.addCylinder=function(a){var b=new WebMol.GLShape(t.length);a=a||{};b.addCylinder(a);
t.push(b);return b};this.addCustom=function(a){var b=new WebMol.GLShape(t.length);a=a||{};b.addCustom(a);t.push(b);return b};this.addVolumetricData=function(a,b,c){var d=new WebMol.GLShape(t.length);c=c||{};d.addVolumetricData(a,b,c);t.push(d);return d};this.addModel=function(a,b){var c=new WebMol.GLModel(n.length,H);c.addMolData(a,b);n.push(c);return c};this.removeModel=function(a){if(a)for(a.removegl(J),delete n[a.getID()];0<n.length&&"undefined"===typeof n[n.length-1];)n.pop()};this.removeAllModels=
function(){for(var a=0;a<n.length;a++)n[a].removegl(J);n=[]};this.createModelFrom=function(a,b){for(var c=new WebMol.GLModel(n.length,H),d=0;d<n.length;d++)if(n[d]){var e=n[d].selectedAtoms(a);c.addAtoms(e);b&&n[d].removeAtoms(e)}n.push(c);return c};this.setStyle=function(a,b){u("setStyle",a,b,!1)};this.addStyle=function(a,b){u("setStyle",a,b,!0)};this.setColorByProperty=function(a,b,c){u("setColorByProperty",a,b,c)};this.setColorByElement=function(a,b){u("setColorByElement",a,b)};this.addMesh=function(a){var b=
l.length;l[b]={m:a.geometry,k:a.material,done:!0,s:!1};return b};this.addSurface=function(a,c,g,n,s){g=e(g);var t=e(n);s=e(s);var q,u=new Date,w=d(c),x=z(g);if(c.map&&c.map.prop){var y=c.map.prop,A=c.map.scheme||new WebMol.RWB,B=A.range();B||(B=h(g,y));c=0;for(n=g.length;c<n;c++)q=g[c],q.surfaceColor=A.valueToHex(q.properties[y],B)}var D=p(x),C=b(x,t,g);if(s&&s.length&&0<s.length){var E=z(s);C.sort(function(a,b){function c(a,b){var d=a.L,e=d[1][1]-d[0][1],f=d[1][2]-d[0][2],d=d[1][0]-d[0][0]-b[2][0],
e=e-b[2][1],f=f-b[2][2];return d*d+e*e+f*f}return c(a,E)-c(b,E)})}console.log("Extents "+C.length+"  "+(+new Date-u)+"ms");var F={m:new WebMol.Geometry(!0),k:w,done:!1,s:!1};g=l.length;l[g]=F;var G=[];c=0;for(n=t.length;c<n;c++)q=t[c],G[c]={x:q.x,y:q.y,z:q.z,serial:c,elem:q.elem};if(WebMol.syncSurface)setTimeout(function ka(b){if(!(b>=C.length)){var c,d=a,e=C[b].L,g=C[b].T;c=C[b].ja;var h=new Date,l=new WebMol.la;l.Aa(e,1===d?!1:!0,D);var n=new Date;console.log("initialize "+(n-h)+"ms");l.ua(G,g);
e=new Date;console.log("fillvoxels "+(e-n)+"  "+(e-h)+"ms");l.na();d==WebMol.SurfaceType.SES&&(l.qa(),l.U(!1),l.va(G,g));g=new Date;console.log("buildboundaryetc "+(g-e)+"  "+(g-h)+"ms");l.Ea(d);d=new Date;console.log("marching cube "+(d-g)+"  "+(d-h)+"ms");c=l.xa(c);c=f(t,c,w);WebMol.aa(F.m,c);m.render();setTimeout(ka,1,b+1)}},1,0);else{s=[];0>a&&(a=0);c=0;for(n=4;c<n;c++)q=new Worker(WebMol.R),s.push(q),q.postMessage({type:-1,atoms:G,volume:D});var H=0;n=function(a){a=f(t,a.data,w);WebMol.aa(F.m,
a);m.render();console.log("async mesh generation "+(+new Date-u)+"ms");H++;H==C.length&&(F.done=!0)};q=function(a){console.log(a.message+" ("+a.filename+":"+a.Ua+")")};for(c=0;c<C.length;c++)x=s[c%s.length],x.onmessage=n,x.onerror=q,x.postMessage({type:a,expandedExtent:C[c].L,extendedAtoms:C[c].T,atomsToShow:C[c].ja})}console.log("full mesh generation "+(+new Date-u)+"ms");return g};this.setSurfaceMaterialStyle=function(a,b){l[a]&&(l[a].k=d(b),l[a].k.side=WebMol.FrontSide,l[a].s=!1)};this.removeSurface=
function(b){l[b]&&l[b].n&&(void 0!==l[b].m&&l[b].m.dispose(),void 0!==l[b].k&&l[b].k.dispose(),J.remove(l[b].n));delete l[b];a()};this.Ja=function(){for(var b=0;b<l.length;b++)l[b]&&l[b].n&&(void 0!==l[b].m&&l[b].m.dispose(),void 0!==l[b].k&&l[b].k.dispose(),J.remove(l[b].n)),delete l[b];a()};this.clear=function(){this.Ja();this.removeAllModels();this.Ha();this.Ia();a()};this.mapAtomProperties=function(a){for(var b=e({}),c=0,d=b.length;c<d;c++)for(var f=b[c],g=0,h=a.length;g<h;g++){var l=a[g];if(l.props)for(var m in l.props){var p;
if(p=l.props.hasOwnProperty(m))a:{p=f;var s=l;"undefined"===typeof s&&(s={});var q=[],t=void 0;if("undefined"===typeof s.u)for(t=0;t<n.length;t++)n[t]&&q.push(n[t]);else q=s.u,$.isArray(q)||(q=[q]);for(t=0;t<q.length;t++)if(q[t].atomIsSelected(p,s)){p=!0;break a}p=!1}p&&(f.properties||(f.properties={}),f.properties[m]=l.props[m])}}};try{"function"===typeof B&&B(this)}catch(Ea){console.log("error with glviewer callback: "+Ea)}}}();WebMol.glmolViewer=WebMol.GLViewer;WebMol=WebMol||{};
WebMol.Ga=[{resn:"ALA",atom:"N",props:{partialCharge:-.15}},{resn:"ALA",atom:"CA",props:{partialCharge:.1}},{resn:"ALA",atom:"CB",props:{partialCharge:0}},{resn:"ALA",atom:"C",props:{partialCharge:.6}},{resn:"ALA",atom:"O",props:{partialCharge:-.55}},{resn:"ARG",atom:"N",props:{partialCharge:-.15}},{resn:"ARG",atom:"CA",props:{partialCharge:.1}},{resn:"ARG",atom:"CB",props:{partialCharge:0}},{resn:"ARG",atom:"CG",props:{partialCharge:0}},{resn:"ARG",atom:"CD",props:{partialCharge:.1}},{resn:"ARG",
atom:"NE",props:{partialCharge:-.1}},{resn:"ARG",atom:"CZ",props:{partialCharge:.5}},{resn:"ARG",atom:"NH1",props:{partialCharge:.25}},{resn:"ARG",atom:"NH2",props:{partialCharge:.25}},{resn:"ARG",atom:"C",props:{partialCharge:.6}},{resn:"ARG",atom:"O",props:{partialCharge:-.55}},{resn:"ASN",atom:"N",props:{partialCharge:-.15}},{resn:"ASN",atom:"CA",props:{partialCharge:.1}},{resn:"ASN",atom:"CB",props:{partialCharge:0}},{resn:"ASN",atom:"CG",props:{partialCharge:.55}},{resn:"ASN",atom:"OD1",props:{partialCharge:-.55}},
{resn:"ASN",atom:"ND2",props:{partialCharge:0}},{resn:"ASN",atom:"C",props:{partialCharge:.6}},{resn:"ASN",atom:"O",props:{partialCharge:-.55}},{resn:"ASP",atom:"N",props:{partialCharge:-.15}},{resn:"ASP",atom:"CA",props:{partialCharge:.1}},{resn:"ASP",atom:"CB",props:{partialCharge:0}},{resn:"ASP",atom:"CG",props:{partialCharge:.14}},{resn:"ASP",atom:"OD1",props:{partialCharge:-.57}},{resn:"ASP",atom:"OD2",props:{partialCharge:-.57}},{resn:"ASP",atom:"C",props:{partialCharge:.6}},{resn:"ASP",atom:"O",
props:{partialCharge:-.55}},{resn:"CYS",atom:"N",props:{partialCharge:-.15}},{resn:"CYS",atom:"CA",props:{partialCharge:.1}},{resn:"CYS",atom:"CB",props:{partialCharge:.19}},{resn:"CYS",atom:"SG",props:{partialCharge:-.19}},{resn:"CYS",atom:"C",props:{partialCharge:.6}},{resn:"CYS",atom:"O",props:{partialCharge:-.55}},{resn:"GLN",atom:"N",props:{partialCharge:-.15}},{resn:"GLN",atom:"CA",props:{partialCharge:.1}},{resn:"GLN",atom:"CB",props:{partialCharge:0}},{resn:"GLN",atom:"CG",props:{partialCharge:0}},
{resn:"GLN",atom:"CD",props:{partialCharge:.55}},{resn:"GLN",atom:"OE1",props:{partialCharge:-.55}},{resn:"GLN",atom:"NE2",props:{partialCharge:0}},{resn:"GLN",atom:"C",props:{partialCharge:.6}},{resn:"GLN",atom:"O",props:{partialCharge:-.55}},{resn:"GLU",atom:"N",props:{partialCharge:-.15}},{resn:"GLU",atom:"CA",props:{partialCharge:.1}},{resn:"GLU",atom:"CB",props:{partialCharge:0}},{resn:"GLU",atom:"CG",props:{partialCharge:0}},{resn:"GLU",atom:"CD",props:{partialCharge:.14}},{resn:"GLU",atom:"OE1",
props:{partialCharge:-.57}},{resn:"GLU",atom:"OE2",props:{partialCharge:-.57}},{resn:"GLU",atom:"C",props:{partialCharge:.6}},{resn:"GLU",atom:"O",props:{partialCharge:-.55}},{resn:"GLY",atom:"N",props:{partialCharge:-.15}},{resn:"GLY",atom:"CA",props:{partialCharge:.1}},{resn:"GLY",atom:"C",props:{partialCharge:.6}},{resn:"GLY",atom:"O",props:{partialCharge:-.55}},{resn:"HIS",atom:"N",props:{partialCharge:-.15}},{resn:"HIS",atom:"CA",props:{partialCharge:.1}},{resn:"HIS",atom:"CB",props:{partialCharge:0}},
{resn:"HIS",atom:"CG",props:{partialCharge:.1}},{resn:"HIS",atom:"ND1",props:{partialCharge:-.1}},{resn:"HIS",atom:"CD2",props:{partialCharge:.1}},{resn:"HIS",atom:"NE2",props:{partialCharge:-.4}},{resn:"HIS",atom:"CE1",props:{partialCharge:.3}},{resn:"HIS",atom:"C",props:{partialCharge:.6}},{resn:"HIS",atom:"O",props:{partialCharge:-.55}},{resn:"ILE",atom:"N",props:{partialCharge:-.15}},{resn:"ILE",atom:"CA",props:{partialCharge:.1}},{resn:"ILE",atom:"CB",props:{partialCharge:0}},{resn:"ILE",atom:"CG2",
props:{partialCharge:0}},{resn:"ILE",atom:"CG1",props:{partialCharge:0}},{resn:"ILE",atom:"CD",props:{partialCharge:0}},{resn:"ILE",atom:"C",props:{partialCharge:.6}},{resn:"ILE",atom:"O",props:{partialCharge:-.55}},{resn:"LEU",atom:"N",props:{partialCharge:-.15}},{resn:"LEU",atom:"CA",props:{partialCharge:.1}},{resn:"LEU",atom:"CB",props:{partialCharge:0}},{resn:"LEU",atom:"CG",props:{partialCharge:0}},{resn:"LEU",atom:"CD1",props:{partialCharge:0}},{resn:"LEU",atom:"CD2",props:{partialCharge:0}},
{resn:"LEU",atom:"C",props:{partialCharge:.6}},{resn:"LEU",atom:"O",props:{partialCharge:-.55}},{resn:"LYS",atom:"N",props:{partialCharge:-.15}},{resn:"LYS",atom:"CA",props:{partialCharge:.1}},{resn:"LYS",atom:"CB",props:{partialCharge:0}},{resn:"LYS",atom:"CG",props:{partialCharge:0}},{resn:"LYS",atom:"CD",props:{partialCharge:0}},{resn:"LYS",atom:"CE",props:{partialCharge:.25}},{resn:"LYS",atom:"NZ",props:{partialCharge:.75}},{resn:"LYS",atom:"C",props:{partialCharge:.6}},{resn:"LYS",atom:"O",props:{partialCharge:-.55}},
{resn:"MET",atom:"N",props:{partialCharge:-.15}},{resn:"MET",atom:"CA",props:{partialCharge:.1}},{resn:"MET",atom:"CB",props:{partialCharge:0}},{resn:"MET",atom:"CG",props:{partialCharge:.06}},{resn:"MET",atom:"SD",props:{partialCharge:-.12}},{resn:"MET",atom:"CE",props:{partialCharge:.06}},{resn:"MET",atom:"C",props:{partialCharge:.6}},{resn:"MET",atom:"O",props:{partialCharge:-.55}},{resn:"PHE",atom:"N",props:{partialCharge:-.15}},{resn:"PHE",atom:"CA",props:{partialCharge:.1}},{resn:"PHE",atom:"CB",
props:{partialCharge:0}},{resn:"PHE",atom:"CG",props:{partialCharge:0}},{resn:"PHE",atom:"CD1",props:{partialCharge:0}},{resn:"PHE",atom:"CD2",props:{partialCharge:0}},{resn:"PHE",atom:"CE1",props:{partialCharge:0}},{resn:"PHE",atom:"CE2",props:{partialCharge:0}},{resn:"PHE",atom:"CZ",props:{partialCharge:0}},{resn:"PHE",atom:"C",props:{partialCharge:.6}},{resn:"PHE",atom:"O",props:{partialCharge:-.55}},{resn:"PRO",atom:"N",props:{partialCharge:-.25}},{resn:"PRO",atom:"CD",props:{partialCharge:.1}},
{resn:"PRO",atom:"CA",props:{partialCharge:.1}},{resn:"PRO",atom:"CB",props:{partialCharge:0}},{resn:"PRO",atom:"CG",props:{partialCharge:0}},{resn:"PRO",atom:"C",props:{partialCharge:.6}},{resn:"PRO",atom:"O",props:{partialCharge:-.55}},{resn:"SER",atom:"N",props:{partialCharge:-.15}},{resn:"SER",atom:"CA",props:{partialCharge:.1}},{resn:"SER",atom:"CB",props:{partialCharge:.25}},{resn:"SER",atom:"OG",props:{partialCharge:-.25}},{resn:"SER",atom:"C",props:{partialCharge:.6}},{resn:"SER",atom:"O",
props:{partialCharge:-.55}},{resn:"THR",atom:"N",props:{partialCharge:-.15}},{resn:"THR",atom:"CA",props:{partialCharge:.1}},{resn:"THR",atom:"CB",props:{partialCharge:.25}},{resn:"THR",atom:"OG1",props:{partialCharge:-.25}},{resn:"THR",atom:"CG2",props:{partialCharge:0}},{resn:"THR",atom:"C",props:{partialCharge:.6}},{resn:"THR",atom:"O",props:{partialCharge:-.55}},{resn:"TRP",atom:"N",props:{partialCharge:-.15}},{resn:"TRP",atom:"CA",props:{partialCharge:.1}},{resn:"TRP",atom:"CB",props:{partialCharge:0}},
{resn:"TRP",atom:"CG",props:{partialCharge:-.03}},{resn:"TRP",atom:"CD2",props:{partialCharge:.1}},{resn:"TRP",atom:"CE2",props:{partialCharge:-.04}},{resn:"TRP",atom:"CE3",props:{partialCharge:-.03}},{resn:"TRP",atom:"CD1",props:{partialCharge:.06}},{resn:"TRP",atom:"NE1",props:{partialCharge:-.06}},{resn:"TRP",atom:"CZ2",props:{partialCharge:0}},{resn:"TRP",atom:"CZ3",props:{partialCharge:0}},{resn:"TRP",atom:"CH2",props:{partialCharge:0}},{resn:"TRP",atom:"C",props:{partialCharge:.6}},{resn:"TRP",
atom:"O",props:{partialCharge:-.55}},{resn:"TYR",atom:"N",props:{partialCharge:-.15}},{resn:"TYR",atom:"CA",props:{partialCharge:.1}},{resn:"TYR",atom:"CB",props:{partialCharge:0}},{resn:"TYR",atom:"CG",props:{partialCharge:0}},{resn:"TYR",atom:"CD1",props:{partialCharge:0}},{resn:"TYR",atom:"CE1",props:{partialCharge:0}},{resn:"TYR",atom:"CD2",props:{partialCharge:0}},{resn:"TYR",atom:"CE2",props:{partialCharge:0}},{resn:"TYR",atom:"CZ",props:{partialCharge:.25}},{resn:"TYR",atom:"OH",props:{partialCharge:-.25}},
{resn:"TYR",atom:"C",props:{partialCharge:.6}},{resn:"TYR",atom:"O",props:{partialCharge:-.55}},{resn:"VAL",atom:"N",props:{partialCharge:-.15}},{resn:"VAL",atom:"CA",props:{partialCharge:.1}},{resn:"VAL",atom:"CB",props:{partialCharge:0}},{resn:"VAL",atom:"CG1",props:{partialCharge:0}},{resn:"VAL",atom:"CG2",props:{partialCharge:0}},{resn:"VAL",atom:"C",props:{partialCharge:.6}},{resn:"VAL",atom:"O",props:{partialCharge:-.55}}];WebMol.partialCharges=WebMol.Ga;
