(function(a,c){function g(){J.addEventListener?(J.removeEventListener("DOMContentLoaded",p,!1),a.removeEventListener("load",p,!1)):(J.detachEvent("onreadystatechange",p),a.detachEvent("onload",p))}function p(d){if(J.addEventListener||"load"===d.type||"complete"===J.readyState)g(),b.ready()}function q(d,b){return b.toUpperCase()}function b(d,N){return new b.prototype.ga(d,N,T)}function r(d){var N=d.length,a=b.type(d);return b.isWindow(d)?!1:1===d.nodeType&&N?!0:"array"===a||"function"!==a&&(0===N||
"number"===typeof N&&0<N&&N-1 in d)}function t(d){var N=qb[d]={};b.each(d.match(Da)||[],function(d,b){N[b]=!0});return N}function l(d,N,a,ua){if(b.ya(d)){var e=b.expando,h="string"===typeof N,f=d.nodeType,g=f?b.k:d,m=f?d[e]:d[e]&&e;if(m&&g[m]&&(ua||g[m].data)||!h||a!==c){m||(f?d[e]=m=L.pop()||b.n++:m=e);g[m]||(g[m]={},f||(g[m].toJSON=b.noop));if("object"===typeof N||"function"===typeof N)ua?g[m]=b.extend(g[m],N):g[m].data=b.extend(g[m].data,N);d=g[m];ua||(d.data||(d.data={}),d=d.data);a!==c&&(d[b.Q(N)]=
a);h?(a=d[N],null==a&&(a=d[b.Q(N)])):a=d;return a}}}function f(d,N,a){if(b.ya(d)){var c,e,h,f=d.nodeType,g=f?b.k:d,l=f?d[b.expando]:b.expando;if(g[l]){if(N&&(h=a?g[l]:g[l].data)){b.isArray(N)?N=N.concat(b.map(N,b.Q)):N in h?N=[N]:(N=b.Q(N),N=N in h?[N]:N.split(" "));c=0;for(e=N.length;c<e;c++)delete h[N[c]];if(!(a?m:b.isEmptyObject)(h))return}if(!a&&(delete g[l].data,!m(g[l])))return;f?b.Sa([d],!0):b.support.sb||g!=g.window?delete g[l]:g[l]=null}}}function s(d,N,a){if(a===c&&1===d.nodeType)if(a="data-"+
N.replace(Pb,"-$1").toLowerCase(),a=d.getAttribute(a),"string"===typeof a){try{a="true"===a?!0:"false"===a?!1:"null"===a?null:+a+""===a?+a:Qb.test(a)?b.parseJSON(a):a}catch(ua){}b.data(d,N,a)}else a=c;return a}function m(d){for(var a in d)if(("data"!==a||!b.isEmptyObject(d[a]))&&"toJSON"!==a)return!1;return!0}function e(){return!0}function n(){return!1}function A(d,b){do d=d[b];while(d&&1!==d.nodeType);return d}function D(d,a){a=a||0;if(b.isFunction(a))return b.grep(d,function(d,b){return!0===!!a.call(d,
b,d)});if(a.nodeType)return b.grep(d,function(d){return d===a===!0});if("string"===typeof a){var G=b.grep(d,function(d){return 1===d.nodeType});if(Rb.test(a))return b.filter(a,G,!1);a=b.filter(a,G)}return b.grep(d,function(d){return!0===0<=b.inArray(d,a)})}function u(d){var b=rb.split("|");d=d.createDocumentFragment();if(d.createElement)for(;b.length;)d.createElement(b.pop());return d}function w(d){return d.getElementsByTagName("tbody")[0]||d.appendChild(d.ownerDocument.createElement("tbody"))}function C(d){var b=
d.getAttributeNode("type");d.type=(b&&b.specified)+"/"+d.type;return d}function B(d){var b=Sb.exec(d.type);b?d.type=b[1]:d.removeAttribute("type");return d}function x(d,a){for(var G,c=0;null!=(G=d[c]);c++)b.e(G,"globalEval",!a||b.e(a[c],"globalEval"))}function F(d,a){if(1===a.nodeType&&b.hasData(d)){var G,c,e;c=b.e(d);var h=b.e(a,c),f=c.la;if(f)for(G in delete h.handle,h.la={},f)for(c=0,e=f[G].length;c<e;c++)b.event.add(a,G,f[G][c]);h.data&&(h.data=b.extend({},h.data))}}function y(d,a){var G,ua,e=
0,h=typeof d.getElementsByTagName!==z?d.getElementsByTagName(a||"*"):typeof d.querySelectorAll!==z?d.querySelectorAll(a||"*"):c;if(!h)for(h=[],G=d.childNodes||d;null!=(ua=G[e]);e++)!a||b.nodeName(ua,a)?h.push(ua):b.merge(h,y(ua,a));return a===c||a&&b.nodeName(d,a)?b.merge([d],h):h}function h(d){sb.test(d.type)&&(d.defaultChecked=d.checked)}function E(d,b){if(b in d)return b;for(var a=b.charAt(0).toUpperCase()+b.slice(1),c=b,e=tb.length;e--;)if(b=tb[e]+a,b in d)return b;return c}function I(d){return"none"===
b.css(d,"display")||!b.contains(d.ownerDocument,d)}function R(d,a){for(var G,c,e,h=[],f=0,g=d.length;f<g;f++)c=d[f],c.style&&(h[f]=b.e(c,"olddisplay"),G=c.style.display,a?(h[f]||"none"!==G||(c.style.display=""),""===c.style.display&&I(c)&&(h[f]=b.e(c,"olddisplay",O(c.nodeName)))):h[f]||(e=I(c),(G&&"none"!==G||!e)&&b.e(c,"olddisplay",e?G:b.css(c,"display"))));for(f=0;f<g;f++)c=d[f],!c.style||a&&"none"!==c.style.display&&""!==c.style.display||(c.style.display=a?h[f]||"":"none");return d}function Q(d,
b,a){return(d=Tb.exec(b))?Math.max(0,d[1]-(a||0))+(d[2]||"px"):b}function M(d,a,G,c,e){a=G===(c?"border":"content")?4:"width"===a?1:0;for(var h=0;4>a;a+=2)"margin"===G&&(h+=b.css(d,G+Ba[a],!0,e)),c?("content"===G&&(h-=b.css(d,"padding"+Ba[a],!0,e)),"margin"!==G&&(h-=b.css(d,"border"+Ba[a]+"Width",!0,e))):(h+=b.css(d,"padding"+Ba[a],!0,e),"padding"!==G&&(h+=b.css(d,"border"+Ba[a]+"Width",!0,e)));return h}function U(d,a,G){var c=!0,e="width"===a?d.offsetWidth:d.offsetHeight,h=Ca(d),f=b.support.boxSizing&&
"border-box"===b.css(d,"boxSizing",!1,h);if(0>=e||null==e){e=Ea(d,a,h);if(0>e||null==e)e=d.style[a];if(Ya.test(e))return e;c=f&&(b.support.oc||e===d.style[a]);e=parseFloat(e)||0}return e+M(d,a,G||(f?"border":"content"),c,h)+"px"}function O(d){var a=J,G=ub[d];G||(G=Y(d,a),"none"!==G&&G||(Ra=(Ra||b("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(a.documentElement),a=(Ra[0].contentWindow||Ra[0].contentDocument).document,a.write("<!doctype html><html><body>"),
a.close(),G=Y(d,a),Ra.detach()),ub[d]=G);return G}function Y(d,a){var G=b(a.createElement(d)).appendTo(a.body),c=b.css(G[0],"display");G.remove();return c}function aa(d,a,G,c){var e;if(b.isArray(a))b.each(a,function(b,a){G||Ub.test(d)?c(d,a):aa(d+"["+("object"===typeof a?b:"")+"]",a,G,c)});else if(G||"object"!==b.type(a))c(d,a);else for(e in a)aa(d+"["+e+"]",a[e],G,c)}function ca(d){return function(a,G){"string"!==typeof a&&(G=a,a="*");var c,e=0,h=a.toLowerCase().match(Da)||[];if(b.isFunction(G))for(;c=
h[e++];)"+"===c[0]?(c=c.slice(1)||"*",(d[c]=d[c]||[]).unshift(G)):(d[c]=d[c]||[]).push(G)}}function V(d,a,G,c){function e(g){var m;h[g]=!0;b.each(d[g]||[],function(d,b){var g=b(a,G,c);if("string"===typeof g&&!f&&!h[g])return a.V.unshift(g),e(g),!1;if(f)return!(m=g)});return m}var h={},f=d===bb;return e(a.V[0])||!h["*"]&&e("*")}function v(d,a){var G,e,h=b.ajaxSettings.flatOptions||{};for(e in a)a[e]!==c&&((h[e]?d:G||(G={}))[e]=a[e]);G&&b.extend(!0,d,G);return d}function ea(){try{return new a.XMLHttpRequest}catch(d){}}
function qa(){setTimeout(function(){La=c});return La=b.now()}function H(d,a){b.each(a,function(b,a){for(var N=(Sa[b]||[]).concat(Sa["*"]),c=0,e=N.length;c<e&&!N[c].call(d,b,a);c++);})}function Z(d,a,G){function c(){if(e)return!1;for(var b=La||qa(),b=Math.max(0,m.startTime+m.duration-b),a=1-(b/m.duration||0),N=0,G=m.Ma.length;N<G;N++)m.Ma[N].Tc(a);g.notifyWith(d,[m,a,b]);if(1>a&&G)return b;g.resolveWith(d,[m]);return!1}var e,h=0,f=Za.length,g=b.Deferred().always(function(){delete c.elem}),m=g.promise({elem:d,
props:b.extend({},a),D:b.extend(!0,{Yc:{}},G),fg:a,eg:G,startTime:La||qa(),duration:G.duration,Ma:[],rc:function(a,N){var G=b.td(d,m.D,a,N,m.D.Yc[a]||m.D.Ha);m.Ma.push(G);return G},stop:function(b){var a=0,N=b?m.Ma.length:0;if(e)return this;for(e=!0;a<N;a++)m.Ma[a].Tc(1);b?g.resolveWith(d,[m,b]):g.rejectWith(d,[m,b]);return this}});G=m.props;for(K(G,m.D.Yc);h<f;h++)if(a=Za[h].call(m,d,G,m.D))return a;H(m,G);b.isFunction(m.D.start)&&m.D.start.call(d,m);b.fx.Xe(function(){c=c||{};c.elem=d;c.kc=m;c.queue=
m.D.queue;return c}.call(this));return m.progress(m.D.progress).done(m.D.done,m.D.complete).fail(m.D.fail).always(m.D.always)}function K(d,a){var G,c,e,h,f;for(e in d)if(c=b.Q(e),h=a[c],G=d[e],b.isArray(G)&&(h=G[1],G=d[e]=G[0]),e!==c&&(d[c]=G,delete d[e]),(f=b.cssHooks[c])&&"expand"in f)for(e in G=f.expand(G),delete d[c],G)e in d||(d[e]=G[e],a[e]=h);else a[c]=h}function P(d,b,a,c,e){return new P.prototype.ga(d,b,a,c,e)}function X(d,b){var a,c={height:d},e=0;for(b=b?1:0;4>e;e+=2-b)a=Ba[e],c["margin"+
a]=c["padding"+a]=d;b&&(c.opacity=c.width=d);return c}function ga(d){return b.isWindow(d)?d:9===d.nodeType?d.defaultView||d.parentWindow:!1}var ba,T,z=typeof c,J=a.document,W=a.location,ia=a.jQuery,ka=a.$,S={},L=[],ha=L.concat,da=L.push,fa=L.slice,wa=L.indexOf,ya=S.toString,ja=S.hasOwnProperty,la="1.9.1".trim,Ma=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Da=/\S+/g,cb=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,Vb=/^(?:(<[\w\W]+>)[^>]*|#([\w-]*))$/,vb=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,Wb=/^[\],:{}\s]*$/,Xb=
/(?:^|:|,)(?:\s*\[)+/g,Yb=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,Zb=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,$b=/^-ms-/,ac=/-([\da-z])/gi;b.fn=b.prototype={jquery:"1.9.1",constructor:b,ga:function(d,a,G){var e;if(!d)return this;if("string"===typeof d){e="<"===d.charAt(0)&&">"===d.charAt(d.length-1)&&3<=d.length?[null,d,null]:Vb.exec(d);if(!e||!e[1]&&a)return!a||a.jquery?(a||G).find(d):this.constructor(a).find(d);if(e[1]){if(a=a instanceof b?a[0]:a,b.merge(this,b.parseHTML(e[1],
a&&a.nodeType?a.ownerDocument||a:J,!0)),vb.test(e[1])&&b.isPlainObject(a))for(e in a)if(b.isFunction(this[e]))this[e](a[e]);else this.attr(e,a[e])}else{if((a=J.getElementById(e[2]))&&a.parentNode){if(a.id!==e[2])return G.find(d);this.length=1;this[0]=a}this.context=J;this.v=d}return this}if(d.nodeType)return this.context=this[0]=d,this.length=1,this;if(b.isFunction(d))return G.ready(d);d.v!==c&&(this.v=d.v,this.context=d.context);return b.makeArray(d,this)},v:"",length:0,toArray:function(){return fa.call(this)},
get:function(d){return null==d?this.toArray():0>d?this[this.length+d]:this[d]},pushStack:function(d){d=b.merge(this.constructor(),d);d.Be=this;d.context=this.context;return d},each:function(d,a){return b.each(this,d,a)},ready:function(d){b.ready.promise().done(d);return this},slice:function(){return this.pushStack(fa.apply(this,arguments))},first:function(){return this.eq(0)},eq:function(d){var b=this.length;d=+d+(0>d?b:0);return this.pushStack(0<=d&&d<b?[this[d]]:[])},map:function(d){return this.pushStack(b.map(this,
function(b,a){return d.call(b,a,b)}))},end:function(){return this.Be||this.constructor(null)},push:da,sort:[].sort,splice:[].splice};b.prototype.ga.prototype=b.prototype;b.extend=b.prototype.extend=function(){var d,a,G,e,h,f=arguments[0]||{},g=1,m=arguments.length,l=!1;"boolean"===typeof f&&(l=f,f=arguments[1]||{},g=2);"object"===typeof f||b.isFunction(f)||(f={});m===g&&(f=this,--g);for(;g<m;g++)if(null!=(h=arguments[g]))for(e in h)d=f[e],G=h[e],f!==G&&(l&&G&&(b.isPlainObject(G)||(a=b.isArray(G)))?
(a?(a=!1,d=d&&b.isArray(d)?d:[]):d=d&&b.isPlainObject(d)?d:{},f[e]=b.extend(l,d,G)):G!==c&&(f[e]=G));return f};b.noConflict=function(d){a.$===b&&(a.$=ka);d&&a.jQuery===b&&(a.jQuery=ia);return b};b.Eb=!1;b.Pb=1;b.holdReady=function(d){d?b.Pb++:b.ready(!0)};b.ready=function(d){if(!0===d?!--b.Pb:!b.Eb){if(!J.body)return setTimeout(b.ready);b.Eb=!0;!0!==d&&0<--b.Pb||(ba.resolveWith(J,[b]),b.prototype.trigger&&b(J).trigger("ready").off("ready"))}};b.isFunction=function(d){return"function"===b.type(d)};
b.isArray=Array.isArray||function(d){return"array"===b.type(d)};b.isWindow=function(d){return null!=d&&d==d.window};b.isNumeric=function(d){return!isNaN(parseFloat(d))&&isFinite(d)};b.type=function(d){return null==d?String(d):"object"===typeof d||"function"===typeof d?S[ya.call(d)]||"object":typeof d};b.isPlainObject=function(d){if(!d||"object"!==b.type(d)||d.nodeType||b.isWindow(d))return!1;try{if(d.constructor&&!ja.call(d,"constructor")&&!ja.call(d.constructor.prototype,"isPrototypeOf"))return!1}catch(a){return!1}for(var G in d);
return G===c||ja.call(d,G)};b.isEmptyObject=function(d){for(var b in d)return!1;return!0};b.error=function(d){throw Error(d);};b.parseHTML=function(d,a,c){if(!d||"string"!==typeof d)return null;"boolean"===typeof a&&(c=a,a=!1);a=a||J;var e=vb.exec(d);c=!c&&[];if(e)return[a.createElement(e[1])];e=b.qc([d],a,c);c&&b(c).remove();return b.merge([],e.childNodes)};b.parseJSON=function(d){if(a.JSON&&a.JSON.parse)return a.JSON.parse(d);if(null===d)return d;if("string"===typeof d&&(d=b.trim(d))&&Wb.test(d.replace(Yb,
"@").replace(Zb,"]").replace(Xb,"")))return(new Function("return "+d))();b.error("Invalid JSON: "+d)};b.parseXML=function(d){var N,G;if(!d||"string"!==typeof d)return null;try{a.DOMParser?(G=new DOMParser,N=G.parseFromString(d,"text/xml")):(N=new ActiveXObject("Microsoft.XMLDOM"),N.async="false",N.loadXML(d))}catch(e){N=c}N&&N.documentElement&&!N.getElementsByTagName("parsererror").length||b.error("Invalid XML: "+d);return N};b.noop=function(){};b.globalEval=function(d){d&&b.trim(d)&&(a.execScript||
function(d){a.eval.call(a,d)})(d)};b.Q=function(d){return d.replace($b,"ms-").replace(ac,q)};b.nodeName=function(d,b){return d.nodeName&&d.nodeName.toLowerCase()===b.toLowerCase()};b.each=function(d,b,a){var c,e=0,h=d.length;c=r(d);if(a)if(c)for(;e<h&&(c=b.apply(d[e],a),!1!==c);e++);else for(e in d){if(c=b.apply(d[e],a),!1===c)break}else if(c)for(;e<h&&(c=b.call(d[e],e,d[e]),!1!==c);e++);else for(e in d)if(c=b.call(d[e],e,d[e]),!1===c)break;return d};b.trim=la&&!la.call("\ufeff\u00a0")?function(d){return null==
d?"":la.call(d)}:function(d){return null==d?"":(d+"").replace(cb,"")};b.makeArray=function(d,a){var c=a||[];null!=d&&(r(Object(d))?b.merge(c,"string"===typeof d?[d]:d):da.call(c,d));return c};b.inArray=function(d,b,a){var c;if(b){if(wa)return wa.call(b,d,a);c=b.length;for(a=a?0>a?Math.max(0,c+a):a:0;a<c;a++)if(a in b&&b[a]===d)return a}return-1};b.merge=function(d,b){var a=b.length,e=d.length,h=0;if("number"===typeof a)for(;h<a;h++)d[e++]=b[h];else for(;b[h]!==c;)d[e++]=b[h++];d.length=e;return d};
b.grep=function(d,b,a){var c,e=[],h=0,f=d.length;for(a=!!a;h<f;h++)c=!!b(d[h],h),a!==c&&e.push(d[h]);return e};b.map=function(d,b,a){var c,e=0,h=d.length,f=[];if(r(d))for(;e<h;e++)c=b(d[e],e,a),null!=c&&(f[f.length]=c);else for(e in d)c=b(d[e],e,a),null!=c&&(f[f.length]=c);return ha.apply([],f)};b.n=1;b.proxy=function(d,a){var e,h;"string"===typeof a&&(h=d[a],a=d,d=h);if(!b.isFunction(d))return c;e=fa.call(arguments,2);h=function(){return d.apply(a||this,e.concat(fa.call(arguments)))};h.n=d.n=d.n||
b.n++;return h};b.Z=function(d,a,e,h,f,g,m){var l=0,n=d.length,r=null==e;if("object"===b.type(e))for(l in f=!0,e)b.Z(d,a,l,e[l],!0,g,m);else if(h!==c&&(f=!0,b.isFunction(h)||(m=!0),r&&(m?(a.call(d,h),a=null):(r=a,a=function(d,a,c){return r.call(b(d),c)})),a))for(;l<n;l++)a(d[l],e,m?h:h.call(d[l],l,a(d[l],e)));return f?d:r?a.call(d):n?a(d[0],e):g};b.now=function(){return(new Date).getTime()};b.ready.promise=function(d){if(!ba)if(ba=b.Deferred(),"complete"===J.readyState)setTimeout(b.ready);else if(J.addEventListener)J.addEventListener("DOMContentLoaded",
p,!1),a.addEventListener("load",p,!1);else{J.attachEvent("onreadystatechange",p);a.attachEvent("onload",p);var c=!1;try{c=null==a.frameElement&&J.documentElement}catch(e){}c&&c.doScroll&&function Ob(){if(!b.Eb){try{c.doScroll("left")}catch(d){return setTimeout(Ob,50)}g();b.ready()}}()}return ba.promise(d)};b.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(d,b){S["[object "+b+"]"]=b.toLowerCase()});T=b(J);var qb={};b.Callbacks=function(d){function a(b){h=d.memory&&
b;f=!0;m=l||0;l=0;g=n.length;for(e=!0;n&&m<g;m++)if(!1===n[m].apply(b[0],b[1])&&d.og){h=!1;break}e=!1;n&&(r?r.length&&a(r.shift()):h?n=[]:q.disable())}d="string"===typeof d?qb[d]||t(d):b.extend({},d);var e,h,f,g,m,l,n=[],r=!d.cg&&[],q={add:function(){if(n){var c=n.length;(function bc(a){b.each(a,function(a,c){var e=b.type(c);"function"===e?d.unique&&q.has(c)||n.push(c):c&&c.length&&"string"!==e&&bc(c)})})(arguments);e?g=n.length:h&&(l=c,a(h))}return this},remove:function(){n&&b.each(arguments,function(d,
a){for(var c;-1<(c=b.inArray(a,n,c));)n.splice(c,1),e&&(c<=g&&g--,c<=m&&m--)});return this},has:function(d){return d?-1<b.inArray(d,n):!(!n||!n.length)},empty:function(){n=[];return this},disable:function(){n=r=h=c;return this},disabled:function(){return!n},lock:function(){r=c;h||q.disable();return this},locked:function(){return!r},fireWith:function(d,b){b=b||[];b=[d,b.slice?b.slice():b];!n||f&&!r||(e?r.push(b):a(b));return this},fire:function(){q.fireWith(this,arguments);return this},fired:function(){return!!f}};
return q};b.Deferred=function(d){var a=[["resolve","done",b.Callbacks("once memory"),"resolved"],["reject","fail",b.Callbacks("once memory"),"rejected"],["notify","progress",b.Callbacks("memory")]],c="pending",e={state:function(){return c},always:function(){h.done(arguments).fail(arguments);return this},then:function(){var d=arguments;return b.Deferred(function(c){b.each(a,function(a,N){var G=N[0],f=b.isFunction(d[a])&&d[a];h[N[1]](function(){var d=f&&f.apply(this,arguments);if(d&&b.isFunction(d.promise))d.promise().done(c.resolve).fail(c.reject).progress(c.notify);
else c[G+"With"](this===e?c.promise():this,f?[d]:arguments)})});d=null}).promise()},promise:function(d){return null!=d?b.extend(d,e):e}},h={};e.pipe=e.then;b.each(a,function(d,b){var f=b[2],g=b[3];e[b[1]]=f.add;g&&f.add(function(){c=g},a[d^1][2].disable,a[2][2].lock);h[b[0]]=function(){h[b[0]+"With"](this===h?e:this,arguments);return this};h[b[0]+"With"]=f.fireWith});e.promise(h);d&&d.call(h,h);return h};b.when=function(d){function a(d,b,c){return function(a){b[d]=this;c[d]=1<arguments.length?fa.call(arguments):
a;c===m?g.notifyWith(b,c):--f||g.resolveWith(b,c)}}var c=0,e=fa.call(arguments),h=e.length,f=1!==h||d&&b.isFunction(d.promise)?h:0,g=1===f?d:b.Deferred(),m,l,n;if(1<h)for(m=Array(h),l=Array(h),n=Array(h);c<h;c++)e[c]&&b.isFunction(e[c].promise)?e[c].promise().done(a(c,n,e)).fail(g.reject).progress(a(c,l,m)):--f;f||g.resolveWith(n,e);return g.promise()};b.support=function(){var d,c,e,h,f,g,m,l=J.createElement("div");l.setAttribute("className","t");l.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>";
c=l.getElementsByTagName("*");e=l.getElementsByTagName("a")[0];if(!c||!e||!c.length)return{};h=J.createElement("select");f=h.appendChild(J.createElement("option"));c=l.getElementsByTagName("input")[0];e.style.cssText="top:1px;float:left;opacity:.5";d={ae:"t"!==l.className,leadingWhitespace:3===l.firstChild.nodeType,tbody:!l.getElementsByTagName("tbody").length,htmlSerialize:!!l.getElementsByTagName("link").length,style:/top/.test(e.getAttribute("style")),hrefNormalized:"/a"===e.getAttribute("href"),
opacity:/^0.5/.test(e.style.opacity),cssFloat:!!e.style.cssFloat,Ld:!!c.value,ve:f.selected,enctype:!!J.createElement("form").enctype,yc:"<:nav></:nav>"!==J.createElement("nav").cloneNode(!0).outerHTML,boxModel:"CSS1Compat"===J.compatMode,sb:!0,noCloneEvent:!0,Db:!1,Wc:!1,Qc:!0,oc:!0,Mc:!1};c.checked=!0;d.se=c.cloneNode(!0).checked;h.disabled=!0;d.ue=!f.disabled;try{delete l.test}catch(n){d.sb=!1}c=J.createElement("input");c.setAttribute("value","");d.input=""===c.getAttribute("value");c.value="t";
c.setAttribute("type","radio");d.De="t"===c.value;c.setAttribute("checked","t");c.setAttribute("name","t");e=J.createDocumentFragment();e.appendChild(c);d.zd=c.checked;d.Kd=e.cloneNode(!0).cloneNode(!0).lastChild.checked;l.attachEvent&&(l.attachEvent("onclick",function(){d.noCloneEvent=!1}),l.cloneNode(!0).click());for(m in{submit:!0,change:!0,focusin:!0})l.setAttribute(e="on"+m,"t"),d[m+"Bubbles"]=e in a||!1===l.attributes[e].expando;l.style.nc="content-box";l.cloneNode(!0).style.nc="";d.Md="content-box"===
l.style.nc;b(function(){var b,c,e=J.getElementsByTagName("body")[0];e&&(b=J.createElement("div"),b.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",e.appendChild(b).appendChild(l),l.innerHTML="<table><tr><td></td><td>t</td></tr></table>",c=l.getElementsByTagName("td"),c[0].style.cssText="padding:0;margin:0;border:0;display:none",g=0===c[0].offsetHeight,c[0].style.display="",c[1].style.display="none",d.Ee=g&&0===c[0].offsetHeight,l.innerHTML="",l.style.cssText=
"box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",d.boxSizing=4===l.offsetWidth,d.Nf=1!==e.offsetTop,a.getComputedStyle&&(d.Mc="1%"!==(a.getComputedStyle(l,null)||{}).top,d.oc="4px"===(a.getComputedStyle(l,null)||{width:"4px"}).width,c=l.appendChild(J.createElement("div")),c.style.cssText=l.style.cssText="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",
c.style.marginRight=c.style.width="0",l.style.width="1px",d.Qc=!parseFloat((a.getComputedStyle(c,null)||{}).marginRight)),typeof l.style.zoom!==z&&(l.innerHTML="",l.style.cssText="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;width:1px;padding:1px;display:inline;zoom:1",d.Db=3===l.offsetWidth,l.style.display="block",l.innerHTML="<div></div>",l.firstChild.style.width="5px",d.Wc=3!==l.offsetWidth,d.Db&&(e.style.zoom=1)),e.removeChild(b),
l=null)});c=h=e=f=e=c=null;return d}();var Qb=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,Pb=/([A-Z])/g;b.k={};b.expando="jQuery"+("1.9.1"+Math.random()).replace(/\D/g,"");b.te={embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0};b.hasData=function(d){d=d.nodeType?b.k[d[b.expando]]:d[b.expando];return!!d&&!m(d)};b.data=function(d,b,a){return l(d,b,a)};b.removeData=function(d,b){return f(d,b)};b.e=function(d,b,a){return l(d,b,a,!0)};b.Oa=function(d,b){f(d,b,!0)};b.ya=function(d){if(d.nodeType&&
1!==d.nodeType&&9!==d.nodeType)return!1;var a=d.nodeName&&b.te[d.nodeName.toLowerCase()];return!a||!0!==a&&d.getAttribute("classid")===a};b.prototype.data=function(d,a){var e,h,f=this[0],g=0,m=null;if(d===c){if(this.length&&(m=b.data(f),1===f.nodeType&&!b.e(f,"parsedAttrs"))){for(e=f.attributes;g<e.length;g++)h=e[g].name,h.indexOf("data-")||(h=b.Q(h.slice(5)),s(f,h,m[h]));b.e(f,"parsedAttrs",!0)}return m}return"object"===typeof d?this.each(function(){b.data(this,d)}):b.Z(this,function(a){if(a===c)return f?
s(f,d,b.data(f,d)):null;this.each(function(){b.data(this,d,a)})},null,a,1<arguments.length,null,!0)};b.prototype.removeData=function(d){return this.each(function(){b.removeData(this,d)})};b.queue=function(d,a,c){var e;if(d)return a=(a||"fx")+"queue",e=b.e(d,a),c&&(!e||b.isArray(c)?e=b.e(d,a,b.makeArray(c)):e.push(c)),e||[]};b.dequeue=function(d,a){function c(){b.dequeue(d,a)}a=a||"fx";var e=b.queue(d,a),h=e.length,f=e.shift(),g=b.nb(d,a);"inprogress"===f&&(f=e.shift(),h--);if(g.ka=f)"fx"===a&&e.unshift("inprogress"),
delete g.stop,f.call(d,c,g);!h&&g&&g.empty.fire()};b.nb=function(d,a){var c=a+"queueHooks";return b.e(d,c)||b.e(d,c,{empty:b.Callbacks("once memory").add(function(){b.Oa(d,a+"queue");b.Oa(d,c)})})};b.prototype.queue=function(d,a){var e=2;"string"!==typeof d&&(a=d,d="fx",e--);return arguments.length<e?b.queue(this[0],d):a===c?this:this.each(function(){var c=b.queue(this,d,a);b.nb(this,d);"fx"===d&&"inprogress"!==c[0]&&b.dequeue(this,d)})};b.prototype.dequeue=function(d){return this.each(function(){b.dequeue(this,
d)})};b.prototype.promise=function(d,a){function e(){--f||g.resolveWith(m,[m])}var h,f=1,g=b.Deferred(),m=this,l=this.length;"string"!==typeof d&&(a=d,d=c);for(d=d||"fx";l--;)(h=b.e(m[l],d+"queueHooks"))&&h.empty&&(f++,h.empty.add(e));e();return g.promise(a)};var Na,wb,cc=/\r/g,dc=/^(?:input|select|textarea|button|object)$/i,ec=/^(?:a|area)$/i,xb=/^(?:checked|selected|autofocus|autoplay|async|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped)$/i,db=/^(?:checked|selected)$/i,
Ha=b.support.ae,eb=b.support.input;b.prototype.attr=function(d,a){return b.Z(this,b.attr,d,a,1<arguments.length)};b.prototype.removeAttr=function(d){return this.each(function(){b.removeAttr(this,d)})};b.prototype.prop=function(d,a){return b.Z(this,b.prop,d,a,1<arguments.length)};b.prototype.val=function(d){var a,e,h,f=this[0];if(arguments.length)return h=b.isFunction(d),this.each(function(a){var N=b(this);1===this.nodeType&&(a=h?d.call(this,a,N.val()):d,null==a?a="":"number"===typeof a?a+="":b.isArray(a)&&
(a=b.map(a,function(d){return null==d?"":d+""})),e=b.T[this.type]||b.T[this.nodeName.toLowerCase()],e&&"set"in e&&e.set(this,a,"value")!==c||(this.value=a))});if(f){if((e=b.T[f.type]||b.T[f.nodeName.toLowerCase()])&&"get"in e&&(a=e.get(f,"value"))!==c)return a;a=f.value;return"string"===typeof a?a.replace(cc,""):null==a?"":a}};b.T={Lc:{get:function(d){var b=d.attributes.value;return!b||b.specified?d.value:d.text}},select:{get:function(d){for(var a,c=d.options,e=d.selectedIndex,h=(d="select-one"===
d.type||0>e)?null:[],f=d?e+1:c.length,g=0>e?f:d?e:0;g<f;g++)if(a=c[g],!(!a.selected&&g!==e||(b.support.ue?a.disabled:null!==a.getAttribute("disabled"))||a.parentNode.disabled&&b.nodeName(a.parentNode,"optgroup"))){a=b(a).val();if(d)return a;h.push(a)}return h},set:function(d,a){var c=b.makeArray(a);b(d).find("option").each(function(){this.selected=0<=b.inArray(b(this).val(),c)});c.length||(d.selectedIndex=-1);return c}}};b.attr=function(d,a,e){var h,f,g;f=d.nodeType;if(d&&3!==f&&8!==f&&2!==f){if(typeof d.getAttribute===
z)return b.prop(d,a,e);if(f=1!==f||!b.isXMLDoc(d))a=a.toLowerCase(),h=b.s[a]||(xb.test(a)?wb:Na);if(e!==c)if(null===e)b.removeAttr(d,a);else{if(h&&f&&"set"in h&&(g=h.set(d,e,a))!==c)return g;d.setAttribute(a,e+"");return e}else{if(h&&f&&"get"in h&&null!==(g=h.get(d,a)))return g;typeof d.getAttribute!==z&&(g=d.getAttribute(a));return null==g?c:g}}};b.removeAttr=function(d,a){var c,e,h=0,f=a&&a.match(Da);if(f&&1===d.nodeType)for(;c=f[h++];)e=b.cb[c]||c,xb.test(c)?!Ha&&db.test(c)?d[b.Q("default-"+c)]=
d[e]=!1:d[e]=!1:b.attr(d,c,""),d.removeAttribute(Ha?c:e)};b.s={type:{set:function(d,a){if(!b.support.De&&"radio"===a&&b.nodeName(d,"input")){var c=d.value;d.setAttribute("type",a);c&&(d.value=c);return a}}}};b.cb={rg:"tabIndex",jg:"readOnly","for":"htmlFor","class":"className",Yf:"maxLength",Hf:"cellSpacing",Gf:"cellPadding",kg:"rowSpan",Lf:"colSpan",xg:"useMap",Rf:"frameBorder",Od:"contentEditable"};b.prop=function(d,a,e){var h,f,g;g=d.nodeType;if(d&&3!==g&&8!==g&&2!==g){if(g=1!==g||!b.isXMLDoc(d))a=
b.cb[a]||a,f=b.u[a];return e!==c?f&&"set"in f&&(h=f.set(d,e,a))!==c?h:d[a]=e:f&&"get"in f&&null!==(h=f.get(d,a))?h:d[a]}};b.u={tabIndex:{get:function(d){var b=d.getAttributeNode("tabindex");return b&&b.specified?parseInt(b.value,10):dc.test(d.nodeName)||ec.test(d.nodeName)&&d.href?0:c}}};wb={get:function(d,a){var e=b.prop(d,a),h="boolean"===typeof e&&d.getAttribute(a);return(e="boolean"===typeof e?eb&&Ha?null!=h:db.test(a)?d[b.Q("default-"+a)]:!!h:d.getAttributeNode(a))&&!1!==e.value?a.toLowerCase():
c},set:function(d,a,c){!1===a?b.removeAttr(d,c):eb&&Ha||!db.test(c)?d.setAttribute(!Ha&&b.cb[c]||c,c):d[b.Q("default-"+c)]=d[c]=!0;return c}};eb&&Ha||(b.s.value={get:function(d,a){var e=d.getAttributeNode(a);return b.nodeName(d,"input")?d.defaultValue:e&&e.specified?e.value:c},set:function(d,a,c){if(b.nodeName(d,"input"))d.defaultValue=a;else return Na&&Na.set(d,a,c)}});Ha||(Na=b.T.button={get:function(d,a){var b=d.getAttributeNode(a);return b&&("id"===a||"name"===a||"coords"===a?""!==b.value:b.specified)?
b.value:c},set:function(d,a,b){var e=d.getAttributeNode(b);e||d.setAttributeNode(e=d.ownerDocument.createAttribute(b));e.value=a+="";return"value"===b||a===d.getAttribute(b)?a:c}},b.s.Od={get:Na.get,set:function(d,a,b){Na.set(d,""===a?!1:a,b)}},b.each(["width","height"],function(d,a){b.s[a]=function(){b.s[a]=b.s[a]||{};b.s[a].set=function(d,b){if(""===b)return d.setAttribute(a,"auto"),b};return b.s[a]}.call(this)}));b.support.hrefNormalized||(b.each(["href","src","width","height"],function(d,a){b.s[a]=
function(){b.s[a]=b.s[a]||{};b.s[a].get=function(d){d=d.getAttribute(a,2);return null==d?c:d};return b.s[a]}.call(this)}),b.each(["href","src"],function(d,a){b.u[a]={get:function(d){return d.getAttribute(a,4)}}}));b.support.style||(b.s.style={get:function(d){return d.style.cssText||c},set:function(d,a){return d.style.cssText=a+""}});b.support.ve||(b.u.selected=function(){b.u.selected=b.u.selected||{};b.u.selected.get=function(d){if(d=d.parentNode)d.selectedIndex,d.parentNode&&d.parentNode.selectedIndex;
return null};return b.u.selected}.call(this));b.support.enctype||(b.cb.enctype="encoding");b.support.Ld||b.each(["radio","checkbox"],function(){b.T[this]={get:function(d){return null===d.getAttribute("value")?"on":d.value}}});b.each(["radio","checkbox"],function(){b.T[this]=function(){b.T[this]=b.T[this]||{};b.T[this].set=function(d,a){if(b.isArray(a))return d.checked=0<=b.inArray(b(d).val(),a)};return b.T[this]}.call(this)});var fb=/^(?:input|select|textarea)$/i,fc=/^key/,gc=/^(?:mouse|contextmenu)|click/,
yb=/^(?:focusinfocus|focusoutblur)$/,zb=/^([^.]*)(?:\.(.+)|)$/;b.event={global:{},add:function(d,a,e,h,f){var g,m,l,n,r,q,p,s,H;if(l=b.e(d)){e.fa&&(n=e,e=n.fa,f=n.v);e.n||(e.n=b.n++);(m=l.la)||(m=l.la={});(r=l.handle)||(r=l.handle=function(d){return typeof b===z||d&&b.event.Ub===d.type?c:b.event.tc.apply(r.elem,arguments)},r.elem=d);a=(a||"").match(Da)||[""];for(l=a.length;l--;)g=zb.exec(a[l])||[],s=q=g[1],H=(g[2]||"").split(".").sort(),g=b.event.R[s]||{},s=(f?g.Fa:g.ob)||s,g=b.event.R[s]||{},q=b.extend({type:s,
Ka:q,data:h,fa:e,n:e.n,v:f,Lb:f&&b.J.match.Lb.test(f),namespace:H.join(".")},n),(p=m[s])||(p=m[s]=[],p.rb=0,g.eb&&!1!==g.eb.call(d,h,H,r)||(d.addEventListener?d.addEventListener(s,r,!1):d.attachEvent&&d.attachEvent("on"+s,r))),g.add&&(g.add.call(d,q),q.fa.n||(q.fa.n=e.n)),f?p.splice(p.rb++,0,q):p.push(q),b.event.global[s]=!0;d=null}},remove:function(d,a,c,e,h){var f,g,m,l,n,r,q,s,p,H,v,t=b.hasData(d)&&b.e(d);if(t&&(r=t.la)){a=(a||"").match(Da)||[""];for(n=a.length;n--;)if(m=zb.exec(a[n])||[],p=v=
m[1],H=(m[2]||"").split(".").sort(),p){q=b.event.R[p]||{};p=(e?q.Fa:q.ob)||p;s=r[p]||[];m=m[2]&&new RegExp("(^|\\.)"+H.join("\\.(?:.*\\.|)")+"(\\.|$)");for(l=f=s.length;f--;)g=s[f],!h&&v!==g.Ka||c&&c.n!==g.n||m&&!m.test(g.namespace)||e&&e!==g.v&&("**"!==e||!g.v)||(s.splice(f,1),g.v&&s.rb--,q.remove&&q.remove.call(d,g));l&&!s.length&&(q.gb&&!1!==q.gb.call(d,H,t.handle)||b.Qb(d,p,t.handle),delete r[p])}else for(p in r)b.event.remove(d,p+a[n],c,e,!0);b.isEmptyObject(r)&&(delete t.handle,b.Oa(d,"events"))}},
trigger:function(d,e,h,f){var g,m,l,n,r,q,p=[h||J],s=ja.call(d,"type")?d.type:d;r=ja.call(d,"namespace")?d.namespace.split("."):[];l=g=h=h||J;if(3!==h.nodeType&&8!==h.nodeType&&!yb.test(s+b.event.Ub)&&(0<=s.indexOf(".")&&(r=s.split("."),s=r.shift(),r.sort()),m=0>s.indexOf(":")&&"on"+s,d=d[b.expando]?d:new b.Event(s,"object"===typeof d&&d),d.$a=!0,d.namespace=r.join("."),d.Gc=d.namespace?new RegExp("(^|\\.)"+r.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,d.result=c,d.target||(d.target=h),e=null==e?[d]:b.makeArray(e,
[d]),r=b.event.R[s]||{},f||!r.trigger||!1!==r.trigger.apply(h,e))){if(!f&&!r.re&&!b.isWindow(h)){n=r.Fa||s;yb.test(n+s)||(l=l.parentNode);for(;l;l=l.parentNode)p.push(l),g=l;g===(h.ownerDocument||J)&&p.push(g.defaultView||g.parentWindow||a)}for(q=0;(l=p[q++])&&!d.isPropagationStopped();)d.type=1<q?n:r.ob||s,(g=(b.e(l,"events")||{})[d.type]&&b.e(l,"handle"))&&g.apply(l,e),(g=m&&l[m])&&b.ya(l)&&g.apply&&!1===g.apply(l,e)&&d.preventDefault();d.type=s;if(!(f||d.isDefaultPrevented()||r.ea&&!1!==r.ea.apply(h.ownerDocument,
e)||"click"===s&&b.nodeName(h,"a"))&&b.ya(h)&&m&&h[s]&&!b.isWindow(h)){(g=h[m])&&(h[m]=null);b.event.Ub=s;try{h[s]()}catch(H){}b.event.Ub=c;g&&(h[m]=g)}return d.result}},tc:function(d){d=b.event.vc(d);var a,e,h,f,g=[],m=fa.call(arguments);a=(b.e(this,"events")||{})[d.type]||[];var l=b.event.R[d.type]||{};m[0]=d;d.delegateTarget=this;if(!l.ze||!1!==l.ze.call(this,d)){g=b.event.Ya.call(this,d,a);for(a=0;(h=g[a++])&&!d.isPropagationStopped();)for(d.currentTarget=h.elem,f=0;(e=h.Ya[f++])&&!d.isImmediatePropagationStopped();)if(!d.Gc||
d.Gc.test(e.namespace))d.Xa=e,d.data=e.data,e=((b.event.R[e.Ka]||{}).handle||e.fa).apply(h.elem,m),e!==c&&!1===(d.result=e)&&(d.preventDefault(),d.stopPropagation());l.Nb&&l.Nb.call(this,d);return d.result}},Ya:function(d,a){var e,h,f,g,m=[],l=a.rb,n=d.target;if(l&&n.nodeType&&(!d.button||"click"!==d.type))for(;n!=this;n=n.parentNode||this)if(1===n.nodeType&&(!0!==n.disabled||"click"!==d.type)){f=[];for(g=0;g<l;g++)h=a[g],e=h.v+" ",f[e]===c&&(f[e]=h.Lb?0<=b(e,this).index(n):b.find(e,this,null,[n]).length),
f[e]&&f.push(h);f.length&&m.push({elem:n,Ya:f})}l<a.length&&m.push({elem:this,Ya:a.slice(l)});return m},vc:function(d){if(d[b.expando])return d;var a,c,e;a=d.type;var h=d,f=this.wc[a];f||(this.wc[a]=f=gc.test(a)?this.ne:fc.test(a)?this.ie:{});e=f.props?this.props.concat(f.props):this.props;d=new b.Event(h);for(a=e.length;a--;)c=e[a],d[c]=h[c];d.target||(d.target=h.srcElement||J);3===d.target.nodeType&&(d.target=d.target.parentNode);d.metaKey=!!d.metaKey;return f.filter?f.filter(d,h):d},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),
wc:{},ie:{props:["char","charCode","key","keyCode"],filter:function(d,a){null==d.which&&(d.which=null!=a.charCode?a.charCode:a.keyCode);return d}},ne:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(d,a){var b,e,h=a.button,f=a.fromElement;null==d.pageX&&null!=a.clientX&&(b=d.target.ownerDocument||J,e=b.documentElement,b=b.body,d.pageX=a.clientX+(e&&e.scrollLeft||b&&b.scrollLeft||0)-(e&&e.clientLeft||b&&b.clientLeft||
0),d.pageY=a.clientY+(e&&e.scrollTop||b&&b.scrollTop||0)-(e&&e.clientTop||b&&b.clientTop||0));!d.relatedTarget&&f&&(d.relatedTarget=f===d.target?a.toElement:f);d.which||h===c||(d.which=h&1?1:h&2?3:h&4?2:0);return d}},R:{load:{re:!0},click:{trigger:function(){if(b.nodeName(this,"input")&&"checkbox"===this.type&&this.click)return this.click(),!1}},focus:{trigger:function(){if(this!==J.activeElement&&this.focus)try{return this.focus(),!1}catch(d){}},Fa:"focusin"},blur:{trigger:function(){if(this===J.activeElement&&
this.blur)return this.blur(),!1},Fa:"focusout"},Ef:{Nb:function(d){d.result!==c&&(d.originalEvent.returnValue=d.result)}}},fb:function(d,a,c,e){d=b.extend(new b.Event,c,{type:d,zc:!0,originalEvent:{}});e?b.event.trigger(d,null,a):b.event.tc.call(a,d);d.isDefaultPrevented()&&c.preventDefault()}};b.Qb=J.removeEventListener?function(d,a,b){d.removeEventListener&&d.removeEventListener(a,b,!1)}:function(d,a,b){a="on"+a;d.detachEvent&&(typeof d[a]===z&&(d[a]=null),d.detachEvent(a,b))};b.Event=function(d,
a){if(!(this instanceof b.Event))return new b.Event(d,a);d&&d.type?(this.originalEvent=d,this.type=d.type,this.isDefaultPrevented=d.defaultPrevented||!1===d.returnValue||d.$d&&d.$d()?e:n):this.type=d;a&&b.extend(this,a);this.timeStamp=d&&d.timeStamp||b.now();this[b.expando]=!0};b.Event.prototype={isDefaultPrevented:n,isPropagationStopped:n,isImmediatePropagationStopped:n,preventDefault:function(){var d=this.originalEvent;this.isDefaultPrevented=e;d&&(d.preventDefault?d.preventDefault():d.returnValue=
!1)},stopPropagation:function(){var d=this.originalEvent;this.isPropagationStopped=e;d&&(d.stopPropagation&&d.stopPropagation(),d.cancelBubble=!0)}};b.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(d,a){b.event.R[d]={Fa:a,ob:a,handle:function(d){var c,e=d.relatedTarget,h=d.Xa;if(!e||e!==this&&!b.contains(this,e))d.type=h.Ka,c=h.fa.apply(this,arguments),d.type=a;return c}}});b.support.submitBubbles||(b.event.R.submit={eb:function(){if(b.nodeName(this,"form"))return!1;b.event.add(this,
"click._submit keypress._submit",function(d){d=d.target;(d=b.nodeName(d,"input")||b.nodeName(d,"button")?d.form:c)&&!b.e(d,"submitBubbles")&&(b.event.add(d,"submit._submit",function(d){d.hc=!0}),b.e(d,"submitBubbles",!0))})},Nb:function(d){d.hc&&(delete d.hc,this.parentNode&&!d.$a&&b.event.fb("submit",this.parentNode,d,!0))},gb:function(){if(b.nodeName(this,"form"))return!1;b.event.remove(this,"._submit")}});b.support.changeBubbles||(b.event.R.change={eb:function(){if(fb.test(this.nodeName)){if("checkbox"===
this.type||"radio"===this.type)b.event.add(this,"propertychange._change",function(d){"checked"===d.originalEvent.propertyName&&(this.gc=!0)}),b.event.add(this,"click._change",function(d){this.gc&&!d.$a&&(this.gc=!1);b.event.fb("change",this,d,!0)});return!1}b.event.add(this,"beforeactivate._change",function(d){d=d.target;fb.test(d.nodeName)&&!b.e(d,"changeBubbles")&&(b.event.add(d,"change._change",function(d){!this.parentNode||d.zc||d.$a||b.event.fb("change",this.parentNode,d,!0)}),b.e(d,"changeBubbles",
!0))})},handle:function(d){var a=d.target;if(this!==a||d.zc||d.$a||"radio"!==a.type&&"checkbox"!==a.type)return d.Xa.fa.apply(this,arguments)},gb:function(){b.event.remove(this,"._change");return!fb.test(this.nodeName)}});b.support.Pf||b.each({focus:"focusin",blur:"focusout"},function(d,a){function c(d){b.event.fb(a,d.target,b.event.vc(d),!0)}var e=0;b.event.R[a]={eb:function(){0===e++&&J.addEventListener(d,c,!0)},gb:function(){0===--e&&J.removeEventListener(d,c,!0)}}});b.prototype.on=function(d,
a,e,h,f){var g,m;if("object"===typeof d){"string"!==typeof a&&(e=e||a,a=c);for(g in d)this.on(g,a,e,d[g],f);return this}null==e&&null==h?(h=a,e=a=c):null==h&&("string"===typeof a?(h=e,e=c):(h=e,e=a,a=c));if(!1===h)h=n;else if(!h)return this;1===f&&(m=h,h=function(d){b().off(d);return m.apply(this,arguments)},h.n=m.n||(m.n=b.n++));return this.each(function(){b.event.add(this,d,h,e,a)})};b.prototype.off=function(d,a,e){var h;if(d&&d.preventDefault&&d.Xa)return h=d.Xa,b(d.delegateTarget).off(h.namespace?
h.Ka+"."+h.namespace:h.Ka,h.v,h.fa),this;if("object"===typeof d){for(h in d)this.off(h,a,d[h]);return this}if(!1===a||"function"===typeof a)e=a,a=c;!1===e&&(e=n);return this.each(function(){b.event.remove(this,d,e,a)})};b.prototype.bind=function(d,a,b){return this.on(d,null,a,b)};b.prototype.trigger=function(d,a){return this.each(function(){b.event.trigger(d,a,this)})};(function(d,a){function c(a,d){var b="0x"+d-65536;return b!==b?d:0>b?String.fromCharCode(b+65536):String.fromCharCode(b>>10|55296,
b&1023|56320)}function e(d){return cb.test(d+"")}function h(){var d,a=[];return d=function(b,c){a.push(b+=" ")>A.Jd&&delete d[a.shift()];return d[b]=c}}function f(d){d[L]=!0;return d}function g(d){var a=K.createElement("div");try{return d(a)}catch(b){return!1}finally{}}function m(d,a,b,e){var h,f,g,l,n;(a?a.ownerDocument||a:V)!==K&&Z(a);a=a||K;b=b||[];if(!d||"string"!==typeof d)return b;if(1!==(l=a.nodeType)&&9!==l)return[];if(!P&&!e){if(h=Ma.exec(d))if(g=h[1])if(9===l)if((f=a.getElementById(g))&&
f.parentNode){if(f.id===g)return b.push(f),b}else return b;else{if(a.ownerDocument&&(f=a.ownerDocument.getElementById(g))&&U(a,f)&&f.id===g)return b.push(f),b}else{if(h[2])return X.apply(b,F.call(a.getElementsByTagName(d),0)),b;if((g=h[3])&&S.xc&&a.getElementsByClassName)return X.apply(b,F.call(a.getElementsByClassName(g),0)),b}if(S.Ce&&!D.test(d)){h=!0;f=L;g=a;n=9===l&&d;if(1===l&&"object"!==a.nodeName.toLowerCase()){l=s(d);(h=a.getAttribute("id"))?f=h.replace(Ba,"\\$&"):a.setAttribute("id",f);f=
"[id='"+f+"'] ";for(g=l.length;g--;)l[g]=f+p(l[g]);g=oa.test(d)&&a.parentNode||a;n=l.join(",")}if(n)try{return X.apply(b,F.call(g.querySelectorAll(n),0)),b}catch(N){}finally{h||a.removeAttribute("id")}}}var r;a:{d=d.replace(ba,"$1");f=s(d);if(!e&&1===f.length){h=f[0]=f[0].slice(0);if(2<h.length&&"ID"===(r=h[0]).type&&9===a.nodeType&&!P&&A.ta[h[1].type]){a=A.find.ID(r.matches[0].replace(Fa,c),a)[0];if(!a){r=b;break a}d=d.slice(h.shift().value.length)}for(l=la.needsContext.test(d)?0:h.length;l--;){r=
h[l];if(A.ta[g=r.type])break;if(g=A.find[g])if(e=g(r.matches[0].replace(Fa,c),oa.test(h[0].type)&&a.parentNode||a)){h.splice(l,1);d=e.length&&p(h);if(!d){X.apply(b,F.call(e,0));r=b;break a}break}}}R(d,f)(e,a,P,b,oa.test(d));r=b}return r}function l(a,d){var b=d&&a,c=b&&(~d.sourceIndex||-2147483648)-(~a.sourceIndex||-2147483648);if(c)return c;if(b)for(;b=b.nextSibling;)if(b===d)return-1;return a?1:-1}function n(a){return function(d){return"input"===d.nodeName.toLowerCase()&&d.type===a}}function r(a){return function(d){var b=
d.nodeName.toLowerCase();return("input"===b||"button"===b)&&d.type===a}}function q(a){return f(function(d){d=+d;return f(function(b,c){for(var e,h=a([],b.length,d),f=h.length;f--;)b[e=h[f]]&&(b[e]=!(c[e]=b[e]))})})}function s(d,a){var b,c,e,h,f,g,l;if(f=qa[d+" "])return a?0:f.slice(0);f=d;g=[];for(l=A.Ae;f;){if(!b||(c=ga.exec(f)))c&&(f=f.slice(c[0].length)||f),g.push(e=[]);b=!1;if(c=wa.exec(f))b=c.shift(),e.push({value:b,type:c[0].replace(ba," ")}),f=f.slice(b.length);for(h in A.filter)!(c=la[h].exec(f))||
l[h]&&!(c=l[h](c))||(b=c.shift(),e.push({value:b,type:h,matches:c}),f=f.slice(b.length));if(!b)break}return a?f.length:f?m.error(d):qa(d,g).slice(0)}function p(d){for(var a=0,b=d.length,c="";a<b;a++)c+=d[a].value;return c}function H(d,a,b){var c=a.dir,e=b&&"parentNode"===c,h=ia++;return a.first?function(a,b,h){for(;a=a[c];)if(1===a.nodeType||e)return d(a,b,h)}:function(a,b,f){var g,m,l,n=B+" "+h;if(f)for(;a=a[c];){if((1===a.nodeType||e)&&d(a,b,f))return!0}else for(;a=a[c];)if(1===a.nodeType||e)if(l=
a[L]||(a[L]={}),(m=l[c])&&m[0]===n){if(!0===(g=m[1])||g===O)return!0===g}else if(m=l[c]=[n],m[1]=d(a,b,f)||O,!0===m[1])return!0}}function v(a){return 1<a.length?function(d,b,c){for(var e=a.length;e--;)if(!a[e](d,b,c))return!1;return!0}:a[0]}function t(a,d,b,c,e){for(var h,f=[],g=0,m=a.length,l=null!=d;g<m;g++)if(h=a[g])if(!b||b(h,c,e))f.push(h),l&&d.push(g);return f}function Y(a,d,b,c,e,h){c&&!c[L]&&(c=Y(c));e&&!e[L]&&(e=Y(e,h));return f(function(h,f,g,l){var n,r,N=[],G=[],q=f.length,s;if(!(s=h)){s=
d||"*";for(var p=g.nodeType?[g]:g,H=[],v=0,Y=p.length;v<Y;v++)m(s,p[v],H);s=H}s=!a||!h&&d?s:t(s,N,a,g,l);p=b?e||(h?a:q||c)?[]:f:s;b&&b(s,p,g,l);if(c)for(n=t(p,G),c(n,[],g,l),g=n.length;g--;)if(r=n[g])p[G[g]]=!(s[G[g]]=r);if(h){if(e||a){if(e){n=[];for(g=p.length;g--;)(r=p[g])&&n.push(s[g]=r);e(null,p=[],n,l)}for(g=p.length;g--;)(r=p[g])&&-1<(n=e?fa.call(h,r):N[g])&&(h[n]=!(f[n]=r))}}else p=t(p===f?p.splice(q,p.length):p),e?e(null,f,p,l):X.apply(f,p)})}function z(a){var d,b,c,e=a.length,h=A.ta[a[0].type];
b=h||A.ta[" "];for(var f=h?1:0,g=H(function(a){return a===d},b,!0),m=H(function(a){return-1<fa.call(d,a)},b,!0),l=[function(a,b,c){return!h&&(c||b!==w)||((d=b).nodeType?g(a,b,c):m(a,b,c))}];f<e;f++)if(b=A.ta[a[f].type])l=[H(v(l),b)];else{b=A.filter[a[f].type].apply(null,a[f].matches);if(b[L]){for(c=++f;c<e&&!A.ta[a[c].type];c++);return Y(1<f&&v(l),1<f&&p(a.slice(0,f-1)).replace(ba,"$1"),b,f<c&&z(a.slice(f,c)),c<e&&z(a=a.slice(c)),c<e&&p(a))}l.push(b)}return v(l)}function u(a,d){function b(f,g,l,n,
r){var N,G,q=[],s=0,p="0",H=f&&[],v=null!=r,Y=w,z=f||h&&A.find.TAG("*",r&&g.parentNode||g),ua=B+=null==Y?1:Math.random()||.1;v&&(w=g!==K&&g,O=c);for(;null!=(r=z[p]);p++){if(h&&r){for(N=0;G=a[N++];)if(G(r,g,l)){n.push(r);break}v&&(B=ua,O=++c)}e&&((r=!G&&r)&&s--,f&&H.push(r))}s+=p;if(e&&p!==s){for(N=0;G=d[N++];)G(H,q,g,l);if(f){if(0<s)for(;p--;)H[p]||q[p]||(q[p]=ka.call(n));q=t(q)}X.apply(n,q);v&&!f&&0<q.length&&1<s+d.length&&m.dd(n)}v&&(B=ua,w=Y);return H}var c=0,e=0<d.length,h=0<a.length;return e?
f(b):b}function E(){}var I,O,A,W,M,R,Q,w,Z,K,y,P,D,C,x,U,aa,L="sizzle"+-new Date,V=d.document,S={},B=0,ia=0,da=h(),qa=h(),ca=h(),ea=typeof a,J=[],ka=J.pop,X=J.push,F=J.slice,fa=J.indexOf||function(a){for(var d=0,b=this.length;d<b;d++)if(this[d]===a)return d;return-1},J="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+".replace("w","w#"),ha="\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)[\\x20\\t\\r\\n\\f]*(?:([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+J+")|)|)[\\x20\\t\\r\\n\\f]*\\]",
T=":((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+ha.replace(3,8)+")*)|.*)\\)|)",ba=/^[\x20\t\r\n\f]+|((?:^|[^\\])(?:\\.)*)[\x20\t\r\n\f]+$/g,ga=/^[\x20\t\r\n\f]*,[\x20\t\r\n\f]*/,wa=/^[\x20\t\r\n\f]*([\x20\t\r\n\f>+~])[\x20\t\r\n\f]*/,ya=new RegExp(T),ja=new RegExp("^"+J+"$"),la={ID:/^#((?:\\.|[\w-]|[^\x00-\xa0])+)/,CLASS:/^\.((?:\\.|[\w-]|[^\x00-\xa0])+)/,NAME:/^\[name=['"]?((?:\\.|[\w-]|[^\x00-\xa0])+)['"]?\]/,TAG:new RegExp("^("+"(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+".replace("w",
"w*")+")"),ATTR:new RegExp("^"+ha),PSEUDO:new RegExp("^"+T),CHILD:/^:(only|first|last|nth|nth-last)-(child|of-type)(?:\([\x20\t\r\n\f]*(even|odd|(([+-]|)(\d*)n|)[\x20\t\r\n\f]*(?:([+-]|)[\x20\t\r\n\f]*(\d+)|))[\x20\t\r\n\f]*\)|)/i,needsContext:/^[\x20\t\r\n\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\([\x20\t\r\n\f]*((?:-\d)?\d*)[\x20\t\r\n\f]*\)|)(?=[^-]|$)/i},oa=/[\x20\t\r\n\f]*[+~]/,cb=/^[^{]+\{\s*\[native code/,Ma=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Da=/^(?:input|select|textarea|button)$/i,
za=/^h\d$/i,Ba=/'|\\/g,Ca=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,Fa=/\\([\da-fA-F]{1,6}[\x20\t\r\n\f]?|.)/g;try{F.call(V.documentElement.childNodes,0)[0].nodeType}catch(Ea){F=function(a){for(var d,b=[];d=this[a++];)b.push(d);return b}}M=m.ge=function(a){return(a=a&&(a.ownerDocument||a).documentElement)?"HTML"!==a.nodeName:!1};Z=m.lg=function(d){var b=d?d.ownerDocument||d:V;if(b===K||9!==b.nodeType||!b.documentElement)return K;K=b;y=b.documentElement;P=M(b);S.Te=g(function(a){a.appendChild(b.createComment(""));
return!a.getElementsByTagName("*").length});S.attributes=g(function(a){a.innerHTML="<select></select>";a=typeof a.lastChild.getAttribute("multiple");return"boolean"!==a&&"string"!==a});S.xc=g(function(a){a.innerHTML="<div class='hidden e'></div><div class='hidden'></div>";if(!a.getElementsByClassName||!a.getElementsByClassName("e").length)return!1;a.lastChild.className="e";return 2===a.getElementsByClassName("e").length});S.Xd=g(function(a){a.id=L+0;a.innerHTML="<a name='"+L+"'></a><div name='"+L+
"'></div>";y.insertBefore(a,y.firstChild);var d=b.getElementsByName&&b.getElementsByName(L).length===2+b.getElementsByName(L+0).length;S.Yd=!b.getElementById(L);y.removeChild(a);return d});A.Ad=g(function(a){a.innerHTML="<a href='#'></a>";return a.firstChild&&typeof a.firstChild.getAttribute!==ea&&"#"===a.firstChild.getAttribute("href")})?{}:{href:function(a){return a.getAttribute("href",2)},type:function(a){return a.getAttribute("type")}};S.Yd?(A.find.ID=function(a,d){if(typeof d.getElementById!==
ea&&!P){var b=d.getElementById(a);return b&&b.parentNode?[b]:[]}},A.filter.ID=function(a){var d=a.replace(Fa,c);return function(a){return a.getAttribute("id")===d}}):(A.find.ID=function(d,b){if(typeof b.getElementById!==ea&&!P){var c=b.getElementById(d);return c?c.id===d||typeof c.getAttributeNode!==ea&&c.getAttributeNode("id").value===d?[c]:a:[]}},A.filter.ID=function(a){var d=a.replace(Fa,c);return function(a){return(a=typeof a.getAttributeNode!==ea&&a.getAttributeNode("id"))&&a.value===d}});A.find.TAG=
S.Te?function(a,d){if(typeof d.getElementsByTagName!==ea)return d.getElementsByTagName(a)}:function(a,d){var b,c=[],e=0,h=d.getElementsByTagName(a);if("*"===a){for(;b=h[e++];)1===b.nodeType&&c.push(b);return c}return h};A.find.NAME=S.Xd&&function(a,d){if(typeof d.getElementsByName!==ea)return d.getElementsByName(name)};A.find.CLASS=S.xc&&function(a,d){if(typeof d.getElementsByClassName!==ea&&!P)return d.getElementsByClassName(a)};C=[];D=[":focus"];if(S.Ce=e(b.querySelectorAll))g(function(a){a.innerHTML=
"<select><option selected=''></option></select>";a.querySelectorAll("[selected]").length||D.push("\\[[\\x20\\t\\r\\n\\f]*(?:checked|disabled|ismap|multiple|readonly|selected|value)");a.querySelectorAll(":checked").length||D.push(":checked")}),g(function(a){a.innerHTML="<input type='hidden' i=''/>";a.querySelectorAll("[i^='']").length&&D.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:\"\"|'')");a.querySelectorAll(":enabled").length||D.push(":enabled",":disabled");a.querySelectorAll("*,:x");D.push(",.*:")});(S.matchesSelector=
e(x=y.matchesSelector||y.mozMatchesSelector||y.webkitMatchesSelector||y.bg||y.msMatchesSelector))&&g(function(a){S.Sd=x.call(a,"div");x.call(a,"[s!='']:x");C.push("!=",T)});D=new RegExp(D.join("|"));C=new RegExp(C.join("|"));U=e(y.contains)||y.compareDocumentPosition?function(a,d){var b=9===a.nodeType?a.documentElement:a,c=d&&d.parentNode;return a===c||!!(c&&1===c.nodeType&&(b.contains?b.contains(c):a.compareDocumentPosition&&a.compareDocumentPosition(c)&16))}:function(a,d){if(d)for(;d=d.parentNode;)if(d===
a)return!0;return!1};aa=y.compareDocumentPosition?function(a,d){var c;return a===d?(Q=!0,0):(c=d.compareDocumentPosition&&a.compareDocumentPosition&&a.compareDocumentPosition(d))?c&1||a.parentNode&&11===a.parentNode.nodeType?a===b||U(V,a)?-1:d===b||U(V,d)?1:0:c&4?-1:1:a.compareDocumentPosition?-1:1}:function(a,d){var c,e=0;c=a.parentNode;var h=d.parentNode,f=[a],g=[d];if(a===d)return Q=!0,0;if(!c||!h)return a===b?-1:d===b?1:c?-1:h?1:0;if(c===h)return l(a,d);for(c=a;c=c.parentNode;)f.unshift(c);for(c=
d;c=c.parentNode;)g.unshift(c);for(;f[e]===g[e];)e++;return e?l(f[e],g[e]):f[e]===V?-1:g[e]===V?1:0};Q=!1;[0,0].sort(aa);S.Rd=Q;return K};m.matches=function(a,d){return m(a,null,null,d)};m.matchesSelector=function(a,d){(a.ownerDocument||a)!==K&&Z(a);d=d.replace(Ca,"='$1']");if(!(!S.matchesSelector||P||C&&C.test(d)||D.test(d)))try{var b=x.call(a,d);if(b||S.Sd||a.document&&11!==a.document.nodeType)return b}catch(c){}return 0<m(d,K,null,[a]).length};m.contains=function(a,d){(a.ownerDocument||a)!==K&&
Z(a);return U(a,d)};m.attr=function(a,d){var b;(a.ownerDocument||a)!==K&&Z(a);P||(d=d.toLowerCase());return(b=A.Ad[d])?b(a):P||S.attributes?a.getAttribute(d):((b=a.getAttributeNode(d))||a.getAttribute(d))&&!0===a[d]?d:b&&b.specified?b.value:null};m.error=function(a){throw Error("Syntax error, unrecognized expression: "+a);};m.dd=function(a){var d,b=[],c=1,e=0;Q=!S.Rd;a.sort(aa);if(Q){for(;d=a[c];c++)d===a[c-1]&&(e=b.push(c));for(;e--;)a.splice(b[e],1)}return a};W=m.be=function(a){var d,b="",c=0;d=
a.nodeType;if(!d)for(;d=a[c];c++)b+=W(d);else if(1===d||9===d||11===d){if("string"===typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)b+=W(a)}else if(3===d||4===d)return a.nodeValue;return b};A=m.Me={Jd:50,Mf:f,match:la,find:{},ta:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},Ae:{ATTR:function(a){a[1]=a[1].replace(Fa,c);a[3]=(a[4]||a[5]||"").replace(Fa,c);"~="===a[2]&&(a[3]=" "+a[3]+" ");return a.slice(0,
4)},CHILD:function(a){a[1]=a[1].toLowerCase();"nth"===a[1].slice(0,3)?(a[3]||m.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&m.error(a[0]);return a},PSEUDO:function(a){var d,b=!a[5]&&a[2];if(la.CHILD.test(a[0]))return null;a[4]?a[2]=a[4]:b&&ya.test(b)&&(d=s(b,!0))&&(d=b.indexOf(")",b.length-d)-b.length)&&(a[0]=a[0].slice(0,d),a[2]=b.slice(0,d));return a.slice(0,3)}},filter:{TAG:function(a){if("*"===a)return function(){return!0};a=a.replace(Fa,
c).toLowerCase();return function(d){return d.nodeName&&d.nodeName.toLowerCase()===a}},CLASS:function(a){var d=da[a+" "];return d||(d=new RegExp("(^|[\\x20\\t\\r\\n\\f])"+a+"([\\x20\\t\\r\\n\\f]|$)"))&&da(a,function(a){return d.test(a.className||typeof a.getAttribute!==ea&&a.getAttribute("class")||"")})},ATTR:function(a,d,b){return function(c){c=m.attr(c,a);if(null==c)return"!="===d;if(!d)return!0;c+="";return"="===d?c===b:"!="===d?c!==b:"^="===d?b&&0===c.indexOf(b):"*="===d?b&&-1<c.indexOf(b):"$="===
d?b&&c.slice(-b.length)===b:"~="===d?-1<(" "+c+" ").indexOf(b):"|="===d?c===b||c.slice(0,b.length+1)===b+"-":!1}},CHILD:function(a,d,b,c,e){var h="nth"!==a.slice(0,3),f="last"!==a.slice(-4),g="of-type"===d;return 1===c&&0===e?function(a){return!!a.parentNode}:function(d,b,m){var l,n,r,N,G;b=h!==f?"nextSibling":"previousSibling";var q=d.parentNode,s=g&&d.nodeName.toLowerCase();m=!m&&!g;if(q){if(h){for(;b;){for(n=d;n=n[b];)if(g?n.nodeName.toLowerCase()===s:1===n.nodeType)return!1;G=b="only"===a&&!G&&
"nextSibling"}return!0}G=[f?q.firstChild:q.lastChild];if(f&&m)for(m=q[L]||(q[L]={}),l=m[a]||[],N=l[0]===B&&l[1],r=l[0]===B&&l[2],n=N&&q.childNodes[N];n=++N&&n&&n[b]||(r=N=0)||G.pop();){if(1===n.nodeType&&++r&&n===d){m[a]=[B,N,r];break}}else if(m&&(l=(d[L]||(d[L]={}))[a])&&l[0]===B)r=l[1];else for(;(n=++N&&n&&n[b]||(r=N=0)||G.pop())&&((g?n.nodeName.toLowerCase()!==s:1!==n.nodeType)||!++r||(m&&((n[L]||(n[L]={}))[a]=[B,r]),n!==d)););r-=e;return r===c||0===r%c&&0<=r/c}}},PSEUDO:function(a,d){var b,c=
A.ia[a]||A.Vc[a.toLowerCase()]||m.error("unsupported pseudo: "+a);return c[L]?c(d):1<c.length?(b=[a,a,"",d],A.Vc.hasOwnProperty(a.toLowerCase())?f(function(a,b){for(var e,h=c(a,d),f=h.length;f--;)e=fa.call(a,h[f]),a[e]=!(b[e]=h[f])}):function(a){return c(a,0,b)}):c}},ia:{not:f(function(a){var d=[],b=[],c=R(a.replace(ba,"$1"));return c[L]?f(function(a,d,b,e){e=c(a,null,e,[]);for(var h=a.length;h--;)if(b=e[h])a[h]=!(d[h]=b)}):function(a,e,h){d[0]=a;c(d,null,h,b);return!b.pop()}}),has:f(function(a){return function(d){return 0<
m(a,d).length}}),contains:f(function(a){return function(d){return-1<(d.textContent||d.innerText||W(d)).indexOf(a)}}),lang:f(function(a){ja.test(a||"")||m.error("unsupported lang: "+a);a=a.replace(Fa,c).toLowerCase();return function(d){var b;do if(b=P?d.getAttribute("xml:lang")||d.getAttribute("lang"):d.lang)return b=b.toLowerCase(),b===a||0===b.indexOf(a+"-");while((d=d.parentNode)&&1===d.nodeType);return!1}}),target:function(a){var b=d.location&&d.location.hash;return b&&b.slice(1)===a.id},root:function(a){return a===
y},focus:function(a){return a===K.activeElement&&(!K.hasFocus||K.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return!1===a.disabled},disabled:function(a){return!0===a.disabled},checked:function(a){var d=a.nodeName.toLowerCase();return"input"===d&&!!a.checked||"option"===d&&!!a.selected},selected:function(a){a.parentNode&&a.parentNode.selectedIndex;return!0===a.selected},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if("@"<a.nodeName||3===a.nodeType||4===a.nodeType)return!1;
return!0},parent:function(a){return!A.ia.empty(a)},header:function(a){return za.test(a.nodeName)},input:function(a){return Da.test(a.nodeName)},button:function(a){var d=a.nodeName.toLowerCase();return"input"===d&&"button"===a.type||"button"===d},text:function(a){var d;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(d=a.getAttribute("type"))||d.toLowerCase()===a.type)},first:q(function(){return[0]}),last:q(function(a,d){return[d-1]}),eq:q(function(a,d,b){return[0>b?b+d:b]}),even:q(function(a,
d){for(var b=0;b<d;b+=2)a.push(b);return a}),odd:q(function(a,d){for(var b=1;b<d;b+=2)a.push(b);return a}),lt:q(function(a,d,b){for(d=0>b?b+d:b;0<=--d;)a.push(d);return a}),gt:q(function(a,d,b){for(b=0>b?b+d:b;++b<d;)a.push(b);return a})}};for(I in{ig:!0,If:!0,file:!0,xe:!0,W:!0})A.ia[I]=n(I);for(I in{submit:!0,reset:!0})A.ia[I]=r(I);R=m.compile=function(a,d){var b,c=[],e=[],h=ca[a+" "];if(!h){d||(d=s(a));for(b=d.length;b--;)h=z(d[b]),h[L]?c.push(h):e.push(h);h=ca(a,u(e,c))}return h};A.ia.nth=A.ia.eq;
A.filters=E.prototype=A.ia;A.Vc=new E;Z();m.attr=b.attr;b.find=m;b.J=m.Me;b.J[":"]=b.J.ia;b.unique=m.dd;b.text=m.be;b.isXMLDoc=m.ge;b.contains=m.contains})(a);var hc=/Until$/,ic=/^(?:parents|prev(?:Until|All))/,Rb=/^.[^:#\[\.,]*$/,jc=b.J.match.Lb,kc={children:!0,contents:!0,next:!0,prev:!0};b.prototype.find=function(a){var c,e,h,f=this.length;if("string"!==typeof a)return h=this,this.pushStack(b(a).filter(function(){for(c=0;c<f;c++)if(b.contains(h[c],this))return!0}));e=[];for(c=0;c<f;c++)b.find(a,
this[c],e);e=this.pushStack(1<f?b.unique(e):e);e.v=(this.v?this.v+" ":"")+a;return e};b.prototype.has=function(a){var c,e=b(a,this),h=e.length;return this.filter(function(){for(c=0;c<h;c++)if(b.contains(this,e[c]))return!0})};b.prototype.filter=function(a){return this.pushStack(D(this,a))};b.prototype.is=function(a){return!!a&&("string"===typeof a?jc.test(a)?0<=b(a,this.context).index(this[0]):0<b.filter(a,this).length:0<this.filter(a).length)};b.prototype.index=function(a){return a?"string"===typeof a?
b.inArray(this[0],b(a)):b.inArray(a.jquery?a[0]:a,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1};b.prototype.add=function(a,c){var e="string"===typeof a?b(a,c):b.makeArray(a&&a.nodeType?[a]:a),e=b.merge(this.get(),e);return this.pushStack(b.unique(e))};b.each({parent:function(a){return(a=a.parentNode)&&11!==a.nodeType?a:null},parents:function(a){return b.dir(a,"parentNode")},parentsUntil:function(a,c,e){return b.dir(a,"parentNode",e)},next:function(a){return A(a,"nextSibling")},
prev:function(a){return A(a,"previousSibling")},nextAll:function(a){return b.dir(a,"nextSibling")},prevAll:function(a){return b.dir(a,"previousSibling")},nextUntil:function(a,c,e){return b.dir(a,"nextSibling",e)},prevUntil:function(a,c,e){return b.dir(a,"previousSibling",e)},siblings:function(a){return b.Xc((a.parentNode||{}).firstChild,a)},children:function(a){return b.Xc(a.firstChild)},contents:function(a){return b.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:b.merge([],a.childNodes)}},
function(a,c){b.prototype[a]=function(e,h){var f=b.map(this,c,e);hc.test(a)||(h=e);h&&"string"===typeof h&&(f=b.filter(h,f));f=1<this.length&&!kc[a]?b.unique(f):f;1<this.length&&ic.test(a)&&(f=f.reverse());return this.pushStack(f)}});b.filter=function(a,c,e){e&&(a=":not("+a+")");return 1===c.length?b.find.matchesSelector(c[0],a)?[c[0]]:[]:b.find.matches(a,c)};b.dir=function(a,e,h){var f=[];for(a=a[e];a&&9!==a.nodeType&&(h===c||1!==a.nodeType||!b(a).is(h));)1===a.nodeType&&f.push(a),a=a[e];return f};
b.Xc=function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c};var rb="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",lc=/ jQuery\d+="(?:null|\d+)"/g,Ab=new RegExp("<(?:"+rb+")[\\s/>]","i"),gb=/^\s+/,Bb=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Cb=/<([\w:]+)/,Db=/<tbody/i,mc=/<|&#?\w+;/,nc=/<(?:script|style|link)/i,sb=/^(?:checkbox|radio)$/i,
oc=/checked\s*(?:[^=]|=\s*.checked.)/i,Eb=/^$|\/(?:java|ecma)script/i,Sb=/^true\/(.*)/,pc=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,oa={Lc:[1,"<select multiple='multiple'>","</select>"],Vf:[1,"<fieldset>","</fieldset>"],Df:[1,"<map>","</map>"],param:[1,"<object>","</object>"],Ve:[1,"<table>","</table>"],ug:[2,"<table><tbody>","</tbody></table>"],Jf:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],Ue:[3,"<table><tbody><tr>","</tr></tbody></table>"],ea:b.support.htmlSerialize?[0,"",""]:
[1,"X<div>","</div>"]},hb=u(J).appendChild(J.createElement("div"));oa.dg=oa.Lc;oa.tbody=oa.sg=oa.Kf=oa.caption=oa.Ve;oa.tg=oa.Ue;b.prototype.text=function(a){return b.Z(this,function(a){return a===c?b.text(this):this.empty().append((this[0]&&this[0].ownerDocument||J).createTextNode(a))},null,a,arguments.length)};b.prototype.append=function(){return this.uc(arguments,!0,function(a){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||this.appendChild(a)})};b.prototype.remove=function(a,c){for(var e,
h=0;null!=(e=this[h]);h++)if(!a||0<b.filter(a,[e]).length)c||1!==e.nodeType||b.Sa(y(e)),e.parentNode&&(c&&b.contains(e.ownerDocument,e)&&x(y(e,"script")),e.parentNode.removeChild(e));return this};b.prototype.empty=function(){for(var a,c=0;null!=(a=this[c]);c++){for(1===a.nodeType&&b.Sa(y(a,!1));a.firstChild;)a.removeChild(a.firstChild);a.options&&b.nodeName(a,"select")&&(a.options.length=0)}return this};b.prototype.clone=function(a,c){a=null==a?!1:a;c=null==c?a:c;return this.map(function(){return b.clone(this,
a,c)})};b.prototype.html=function(a){return b.Z(this,function(a){var d=this[0]||{},e=0,h=this.length;if(a===c)return 1===d.nodeType?d.innerHTML.replace(lc,""):c;if(!("string"!==typeof a||nc.test(a)||!b.support.htmlSerialize&&Ab.test(a)||!b.support.leadingWhitespace&&gb.test(a)||oa[(Cb.exec(a)||["",""])[1].toLowerCase()])){a=a.replace(Bb,"<$1></$2>");try{for(;e<h;e++)d=this[e]||{},1===d.nodeType&&(b.Sa(y(d,!1)),d.innerHTML=a);d=0}catch(f){}}d&&this.empty().append(a)},null,a,arguments.length)};b.prototype.detach=
function(a){return this.remove(a,!0)};b.prototype.uc=function(a,e,h){a=ha.apply([],a);var f,g,m,l,n=0,r=this.length,q=this,s=r-1,p=a[0],H=b.isFunction(p);if(H||!(1>=r||"string"!==typeof p||b.support.Kd)&&oc.test(p))return this.each(function(b){var f=q.eq(b);H&&(a[0]=p.call(this,b,e?f.html():c));f.uc(a,e,h)});if(r&&(l=b.qc(a,this[0].ownerDocument,!1,this),f=l.firstChild,1===l.childNodes.length&&(l=f),f)){e=e&&b.nodeName(f,"tr");m=b.map(y(l,"script"),C);for(g=m.length;n<r;n++)f=l,n!==s&&(f=b.clone(f,
!0,!0),g&&b.merge(m,y(f,"script"))),h.call(e&&b.nodeName(this[n],"table")?w(this[n]):this[n],f,n);if(g)for(l=m[m.length-1].ownerDocument,b.map(m,B),n=0;n<g;n++)f=m[n],Eb.test(f.type||"")&&!b.e(f,"globalEval")&&b.contains(l,f)&&(f.src?b.ajax({url:f.src,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0}):b.globalEval((f.text||f.textContent||f.innerHTML||"").replace(pc,"")));l=f=null}return this};b.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},
function(a,c){b.prototype[a]=function(a){for(var d=0,e=[],h=b(a),f=h.length-1;d<=f;d++)a=d===f?this:this.clone(!0),b(h[d])[c](a),da.apply(e,a.get());return this.pushStack(e)}});b.clone=function(a,c,e){var h,f,g,m,l,n=b.contains(a.ownerDocument,a);b.support.yc||b.isXMLDoc(a)||!Ab.test("<"+a.nodeName+">")?g=a.cloneNode(!0):(hb.innerHTML=a.outerHTML,hb.removeChild(g=hb.firstChild));if(!(b.support.noCloneEvent&&b.support.se||1!==a.nodeType&&11!==a.nodeType||b.isXMLDoc(a)))for(h=y(g),l=y(a),m=0;null!=
(f=l[m]);++m)if(h[m]){var r=h[m],q=void 0,s=void 0,p=void 0;if(1===r.nodeType){q=r.nodeName.toLowerCase();if(!b.support.noCloneEvent&&r[b.expando]){p=b.e(r);for(s in p.la)b.Qb(r,s,p.handle);r.removeAttribute(b.expando)}if("script"===q&&r.text!==f.text)C(r).text=f.text,B(r);else if("object"===q)r.parentNode&&(r.outerHTML=f.outerHTML),b.support.yc&&f.innerHTML&&!b.trim(r.innerHTML)&&(r.innerHTML=f.innerHTML);else if("input"===q&&sb.test(f.type))r.defaultChecked=r.checked=f.checked,r.value!==f.value&&
(r.value=f.value);else if("option"===q)r.defaultSelected=r.selected=f.defaultSelected;else if("input"===q||"textarea"===q)r.defaultValue=f.defaultValue}}if(c)if(e)for(l=l||y(a),h=h||y(g),m=0;null!=(f=l[m]);m++)F(f,h[m]);else F(a,g);h=y(g,"script");0<h.length&&x(h,!n&&y(a,"script"));return g};b.qc=function(a,c,e,f){for(var g,m,l,n,r,q,p=a.length,s=u(c),H=[],v=0;v<p;v++)if((m=a[v])||0===m)if("object"===b.type(m))b.merge(H,m.nodeType?[m]:m);else if(mc.test(m)){l=l||s.appendChild(c.createElement("div"));
n=(Cb.exec(m)||["",""])[1].toLowerCase();q=oa[n]||oa.ea;l.innerHTML=q[1]+m.replace(Bb,"<$1></$2>")+q[2];for(g=q[0];g--;)l=l.lastChild;!b.support.leadingWhitespace&&gb.test(m)&&H.push(c.createTextNode(gb.exec(m)[0]));if(!b.support.tbody)for(g=(m="table"!==n||Db.test(m)?"<table>"!==q[1]||Db.test(m)?0:l:l.firstChild)&&m.childNodes.length;g--;)b.nodeName(r=m.childNodes[g],"tbody")&&!r.childNodes.length&&m.removeChild(r);b.merge(H,l.childNodes);for(l.textContent="";l.firstChild;)l.removeChild(l.firstChild);
l=s.lastChild}else H.push(c.createTextNode(m));l&&s.removeChild(l);b.support.zd||b.grep(y(H,"input"),h);for(v=0;m=H[v++];)if(!f||-1===b.inArray(m,f))if(a=b.contains(m.ownerDocument,m),l=y(s.appendChild(m),"script"),a&&x(l),e)for(g=0;m=l[g++];)Eb.test(m.type||"")&&e.push(m);return s};b.Sa=function(a,c){for(var e,h,f,g,m=0,l=b.expando,n=b.k,r=b.support.sb,q=b.event.R;null!=(e=a[m]);m++)if(c||b.ya(e))if(g=(f=e[l])&&n[f]){if(g.la)for(h in g.la)q[h]?b.event.remove(e,h):b.Qb(e,h,g.handle);n[f]&&(delete n[f],
r?delete e[l]:typeof e.removeAttribute!==z?e.removeAttribute(l):e[l]=null,L.push(f))}};var Ra,Ca,Ea,ib=/alpha\([^)]*\)/i,qc=/opacity\s*=\s*([^)]*)/,rc=/^(top|right|bottom|left)$/,sc=/^(none|table(?!-c[ea]).+)/,Fb=/^margin/,Tb=new RegExp("^("+Ma+")(.*)$","i"),Ya=new RegExp("^("+Ma+")(?!px)[a-z%]+$","i"),tc=new RegExp("^([+-])=("+Ma+")","i"),ub={df:"block"},uc={position:"absolute",visibility:"hidden",display:"block"},Gb={letterSpacing:0,fontWeight:400},Ba=["Top","Right","Bottom","Left"],tb=["Webkit",
"O","Moz","ms"];b.prototype.css=function(a,e){return b.Z(this,function(a,d,e){var h,f={},g=0;if(b.isArray(d)){h=Ca(a);for(e=d.length;g<e;g++)f[d[g]]=b.css(a,d[g],!1,h);return f}return e!==c?b.style(a,d,e):b.css(a,d)},a,e,1<arguments.length)};b.prototype.show=function(){return R(this,!0)};b.prototype.hide=function(){return R(this)};b.cssHooks={opacity:{get:function(a,b){if(b){var c=Ea(a,"opacity");return""===c?"1":c}}}};b.qb={columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,
widows:!0,zIndex:!0,zoom:!0};b.Ea={"float":b.support.cssFloat?"cssFloat":"styleFloat"};b.style=function(a,e,h,f){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var g,m,l,n=b.Q(e),r=a.style;e=b.Ea[n]||(b.Ea[n]=E(r,n));l=b.cssHooks[e]||b.cssHooks[n];if(h!==c){if(m=typeof h,"string"===m&&(g=tc.exec(h))&&(h=(g[1]+1)*g[2]+parseFloat(b.css(a,e)),m="number"),!(null==h||"number"===m&&isNaN(h)||("number"!==m||b.qb[n]||(h+="px"),b.support.Md||""!==h||0!==e.indexOf("background")||(r[e]="inherit"),l&&"set"in
l&&(h=l.set(a,h,f))===c)))try{r[e]=h}catch(q){}}else return l&&"get"in l&&(g=l.get(a,!1,f))!==c?g:r[e]}};b.css=function(a,e,h,f){var g,m;m=b.Q(e);e=b.Ea[m]||(b.Ea[m]=E(a.style,m));(m=b.cssHooks[e]||b.cssHooks[m])&&"get"in m&&(g=m.get(a,!0,h));g===c&&(g=Ea(a,e,f));"normal"===g&&e in Gb&&(g=Gb[e]);return""===h||h?(a=parseFloat(g),!0===h||b.isNumeric(a)?a||0:g):g};b.bd=function(a,b,c,e){var h,f={};for(h in b)f[h]=a.style[h],a.style[h]=b[h];c=c.apply(a,e||[]);for(h in b)a.style[h]=f[h];return c};a.getComputedStyle?
(Ca=function(b){return a.getComputedStyle(b,null)},Ea=function(a,e,h){var f,g=(h=h||Ca(a))?h.getPropertyValue(e)||h[e]:c,m=a.style;h&&(""!==g||b.contains(a.ownerDocument,a)||(g=b.style(a,e)),Ya.test(g)&&Fb.test(e)&&(a=m.width,e=m.minWidth,f=m.maxWidth,m.minWidth=m.maxWidth=m.width=g,g=h.width,m.width=a,m.minWidth=e,m.maxWidth=f));return g}):J.documentElement.currentStyle&&(Ca=function(a){return a.currentStyle},Ea=function(a,b,e){var h,f,g=(e=e||Ca(a))?e[b]:c,m=a.style;null==g&&m&&m[b]&&(g=m[b]);if(Ya.test(g)&&
!rc.test(b)){e=m.left;if(f=(h=a.runtimeStyle)&&h.left)h.left=a.currentStyle.left;m.left="fontSize"===b?"1em":g;g=m.pixelLeft+"px";m.left=e;f&&(h.left=f)}return""===g?"auto":g});b.each(["height","width"],function(a,c){b.cssHooks[c]={get:function(a,d,e){if(d)return 0===a.offsetWidth&&sc.test(b.css(a,"display"))?b.bd(a,uc,function(){return U(a,c,e)}):U(a,c,e)},set:function(a,d,e){var h=e&&Ca(a);return Q(0,d,e?M(a,c,e,b.support.boxSizing&&"border-box"===b.css(a,"boxSizing",!1,h),h):0)}}});b.support.opacity||
(b.cssHooks.opacity={get:function(a,b){return qc.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":b?"1":""},set:function(a,c){var e=a.style,h=a.currentStyle,f=b.isNumeric(c)?"alpha(opacity="+100*c+")":"",g=h&&h.filter||e.filter||"";e.zoom=1;if((1<=c||""===c)&&""===b.trim(g.replace(ib,""))&&e.removeAttribute&&(e.removeAttribute("filter"),""===c||h&&!h.filter))return;e.filter=ib.test(g)?g.replace(ib,f):g+" "+f}});b(function(){b.support.Qc||(b.cssHooks.marginRight=
{get:function(a,c){if(c)return b.bd(a,{display:"inline-block"},Ea,[a,"marginRight"])}});!b.support.Mc&&b.prototype.position&&b.each(["top","left"],function(a,c){b.cssHooks[c]={get:function(a,d){if(d)return d=Ea(a,c),Ya.test(d)?b(a).position()[c]+"px":d}}})});b.J&&b.J.filters&&(b.J.filters.hidden=function(a){return 0>=a.offsetWidth&&0>=a.offsetHeight||!b.support.Ee&&"none"===(a.style&&a.style.display||b.css(a,"display"))},b.J.filters.visible=function(a){return!b.J.filters.hidden(a)});b.each({margin:"",
padding:"",border:"Width"},function(a,c){b.cssHooks[a+c]={expand:function(b){var e=0,h={};for(b="string"===typeof b?b.split(" "):[b];4>e;e++)h[a+Ba[e]+c]=b[e]||b[e-2]||b[0];return h}};Fb.test(a)||(b.cssHooks[a+c].set=Q)});var vc=/%20/g,Ub=/\[\]$/;b.param=function(a,e){function h(a,d){d=b.isFunction(d)?d():null==d?"":d;g[g.length]=encodeURIComponent(a)+"="+encodeURIComponent(d)}var f,g=[];e===c&&(e=b.ajaxSettings&&b.ajaxSettings.traditional);if(b.isArray(a)||a.jquery&&!b.isPlainObject(a))b.each(a,
function(){h(this.name,this.value)});else for(f in a)aa(f,a[f],e,h);return g.join("&").replace(vc,"+")};b.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,c){b.prototype[c]=function(a,b){return 0<arguments.length?this.on(c,null,a,b):this.trigger(c)}});var Ia,za,jb=b.now(),kb=/\?/,wc=/#.*$/,Hb=/([?&])_=[^&]*/,xc=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,
yc=/^(?:GET|HEAD)$/,zc=/^\/\//,Ib=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,Jb=b.prototype.load,Kb={},bb={},Lb="*/".concat("*");try{za=W.href}catch(Fc){za=J.createElement("a"),za.href="",za=za.href}Ia=Ib.exec(za.toLowerCase())||[];b.prototype.load=function(a,e,h){if("string"!==typeof a&&Jb)return Jb.apply(this,arguments);var f,g,m,l=this,n=a.indexOf(" ");0<=n&&(f=a.slice(n,a.length),a=a.slice(0,n));b.isFunction(e)?(h=e,e=c):e&&"object"===typeof e&&(m="POST");0<l.length&&b.ajax({url:a,type:m,dataType:"html",
data:e}).done(function(a){g=arguments;l.html(f?b("<div>").append(b.parseHTML(a)).find(f):a)}).complete(h&&function(a,b){l.each(h,g||[a.responseText,b,a])});return this};b.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(a,c){b.prototype[c]=function(a){return this.on(c,a)}});b.each(["get","post"],function(a,e){b[e]=function(a,d,h,f){b.isFunction(d)&&(f=f||h,h=d,d=c);return b.ajax({url:a,type:e,dataType:f,data:d,success:h})}});b.ic=0;b.lastModified={};b.tb={};
b.ajaxSettings={url:za,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Ia[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Lb,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",he:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,he:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":a.String,"text html":!0,"text json":b.parseJSON,
"text xml":b.parseXML},flatOptions:{url:!0,context:!0}};b.ajaxSetup=function(a,c){return c?v(v(a,b.ajaxSettings),c):v(b.ajaxSettings,a)};b.ajaxPrefilter=ca(Kb);b.jc=ca(bb);b.ajax=function(a,e){function h(a,d,e,f){var g,s,A,u,I=d;if(2!==E){E=2;n&&clearTimeout(n);q=c;l=f||"";O.readyState=0<a?4:0;if(e){u=p;f=O;var N,W,G,M,R=u.contents,Q=u.V,K=u.responseFields;for(M in K)M in e&&(f[K[M]]=e[M]);for(;"*"===Q[0];)Q.shift(),W===c&&(W=u.Ib||f.getResponseHeader("Content-Type"));if(W)for(M in R)if(R[M]&&R[M].test(W)){Q.unshift(M);
break}if(Q[0]in e)G=Q[0];else{for(M in e){if(!Q[0]||u.converters[M+" "+Q[0]]){G=M;break}N||(N=M)}G=G||N}G?(G!==Q[0]&&Q.unshift(G),u=e[G]):u=void 0}if(200<=a&&300>a||304===a)if(p.de&&((e=O.getResponseHeader("Last-Modified"))&&(b.lastModified[m]=e),(e=O.getResponseHeader("etag"))&&(b.tb[m]=e)),204===a)g=!0,I="nocontent";else if(304===a)g=!0,I="notmodified";else{a:{s=p;A=u;var y,w,I={};N=0;W=s.V.slice();G=W[0];s.Pd&&(A=s.Pd(A,s.dataType));if(W[1])for(w in s.converters)I[w.toLowerCase()]=s.converters[w];
for(;e=W[++N];)if("*"!==e){if("*"!==G&&G!==e){w=I[G+" "+e]||I["* "+e];if(!w)for(y in I)if(g=y.split(" "),g[1]===e&&(w=I[G+" "+g[0]]||I["* "+g[0]])){!0===w?w=I[y]:!0!==I[y]&&(e=g[0],W.splice(N--,0,e));break}if(!0!==w)if(w&&s["throws"])A=w(A);else try{A=w(A)}catch(Z){g={state:"parsererror",error:w?Z:"No conversion from "+G+" to "+e};break a}}G=e}g={state:"success",data:A}}I=g.state;s=g.data;A=g.error;g=!A}else if(A=I,a||!I)I="error",0>a&&(a=0);O.status=a;O.statusText=(d||I)+"";g?t.resolveWith(H,[s,
I,O]):t.rejectWith(H,[O,I,A]);O.ad(z);z=c;r&&v.trigger(g?"ajaxSuccess":"ajaxError",[O,p,g?s:A]);Y.fireWith(H,[O,I]);r&&(v.trigger("ajaxComplete",[O,p]),--b.ic||b.event.trigger("ajaxStop"))}}"object"===typeof a&&(e=a,a=c);e=e||{};var f,g,m,l,n,r,q,s,p=b.ajaxSetup({},e),H=p.context||p,v=p.context&&(H.nodeType||H.jquery)?b(H):b.event,t=b.Deferred(),Y=b.Callbacks("once memory"),z=p.ad||{},A={},u={},E=0,I="canceled",O={readyState:0,getResponseHeader:function(a){var b;if(2===E){if(!s)for(s={};b=xc.exec(l);)s[b[1].toLowerCase()]=
b[2];b=s[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===E?l:null},setRequestHeader:function(a,b){var d=a.toLowerCase();E||(a=u[d]=u[d]||a,A[a]=b);return this},overrideMimeType:function(a){E||(p.Ib=a);return this},ad:function(a){var b;if(a)if(2>E)for(b in a)z[b]=[z[b],a[b]];else O.always(a[O.status]);return this},abort:function(a){a=a||I;q&&q.abort(a);h(0,a);return this}};t.promise(O).complete=Y.add;O.success=O.done;O.error=O.fail;p.url=((a||p.url||za)+"").replace(wc,
"").replace(zc,Ia[1]+"//");p.type=e.method||e.type||p.method||p.type;p.V=b.trim(p.dataType||"*").toLowerCase().match(Da)||[""];null==p.ra&&(f=Ib.exec(p.url.toLowerCase()),p.ra=!(!f||f[1]===Ia[1]&&f[2]===Ia[2]&&(f[3]||("http:"===f[1]?80:443))==(Ia[3]||("http:"===Ia[1]?80:443))));p.data&&p.processData&&"string"!==typeof p.data&&(p.data=b.param(p.data,p.traditional));V(Kb,p,e,O);if(2===E)return O;(r=p.global)&&0===b.ic++&&b.event.trigger("ajaxStart");p.type=p.type.toUpperCase();p.Bb=!yc.test(p.type);
m=p.url;p.Bb||(p.data&&(m=p.url+=(kb.test(m)?"&":"?")+p.data,delete p.data),!1===p.k&&(p.url=Hb.test(m)?m.replace(Hb,"$1_="+jb++):m+(kb.test(m)?"&":"?")+"_="+jb++));p.de&&(b.lastModified[m]&&O.setRequestHeader("If-Modified-Since",b.lastModified[m]),b.tb[m]&&O.setRequestHeader("If-None-Match",b.tb[m]));(p.data&&p.Bb&&!1!==p.contentType||e.contentType)&&O.setRequestHeader("Content-Type",p.contentType);O.setRequestHeader("Accept",p.V[0]&&p.accepts[p.V[0]]?p.accepts[p.V[0]]+("*"!==p.V[0]?", "+Lb+"; q=0.01":
""):p.accepts["*"]);for(g in p.headers)O.setRequestHeader(g,p.headers[g]);if(p.Id&&(!1===p.Id.call(H,O,p)||2===E))return O.abort();I="abort";for(g in{success:1,error:1,complete:1})O[g](p[g]);if(q=V(bb,p,e,O)){O.readyState=1;r&&v.trigger("ajaxSend",[O,p]);p.async&&0<p.timeout&&(n=setTimeout(function(){O.abort("timeout")},p.timeout));try{E=1,q.send(A,h)}catch(W){if(2>E)h(-1,W);else throw W;}}else h(-1,"No Transport");return O};b.getScript=function(a,e){return b.get(a,c,e,"script")};b.getJSON=function(a,
e,c){return b.get(a,e,c,"json")};b.ajaxSetup({accepts:{Ke:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{Ke:/(?:java|ecma)script/},converters:{"text script":function(a){b.globalEval(a);return a}}});b.ajaxPrefilter("script",function(a){a.k===c&&(a.k=!1);a.ra&&(a.type="GET",a.global=!1)});b.jc("script",function(a){if(a.ra){var e,h=J.head||b("head")[0]||J.documentElement;return{send:function(b,c){e=J.createElement("script");e.async=!0;a.Le&&(e.charset=
a.Le);e.src=a.url;e.onload=e.onreadystatechange=function(a,b){if(b||!e.readyState||/loaded|complete/.test(e.readyState))e.onload=e.onreadystatechange=null,e.parentNode&&e.parentNode.removeChild(e),e=null,b||c(200,"success")};h.insertBefore(e,h.firstChild)},abort:function(){if(e)e.onload(c,!0)}}}});var Mb=[],lb=/(=)\?(?=&|$)|\?\?/;b.ajaxSetup({Fb:"callback",sa:function(){var a=Mb.pop()||b.expando+"_"+jb++;this[a]=!0;return a}});b.ajaxPrefilter("json jsonp",function(d,e,h){var f,g,m,l=!1!==d.Fb&&(lb.test(d.url)?
"url":"string"===typeof d.data&&!(d.contentType||"").indexOf("application/x-www-form-urlencoded")&&lb.test(d.data)&&"data");if(l||"jsonp"===d.V[0])return f=d.sa=b.isFunction(d.sa)?d.sa():d.sa,l?d[l]=d[l].replace(lb,"$1"+f):!1!==d.Fb&&(d.url+=(kb.test(d.url)?"&":"?")+d.Fb+"="+f),d.converters["script json"]=function(){m||b.error(f+" was not called");return m[0]},d.V[0]="json",g=a[f],a[f]=function(){m=arguments},h.always(function(){a[f]=g;d[f]&&(d.sa=e.sa,Mb.push(f));m&&b.isFunction(g)&&g(m[0]);m=g=
c}),"script"});var Oa,Ta,Ac=0,mb=a.ActiveXObject&&function(){for(var a in Oa)Oa[a](c,!0)};b.ajaxSettings.xhr=a.ActiveXObject?function(){var b;if(!(b=!this.isLocal&&ea()))a:{try{b=new a.ActiveXObject("Microsoft.XMLHTTP");break a}catch(e){}b=void 0}return b}:ea;Ta=b.ajaxSettings.xhr();b.support.cors=!!Ta&&"withCredentials"in Ta;(Ta=b.support.ajax=!!Ta)&&b.jc(function(d){if(!d.ra||b.support.cors){var e;return{send:function(h,f){var g,m,l=d.xhr();d.Ze?l.open(d.type,d.url,d.async,d.Ze,d.xe):l.open(d.type,
d.url,d.async);if(d.hd)for(m in d.hd)l[m]=d.hd[m];d.Ib&&l.overrideMimeType&&l.overrideMimeType(d.Ib);d.ra||h["X-Requested-With"]||(h["X-Requested-With"]="XMLHttpRequest");try{for(m in h)l.setRequestHeader(m,h[m])}catch(n){}l.send(d.Bb&&d.data||null);e=function(a,h){var m,n,r,p;try{if(e&&(h||4===l.readyState))if(e=c,g&&(l.onreadystatechange=b.noop,mb&&delete Oa[g]),h)4!==l.readyState&&l.abort();else{p={};m=l.status;n=l.getAllResponseHeaders();"string"===typeof l.responseText&&(p.text=l.responseText);
try{r=l.statusText}catch(q){r=""}m||!d.isLocal||d.ra?1223===m&&(m=204):m=p.text?200:404}}catch(s){h||f(-1,s)}p&&f(m,r,p,n)};d.async?4===l.readyState?setTimeout(e):(g=++Ac,mb&&(Oa||(Oa={},b(a).unload(mb)),Oa[g]=e),l.onreadystatechange=e):e()},abort:function(){e&&e(c,!0)}}}});var La,$a,Bc=/^(?:toggle|show|hide)$/,Cc=new RegExp("^(?:([+-])=|)("+Ma+")([a-z%]*)$","i"),Dc=/queueHooks$/,Za=[function(a,e,c){var h,f,g,m,l,n,r=this,p=a.style,q={},s=[],H=a.nodeType&&I(a);c.queue||(l=b.nb(a,"fx"),null==l.hb&&
(l.hb=0,n=l.empty.fire,l.empty.fire=function(){l.hb||n()}),l.hb++,r.always(function(){r.always(function(){l.hb--;b.queue(a,"fx").length||l.empty.fire()})}));1===a.nodeType&&("height"in e||"width"in e)&&(c.overflow=[p.overflow,p.overflowX,p.overflowY],"inline"===b.css(a,"display")&&"none"===b.css(a,"float")&&(b.support.Db&&"inline"!==O(a.nodeName)?p.zoom=1:p.display="inline-block"));c.overflow&&(p.overflow="hidden",b.support.Wc||r.always(function(){p.overflow=c.overflow[0];p.overflowX=c.overflow[1];
p.overflowY=c.overflow[2]}));for(f in e)g=e[f],Bc.exec(g)&&(delete e[f],h=h||"toggle"===g,g!==(H?"hide":"show")&&s.push(f));if(e=s.length)for(g=b.e(a,"fxshow")||b.e(a,"fxshow",{}),("hidden"in g)&&(H=g.hidden),h&&(g.hidden=!H),H?b(a).show():r.done(function(){b(a).hide()}),r.done(function(){var e;b.Oa(a,"fxshow");for(e in q)b.style(a,e,q[e])}),f=0;f<e;f++)h=s[f],m=r.rc(h,H?g[h]:0),q[h]=g[h]||b.style(a,h),h in g||(g[h]=m.start,H&&(m.end=m.start,m.start="width"===h||"height"===h?1:0))}],Sa={"*":[function(a,
e){var c,h,f=this.rc(a,e),g=Cc.exec(e),m=f.ka(),l=+m||0,n=1,r=20;if(g){c=+g[2];h=g[3]||(b.qb[a]?"":"px");if("px"!==h&&l){l=b.css(f.elem,a,!0)||c||1;do n=n||".5",l/=n,b.style(f.elem,a,l+h);while(n!==(n=f.ka()/m)&&1!==n&&--r)}f.ed=h;f.start=l;f.end=g[1]?l+(g[1]+1)*c:c}return f}]};b.cf=function(){Z=Z||{};Z.wg=function(a,e){b.isFunction(a)?(e=a,a=["*"]):a=a.split(" ");for(var c,h=0,f=a.length;h<f;h++)c=a[h],Sa[c]=Sa[c]||[],Sa[c].unshift(e)};Z.hg=function(a,b){b?Za.unshift(a):Za.push(a)};return Z}.call(this);
b.td=P;P.prototype={constructor:P,ga:function(a,e,c,h,f,g){this.elem=a;this.prop=c;this.Ha=f||"swing";this.options=e;this.start=this.now=this.ka();this.end=h;this.ed=g||(b.qb[c]?"":"px")},ka:function(){var a=P.u[this.prop];return a&&a.get?a.get(this):P.u.ea.get(this)},Tc:function(a){var e=P.u[this.prop];a=this.options.duration?b.Ha[this.Ha](a,this.options.duration*a,0,1,this.options.duration):a;this.now=(this.end-this.start)*a+this.start;this.options.step&&this.options.step.call(this.elem,this.now,
this);e&&e.set?e.set(this):P.u.ea.set(this);return this}};P.prototype.ga.prototype=P.prototype;P.u={ea:{get:function(a){return null==a.elem[a.prop]||a.elem.style&&null!=a.elem.style[a.prop]?(a=b.css(a.elem,a.prop,""))&&"auto"!==a?a:0:a.elem[a.prop]},set:function(a){if(b.fx.step[a.prop])b.fx.step[a.prop](a);else a.elem.style&&(null!=a.elem.style[b.Ea[a.prop]]||b.cssHooks[a.prop])?b.style(a.elem,a.prop,a.now+a.ed):a.elem[a.prop]=a.now}}};P.u.scrollTop=P.u.scrollLeft={set:function(a){a.elem.nodeType&&
a.elem.parentNode&&(a.elem[a.prop]=a.now)}};b.each(["toggle","show","hide"],function(a,e){var c=b.prototype[e];b.prototype[e]=function(a,b,d){return null==a||"boolean"===typeof a?c.apply(this,arguments):this.animate(X(e,!0),a,b,d)}});b.prototype.animate=function(a,e,c,h){function f(){var e=Z(this,b.extend({},a),m);f.finish=function(){e.stop(!0)};(g||b.e(this,"finish"))&&e.stop(!0)}var g=b.isEmptyObject(a),m=b.speed(e,c,h);f.finish=f;return g||!1===m.queue?this.each(f):this.queue(m.queue,f)};b.prototype.stop=
function(a,e,h){function f(a){var b=a.stop;delete a.stop;b(h)}"string"!==typeof a&&(h=e,e=a,a=c);e&&!1!==a&&this.queue(a||"fx",[]);return this.each(function(){var e=!0,c=null!=a&&a+"queueHooks",g=b.La,m=b.e(this);if(c)m[c]&&m[c].stop&&f(m[c]);else for(c in m)m[c]&&m[c].stop&&Dc.test(c)&&f(m[c]);for(c=g.length;c--;)g[c].elem!==this||null!=a&&g[c].queue!==a||(g[c].kc.stop(h),e=!1,g.splice(c,1));!e&&h||b.dequeue(this,a)})};b.prototype.finish=function(a){!1!==a&&(a=a||"fx");return this.each(function(){var e,
c=b.e(this),h=c[a+"queue"];e=c[a+"queueHooks"];var f=b.La,g=h?h.length:0;c.finish=!0;b.queue(this,a,[]);e&&e.ka&&e.ka.finish&&e.ka.finish.call(this);for(e=f.length;e--;)f[e].elem===this&&f[e].queue===a&&(f[e].kc.stop(!0),f.splice(e,1));for(e=0;e<g;e++)h[e]&&h[e].finish&&h[e].finish.call(this);delete c.finish})};b.each({slideDown:X("show"),slideUp:X("hide"),slideToggle:X("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,e){b.prototype[a]=function(a,
b,d){return this.animate(e,a,b,d)}});b.speed=function(a,e,c){var h=a&&"object"===typeof a?b.extend({},a):{complete:c||!c&&e||b.isFunction(a)&&a,duration:a,Ha:c&&e||e&&!b.isFunction(e)&&e};h.duration=b.fx.off?0:"number"===typeof h.duration?h.duration:h.duration in b.fx.Tb?b.fx.Tb[h.duration]:b.fx.Tb.ea;if(null==h.queue||!0===h.queue)h.queue="fx";h.Ic=h.complete;h.complete=function(){b.isFunction(h.Ic)&&h.Ic.call(this);h.queue&&b.dequeue(this,h.queue)};return h};b.Ha={Wf:function(a){return a},pg:function(a){return.5-
Math.cos(a*Math.PI)/2}};b.La=[];b.fx=P.prototype.ga;b.fx.We=function(){var a,e=b.La,h=0;for(La=b.now();h<e.length;h++)a=e[h],a()||e[h]!==a||e.splice(h--,1);e.length||b.fx.stop();La=c};b.fx.Xe=function(a){a()&&b.La.push(a)&&b.fx.start()};b.fx.interval=13;b.fx.start=function(){$a||($a=setInterval(b.fx.We,b.fx.interval))};b.fx.stop=function(){clearInterval($a);$a=null};b.fx.Tb={ng:600,Of:200,ea:400};b.fx.step={};b.J&&b.J.filters&&(b.J.filters.Cf=function(a){return b.grep(b.La,function(b){return a===
b.elem}).length});b.prototype.offset=function(a){if(arguments.length)return a===c?this:this.each(function(e){b.offset.Oe(this,a,e)});var e,h,f={top:0,left:0},g=(h=this[0])&&h.ownerDocument;if(g){e=g.documentElement;if(!b.contains(e,h))return f;typeof h.getBoundingClientRect!==z&&(f=h.getBoundingClientRect());h=ga(g);return{top:f.top+(h.pageYOffset||e.scrollTop)-(e.clientTop||0),left:f.left+(h.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}}};b.offset={Oe:function(a,e,c){var h=b.css(a,"position");"static"===
h&&(a.style.position="relative");var f=b(a),g=f.offset(),m=b.css(a,"top"),l=b.css(a,"left"),n={},r={};("absolute"===h||"fixed"===h)&&-1<b.inArray("auto",[m,l])?(r=f.position(),h=r.top,l=r.left):(h=parseFloat(m)||0,l=parseFloat(l)||0);b.isFunction(e)&&(e=e.call(a,c,g));null!=e.top&&(n.top=e.top-g.top+h);null!=e.left&&(n.left=e.left-g.left+l);"using"in e?e.yg.call(a,n):f.css(n)}};b.prototype.position=function(){if(this[0]){var a,e,c={top:0,left:0},h=this[0];"fixed"===b.css(h,"position")?e=h.getBoundingClientRect():
(a=this.offsetParent(),e=this.offset(),b.nodeName(a[0],"html")||(c=a.offset()),c.top+=b.css(a[0],"borderTopWidth",!0),c.left+=b.css(a[0],"borderLeftWidth",!0));return{top:e.top-c.top-b.css(h,"marginTop",!0),left:e.left-c.left-b.css(h,"marginLeft",!0)}}};b.prototype.offsetParent=function(){return this.map(function(){for(var a=this.offsetParent||J.documentElement;a&&!b.nodeName(a,"html")&&"static"===b.css(a,"position");)a=a.offsetParent;return a||J.documentElement})};b.each({scrollLeft:"pageXOffset",
scrollTop:"pageYOffset"},function(a,e){var h=/Y/.test(e);b.prototype[a]=function(f){return b.Z(this,function(a,d,f){var g=ga(a);if(f===c)return g?e in g?g[e]:g.document.documentElement[d]:a[d];g?g.scrollTo(h?b(g).scrollLeft():f,h?f:b(g).scrollTop()):a[d]=f},a,f,arguments.length,null)}});b.each({gf:"height",zf:"width"},function(a,e){b.each({padding:"inner"+a,content:e,"":"outer"+a},function(h,f){b.prototype[f]=function(f,g){var m=arguments.length&&(h||"boolean"!==typeof f),l=h||(!0===f||!0===g?"margin":
"border");return b.Z(this,function(e,h,f){return b.isWindow(e)?e.document.documentElement["client"+a]:9===e.nodeType?(h=e.documentElement,Math.max(e.body["scroll"+a],h["scroll"+a],e.body["offset"+a],h["offset"+a],h["client"+a])):f===c?b.css(e,h,l):b.style(e,h,f,l)},e,m?f:c,m,null)}})});a.jQuery=a.$=b;"function"===typeof define&&define.yd&&define.yd.jQuery&&define("jquery",[],function(){return b})})(window);WebMol=window.WebMol||{};
WebMol.createViewer=function(a,c){"string"===$.type(a)&&(a=$("#"+a));if(a){c=c||{};c.order||(c.order=["glmol","jmol"]);c.defaultcolors||(c.defaultcolors=WebMol.sc);for(var g=0;g<c.order.length;g++){var p=c.order[g],q=p+"Viewer";if("function"===typeof this[q])try{return new this[q](a,c.callback,c.defaultcolors)}catch(b){console.log("error with "+p+":"+b)}}alert("Unable to instantiate webmol viewer: "+c.order);return null}};
WebMol.download=function(a,c){var g="";if("pdb:"===a.substr(0,4)){g="pdb";a=a.substr(4).toUpperCase();if(!a.match(/^[1-9][A-Za-z0-9]{3}$/)){alert("Wrong PDB ID");return}uri="http://www.pdb.org/pdb/files/"+a+".pdb"}else if("cid:"==a.substr(0,4)){g="sdf";a=a.substr(4);if(!a.match(/^[1-9]+$/)){alert("Wrong Compound ID");return}uri="http://pubchem.ncbi.nlm.nih.gov/rest/pug/compound/cid/"+a+"/SDF?record_type=3d"}$.get(uri,function(a){c.addModel(a,g);c.zoomTo();c.render()});return null};
WebMol.vf={xf:1,hf:2,rf:3,sf:4};WebMol.X={k:{},color:function(a){if("undefined"!==typeof this.k[a])return this.k[a];var c=new WebMol.Color(a);return this.k[a]=c}};WebMol.Zf=function(a,c){var g=c.A;void 0!==g&&a.j.push(g.j[0])};WebMol.$f=function(a){return a.toString().replace(/^[^\/]+\/\*!?/,"").replace(/\*\/[^\/]+$/,"")};WebMol.qg=!1;WebMol.ld=0;WebMol.jd=1;WebMol.jb=2;WebMol.cc=0;WebMol.qd=1;WebMol.bf=2;WebMol.uf=3;WebMol.lf=4;WebMol.ef=5;WebMol.nf=0;WebMol.ff=1;WebMol.sd=2;WebMol.pd=0;
WebMol.kd=1;WebMol.yf=2;WebMol.mf=0;WebMol.kf=1;WebMol.af=2;WebMol.ud=function(){};WebMol.ac=1001;WebMol.nd=1006;WebMol.od=1008;WebMol.ec=1009;WebMol.dc=1021;WebMol=WebMol||{};
WebMol.bc=function(){var a={ke:function(a,r,t,l){function f(a,b,c,h,f,g){var l=new WebMol.Vector3;l.copy(m);var n=f;h&1<<f||!(h&1<<g)||(n=g);n&1&&c++;n&2&&b++;n&4&&a++;l.x+=u.x*a;l.y+=u.y*b;l.z+=u.z*c;a=(A*a+b)*D+c;if(e)return r.push(l),r.length-1;0>w[a]&&(w[a]=r.length,r.push(l));return w[a]}var s=!!l.Wd,m=l.hasOwnProperty("origin")&&l.origin.hasOwnProperty("x")?l.origin:{x:0,y:0,z:0},e=!!l.gd,n=l.oe||0,A=l.pe||0,D=l.qe||0;l=l.scale||1;var u=(new WebMol.Vector3(1,1,1)).multiplyScalar(l),w=new Int32Array(n*
A*D),C;l=0;for(C=w.length;l<C;++l)w[l]=-1;C=new Int32Array(12);var B=s?p:c,s=s?q:g;for(l=0;l<n-1;++l)for(var x=0;x<A-1;++x)for(var F=0;F<D-1;++F){for(var y=0,h=0;8>h;++h)y|=!!(a[(A*(l+((h&4)>>2))+x+((h&2)>>1))*D+F+(h&1)]&2)<<h;if(0!==y&&255!==y){var E=B[y];if(0!==E)for(h=s[y],E&1&&(C[0]=f(l,x,F,y,0,1)),E&2&&(C[1]=f(l,x,F,y,1,3)),E&4&&(C[2]=f(l,x,F,y,3,2)),E&8&&(C[3]=f(l,x,F,y,2,0)),E&16&&(C[4]=f(l,x,F,y,4,5)),E&32&&(C[5]=f(l,x,F,y,5,7)),E&64&&(C[6]=f(l,x,F,y,7,6)),E&128&&(C[7]=f(l,x,F,y,6,4)),E&256&&
(C[8]=f(l,x,F,y,0,4)),E&512&&(C[9]=f(l,x,F,y,1,5)),E&1024&&(C[10]=f(l,x,F,y,3,7)),E&2048&&(C[11]=f(l,x,F,y,2,6)),y=0;y<h.length;y+=3){var E=C[h[y]],I=C[h[y+1]],R=C[h[y+2]];e&&3<=y&&(r.push(r[E]),E=r.length-1,r.push(r[I]),I=r.length-1,r.push(r[R]),R=r.length-1);t.push(E);t.push(I);t.push(R)}}}},je:function(a,c,g){var l=Array(c.length),f,p,m,e;f=0;for(p=c.length;f<p;f++)l[f]={x:0,y:0,z:0};var n=Array(20),q;for(f=0;20>f;f++)n[f]=Array(c.length);f=0;for(p=c.length;f<p;f++)n[0][f]=0;f=0;for(p=g.length/
3;f<p;f++){var D=3*f,u=3*f+1,w=3*f+2;q=!0;m=0;for(e=n[0][g[D]];m<e;m++)if(g[u]==n[m+1][g[D]]){q=!1;break}q&&(n[0][g[D]]++,n[n[0][g[D]]][g[D]]=g[u]);q=!0;m=0;for(e=n[0][g[D]];m<e;m++)if(g[w]==n[m+1][g[D]]){q=!1;break}q&&(n[0][g[D]]++,n[n[0][g[D]]][g[D]]=g[w]);q=!0;m=0;for(e=n[0][g[u]];m<e;m++)if(g[D]==n[m+1][g[u]]){q=!1;break}q&&(n[0][g[u]]++,n[n[0][g[u]]][g[u]]=g[D]);q=!0;m=0;for(e=n[0][g[u]];m<e;m++)if(g[w]==n[m+1][g[u]]){q=!1;break}q&&(n[0][g[u]]++,n[n[0][g[u]]][g[u]]=g[w]);q=!0;for(m=0;m<n[0][g[w]];m++)if(g[D]==
n[m+1][g[w]]){q=!1;break}q&&(n[0][g[w]]++,n[n[0][g[w]]][g[w]]=g[D]);q=!0;m=0;for(e=n[0][g[w]];m<e;m++)if(g[u]==n[m+1][g[w]]){q=!1;break}q&&(n[0][g[w]]++,n[n[0][g[w]]][g[w]]=g[u])}for(g=0;g<a;g++){f=0;for(p=c.length;f<p;f++)if(3>n[0][f])l[f].x=c[f].x,l[f].y=c[f].y,l[f].z=c[f].z;else if(3==n[0][f]||4==n[0][f]){l[f].x=0;l[f].y=0;m=l[f].z=0;for(e=n[0][f];m<e;m++)l[f].x+=c[n[m+1][f]].x,l[f].y+=c[n[m+1][f]].y,l[f].z+=c[n[m+1][f]].z;l[f].x+=.5*c[f].x;l[f].y+=.5*c[f].y;l[f].z+=.5*c[f].z;l[f].x/=.5+n[0][f];
l[f].y/=.5+n[0][f];l[f].z/=.5+n[0][f]}else{l[f].x=0;l[f].y=0;m=l[f].z=0;for(e=n[0][f];m<e;m++)l[f].x+=c[n[m+1][f]].x,l[f].y+=c[n[m+1][f]].y,l[f].z+=c[n[m+1][f]].z;l[f].x+=1*c[f].x;l[f].y+=1*c[f].y;l[f].z+=1*c[f].z;l[f].x/=1+n[0][f];l[f].y/=1+n[0][f];l[f].z/=1+n[0][f]}f=0;for(p=c.length;f<p;f++)c[f].x=l[f].x,c[f].y=l[f].y,c[f].z=l[f].z}},Ud:[0,0,0,0,0,0,0,2816,0,0,0,1792,0,3328,3584,3840,0,0,0,138,0,21,0,134,0,0,0,652,0,2067,3865,3600,0,0,0,42,0,0,0,294,0,0,21,28,0,3875,1049,3360,0,168,162,170,0,645,
2475,2210,0,687,293,172,4010,3747,3497,3232,0,0,0,0,0,69,0,900,0,0,0,1792,138,131,1608,1920,0,81,0,2074,84,85,84,86,0,81,0,3676,330,1105,1881,1616,0,0,0,42,0,69,0,502,0,0,21,3580,138,2035,1273,1520,2816,104,2337,106,840,581,367,102,2816,3695,3429,3180,1898,1635,1385,1120,0,0,0,0,0,0,0,3910,0,0,69,588,42,2083,41,2880,0,0,0,1722,0,2293,4095,3830,0,255,757,764,2538,2291,3065,2800,0,0,81,338,0,3925,1119,3414,84,855,85,340,2130,2899,89,2384,1792,712,194,1162,4036,3781,3535,3270,708,719,197,204,3018,2755,
2505,2240,0,0,0,0,168,420,168,1958,162,162,676,2988,170,163,680,928,3328,3096,3328,3642,52,53,1855,1590,2340,2111,2869,2620,298,51,825,560,3584,3584,3090,3482,1668,1941,1183,1430,146,2975,2069,2460,154,915,153,400,3840,3592,3329,3082,1796,1541,1295,1030,2818,2575,2309,2060,778,515,265,0]},c=new Uint32Array(a.Ud),g=a.vg=[[],[],[],[],[],[],[],[11,9,8],[],[],[],[8,10,9],[],[10,8,11],[9,11,10],[8,10,9,8,11,10],[],[],[],[1,7,3],[],[4,2,0],[],[2,1,7],[],[],[],[2,7,3,2,9,7],[],[1,4,11,1,0,4],[3,8,0,11,9,
4,11,10,9],[4,11,9,11,10,9],[],[],[],[5,3,1],[],[],[],[2,5,8,2,1,5],[],[],[2,4,0],[3,2,4],[],[0,9,1,8,10,5,8,11,10],[3,4,0,3,10,4],[5,8,10,8,11,10],[],[3,5,7],[7,1,5],[1,7,3,1,5,7],[],[9,2,0,9,7,2],[0,3,8,1,7,11,1,5,7],[11,1,7,1,5,7],[],[9,1,0,5,3,2,5,7,3],[8,2,5,8,0,2],[2,5,3,5,7,3],[3,9,1,3,8,9,7,11,10,7,10,5],[9,1,0,10,7,11,10,5,7],[3,8,0,7,10,5,7,11,10],[11,5,7,11,10,5],[],[],[],[],[],[0,6,2],[],[7,2,9,7,9,8],[],[],[],[8,10,9],[7,1,3],[7,1,0],[6,9,3,6,10,9],[7,10,8,10,9,8],[],[6,0,4],[],[11,1,
4,11,3,1],[2,4,6],[2,0,4,2,4,6],[2,4,6],[1,4,2,4,6,2],[],[6,0,4],[],[2,11,3,6,9,4,6,10,9],[8,6,1,8,1,3],[10,0,6,0,4,6],[8,0,3,9,6,10,9,4,6],[10,4,6,10,9,4],[],[],[],[5,3,1],[],[0,6,2],[],[7,4,8,5,2,1,5,6,2],[],[],[2,4,0],[7,4,8,2,11,3,10,5,6],[7,1,3],[5,6,10,0,9,1,8,7,4],[5,6,10,7,0,3,7,4,0],[10,5,6,4,8,7],[9,11,8],[3,5,6],[0,5,11,0,11,8],[6,3,5,3,1,5],[3,9,6,3,8,9],[9,6,0,6,2,0],[0,3,8,2,5,6,2,1,5],[1,6,2,1,5,6],[9,11,8],[1,0,9,6,10,5,11,3,2],[6,10,5,2,8,0,2,11,8],[3,2,11,10,5,6],[10,5,6,9,3,8,9,
1,3],[0,9,1,5,6,10],[8,0,3,10,5,6],[10,5,6],[],[],[],[],[],[],[],[1,10,2,9,11,6,9,8,11],[],[],[6,0,2],[3,6,9,3,2,6],[3,5,1],[0,5,1,0,11,5],[0,3,5],[6,9,11,9,8,11],[],[],[],[4,5,9,7,1,10,7,3,1],[],[11,6,7,2,4,5,2,0,4],[11,6,7,8,0,3,1,10,2,9,4,5],[6,7,11,1,10,2,9,4,5],[],[4,1,0,4,5,1,6,7,3,6,3,2],[9,4,5,0,6,7,0,2,6],[4,5,9,6,3,2,6,7,3],[6,7,11,5,3,8,5,1,3],[6,7,11,4,1,0,4,5,1],[4,5,9,3,8,0,11,6,7],[9,4,5,7,11,6],[],[],[0,6,4],[8,6,4,8,1,6],[],[0,10,2,0,9,10,4,8,11,4,11,6],[10,2,1,6,0,3,6,4,0],[10,2,
1,11,4,8,11,6,4],[4,2,6],[1,0,9,2,4,8,2,6,4],[2,4,0,2,6,4],[8,2,4,2,6,4],[11,4,1,11,6,4],[0,9,1,4,11,6,4,8,11],[3,6,0,6,4,0],[8,6,4,8,11,6],[10,8,9],[6,3,9,6,7,3],[6,7,1],[10,7,1,7,3,1],[7,11,6,8,10,2,8,9,10],[11,6,7,10,0,9,10,2,0],[2,1,10,7,11,6,8,0,3],[1,10,2,6,7,11],[7,2,6,7,9,2],[1,0,9,3,6,7,3,2,6],[7,0,6,0,2,6],[2,7,3,2,6,7],[7,11,6,3,9,1,3,8,9],[9,1,0,11,6,7],[0,3,8,11,6,7],[11,6,7],[],[],[],[],[5,3,7],[8,5,2,8,7,5],[5,3,7],[1,10,2,5,8,7,5,9,8],[1,7,5],[1,7,5],[9,2,7,9,7,5],[11,3,2,8,5,9,8,
7,5],[1,3,7,1,7,5],[0,7,1,7,5,1],[9,3,5,3,7,5],[9,7,5,9,8,7],[8,10,11],[3,4,10,3,10,11],[8,10,11],[5,9,4,1,11,3,1,10,11],[2,4,5],[5,2,4,2,0,4],[0,3,8,5,9,4,10,2,1],[2,1,10,9,4,5],[2,8,5,2,11,8],[3,2,11,1,4,5,1,0,4],[9,4,5,8,2,11,8,0,2],[11,3,2,9,4,5],[8,5,3,5,1,3],[5,0,4,5,1,0],[3,8,0,4,5,9],[9,4,5],[11,9,10],[11,9,10],[1,11,4,1,10,11],[8,7,4,11,1,10,11,3,1],[2,7,9,2,9,10],[4,8,7,0,10,2,0,9,10],[2,1,10,0,7,4,0,3,7],[10,2,1,8,7,4],[1,7,4],[3,2,11,4,8,7,9,1,0],[11,4,2,4,0,2],[2,11,3,7,4,8],[4,1,7,1,
3,7],[1,0,9,8,7,4],[3,4,0,3,7,4],[8,7,4],[8,9,10,8,10,11],[3,9,11,9,10,11],[0,10,8,10,11,8],[10,3,1,10,11,3],[2,8,10,8,9,10],[9,2,0,9,10,2],[8,0,3,1,10,2],[10,2,1],[1,11,9,11,8,9],[11,3,2,0,9,1],[11,0,2,11,8,0],[11,3,2],[8,1,3,8,9,1],[9,1,0],[8,0,3],[]],p=[0,265,515,778,2060,2309,2575,2822,1030,1295,1541,1804,3082,3331,3593,3840,400,153,915,666,2460,2197,2975,2710,1430,1183,1941,1692,3482,3219,3993,3728,560,825,51,314,2620,2869,2111,2358,1590,1855,1077,1340,3642,3891,3129,3376,928,681,419,170,2988,
2725,2479,2214,1958,1711,1445,1196,4010,3747,3497,3232,2240,2505,2755,3018,204,453,719,966,3270,3535,3781,4044,1226,1475,1737,1984,2384,2137,2899,2650,348,85,863,598,3414,3167,3925,3676,1370,1107,1881,1616,2800,3065,2291,2554,764,1013,255,502,3830,4095,3317,3580,1786,2035,1273,1520,2912,2665,2403,2154,876,613,367,102,3942,3695,3429,3180,1898,1635,1385,1120,1120,1385,1635,1898,3180,3429,3695,3942,102,367,613,876,2154,2403,2665,2912,1520,1273,2035,1786,3580,3317,4095,3830,502,255,1013,764,2554,2291,
3065,2800,1616,1881,1107,1370,3676,3925,3167,3414,598,863,85,348,2650,2899,2137,2384,1984,1737,1475,1226,4044,3781,3535,3270,966,719,453,204,3018,2755,2505,2240,3232,3497,3747,4010,1196,1445,1711,1958,2214,2479,2725,2988,170,419,681,928,3376,3129,3891,3642,1340,1077,1855,1590,2358,2111,2869,2620,314,51,825,560,3728,3993,3219,3482,1692,1941,1183,1430,2710,2975,2197,2460,666,915,153,400,3840,3593,3331,3082,1804,1541,1295,1030,2822,2575,2309,2060,778,515,265,0],q=[[],[8,3,0],[9,0,1],[8,3,1,8,1,9],[11,
2,3],[11,2,0,11,0,8],[11,2,3,0,1,9],[2,1,11,1,9,11,11,9,8],[10,1,2],[8,3,0,1,2,10],[9,0,2,9,2,10],[3,2,8,2,10,8,8,10,9],[10,1,3,10,3,11],[1,0,10,0,8,10,10,8,11],[0,3,9,3,11,9,9,11,10],[8,10,9,8,11,10],[8,4,7],[3,0,4,3,4,7],[1,9,0,8,4,7],[9,4,1,4,7,1,1,7,3],[2,3,11,7,8,4],[7,11,4,11,2,4,4,2,0],[3,11,2,4,7,8,9,0,1],[2,7,11,2,1,7,1,4,7,1,9,4],[10,1,2,8,4,7],[2,10,1,0,4,7,0,7,3],[4,7,8,0,2,10,0,10,9],[2,7,3,2,9,7,7,9,4,2,10,9],[8,4,7,11,10,1,11,1,3],[11,4,7,1,4,11,1,11,10,1,0,4],[3,8,0,7,11,4,11,9,4,
11,10,9],[7,11,4,4,11,9,11,10,9],[9,5,4],[3,0,8,4,9,5],[5,4,0,5,0,1],[4,8,5,8,3,5,5,3,1],[11,2,3,9,5,4],[9,5,4,8,11,2,8,2,0],[3,11,2,1,5,4,1,4,0],[8,5,4,2,5,8,2,8,11,2,1,5],[2,10,1,9,5,4],[0,8,3,5,4,9,10,1,2],[10,5,2,5,4,2,2,4,0],[3,4,8,3,2,4,2,5,4,2,10,5],[5,4,9,1,3,11,1,11,10],[0,9,1,4,8,5,8,10,5,8,11,10],[3,4,0,3,10,4,4,10,5,3,11,10],[4,8,5,5,8,10,8,11,10],[9,5,7,9,7,8],[0,9,3,9,5,3,3,5,7],[8,0,7,0,1,7,7,1,5],[1,7,3,1,5,7],[11,2,3,8,9,5,8,5,7],[9,2,0,9,7,2,2,7,11,9,5,7],[0,3,8,2,1,11,1,7,11,1,
5,7],[2,1,11,11,1,7,1,5,7],[1,2,10,5,7,8,5,8,9],[9,1,0,10,5,2,5,3,2,5,7,3],[5,2,10,8,2,5,8,5,7,8,0,2],[10,5,2,2,5,3,5,7,3],[3,9,1,3,8,9,7,11,10,7,10,5],[9,1,0,10,7,11,10,5,7],[3,8,0,7,10,5,7,11,10],[11,5,7,11,10,5],[11,7,6],[0,8,3,11,7,6],[9,0,1,11,7,6],[7,6,11,3,1,9,3,9,8],[2,3,7,2,7,6],[8,7,0,7,6,0,0,6,2],[1,9,0,3,7,6,3,6,2],[7,6,2,7,2,9,2,1,9,7,9,8],[1,2,10,6,11,7],[2,10,1,7,6,11,8,3,0],[11,7,6,10,9,0,10,0,2],[7,6,11,3,2,8,8,2,10,8,10,9],[6,10,7,10,1,7,7,1,3],[6,10,1,6,1,7,7,1,0,7,0,8],[9,0,3,
6,9,3,6,10,9,6,3,7],[6,10,7,7,10,8,10,9,8],[8,4,6,8,6,11],[11,3,6,3,0,6,6,0,4],[0,1,9,4,6,11,4,11,8],[1,9,4,11,1,4,11,3,1,11,4,6],[3,8,2,8,4,2,2,4,6],[2,0,4,2,4,6],[1,9,0,3,8,2,2,8,4,2,4,6],[9,4,1,1,4,2,4,6,2],[10,1,2,11,8,4,11,4,6],[10,1,2,11,3,6,6,3,0,6,0,4],[0,2,10,0,10,9,4,11,8,4,6,11],[2,11,3,6,9,4,6,10,9],[8,4,6,8,6,1,6,10,1,8,1,3],[1,0,10,10,0,6,0,4,6],[8,0,3,9,6,10,9,4,6],[10,4,6,10,9,4],[9,5,4,7,6,11],[4,9,5,3,0,8,11,7,6],[6,11,7,4,0,1,4,1,5],[6,11,7,4,8,5,5,8,3,5,3,1],[4,9,5,6,2,3,6,3,7],
[9,5,4,8,7,0,0,7,6,0,6,2],[4,0,1,4,1,5,6,3,7,6,2,3],[7,4,8,5,2,1,5,6,2],[6,11,7,1,2,10,9,5,4],[11,7,6,8,3,0,1,2,10,9,5,4],[11,7,6,10,5,2,2,5,4,2,4,0],[7,4,8,2,11,3,10,5,6],[4,9,5,6,10,7,7,10,1,7,1,3],[5,6,10,0,9,1,8,7,4],[5,6,10,7,0,3,7,4,0],[10,5,6,4,8,7],[5,6,9,6,11,9,9,11,8],[0,9,5,0,5,3,3,5,6,3,6,11],[0,1,5,0,5,11,5,6,11,0,11,8],[11,3,6,6,3,5,3,1,5],[9,5,6,3,9,6,3,8,9,3,6,2],[5,6,9,9,6,0,6,2,0],[0,3,8,2,5,6,2,1,5],[1,6,2,1,5,6],[1,2,10,5,6,9,9,6,11,9,11,8],[1,0,9,6,10,5,11,3,2],[6,10,5,2,8,0,
2,11,8],[3,2,11,10,5,6],[10,5,6,9,3,8,9,1,3],[0,9,1,5,6,10],[8,0,3,10,5,6],[10,5,6],[10,6,5],[8,3,0,10,6,5],[0,1,9,5,10,6],[10,6,5,9,8,3,9,3,1],[3,11,2,10,6,5],[6,5,10,2,0,8,2,8,11],[1,9,0,6,5,10,11,2,3],[1,10,2,5,9,6,9,11,6,9,8,11],[1,2,6,1,6,5],[0,8,3,2,6,5,2,5,1],[5,9,6,9,0,6,6,0,2],[9,6,5,3,6,9,3,9,8,3,2,6],[11,6,3,6,5,3,3,5,1],[0,5,1,0,11,5,5,11,6,0,8,11],[0,5,9,0,3,5,3,6,5,3,11,6],[5,9,6,6,9,11,9,8,11],[10,6,5,4,7,8],[5,10,6,7,3,0,7,0,4],[5,10,6,0,1,9,8,4,7],[4,5,9,6,7,10,7,1,10,7,3,1],[7,8,
4,2,3,11,10,6,5],[11,6,7,10,2,5,2,4,5,2,0,4],[11,6,7,8,0,3,1,10,2,9,4,5],[6,7,11,1,10,2,9,4,5],[7,8,4,5,1,2,5,2,6],[4,1,0,4,5,1,6,7,3,6,3,2],[9,4,5,8,0,7,0,6,7,0,2,6],[4,5,9,6,3,2,6,7,3],[6,7,11,4,5,8,5,3,8,5,1,3],[6,7,11,4,1,0,4,5,1],[4,5,9,3,8,0,11,6,7],[9,4,5,7,11,6],[10,6,4,10,4,9],[8,3,0,9,10,6,9,6,4],[1,10,0,10,6,0,0,6,4],[8,6,4,8,1,6,6,1,10,8,3,1],[2,3,11,6,4,9,6,9,10],[0,10,2,0,9,10,4,8,11,4,11,6],[10,2,1,11,6,3,6,0,3,6,4,0],[10,2,1,11,4,8,11,6,4],[9,1,4,1,2,4,4,2,6],[1,0,9,3,2,8,2,4,8,2,
6,4],[2,4,0,2,6,4],[3,2,8,8,2,4,2,6,4],[1,4,9,11,4,1,11,1,3,11,6,4],[0,9,1,4,11,6,4,8,11],[11,6,3,3,6,0,6,4,0],[8,6,4,8,11,6],[6,7,10,7,8,10,10,8,9],[9,3,0,6,3,9,6,9,10,6,7,3],[6,1,10,6,7,1,7,0,1,7,8,0],[6,7,10,10,7,1,7,3,1],[7,11,6,3,8,2,8,10,2,8,9,10],[11,6,7,10,0,9,10,2,0],[2,1,10,7,11,6,8,0,3],[1,10,2,6,7,11],[7,2,6,7,9,2,2,9,1,7,8,9],[1,0,9,3,6,7,3,2,6],[8,0,7,7,0,6,0,2,6],[2,7,3,2,6,7],[7,11,6,3,9,1,3,8,9],[9,1,0,11,6,7],[0,3,8,11,6,7],[11,6,7],[11,7,5,11,5,10],[3,0,8,7,5,10,7,10,11],[9,0,1,
10,11,7,10,7,5],[3,1,9,3,9,8,7,10,11,7,5,10],[10,2,5,2,3,5,5,3,7],[5,10,2,8,5,2,8,7,5,8,2,0],[9,0,1,10,2,5,5,2,3,5,3,7],[1,10,2,5,8,7,5,9,8],[2,11,1,11,7,1,1,7,5],[0,8,3,2,11,1,1,11,7,1,7,5],[9,0,2,9,2,7,2,11,7,9,7,5],[11,3,2,8,5,9,8,7,5],[1,3,7,1,7,5],[8,7,0,0,7,1,7,5,1],[0,3,9,9,3,5,3,7,5],[9,7,5,9,8,7],[4,5,8,5,10,8,8,10,11],[3,0,4,3,4,10,4,5,10,3,10,11],[0,1,9,4,5,8,8,5,10,8,10,11],[5,9,4,1,11,3,1,10,11],[3,8,4,3,4,2,2,4,5,2,5,10],[10,2,5,5,2,4,2,0,4],[0,3,8,5,9,4,10,2,1],[2,1,10,9,4,5],[8,4,
5,2,8,5,2,11,8,2,5,1],[3,2,11,1,4,5,1,0,4],[9,4,5,8,2,11,8,0,2],[11,3,2,9,4,5],[4,5,8,8,5,3,5,1,3],[5,0,4,5,1,0],[3,8,0,4,5,9],[9,4,5],[7,4,11,4,9,11,11,9,10],[3,0,8,7,4,11,11,4,9,11,9,10],[11,7,4,1,11,4,1,10,11,1,4,0],[8,7,4,11,1,10,11,3,1],[2,3,7,2,7,9,7,4,9,2,9,10],[4,8,7,0,10,2,0,9,10],[2,1,10,0,7,4,0,3,7],[10,2,1,8,7,4],[2,11,7,2,7,1,1,7,4,1,4,9],[3,2,11,4,8,7,9,1,0],[7,4,11,11,4,2,4,0,2],[2,11,3,7,4,8],[9,1,4,4,1,7,1,3,7],[1,0,9,8,7,4],[3,4,0,3,7,4],[8,7,4],[8,9,10,8,10,11],[0,9,3,3,9,11,9,
10,11],[1,10,0,0,10,8,10,11,8],[10,3,1,10,11,3],[3,8,2,2,8,10,8,9,10],[9,2,0,9,10,2],[8,0,3,1,10,2],[10,2,1],[2,11,1,1,11,9,11,8,9],[11,3,2,0,9,1],[11,0,2,11,8,0],[11,3,2],[8,1,3,8,9,1],[9,1,0],[8,0,3],[]];return a}();"undefined"===typeof console&&(console={log:function(){}});
WebMol.of=function(){new Int32Array([1,0,0]);new Int32Array([-1,0,0]);new Int32Array([0,1,0]);new Int32Array([0,-1,0]);new Int32Array([0,0,1]);new Int32Array([0,0,-1]);new Int32Array([1,1,0]);new Int32Array([1,-1,0]);new Int32Array([-1,1,0]);new Int32Array([-1,-1,0]);new Int32Array([1,0,1]);new Int32Array([1,0,-1]);new Int32Array([-1,0,1]);new Int32Array([-1,0,-1]);new Int32Array([0,1,1]);new Int32Array([0,1,-1]);new Int32Array([0,-1,1]);new Int32Array([0,-1,-1]);new Int32Array([1,1,1]);new Int32Array([1,
1,-1]);new Int32Array([1,-1,1]);new Int32Array([-1,1,1]);new Int32Array([1,-1,-1]);new Int32Array([-1,-1,1]);new Int32Array([-1,1,-1]);new Int32Array([-1,-1,-1])};WebMol.$e='self.onmessage=function(oEvent){var obj=oEvent.data,type=obj.type;if(0>type)self.atomData=obj.atoms,self.volume=obj.volume,self.ps=new ProteinSurface;else{var ps=self.ps;ps.initparm(obj.expandedExtent,1==type?!1:!0,self.volume),ps.fillvoxels(self.atomData,obj.extendedAtoms),ps.buildboundary(),(4===type||2===type)&&(ps.fastdistancemap(),ps.boundingatom(!1),ps.fillvoxelswaals(self.atomData,obj.extendedAtoms)),ps.marchingcube(type);var VandF=ps.getFacesAndVertices(obj.atomsToShow);self.postMessage(VandF)}};var Vector3=function(x,y,z){this.x=x||0,this.y=y||0,this.z=z||0};Vector3.prototype={constructor:Vector3,copy:function(v){return this.x=v.x,this.y=v.y,this.z=v.z,this},multiplyScalar:function(s){return this.x*=s,this.y*=s,this.z*=s,this}};var ISDONE=2,ProteinSurface=function (){var faces,verts,origextent,INOUT=1,ISDONE=2,ISBOUND=4,ptranx=0,ptrany=0,ptranz=0,probeRadius=1.4,defaultScaleFactor=2,scaleFactor=defaultScaleFactor,pHeight=0,pWidth=0,pLength=0,cutRadius=0,vpBits=null,vpDistance=null,vpAtomID=null,pminx=0,pminy=0,pminz=0,pmaxx=0,pmaxy=0,pmaxz=0,vdwRadii={H:1.2,Li:1.82,Na:2.27,K:2.75,C:1.7,N:1.55,O:1.52,F:1.47,P:1.8,S:1.8,CL:1.75,BR:1.85,SE:1.9,ZN:1.39,CU:1.4,NI:1.63,X:2},getVDWIndex=function(atom){return atom.elem&&"undefined"!=typeof vdwRadii[atom.elem]?atom.elem:"X"},depty={},widxz={},nb=[new Int32Array([1,0,0]),new Int32Array([-1,0,0]),new Int32Array([0,1,0]),new Int32Array([0,-1,0]),new Int32Array([0,0,1]),new Int32Array([0,0,-1]),new Int32Array([1,1,0]),new Int32Array([1,-1,0]),new Int32Array([-1,1,0]),new Int32Array([-1,-1,0]),new Int32Array([1,0,1]),new Int32Array([1,0,-1]),new Int32Array([-1,0,1]),new Int32Array([-1,0,-1]),new Int32Array([0,1,1]),new Int32Array([0,1,-1]),new Int32Array([0,-1,1]),new Int32Array([0,-1,-1]),new Int32Array([1,1,1]),new Int32Array([1,1,-1]),new Int32Array([1,-1,1]),new Int32Array([-1,1,1]),new Int32Array([1,-1,-1]),new Int32Array([-1,-1,1]),new Int32Array([-1,1,-1]),new Int32Array([-1,-1,-1])];this.getFacesAndVertices=function(atomlist){var i,il,atomsToShow={};for(i=0,il=atomlist.length;il>i;i++)atomsToShow[atomlist[i]]=!0;var vertices=verts;for(i=0,il=vertices.length;il>i;i++)vertices[i].x=vertices[i].x/scaleFactor-ptranx,vertices[i].y=vertices[i].y/scaleFactor-ptrany,vertices[i].z=vertices[i].z/scaleFactor-ptranz;var finalfaces=[];for(i=0,il=faces.length;il>i;i+=3){var fa=faces[i],fb=faces[i+1],fc=faces[i+2],a=vertices[fa].atomid,b=vertices[fb].atomid,c=vertices[fc].atomid,which=a;if(which>b&&(which=b),which>c&&(which=c),atomsToShow[which]){{vertices[faces[i]],vertices[faces[i+1]],vertices[faces[i+2]]}fa!==fb&&fb!==fc&&fa!==fc&&(finalfaces.push(fa),finalfaces.push(fb),finalfaces.push(fc))}}return vpBits=null,vpDistance=null,vpAtomID=null,{vertices:vertices,faces:finalfaces}},this.initparm=function(extent,btype,volume){volume>1e6&&(scaleFactor=defaultScaleFactor/2);var margin=1/scaleFactor*5.5;origextent=extent,pminx=extent[0][0],pmaxx=extent[1][0],pminy=extent[0][1],pmaxy=extent[1][1],pminz=extent[0][2],pmaxz=extent[1][2],btype?(pminx-=probeRadius+margin,pminy-=probeRadius+margin,pminz-=probeRadius+margin,pmaxx+=probeRadius+margin,pmaxy+=probeRadius+margin,pmaxz+=probeRadius+margin):(pminx-=margin,pminy-=margin,pminz-=margin,pmaxx+=margin,pmaxy+=margin,pmaxz+=margin),pminx=Math.floor(pminx*scaleFactor)/scaleFactor,pminy=Math.floor(pminy*scaleFactor)/scaleFactor,pminz=Math.floor(pminz*scaleFactor)/scaleFactor,pmaxx=Math.ceil(pmaxx*scaleFactor)/scaleFactor,pmaxy=Math.ceil(pmaxy*scaleFactor)/scaleFactor,pmaxz=Math.ceil(pmaxz*scaleFactor)/scaleFactor,ptranx=-pminx,ptrany=-pminy,ptranz=-pminz,pLength=Math.ceil(scaleFactor*(pmaxx-pminx))+1,pWidth=Math.ceil(scaleFactor*(pmaxy-pminy))+1,pHeight=Math.ceil(scaleFactor*(pmaxz-pminz))+1,this.boundingatom(btype),cutRadius=probeRadius*scaleFactor,vpBits=new Uint8Array(pLength*pWidth*pHeight),vpDistance=new Float64Array(pLength*pWidth*pHeight),vpAtomID=new Int32Array(pLength*pWidth*pHeight),console.log("Box size: ",pLength,pWidth,pHeight,vpBits.length)},this.boundingatom=function(btype){var txz,tdept,sradius,tradius=[];flagradius=btype;for(var i in vdwRadii)if(vdwRadii.hasOwnProperty(i)){var r=vdwRadii[i];for(tradius[i]=btype?(r+probeRadius)*scaleFactor+.5:r*scaleFactor+.5,sradius=tradius[i]*tradius[i],widxz[i]=Math.floor(tradius[i])+1,depty[i]=new Int32Array(widxz[i]*widxz[i]),indx=0,j=0;j<widxz[i];j++)for(k=0;k<widxz[i];k++)txz=j*j+k*k,txz>sradius?depty[i][indx]=-1:(tdept=Math.sqrt(sradius-txz),depty[i][indx]=Math.floor(tdept)),indx++}},this.fillvoxels=function(atoms,atomlist){var i,il;for(i=0,il=vpBits.length;il>i;i++)vpBits[i]=0,vpDistance[i]=-1,vpAtomID[i]=-1;for(i in atomlist){var atom=atoms[atomlist[i]];void 0!==atom&&this.fillAtom(atom,atoms)}for(i=0,il=vpBits.length;il>i;i++)vpBits[i]&INOUT&&(vpBits[i]|=ISDONE)},this.fillAtom=function(atom,atoms){var cx,cy,cz,ox,oy,oz,mi,mj,mk,i,j,k,si,sj,sk,ii,jj,kk,n;cx=Math.floor(.5+scaleFactor*(atom.x+ptranx)),cy=Math.floor(.5+scaleFactor*(atom.y+ptrany)),cz=Math.floor(.5+scaleFactor*(atom.z+ptranz));var at=getVDWIndex(atom),nind=0,pWH=pWidth*pHeight;for(i=0,n=widxz[at];n>i;i++)for(j=0;n>j;j++){if(-1!=depty[at][nind])for(ii=-1;2>ii;ii++)for(jj=-1;2>jj;jj++)for(kk=-1;2>kk;kk++)if(0!==ii&&0!==jj&&0!==kk)for(mi=ii*i,mk=kk*j,k=0;k<=depty[at][nind];k++)if(mj=k*jj,si=cx+mi,sj=cy+mj,sk=cz+mk,!(0>si||0>sj||0>sk||si>=pLength||sj>=pWidth||sk>=pHeight)){var index=si*pWH+sj*pHeight+sk;if(vpBits[index]&INOUT){var atom2=atoms[vpAtomID[index]];ox=Math.floor(.5+scaleFactor*(atom2.x+ptranx)),oy=Math.floor(.5+scaleFactor*(atom2.y+ptrany)),oz=Math.floor(.5+scaleFactor*(atom2.z+ptranz)),ox*ox+oy*oy+oz*oz>mi*mi+mj*mj+mk*mk&&(vpAtomID[index]=atom.serial)}else vpBits[index]|=INOUT,vpAtomID[index]=atom.serial}nind++}},this.fillvoxelswaals=function(atoms,atomlist){var i,il;for(i=0,il=vpBits.length;il>i;i++)vpBits[i]&=~ISDONE;for(i in atomlist){var atom=atoms[atomlist[i]];void 0!==atom&&this.fillAtomWaals(atom,atoms)}},this.fillAtomWaals=function(atom,atoms){var cx,cy,cz,ox,oy,oz,mi,mj,mk,si,sj,sk,i,j,k,ii,jj,kk,n,nind=0;cx=Math.floor(.5+scaleFactor*(atom.x+ptranx)),cy=Math.floor(.5+scaleFactor*(atom.y+ptrany)),cz=Math.floor(.5+scaleFactor*(atom.z+ptranz));var at=getVDWIndex(atom),pWH=pWidth*pHeight;for(i=0,n=widxz[at];n>i;i++)for(j=0;n>j;j++){if(-1!=depty[at][nind])for(ii=-1;2>ii;ii++)for(jj=-1;2>jj;jj++)for(kk=-1;2>kk;kk++)if(0!==ii&&0!==jj&&0!==kk)for(mi=ii*i,mk=kk*j,k=0;k<=depty[at][nind];k++)if(mj=k*jj,si=cx+mi,sj=cy+mj,sk=cz+mk,!(0>si||0>sj||0>sk||si>=pLength||sj>=pWidth||sk>=pHeight)){var index=si*pWH+sj*pHeight+sk;if(vpBits[index]&ISDONE){var atom2=atoms[vpAtomID[index]];ox=Math.floor(.5+scaleFactor*(atom2.x+ptranx)),oy=Math.floor(.5+scaleFactor*(atom2.y+ptrany)),oz=Math.floor(.5+scaleFactor*(atom2.z+ptranz)),ox*ox+oy*oy+oz*oz>mi*mi+mj*mj+mk*mk&&(vpAtomID[index]=atom.serial)}else vpBits[index]|=ISDONE,vpAtomID[index]=atom.serial}nind++}},this.buildboundary=function(){var pWH=pWidth*pHeight;for(i=0;pLength>i;i++)for(j=0;pHeight>j;j++)for(k=0;pWidth>k;k++){var index=i*pWH+k*pHeight+j;if(vpBits[index]&INOUT)for(var ii=0;26>ii;){var ti=i+nb[ii][0],tj=j+nb[ii][2],tk=k+nb[ii][1];if(ti>-1&&pLength>ti&&tk>-1&&pWidth>tk&&tj>-1&&pHeight>tj&&!(vpBits[ti*pWH+tk*pHeight+tj]&INOUT)){vpBits[index]|=ISBOUND;break}ii++}}};var PointGrid=function(length,width,height){var data=new Int32Array(length*width*height*3);this.set=function(x,y,z,pt){var index=3*((x*width+y)*height+z);data[index]=pt.ix,data[index+1]=pt.iy,data[index+2]=pt.iz},this.get=function(x,y,z){var index=3*((x*width+y)*height+z);return{ix:data[index],iy:data[index+1],iz:data[index+2]}}};this.fastdistancemap=function(){var i,j,k,n,index,boundPoint=new PointGrid(pLength,pWidth,pHeight),pWH=pWidth*pHeight,cutRSq=cutRadius*cutRadius,inarray=[],outarray=[];for(i=0;pLength>i;i++)for(j=0;pWidth>j;j++)for(k=0;pHeight>k;k++)if(index=i*pWH+j*pHeight+k,vpBits[index]&=~ISDONE,vpBits[index]&INOUT&&vpBits[index]&ISBOUND){var triple={ix:i,iy:j,iz:k};boundPoint.set(i,j,k,triple),inarray.push(triple),vpDistance[index]=0,vpBits[index]|=ISDONE,vpBits[index]&=~ISBOUND}do for(outarray=this.fastoneshell(inarray,boundPoint),inarray=[],i=0,n=outarray.length;n>i;i++)index=pWH*outarray[i].ix+pHeight*outarray[i].iy+outarray[i].iz,vpBits[index]&=~ISBOUND,vpDistance[index]<=1.0404*cutRSq&&inarray.push({ix:outarray[i].ix,iy:outarray[i].iy,iz:outarray[i].iz});while(0!==inarray.length);inarray=[],outarray=[],boundPoint=null;var cutsf=scaleFactor-.5;0>cutsf&&(cutsf=0);var cutoff=cutRSq-.5/(.1+cutsf);for(i=0;pLength>i;i++)for(j=0;pWidth>j;j++)for(k=0;pHeight>k;k++)index=i*pWH+j*pHeight+k,vpBits[index]&=~ISBOUND,vpBits[index]&INOUT&&(!(vpBits[index]&ISDONE)||vpBits[index]&ISDONE&&vpDistance[index]>=cutoff)&&(vpBits[index]|=ISBOUND)},this.fastoneshell=function(inarray,boundPoint){var tx,ty,tz,dx,dy,dz,i,j,n,square,bp,index,outarray=[];if(0===inarray.length)return outarray;tnv={ix:-1,iy:-1,iz:-1};var pWH=pWidth*pHeight;for(i=0,n=inarray.length;n>i;i++)for(tx=inarray[i].ix,ty=inarray[i].iy,tz=inarray[i].iz,bp=boundPoint.get(tx,ty,tz),j=0;6>j;j++)tnv.ix=tx+nb[j][0],tnv.iy=ty+nb[j][1],tnv.iz=tz+nb[j][2],tnv.ix<pLength&&tnv.ix>-1&&tnv.iy<pWidth&&tnv.iy>-1&&tnv.iz<pHeight&&tnv.iz>-1&&(index=tnv.ix*pWH+pHeight*tnv.iy+tnv.iz,vpBits[index]&INOUT&&!(vpBits[index]&ISDONE)?(boundPoint.set(tnv.ix,tnv.iy,tz+nb[j][2],bp),dx=tnv.ix-bp.ix,dy=tnv.iy-bp.iy,dz=tnv.iz-bp.iz,square=dx*dx+dy*dy+dz*dz,vpDistance[index]=square,vpBits[index]|=ISDONE,vpBits[index]|=ISBOUND,outarray.push({ix:tnv.ix,iy:tnv.iy,iz:tnv.iz})):vpBits[index]&INOUT&&vpBits[index]&ISDONE&&(dx=tnv.ix-bp.ix,dy=tnv.iy-bp.iy,dz=tnv.iz-bp.iz,square=dx*dx+dy*dy+dz*dz,square<vpDistance[index]&&(boundPoint.set(tnv.ix,tnv.iy,tnv.iz,bp),vpDistance[index]=square,vpBits[index]&ISBOUND||(vpBits[index]|=ISBOUND,outarray.push({ix:tnv.ix,iy:tnv.iy,iz:tnv.iz})))));for(i=0,n=inarray.length;n>i;i++)for(tx=inarray[i].ix,ty=inarray[i].iy,tz=inarray[i].iz,bp=boundPoint.get(tx,ty,tz),j=6;18>j;j++)tnv.ix=tx+nb[j][0],tnv.iy=ty+nb[j][1],tnv.iz=tz+nb[j][2],tnv.ix<pLength&&tnv.ix>-1&&tnv.iy<pWidth&&tnv.iy>-1&&tnv.iz<pHeight&&tnv.iz>-1&&(index=tnv.ix*pWH+pHeight*tnv.iy+tnv.iz,vpBits[index]&INOUT&&!(vpBits[index]&ISDONE)?(boundPoint.set(tnv.ix,tnv.iy,tz+nb[j][2],bp),dx=tnv.ix-bp.ix,dy=tnv.iy-bp.iy,dz=tnv.iz-bp.iz,square=dx*dx+dy*dy+dz*dz,vpDistance[index]=square,vpBits[index]|=ISDONE,vpBits[index]|=ISBOUND,outarray.push({ix:tnv.ix,iy:tnv.iy,iz:tnv.iz})):vpBits[index]&INOUT&&vpBits[index]&ISDONE&&(dx=tnv.ix-bp.ix,dy=tnv.iy-bp.iy,dz=tnv.iz-bp.iz,square=dx*dx+dy*dy+dz*dz,square<vpDistance[index]&&(boundPoint.set(tnv.ix,tnv.iy,tnv.iz,bp),vpDistance[index]=square,vpBits[index]&ISBOUND||(vpBits[index]|=ISBOUND,outarray.push({ix:tnv.ix,iy:tnv.iy,iz:tnv.iz})))));for(i=0,n=inarray.length;n>i;i++)for(tx=inarray[i].ix,ty=inarray[i].iy,tz=inarray[i].iz,bp=boundPoint.get(tx,ty,tz),j=18;26>j;j++)tnv.ix=tx+nb[j][0],tnv.iy=ty+nb[j][1],tnv.iz=tz+nb[j][2],tnv.ix<pLength&&tnv.ix>-1&&tnv.iy<pWidth&&tnv.iy>-1&&tnv.iz<pHeight&&tnv.iz>-1&&(index=tnv.ix*pWH+pHeight*tnv.iy+tnv.iz,vpBits[index]&INOUT&&!(vpBits[index]&ISDONE)?(boundPoint.set(tnv.ix,tnv.iy,tz+nb[j][2],bp),dx=tnv.ix-bp.ix,dy=tnv.iy-bp.iy,dz=tnv.iz-bp.iz,square=dx*dx+dy*dy+dz*dz,vpDistance[index]=square,vpBits[index]|=ISDONE,vpBits[index]|=ISBOUND,outarray.push({ix:tnv.ix,iy:tnv.iy,iz:tnv.iz})):vpBits[index]&INOUT&&vpBits[index]&ISDONE&&(dx=tnv.ix-bp.ix,dy=tnv.iy-bp.iy,dz=tnv.iz-bp.iz,square=dx*dx+dy*dy+dz*dz,square<vpDistance[index]&&(boundPoint.set(tnv.ix,tnv.iy,tnv.iz,bp),vpDistance[index]=square,vpBits[index]&ISBOUND||(vpBits[index]|=ISBOUND,outarray.push({ix:tnv.ix,iy:tnv.iy,iz:tnv.iz})))));return outarray},this.marchingcubeinit=function(stype){for(var i=0,lim=vpBits.length;lim>i;i++)1==stype?vpBits[i]&=~ISBOUND:4==stype?(vpBits[i]&=~ISDONE,vpBits[i]&ISBOUND&&(vpBits[i]|=ISDONE),vpBits[i]&=~ISBOUND):2==stype?vpBits[i]&ISBOUND&&vpBits[i]&ISDONE?vpBits[i]&=~ISBOUND:vpBits[i]&ISBOUND&&!(vpBits[i]&ISDONE)&&(vpBits[i]|=ISDONE):3==stype&&(vpBits[i]&=~ISBOUND)};this.marchingcube=function(stype){this.marchingcubeinit(stype),verts=[],faces=[],march(vpBits,verts,faces,{smooth:1,nX:pLength,nY:pWidth,nZ:pHeight});for(var pWH=pWidth*pHeight,i=0,vlen=verts.length;vlen>i;i++)verts[i].atomid=vpAtomID[verts[i].x*pWH+pHeight*verts[i].y+verts[i].z];laplacianSmooth(1,verts,faces)}},march=function (data,verts,faces,spec){var i,il,fulltable=!!spec.fulltable,origin=spec.hasOwnProperty("origin")&&spec.origin.hasOwnProperty("x")?spec.origin:{x:0,y:0,z:0},voxel=!!spec.voxel,nX=spec.nX||0,nY=spec.nY||0,nZ=spec.nZ||0,scale=spec.scale||1,unitCube=new Vector3(1,1,1).multiplyScalar(scale),vertnums=new Int32Array(nX*nY*nZ);for(i=0,il=vertnums.length;il>i;++i)vertnums[i]=-1;var getVertex=function(i,j,k,code,p1,p2){var pt=new Vector3;pt.copy(origin);var val1=!!(code&1<<p1),val2=!!(code&1<<p2),p=p1;!val1&&val2&&(p=p2),1&p&&k++,2&p&&j++,4&p&&i++,pt.x+=unitCube.x*i,pt.y+=unitCube.y*j,pt.z+=unitCube.z*k;var index=(nY*i+j)*nZ+k;return voxel?(verts.push(pt),verts.length-1):(vertnums[index]<0&&(vertnums[index]=verts.length,verts.push(pt)),vertnums[index])},intersects=new Int32Array(12),etable=fulltable?edgeTable2:edgeTable,tritable=fulltable?triTable2:triTable;for(i=0;nX-1>i;++i)for(var j=0;nY-1>j;++j)for(var k=0;nZ-1>k;++k){for(var code=0,p=0;8>p;++p){var index=(nY*(i+((4&p)>>2))+j+((2&p)>>1))*nZ+k+(1&p),val=!!(data[index]&ISDONE);code|=val<<p}if(0!==code&&255!==code){var ecode=etable[code];if(0!==ecode){var ttable=tritable[code];1&ecode&&(intersects[0]=getVertex(i,j,k,code,0,1)),2&ecode&&(intersects[1]=getVertex(i,j,k,code,1,3)),4&ecode&&(intersects[2]=getVertex(i,j,k,code,3,2)),8&ecode&&(intersects[3]=getVertex(i,j,k,code,2,0)),16&ecode&&(intersects[4]=getVertex(i,j,k,code,4,5)),32&ecode&&(intersects[5]=getVertex(i,j,k,code,5,7)),64&ecode&&(intersects[6]=getVertex(i,j,k,code,7,6)),128&ecode&&(intersects[7]=getVertex(i,j,k,code,6,4)),256&ecode&&(intersects[8]=getVertex(i,j,k,code,0,4)),512&ecode&&(intersects[9]=getVertex(i,j,k,code,1,5)),1024&ecode&&(intersects[10]=getVertex(i,j,k,code,3,7)),2048&ecode&&(intersects[11]=getVertex(i,j,k,code,2,6));for(var t=0;t<ttable.length;t+=3){var a=intersects[ttable[t]],b=intersects[ttable[t+1]],c=intersects[ttable[t+2]];voxel&&t>=3&&(verts.push(verts[a]),a=verts.length-1,verts.push(verts[b]),b=verts.length-1,verts.push(verts[c]),c=verts.length-1),faces.push(a),faces.push(b),faces.push(c)}}}}},laplacianSmooth=function (numiter,verts,faces){var i,il,j,jl,k,tps=new Array(verts.length);for(i=0,il=verts.length;il>i;i++)tps[i]={x:0,y:0,z:0};var flagvert,vertdeg=new Array(20);for(i=0;20>i;i++)vertdeg[i]=new Array(verts.length);for(i=0,il=verts.length;il>i;i++)vertdeg[0][i]=0;for(i=0,il=faces.length/3;il>i;i++){var aoffset=3*i,boffset=3*i+1,coffset=3*i+2;for(flagvert=!0,j=0,jl=vertdeg[0][faces[aoffset]];jl>j;j++)if(faces[boffset]==vertdeg[j+1][faces[aoffset]]){flagvert=!1;break}for(flagvert&&(vertdeg[0][faces[aoffset]]++,vertdeg[vertdeg[0][faces[aoffset]]][faces[aoffset]]=faces[boffset]),flagvert=!0,j=0,jl=vertdeg[0][faces[aoffset]];jl>j;j++)if(faces[coffset]==vertdeg[j+1][faces[aoffset]]){flagvert=!1;break}for(flagvert&&(vertdeg[0][faces[aoffset]]++,vertdeg[vertdeg[0][faces[aoffset]]][faces[aoffset]]=faces[coffset]),flagvert=!0,j=0,jl=vertdeg[0][faces[boffset]];jl>j;j++)if(faces[aoffset]==vertdeg[j+1][faces[boffset]]){flagvert=!1;break}for(flagvert&&(vertdeg[0][faces[boffset]]++,vertdeg[vertdeg[0][faces[boffset]]][faces[boffset]]=faces[aoffset]),flagvert=!0,j=0,jl=vertdeg[0][faces[boffset]];jl>j;j++)if(faces[coffset]==vertdeg[j+1][faces[boffset]]){flagvert=!1;break}for(flagvert&&(vertdeg[0][faces[boffset]]++,vertdeg[vertdeg[0][faces[boffset]]][faces[boffset]]=faces[coffset]),flagvert=!0,j=0;j<vertdeg[0][faces[coffset]];j++)if(faces[aoffset]==vertdeg[j+1][faces[coffset]]){flagvert=!1;break}for(flagvert&&(vertdeg[0][faces[coffset]]++,vertdeg[vertdeg[0][faces[coffset]]][faces[coffset]]=faces[aoffset]),flagvert=!0,j=0,jl=vertdeg[0][faces[coffset]];jl>j;j++)if(faces[boffset]==vertdeg[j+1][faces[coffset]]){flagvert=!1;break}flagvert&&(vertdeg[0][faces[coffset]]++,vertdeg[vertdeg[0][faces[coffset]]][faces[coffset]]=faces[boffset])}var wt=1,wt2=.5;for(k=0;numiter>k;k++){for(i=0,il=verts.length;il>i;i++)if(vertdeg[0][i]<3)tps[i].x=verts[i].x,tps[i].y=verts[i].y,tps[i].z=verts[i].z;else if(3==vertdeg[0][i]||4==vertdeg[0][i]){for(tps[i].x=0,tps[i].y=0,tps[i].z=0,j=0,jl=vertdeg[0][i];jl>j;j++)tps[i].x+=verts[vertdeg[j+1][i]].x,tps[i].y+=verts[vertdeg[j+1][i]].y,tps[i].z+=verts[vertdeg[j+1][i]].z;tps[i].x+=wt2*verts[i].x,tps[i].y+=wt2*verts[i].y,tps[i].z+=wt2*verts[i].z,tps[i].x/=wt2+vertdeg[0][i],tps[i].y/=wt2+vertdeg[0][i],tps[i].z/=wt2+vertdeg[0][i]}else{for(tps[i].x=0,tps[i].y=0,tps[i].z=0,j=0,jl=vertdeg[0][i];jl>j;j++)tps[i].x+=verts[vertdeg[j+1][i]].x,tps[i].y+=verts[vertdeg[j+1][i]].y,tps[i].z+=verts[vertdeg[j+1][i]].z;tps[i].x+=wt*verts[i].x,tps[i].y+=wt*verts[i].y,tps[i].z+=wt*verts[i].z,tps[i].x/=wt+vertdeg[0][i],tps[i].y/=wt+vertdeg[0][i],tps[i].z/=wt+vertdeg[0][i]}for(i=0,il=verts.length;il>i;i++)verts[i].x=tps[i].x,verts[i].y=tps[i].y,verts[i].z=tps[i].z}},edgeTable=new Uint32Array([0,0,0,0,0,0,0,2816,0,0,0,1792,0,3328,3584,3840,0,0,0,138,0,21,0,134,0,0,0,652,0,2067,3865,3600,0,0,0,42,0,0,0,294,0,0,21,28,0,3875,1049,3360,0,168,162,170,0,645,2475,2210,0,687,293,172,4010,3747,3497,3232,0,0,0,0,0,69,0,900,0,0,0,1792,138,131,1608,1920,0,81,0,2074,84,85,84,86,0,81,0,3676,330,1105,1881,1616,0,0,0,42,0,69,0,502,0,0,21,3580,138,2035,1273,1520,2816,104,2337,106,840,581,367,102,2816,3695,3429,3180,1898,1635,1385,1120,0,0,0,0,0,0,0,3910,0,0,69,588,42,2083,41,2880,0,0,0,1722,0,2293,4095,3830,0,255,757,764,2538,2291,3065,2800,0,0,81,338,0,3925,1119,3414,84,855,85,340,2130,2899,89,2384,1792,712,194,1162,4036,3781,3535,3270,708,719,197,204,3018,2755,2505,2240,0,0,0,0,168,420,168,1958,162,162,676,2988,170,163,680,928,3328,3096,3328,3642,52,53,1855,1590,2340,2111,2869,2620,298,51,825,560,3584,3584,3090,3482,1668,1941,1183,1430,146,2975,2069,2460,154,915,153,400,3840,3592,3329,3082,1796,1541,1295,1030,2818,2575,2309,2060,778,515,265,0]),triTable=[[],[],[],[],[],[],[],[11,9,8],[],[],[],[8,10,9],[],[10,8,11],[9,11,10],[8,10,9,8,11,10],[],[],[],[1,7,3],[],[4,2,0],[],[2,1,7],[],[],[],[2,7,3,2,9,7],[],[1,4,11,1,0,4],[3,8,0,11,9,4,11,10,9],[4,11,9,11,10,9],[],[],[],[5,3,1],[],[],[],[2,5,8,2,1,5],[],[],[2,4,0],[3,2,4],[],[0,9,1,8,10,5,8,11,10],[3,4,0,3,10,4],[5,8,10,8,11,10],[],[3,5,7],[7,1,5],[1,7,3,1,5,7],[],[9,2,0,9,7,2],[0,3,8,1,7,11,1,5,7],[11,1,7,1,5,7],[],[9,1,0,5,3,2,5,7,3],[8,2,5,8,0,2],[2,5,3,5,7,3],[3,9,1,3,8,9,7,11,10,7,10,5],[9,1,0,10,7,11,10,5,7],[3,8,0,7,10,5,7,11,10],[11,5,7,11,10,5],[],[],[],[],[],[0,6,2],[],[7,2,9,7,9,8],[],[],[],[8,10,9],[7,1,3],[7,1,0],[6,9,3,6,10,9],[7,10,8,10,9,8],[],[6,0,4],[],[11,1,4,11,3,1],[2,4,6],[2,0,4,2,4,6],[2,4,6],[1,4,2,4,6,2],[],[6,0,4],[],[2,11,3,6,9,4,6,10,9],[8,6,1,8,1,3],[10,0,6,0,4,6],[8,0,3,9,6,10,9,4,6],[10,4,6,10,9,4],[],[],[],[5,3,1],[],[0,6,2],[],[7,4,8,5,2,1,5,6,2],[],[],[2,4,0],[7,4,8,2,11,3,10,5,6],[7,1,3],[5,6,10,0,9,1,8,7,4],[5,6,10,7,0,3,7,4,0],[10,5,6,4,8,7],[9,11,8],[3,5,6],[0,5,11,0,11,8],[6,3,5,3,1,5],[3,9,6,3,8,9],[9,6,0,6,2,0],[0,3,8,2,5,6,2,1,5],[1,6,2,1,5,6],[9,11,8],[1,0,9,6,10,5,11,3,2],[6,10,5,2,8,0,2,11,8],[3,2,11,10,5,6],[10,5,6,9,3,8,9,1,3],[0,9,1,5,6,10],[8,0,3,10,5,6],[10,5,6],[],[],[],[],[],[],[],[1,10,2,9,11,6,9,8,11],[],[],[6,0,2],[3,6,9,3,2,6],[3,5,1],[0,5,1,0,11,5],[0,3,5],[6,9,11,9,8,11],[],[],[],[4,5,9,7,1,10,7,3,1],[],[11,6,7,2,4,5,2,0,4],[11,6,7,8,0,3,1,10,2,9,4,5],[6,7,11,1,10,2,9,4,5],[],[4,1,0,4,5,1,6,7,3,6,3,2],[9,4,5,0,6,7,0,2,6],[4,5,9,6,3,2,6,7,3],[6,7,11,5,3,8,5,1,3],[6,7,11,4,1,0,4,5,1],[4,5,9,3,8,0,11,6,7],[9,4,5,7,11,6],[],[],[0,6,4],[8,6,4,8,1,6],[],[0,10,2,0,9,10,4,8,11,4,11,6],[10,2,1,6,0,3,6,4,0],[10,2,1,11,4,8,11,6,4],[4,2,6],[1,0,9,2,4,8,2,6,4],[2,4,0,2,6,4],[8,2,4,2,6,4],[11,4,1,11,6,4],[0,9,1,4,11,6,4,8,11],[3,6,0,6,4,0],[8,6,4,8,11,6],[10,8,9],[6,3,9,6,7,3],[6,7,1],[10,7,1,7,3,1],[7,11,6,8,10,2,8,9,10],[11,6,7,10,0,9,10,2,0],[2,1,10,7,11,6,8,0,3],[1,10,2,6,7,11],[7,2,6,7,9,2],[1,0,9,3,6,7,3,2,6],[7,0,6,0,2,6],[2,7,3,2,6,7],[7,11,6,3,9,1,3,8,9],[9,1,0,11,6,7],[0,3,8,11,6,7],[11,6,7],[],[],[],[],[5,3,7],[8,5,2,8,7,5],[5,3,7],[1,10,2,5,8,7,5,9,8],[1,7,5],[1,7,5],[9,2,7,9,7,5],[11,3,2,8,5,9,8,7,5],[1,3,7,1,7,5],[0,7,1,7,5,1],[9,3,5,3,7,5],[9,7,5,9,8,7],[8,10,11],[3,4,10,3,10,11],[8,10,11],[5,9,4,1,11,3,1,10,11],[2,4,5],[5,2,4,2,0,4],[0,3,8,5,9,4,10,2,1],[2,1,10,9,4,5],[2,8,5,2,11,8],[3,2,11,1,4,5,1,0,4],[9,4,5,8,2,11,8,0,2],[11,3,2,9,4,5],[8,5,3,5,1,3],[5,0,4,5,1,0],[3,8,0,4,5,9],[9,4,5],[11,9,10],[11,9,10],[1,11,4,1,10,11],[8,7,4,11,1,10,11,3,1],[2,7,9,2,9,10],[4,8,7,0,10,2,0,9,10],[2,1,10,0,7,4,0,3,7],[10,2,1,8,7,4],[1,7,4],[3,2,11,4,8,7,9,1,0],[11,4,2,4,0,2],[2,11,3,7,4,8],[4,1,7,1,3,7],[1,0,9,8,7,4],[3,4,0,3,7,4],[8,7,4],[8,9,10,8,10,11],[3,9,11,9,10,11],[0,10,8,10,11,8],[10,3,1,10,11,3],[2,8,10,8,9,10],[9,2,0,9,10,2],[8,0,3,1,10,2],[10,2,1],[1,11,9,11,8,9],[11,3,2,0,9,1],[11,0,2,11,8,0],[11,3,2],[8,1,3,8,9,1],[9,1,0],[8,0,3],[]]';
WebMol.wf=window.URL.createObjectURL(new Blob([WebMol.$e]));
$(document).ready(function(){void 0!==$("#webmoljs_viewer")[0]&&(WebMol.Hd=!0);if(WebMol.Hd){var a=WebMol.Bg=$("#webmoljs_viewer"),c=null;a.data("pdb")?c="http://www.pdb.org/pdb/files/"+a.data("pdb")+".pdb":a.data("href")&&(c=a.data("href"));var g=Number(a.data("backgroundcolor"))||0,p=a.data("style")||{line:{}};WebMol.Va=WebMol.createViewer("webmoljs_viewer",{defaultcolors:WebMol.rasmolElementColors,callback:function(a){a.setBackgroundColor(g)}});if(c){var q=a.data("datatype")||"pdb";$.get(c,function(a){WebMol.Va.addModel(a,
q);WebMol.Va.setStyle({},p);WebMol.Va.zoomTo();WebMol.Va.render()},"text")}}});WebMol.Qd=16716947;
WebMol.JmolElementColors={H:16777215,He:14286847,HE:14286847,Li:13402367,LI:13402367,B:16758197,C:9474192,N:3166456,O:16715021,F:9494608,Na:11230450,NA:11230450,Mg:9109248,MG:9109248,Al:12560038,AL:12560038,Si:1578E4,SI:1578E4,P:16744448,S:16777008,Cl:2093087,CL:2093087,Ca:4062976,CA:4062976,Ti:12567239,TI:12567239,Cr:9083335,CR:9083335,Mn:10255047,MN:10255047,Fe:14706227,FE:14706227,Ni:5296208,NI:5296208,Cu:13140019,CU:13140019,Zn:8224944,ZN:8224944,Br:10889513,BR:10889513,Ag:12632256,AG:12632256,
I:9699476,Ba:51456,BA:51456,Au:16765219,AU:16765219};
WebMol.rasmolElementColors={H:16777215,He:16761035,HE:16761035,Li:11674146,LI:11674146,B:65280,C:13158600,N:9408511,O:15728640,F:14329120,Na:255,NA:255,Mg:2263842,MG:2263842,Al:8421520,AL:8421520,Si:14329120,SI:14329120,P:16753920,S:16762930,Cl:65280,CL:65280,Ca:8421520,CA:8421520,Ti:8421520,TI:8421520,Cr:8421520,CR:8421520,Mn:8421520,MN:8421520,Fe:16753920,FE:16753920,Ni:10824234,NI:10824234,Cu:10824234,CU:10824234,Zn:10824234,ZN:10824234,Br:10824234,BR:10824234,Ag:8421520,AG:8421520,I:10494192,
Ba:16753920,BA:16753920,Au:14329120,AU:14329120};WebMol.sc=WebMol.JmolElementColors;var WebMol=WebMol||{};WebMol.qf=function(a,c){this.Xb=function(g,p){var q,b;p?(q=p[0],b=p[1]):(q=a,b=c);if(void 0===g)return 16777215;g<q&&(g=q);g>b&&(g=b);var r=(b+q)/2;g<=r?(q=Math.floor(255*Math.sqrt((g-q)/(r-q))),q=16711680+256*q+q):(q=Math.floor(255*Math.sqrt(1-(g-r)/(b-r))),q=65536*q+256*q+255);return q}};
WebMol.pf=function(a,c){this.Xb=function(g,p){var q,b;p?(q=p[0],b=p[1]):(q=a,b=c);if("undefined"==typeof g)return 16777215;g<q&&(g=q);g>b&&(g=b);var r=(q+b)/2,t=(q+r)/2,l=(r+b)/2;g<t?(q=Math.floor(255*Math.sqrt((g-q)/(t-q))),q=256*q+16711680):g<r?(q=Math.floor(255*Math.sqrt(1-(g-t)/(r-t))),q=65536*q+65280):g<l?(q=Math.floor(255*Math.sqrt((g-r)/(l-r))),q=65280+1*q):(q=Math.floor(255*Math.sqrt(1-(g-l)/(b-l))),q=256*q+255);return q}};
WebMol.tf=function(a,c){this.Xb=function(g,p){var q,b;p?(q=p[0],b=p[1]):(q=a,b=c);if("undefined"==typeof g)return 16777215;g<q&&(g=q);g>b&&(g=b);var r=(g-q)/(b-q)*5/6+.5;q=Math.sin(Math.PI*r);b=Math.sin(Math.PI*(r+1/3));r=Math.sin(Math.PI*(r+2/3));return 65536*Math.floor(255*q*q)+256*Math.floor(255*r*r)+1*Math.floor(255*b*b)}};WebMol=WebMol||{};
WebMol.Td=function(){function a(a,p,q,b,r){if(!(2>p.length)){r=r||5;p=c(p,r);q=c(q,r);var t=new WebMol.Geometry(!0),l=[],f,s,m,e,n,A=[[0,2,-6,-8],[-4,-2,6,4],[7,-1,-5,3],[-3,5,1,-7]],D,u,w,C,B,x,F,y,h;x=0;for(F=p.length;x<F;x++){w=WebMol.X.color(b[Math.round((x-1)/r)]);l.push(s=p[x]);l.push(s);l.push(m=q[x]);l.push(m);x<F-1&&(D=p[x+1].clone().sub(p[x]),f=q[x].clone().sub(p[x]).cross(D).normalize().multiplyScalar(.4));l.push(e=p[x].clone().add(f));l.push(e);l.push(n=q[x].clone().add(f));l.push(n);
void 0!==s.atom&&(C=s.atom);h=t.updateGeoGroup(8);D=h.vertices;u=3*D;h.__vertexArray[u]=s.x;h.__vertexArray[u+1]=s.y;h.__vertexArray[u+2]=s.z;h.__vertexArray[u+3]=s.x;h.__vertexArray[u+4]=s.y;h.__vertexArray[u+5]=s.z;h.__vertexArray[u+6]=m.x;h.__vertexArray[u+7]=m.y;h.__vertexArray[u+8]=m.z;h.__vertexArray[u+9]=m.x;h.__vertexArray[u+10]=m.y;h.__vertexArray[u+11]=m.z;h.__vertexArray[u+12]=e.x;h.__vertexArray[u+13]=e.y;h.__vertexArray[u+14]=e.z;h.__vertexArray[u+15]=e.x;h.__vertexArray[u+16]=e.y;h.__vertexArray[u+
17]=e.z;h.__vertexArray[u+18]=n.x;h.__vertexArray[u+19]=n.y;h.__vertexArray[u+20]=n.z;h.__vertexArray[u+21]=n.x;h.__vertexArray[u+22]=n.y;h.__vertexArray[u+23]=n.z;for(s=0;8>s;++s)h.__colorArray[u+3*s]=w.r,h.__colorArray[u+1+3*s]=w.g,h.__colorArray[u+2+3*s]=w.b;if(0<x)for(u=void 0!==B&&void 0!==C&&B.serial!==C.serial,s=0;4>s;s++)if(m=[D+A[s][0],D+A[s][1],D+A[s][2],D+A[s][3]],n=h.d,h.__faceArray[n]=m[0],h.__faceArray[n+1]=m[1],h.__faceArray[n+2]=m[3],h.__faceArray[n+3]=m[1],h.__faceArray[n+4]=m[2],
h.__faceArray[n+5]=m[3],h.d+=6,C.clickable||B.clickable){y=l[m[3]].clone();n=l[m[0]].clone();var E=l[m[2]].clone(),I=l[m[1]].clone();y.atom=l[m[3]].atom||null;E.atom=l[m[2]].atom||null;n.atom=l[m[0]].atom||null;I.atom=l[m[1]].atom||null;if(u){var R=y.clone().add(n).multiplyScalar(.5),Q=E.clone().add(I).multiplyScalar(.5),M=y.clone().add(I).multiplyScalar(.5);0===s%2?(B.clickable&&(m=new ma(R,M,y),e=new ma(Q,E,M),y=new ma(M,E,y),B.c.h.push(m),B.c.h.push(e),B.c.h.push(y)),C.clickable&&(m=new ma(n,I,
M),e=new ma(I,Q,M),y=new ma(n,M,R),C.c.h.push(m),C.c.h.push(e),C.c.h.push(y))):(C.clickable&&(m=new ma(R,M,y),e=new ma(Q,E,M),y=new ma(M,E,y),C.c.h.push(m),C.c.h.push(e),C.c.h.push(y)),B.clickable&&(m=new ma(n,I,M),e=new ma(I,Q,M),y=new ma(n,M,R),B.c.h.push(m),B.c.h.push(e),B.c.h.push(y)))}else C.clickable&&(m=new ma(n,I,y),e=new ma(I,E,y),C.c.h.push(m),C.c.h.push(e))}h.vertices+=8;B=C}p=l.length-8;h=t.updateGeoGroup(8);D=h.vertices;u=3*D;n=h.d;for(x=0;4>x;x++)l.push(l[2*x]),l.push(l[p+2*x]),q=l[2*
x],b=l[p+2*x],h.__vertexArray[u+6*x]=q.x,h.__vertexArray[u+1+6*x]=q.y,h.__vertexArray[u+2+6*x]=q.z,h.__vertexArray[u+3+6*x]=b.x,h.__vertexArray[u+4+6*x]=b.y,h.__vertexArray[u+5+6*x]=b.z,h.__colorArray[u+6*x]=w.r,h.__colorArray[u+1+6*x]=w.g,h.__colorArray[u+2+6*x]=w.b,h.__colorArray[u+3+6*x]=w.r,h.__colorArray[u+4+6*x]=w.g,h.__colorArray[u+5+6*x]=w.b;m=[D,D+2,D+6,D+4];e=[D+1,D+5,D+7,D+3];h.__faceArray[n]=m[0];h.__faceArray[n+1]=m[1];h.__faceArray[n+2]=m[3];h.__faceArray[n+3]=m[1];h.__faceArray[n+4]=
m[2];h.__faceArray[n+5]=m[3];h.__faceArray[n+6]=e[0];h.__faceArray[n+7]=e[1];h.__faceArray[n+8]=e[3];h.__faceArray[n+9]=e[1];h.__faceArray[n+10]=e[2];h.__faceArray[n+11]=e[3];h.d+=12;h.vertices+=8;t.initTypedArrays();t.setUpNormals();l=new na;l.vertexColors=WebMol.kd;l.side=WebMol.jb;t=new pa(t,l);a.add(t)}}function c(a,c){var q=[],b=a,b=[];b.push(a[0]);var r,t,l,f,s,m;r=1;for(t=a.length-1;r<t;r++)f=a[r],s=a[r+1],f.Se?b.push(new WebMol.Vector3((f.x+s.x)/2,(f.y+s.y)/2,(f.z+s.z)/2)):b.push(f);b.push(a[a.length-
1]);r=-1;for(t=b.length;r<=t-3;r++){l=b[-1===r?0:r];f=b[r+1];s=b[r+2];m=b[r===t-3?t-1:r+3];l=(new WebMol.Vector3).subVectors(s,l).multiplyScalar(.5);m=(new WebMol.Vector3).subVectors(m,f).multiplyScalar(.5);for(var e=0;e<c;e++){var n=1/c*e,n=new WebMol.Vector3(f.x+n*l.x+n*n*(-3*f.x+3*s.x-2*l.x-m.x)+n*n*n*(2*f.x-2*s.x+l.x+m.x),f.y+n*l.y+n*n*(-3*f.y+3*s.y-2*l.y-m.y)+n*n*n*(2*f.y-2*s.y+l.y+m.y),f.z+n*l.z+n*n*(-3*f.z+3*s.z-2*l.z-m.z)+n*n*n*(2*f.z-2*s.z+l.z+m.z)),A=Math.floor((q.length+2)/c);void 0!==
a[A]&&void 0!==a[A].atom&&(n.atom=a[A].atom);q.push(n)}}q.push(b[b.length-1]);return q}return function(c,p){var q,b,r;q=2;b=5;r=!1;var t=[],l,f,s;for(s=0;s<q;s++)t[s]=[];s=[];var m,e,n,A,D=null,u=null;for(l in p)if(f=p[l],void 0!==f&&("O"==f.atom||"CA"==f.atom)&&!f.hetflag)if("CA"==f.atom){if(m!=f.chain||n+1!=f.resi||e!=f.Sc){a(c,t[0],t[q-1],s,b);t=[];for(s=0;s<q;s++)t[s]=[];s=[];D=null}A=new WebMol.Vector3(f.x,f.y,f.z);currentAtom=f;m=f.chain;e=f.Sc;n=f.resi;var u=f.ss,w=f.color;"undefined"!=typeof f.style.cartoon.color&&
(w=f.style.cartoon.color);s.push(w);!0!==f.clickable||void 0!==f.c&&void 0!==f.c.h||(f.c={sphere:null,l:[],line:[],h:[]})}else for(f=new WebMol.Vector3(f.x,f.y,f.z),f.sub(A),f.normalize(),f.multiplyScalar("c"==u?.3:1.3),null!==D&&0>f.dot(D)&&f.negate(),D=f,f=0;f<q;f++)w=-1+2/(q-1)*f,w=new WebMol.Vector3(A.x+D.x*w,A.y+D.y*w,A.z+D.z*w),w.atom=currentAtom,r||"s"!=u||(w.Se=!0),t[f].push(w);a(c,t[0],t[q-1],s,b)}}();WebMol=WebMol||{};
WebMol.GLModel=function(){function a(a){var b=[],g,m;g=0;for(m=a.length;g<m;g++){a[g].index=g;var e=a[g];e.hetflag||"N"!==e.atom&&"O"!==e.atom||(b.push(e),e.Cb=null,e.Ja=Number.POSITIVE_INFINITY)}b.sort(function(a,b){return a.z-b.z});g=0;for(m=b.length;g<m;g++)for(e=b[g],a=g+1;a<m;a++){var n=b[a];if(3.5<n.z-e.z)break;var r=c(e,n);r<e.Ja&&(e.Cb=n,e.Ja=r);r<n.Ja&&(n.Cb=e,n.Ja=r)}}function c(a,b){if(a.chain==b.chain&&4>Math.abs(a.resi-b.resi))return Number.POSITIVE_INFINITY;if("O"===a.atom&&"N"===b.atom||
"N"===a.atom&&"O"===b.atom){var c=a.x-b.x;if(3.5<c)return Number.POSITIVE_INFINITY;var g=a.y-b.y;if(3.5<g)return Number.POSITIVE_INFINITY;var e=a.z-b.z;if(3.5<e)return Number.POSITIVE_INFINITY;c=Math.sqrt(c*c+g*g+e*e);if(3.5>c)return c}return Number.POSITIVE_INFINITY}function g(a){var b=[],c=[],g,e;g=0;for(e=a.length;g<e;g++){var n=a[g];n.index=g;n.hetflag?c.push(n):b.push(n)}p(c);b.sort(function(a,b){return a.chain!=b.chain?a.chain<b.chain?-1:1:a.resi-b.resi});var c=a=-1,r;g=0;for(e=b.length;g<e;g++){n=
b[g];n.resi!==a&&(a=n.resi,r||c++,r=!1);n.Sc=c;for(var t=g+1;t<b.length;t++){var u=b[t];if(u.chain!=n.chain)break;if(1<u.resi-n.resi)break;q(n,u)&&(-1===n.bonds.indexOf(u.index)&&(n.bonds.push(u.index),n.bondOrder.push(1),u.bonds.push(n.index),u.bondOrder.push(1)),n.resi!==u.resi&&(r=!0))}}}function p(a){var b=a.slice(0),c,g;c=0;for(g=a.length;c<g;c++)a[c].index||(a[c].index=c);b.sort(function(a,b){return a.z-b.z});c=0;for(g=b.length;c<g;c++){var e=b[c];for(a=c+1;a<g;a++){var n=b[a];if(1.9<n.z-e.z)break;
q(e,n)&&-1==e.bonds.indexOf(n.index)&&(e.bonds.push(n.index),e.bondOrder.push(1),n.bonds.push(e.index),n.bondOrder.push(1))}}}function q(a,b){var c=a.x-b.x,c=c*c;if(3.6<c)return!1;var g=a.y-b.y,g=g*g;if(3.6<g)return!1;var e=a.z-b.z,e=e*e;if(3.6<e)return!1;c=c+g+e;return isNaN(c)||.5>c||1.3<c&&("H"==a.elem||"H"==b.elem||"D"==a.elem||"D"==b.elem)?!1:3.6>c&&("S"==a.elem||"S"==b.elem)?!0:2.78<c?!1:!0}function b(a,b){return a&&b?JSON.stringify(a)==JSON.stringify(b):a==b}var r={line:{}},t={H:1.2,Li:1.82,
Na:2.27,K:2.75,C:1.7,N:1.55,O:1.52,F:1.47,P:1.8,S:1.8,CL:1.75,BR:1.85,SE:1.9,ZN:1.39,CU:1.4,NI:1.63};return function(c,f){function q(a,b,e,c,g,f,m){if(b&&e){y++;var l=f||m,n=e.clone();n.sub(b);var n=F(n),r=B.Ia(c);c=r.w;var p=r.ce,s=l?p*c+2:2*c;a=a.updateGeoGroup(s);var v=r.vertices,u=r.oa,r=r.pa,A=r[p/2],H=r[p/2+1],t=a.vertices,K,w,x,D,C,T;for(x=0;x<c;++x)w=2*x,D=n[0]*v[w].x+n[3]*v[w].y+n[6]*v[w].z,C=n[1]*v[w].x+n[4]*v[w].y+n[7]*v[w].z,T=n[5]*v[w].y+n[8]*v[w].z,K=3*(t+w),w=a.d,a.__vertexArray[K]=
D+b.x,a.__vertexArray[K+1]=C+b.y,a.__vertexArray[K+2]=T+b.z,a.__vertexArray[K+3]=D+e.x,a.__vertexArray[K+4]=C+e.y,a.__vertexArray[K+5]=T+e.z,a.__normalArray[K]=D,a.__normalArray[K+3]=D,a.__normalArray[K+1]=C,a.__normalArray[K+4]=C,a.__normalArray[K+2]=T,a.__normalArray[K+5]=T,a.__colorArray[K]=g.r,a.__colorArray[K+3]=g.r,a.__colorArray[K+1]=g.g,a.__colorArray[K+4]=g.g,a.__colorArray[K+2]=g.b,a.__colorArray[K+5]=g.b,a.__faceArray[w]=H[x]+t,a.__faceArray[w+1]=H[x+1]+t,a.__faceArray[w+2]=A[x]+t,a.__faceArray[w+
3]=A[x]+t,a.__faceArray[w+4]=H[x+1]+t,a.__faceArray[w+5]=A[x+1]+t,a.d+=6;if(l){f=f?p+1:p/2+1;var z,J,W,ia,ka,S,L,ha,da,fa,wa,ya,ja;for(C=m?0:p/2;C<f;C++)if(C!==p/2){var la=C<=p/2?e:b;for(D=0;D<c;D++)w=a.d,m=r[C][D+1],x=3*(m+t),l=r[C][D],T=3*(l+t),A=r[C+1][D],K=3*(A+t),H=r[C+1][D+1],ja=3*(H+t),z=n[0]*v[m].x+n[3]*v[m].y+n[6]*v[m].z,J=n[0]*v[l].x+n[3]*v[l].y+n[6]*v[l].z,W=n[0]*v[A].x+n[3]*v[A].y+n[6]*v[A].z,ia=n[0]*v[H].x+n[3]*v[H].y+n[6]*v[H].z,ka=n[1]*v[m].x+n[4]*v[m].y+n[7]*v[m].z,S=n[1]*v[l].x+n[4]*
v[l].y+n[7]*v[l].z,L=n[1]*v[A].x+n[4]*v[A].y+n[7]*v[A].z,ha=n[1]*v[H].x+n[4]*v[H].y+n[7]*v[H].z,da=n[5]*v[m].y+n[8]*v[m].z,fa=n[5]*v[l].y+n[8]*v[l].z,wa=n[5]*v[A].y+n[8]*v[A].z,ya=n[5]*v[H].y+n[8]*v[H].z,a.__vertexArray[x]=z+la.x,a.__vertexArray[T]=J+la.x,a.__vertexArray[K]=W+la.x,a.__vertexArray[ja]=ia+la.x,a.__vertexArray[x+1]=ka+la.y,a.__vertexArray[T+1]=S+la.y,a.__vertexArray[K+1]=L+la.y,a.__vertexArray[ja+1]=ha+la.y,a.__vertexArray[x+2]=da+la.z,a.__vertexArray[T+2]=fa+la.z,a.__vertexArray[K+
2]=wa+la.z,a.__vertexArray[ja+2]=ya+la.z,a.__colorArray[x]=g.r,a.__colorArray[T]=g.r,a.__colorArray[K]=g.r,a.__colorArray[ja]=g.r,a.__colorArray[x+1]=g.g,a.__colorArray[T+1]=g.g,a.__colorArray[K+1]=g.g,a.__colorArray[ja+1]=g.g,a.__colorArray[x+2]=g.b,a.__colorArray[T+2]=g.b,a.__colorArray[K+2]=g.b,a.__colorArray[ja+2]=g.b,z=n[0]*u[m].x+n[3]*u[m].y+n[6]*u[m].z,J=n[0]*u[l].x+n[3]*u[l].y+n[6]*u[l].z,W=n[0]*u[A].x+n[3]*u[A].y+n[6]*u[A].z,ia=n[0]*u[H].x+n[3]*u[H].y+n[6]*u[H].z,ka=n[1]*u[m].x+n[4]*u[m].y+
n[7]*u[m].z,S=n[1]*u[l].x+n[4]*u[l].y+n[7]*u[l].z,L=n[1]*u[A].x+n[4]*u[A].y+n[7]*u[A].z,ha=n[1]*u[H].x+n[4]*u[H].y+n[7]*u[H].z,da=n[5]*u[m].y+n[8]*u[m].z,fa=n[5]*u[l].y+n[8]*u[l].z,wa=n[5]*u[A].y+n[8]*u[A].z,ya=n[5]*u[H].y+n[8]*u[H].z,0===C?(a.__normalArray[x]=z,a.__normalArray[K]=W,a.__normalArray[ja]=ia,a.__normalArray[x+1]=ka,a.__normalArray[K+1]=L,a.__normalArray[ja+1]=ha,a.__normalArray[x+2]=da,a.__normalArray[K+2]=wa,a.__normalArray[ja+2]=ya,a.__faceArray[w]=m+t,a.__faceArray[w+1]=A+t,a.__faceArray[w+
2]=H+t,a.d+=3):C===f-1?(a.__normalArray[x]=z,a.__normalArray[T]=J,a.__normalArray[K]=W,a.__normalArray[x+1]=ka,a.__normalArray[T+1]=S,a.__normalArray[K+1]=L,a.__normalArray[x+2]=da,a.__normalArray[T+2]=fa,a.__normalArray[K+2]=wa,a.__faceArray[w]=m+t,a.__faceArray[w+1]=l+t,a.__faceArray[w+2]=A+t,a.d+=3):(a.__normalArray[x]=z,a.__normalArray[T]=J,a.__normalArray[ja]=ia,a.__normalArray[x+1]=ka,a.__normalArray[T+1]=S,a.__normalArray[ja+1]=ha,a.__normalArray[x+2]=da,a.__normalArray[T+2]=fa,a.__normalArray[ja+
2]=ya,a.__normalArray[T]=J,a.__normalArray[K]=W,a.__normalArray[ja]=ia,a.__normalArray[T+1]=S,a.__normalArray[K+1]=L,a.__normalArray[ja+1]=ha,a.__normalArray[T+2]=fa,a.__normalArray[K+2]=wa,a.__normalArray[ja+2]=ya,a.__faceArray[w]=m+t,a.__faceArray[w+1]=l+t,a.__faceArray[w+2]=H+t,a.__faceArray[w+3]=l+t,a.__faceArray[w+4]=A+t,a.__faceArray[w+5]=H+t,a.d+=6)}}a.vertices+=s}}function m(a,b){if(a.style.sphere){var c=a.style.sphere;if(!c.hidden){var g=a.color;"undefined"!=typeof c.color&&(g=c.color);var f=
WebMol.X.color(g),m,c=e(a,c);!0===a.clickable&&void 0!==a.c&&(g=new WebMol.Vector3(a.x,a.y,a.z),a.c.sphere.push(new ra(g,c)));m=x.Ia(c);for(var g=m.vertices,l=m.oa,n=b.updateGeoGroup(g.length),r=n.vertices,p=0,q=g.length;p<q;++p){var s=3*(r+p),v=g[p];n.__vertexArray[s]=v.x+a.x;n.__vertexArray[s+1]=v.y+a.y;n.__vertexArray[s+2]=v.z+a.z;n.__colorArray[s]=f.r;n.__colorArray[s+1]=f.g;n.__colorArray[s+2]=f.b}n.vertices+=g.length;p=m.pa;q=p.length-1;for(m=0;m<q;m++)for(s=p[m].length-1,f=0;f<s;f++){var v=
n.d,u=p[m][f+1]+r,A=3*u,H=p[m][f]+r,t=3*H,w=p[m+1][f]+r,y=3*w,C=p[m+1][f+1]+r,D=3*C,B=l[u-r],F=l[H-r],z=l[w-r],J=l[C-r];Math.abs(g[u-r].y)===c?(n.__normalArray[A]=B.x,n.__normalArray[y]=z.x,n.__normalArray[D]=J.x,n.__normalArray[A+1]=B.y,n.__normalArray[y+1]=z.y,n.__normalArray[D+1]=J.y,n.__normalArray[A+2]=B.z,n.__normalArray[y+2]=z.z,n.__normalArray[D+2]=J.z,n.__faceArray[v]=u,n.__faceArray[v+1]=w,n.__faceArray[v+2]=C,n.d+=3):Math.abs(g[w-r].y)===c?(n.__normalArray[A]=B.x,n.__normalArray[t]=F.x,
n.__normalArray[y]=z.x,n.__normalArray[A+1]=B.y,n.__normalArray[t+1]=F.y,n.__normalArray[y+1]=z.y,n.__normalArray[A+2]=B.z,n.__normalArray[t+2]=F.z,n.__normalArray[y+2]=z.z,n.__faceArray[v]=u,n.__faceArray[v+1]=H,n.__faceArray[v+2]=w,n.d+=3):(n.__normalArray[A]=B.x,n.__normalArray[t]=F.x,n.__normalArray[D]=J.x,n.__normalArray[A+1]=B.y,n.__normalArray[t+1]=F.y,n.__normalArray[D+1]=J.y,n.__normalArray[A+2]=B.z,n.__normalArray[t+2]=F.z,n.__normalArray[D+2]=J.z,n.__normalArray[t]=F.x,n.__normalArray[y]=
z.x,n.__normalArray[D]=J.x,n.__normalArray[t+1]=F.y,n.__normalArray[y+1]=z.y,n.__normalArray[D+1]=J.y,n.__normalArray[t+2]=F.z,n.__normalArray[y+2]=z.z,n.__normalArray[D+2]=J.z,n.__faceArray[v]=u,n.__faceArray[v+1]=H,n.__faceArray[v+2]=C,n.__faceArray[v+3]=H,n.__faceArray[v+4]=w,n.__faceArray[v+5]=C,n.d+=6)}}}}function e(a,b){var e=1.5;"undefined"!=typeof b.f?e=b.f:t[a.elem]&&(e=t[a.elem]);"undefined"!=typeof b.scale&&(e*=b.scale);return e}var n=[],A=null,D=null,u=null,w=null,C=WebMol.Qd;ElementColors=
f?f:WebMol.sc;var B={Pa:function(){var a=[];a[0]=new WebMol.Vector3(-1,0,0);a[4]=new WebMol.Vector3(0,0,1);a[8]=new WebMol.Vector3(1,0,0);a[12]=new WebMol.Vector3(0,0,-1);a[2]=a[0].clone().add(a[4]).normalize();a[6]=a[4].clone().add(a[8]).normalize();a[10]=a[8].clone().add(a[12]).normalize();a[14]=a[12].clone().add(a[0]).normalize();a[1]=a[0].clone().add(a[2]).normalize();a[3]=a[2].clone().add(a[4]).normalize();a[5]=a[4].clone().add(a[6]).normalize();a[7]=a[6].clone().add(a[8]).normalize();a[9]=a[8].clone().add(a[10]).normalize();
a[11]=a[10].clone().add(a[12]).normalize();a[13]=a[12].clone().add(a[14]).normalize();a[15]=a[14].clone().add(a[0]).normalize();return a}(),k:{},Ia:function(a){if(void 0!==this.k[a])return this.k[a];new WebMol.Vector3(0,1,0);for(var b=this.Pa.length,e=[],c=[],g,f=0;f<b;f++)e.push(this.Pa[f].clone().multiplyScalar(a)),e.push(this.Pa[f].clone().multiplyScalar(a)),g=this.Pa[f].clone().normalize(),c.push(g),c.push(g);var f=[],m=2*Math.PI,n=Math.PI,l,r,p=!1,q=!1;for(r=0;10>=r;r++){var p=0===r||10===r?
!0:!1,q=5===r?!0:!1,s=[],u=[];for(l=0;l<=b;l++)if(q){var A=l<b?2*l:0;u.push(A+1);s.push(A)}else{g=l/b;var H=r/10;p&&0!==l?p&&s.push(e.length-1):l<b?(A=new WebMol.Vector3,A.x=-a*Math.cos(0+g*m)*Math.sin(0+H*n),A.y=a*Math.cos(0+H*n),A.z=a*Math.sin(0+g*m)*Math.sin(0+H*n),1E-5>Math.abs(A.x)&&(A.x=0),1E-5>Math.abs(A.y)&&(A.y=0),1E-5>Math.abs(A.z)&&(A.z=0),g=new WebMol.Vector3(A.x,A.y,A.z),g.normalize(),e.push(A),c.push(g),s.push(e.length-1)):s.push(e.length-b)}q&&f.push(u);f.push(s)}b={vertices:e,oa:c,
pa:f,w:b,ce:10};return this.k[a]=b}},x={k:{},Ia:function(a){if("undefined"!=typeof this.k[a])return this.k[a];var b={vertices:[],pa:[],oa:[]},e=12,c=10;1>a&&(e=8,c=6);var g=2*Math.PI,f=Math.PI,m,n;for(n=0;n<=c;n++){var l=[];for(m=0;m<=e;m++){var r=m/e,p=n/c,q={};q.x=-a*Math.cos(0+r*g)*Math.sin(0+p*f);q.y=a*Math.cos(0+p*f);q.z=a*Math.sin(0+r*g)*Math.sin(0+p*f);r=new WebMol.Vector3(q.x,q.y,q.z);r.normalize();b.vertices.push(q);b.oa.push(r);l.push(b.vertices.length-1)}b.pa.push(l)}return this.k[a]=b}},
F=function(){var a=new WebMol.Vector3;return function(b){a.copy(b);var e=a.x,c=a.y,g=a.z,f=Math.sqrt(e*e+c*c);1E-4>f?(b=0,f=1):(b=-e/f,f=c/f);c=-b*e+f*c;e=Math.sqrt(c*c+g*g);1E-4>e?(g=0,c=1):(g/=e,c/=e);rot=new Float32Array(9);rot[0]=f;rot[1]=b;rot[2]=0;rot[3]=-b*c;rot[4]=f*c;rot[5]=g;rot[6]=b*g;rot[7]=-f*g;rot[8]=c;return rot}}(),y=0;this.getID=function(){return c};this.addMolData=function(b,e){b||console.error("Erorr with addMolData: No input data specified");switch(e){case "xyz":var f=n,m=b.split("\n");
if(!(3>m.length)){var q=parseInt(m[0].substr(0,3));if(!(isNaN(q)||0>=q||m.length<q+2)){for(var s=2,u=f.length,q=u+q;u<q;u++){var A=m[s++].replace(/^\s+/,"").replace(/\s+/g," ").split(" "),t={};t.serial=u;t.atom=t.elem=A[0];t.x=parseFloat(A[1]);t.y=parseFloat(A[2]);t.z=parseFloat(A[3]);t.hetflag=!0;t.bonds=[];t.bondOrder=[];t.singleBonds=!0;t.properties={};f[u]=t}p(f)}}break;case "pdb":var f=n,m=f.length,w,s=[],q=[],A=[],t=b.split("\n"),y,x,v;for(y=0;y<t.length;y++){v=t[y].replace(/^\s*/,"");w=v.substr(0,
6);var D;if("ATOM  "==w||"HETATM"==w){var B,H,Z,K,P,F,ga,ba,T;w=v.substr(16,1);if(" "==w||"A"==w)ba=parseInt(v.substr(6,5)),w=v.substr(12,4).replace(/ /g,""),x=v.substr(17,3),D=v.substr(21,1),B=parseInt(v.substr(22,4)),H=v.substr(26,1),Z=parseFloat(v.substr(30,8)),K=parseFloat(v.substr(38,8)),P=parseFloat(v.substr(46,8)),T=parseFloat(v.substr(60,8)),ga=v.substr(76,2).replace(/ /g,""),""===ga&&(ga=v.substr(12,2).replace(/ /g,"")),"H"!=ga&&"HH"!=ga&&"HD"!=ga&&(F="H"==v[0]?!0:!1,A[ba]=f.length,f.push({resn:x,
x:Z,y:K,z:P,elem:ga,hetflag:F,chain:D,resi:B,icode:H,rescode:B+(" "!=H?"^"+H:""),serial:ba,atom:w,bonds:[],ss:"c",singleBonds:!0,bondOrder:[],properties:{},b:T,pdbline:v}))}else if("SHEET "==w)w=v.substr(21,1),x=parseInt(v.substr(22,4)),D=v.substr(32,1),v=parseInt(v.substr(33,4)),s.push([w,x,D,v]);else if("CONECT"==w)for(w=f[A[parseInt(v.substr(6,5))]],x=0;4>x;x++)D=parseInt(v.substr([11,16,21,26][x],5)),B=f[A[D]],void 0!==w&&void 0!==B&&(w.bonds.push(A[D]),w.bondOrder.push(1));else"HELIX "==w&&(w=
v.substr(19,1),x=parseInt(v.substr(21,4)),D=v.substr(31,1),v=parseInt(v.substr(33,4)),q.push([w,x,D,v]))}A=(new Date).getTime();g(f);console.log("bond connecting "+((new Date).getTime()-A));A=(new Date).getTime();a(f);t={};v=0;for(w=f.length;v<w;v++)x=f[v],"undefined"===typeof t[x.chain]&&(t[x.chain]=[]),isFinite(x.Ja)&&(t[x.chain][x.resi]=4===Math.abs(x.Cb.resi-x.resi)?"h":"s");for(u in t){for(v=1;v<t[u].length-1;v++)w=t[u][v-1],x=t[u][v+1],y=t[u][v],w==x&&y!=w&&(t[u][v]=w);for(v=0;v<t[u].length;v++)y=
t[u][v],"h"!=y&&"s"!=y||t[u][v-1]==y||t[u][v+1]==y||delete t[u][v]}v=0;for(w=f.length;v<w;v++)x=f[v],y=t[x.chain][x.resi],"undefined"!=typeof y&&(x.ss=y,t[x.chain][x.resi-1]!=y&&(x.Zc=!0),t[x.chain][x.resi+1]!=y&&(x.$c=!0));console.log("secondary structure "+((new Date).getTime()-A));for(y=m;y<f.length;y++)if(w=f[y],void 0!==w){for(x=0;x<s.length;x++)w.chain!=s[x][0]||w.resi<s[x][1]||w.resi>s[x][3]||(w.ss="s",w.resi==s[x][1]&&(w.Zc=!0),w.resi==s[x][3]&&(w.$c=!0));for(x=0;x<q.length;x++)w.chain!=q[x][0]||
w.resi<q[x][1]||w.resi>q[x][3]||(w.ss="h",w.resi==q[x][1]?w.Zc=!0:w.resi==q[x][3]&&(w.$c=!0))}break;case "sdf":f=n;m=b.split("\n");if(!(4>m.length||(A=parseInt(m[3].substr(0,3)),isNaN(A)||0>=A||(s=parseInt(m[3].substr(3,3)),q=4,m.length<4+A+s)))){u=f.length;y=u+A;for(A=u;A<y;A++)t=m[q],q++,v={},v.serial=A,v.x=parseFloat(t.substr(0,10)),v.y=parseFloat(t.substr(10,10)),v.z=parseFloat(t.substr(20,10)),v.hetflag=!0,v.singleBonds=!0,v.atom=v.elem=t.substr(31,3).replace(/ /g,""),v.bonds=[],v.bondOrder=
[],v.properties={},f[A]=v;for(A=0;A<s;A++)t=m[q],q++,y=parseInt(t.substr(0,3))-1+u,v=parseInt(t.substr(3,3))-1+u,t=parseInt(t.substr(6,3)),1<t&&(f[y].singleBonds=!1,f[v].singleBonds=!1),f[y].bonds.push(v),f[y].bondOrder.push(t),f[v].bonds.push(y),f[v].bondOrder.push(t)}break;case "mol2":f=n;s=b.search(/@<TRIPOS>MOLECULE/);m=b.search(/@<TRIPOS>ATOM/);if(-1!=s&&-1!=m){m=[];s=b.substr(s,b.length).split("\n");t=s[2].replace(/^\s+/,"").replace(/\s+/g," ").split(" ");y=parseInt(t[0]);q=0;1<t.length&&(q=
parseInt(t[1]));u=4;for(A=3;A<s.length;A++)if("@<TRIPOS>ATOM"==s[A]){u=A+1;break}A=f.length;for(y=A+y;A<y;A++)t=s[u++],t=t.replace(/^\s+/,"").replace(/\s+/g," ").split(" "),v={},w=A,x=parseInt(t[0]),v.serial=x,v.x=parseFloat(t[2]),v.y=parseFloat(t[3]),v.z=parseFloat(t[4]),v.atom=v.elem=t[5].split(".")[0],v.singleBonds=!0,"H"!=v.elem&&(v.bonds=[],v.bondOrder=[],v.properties={},m[x]=w,f.push(v));for(A=!1;u<s.length;)if("@<TRIPOS>BOND"==s[u++]){A=!0;break}if(A&&q)for(A=0;A<q;A++)t=s[u++],t=t.replace(/^\s+/,
"").replace(/\s+/g," ").split(" "),y=parseInt(t[1]),fromAtom=f[m[y]],v=parseInt(t[2]),toAtom=f[m[v]],t=parseInt(t[3]),isNaN(t)&&(t=1),1<t&&(fromAtom.singleBonds=!1,toAtom.singleBonds=!1),void 0!==fromAtom&&void 0!==toAtom&&(fromAtom.bonds.push(m[v]),fromAtom.bondOrder.push(t),toAtom.bonds.push(m[y]),toAtom.bondOrder.push(t))}break;case "cube":if(f=n,m=b.replace(/^\s+/,"").split(/[\n\r]+/),!(6>m.length)){s=m[2].replace(/^\s+/,"").replace(/\s+/g," ").split(" ");q=Math.abs(parseFloat(s[0]));s=m[3].replace(/^\s+/,
"").replace(/\s+/g," ").split(" ");s=0<parseFloat(s[0])?.529177:1;m=m.splice(6,q);q=f.length;u=q+m.length;for(A=q;A<u;++A)t={},t.serial=A,y=m[A-q].replace(/^\s+/,"").replace(/\s+/g," ").split(" "),6==y[0]?t.elem="C":1==y[0]?t.elem="H":8==y[0]?t.elem="O":17==y[0]&&(t.elem="CL"),t.x=parseFloat(y[2])*s,t.y=parseFloat(y[3])*s,t.z=parseFloat(y[4])*s,t.hetflag=!0,t.singleBonds=!0,t.bonds=[],t.bondOrder=[],t.properties={},f.push(t);p(f)}}f=n;for(m=0;m<f.length;m++)if(s=f[m])s.style=s.style||r,s.color=s.color||
ElementColors[s.elem]||C,s.Ec=c,s.clickable&&(s.c={sphere:[],l:[],line:[],h:[]})};this.atomIsSelected=function(a,b){if("undefined"===typeof b)return!0;var e=!!b.Uf,c=!0,f;for(f in b)if(b.hasOwnProperty(f)&&"props"!=f&&"invert"!=f&&"model"!=f){if("undefined"===typeof a[f]){c=!1;break}var g=!1;if($.isArray(b[f])){for(var m=b[f],n=0;n<m.length;n++)if(a[f]==m[n]){g=!0;break}if(!g){c=!1;break}}else if(a[f]!=b[f]){c=!1;break}}return e?!c:c};this.selectedAtoms=function(a){for(var b=[],e=0;e<n.length;e++){var c=
n[e];c&&this.atomIsSelected(c,a)&&b.push(c)}return b};this.addAtoms=function(a){A=null;var b=n.length,e=[],c;for(c=0;c<a.length;c++)e[a[c].index]=b+c;for(c=0;c<a.length;c++){var b=a[c],f=e[b.index],g=$.extend(!1,{},b);g.index=f;g.bonds=[];g.bondOrder=[];for(f=0;f<b.bonds.length;f++){var m=e[b.bonds[f]];"undefined"!=typeof m&&(g.bonds.push(m),g.bondOrder.push(b.bondOrder[f]))}n.push(g)}};this.removeAtoms=function(a){A=null;var b=[],e;for(e=0;e<a.length;e++)b[a[e].index]=!0;a=[];for(e=0;e<n.length;e++){var c=
n[e];b[c.index]||a.push(c)}n=[];this.addAtoms(a)};this.setStyle=function(a,e,c){if(c||null===A||!b(e,u)){u=c?null:e;a=this.selectedAtoms(a);0<a.length&&(A=null);e=$.extend(!0,{},e);for(var f=0;f<a.length;f++){a[f].clickable&&(a[f].c={sphere:[],l:[],line:[],h:[]});a[f].Qa=!1;c||(a[f].style={});for(var g in e)e.hasOwnProperty(g)&&(a[f].style[g]=e[g])}}};this.setColorByElement=function(a,e){if(null===A||!b(e,w)){w=e;var c=this.selectedAtoms(a);0<c.length&&(A=null);for(var f=0;f<c.length;f++){var g=c[f];
"undefined"!==typeof e[g.elem]&&(g.color=e[g.elem])}}};this.setColorByProperty=function(a,b,e){a=this.selectedAtoms(a);w=null;0<a.length&&(A=null);var c=Number.POSITIVE_INFINITY,f=Number.NEGATIVE_INFINITY,g,m;for(g=0;g<a.length;g++)m=a[g],m.properties&&void 0!==typeof m.properties[b]&&(m=parseFloat(m.properties[b]),m<c&&(c=m),m>f&&(f=m));for(g=0;g<a.length;g++)m=a[g],m.properties&&void 0!==typeof m.properties[b]&&(m.color=e.Xb(parseFloat(m.properties[b]),[c,f]))};this.globj=function(a){var b=new Date;
if(null===A){var f=n;console.log("creating for "+c);var g=new WebMol.Object3D,r=[],p={},t={},u=new WebMol.Geometry(!0),w=new WebMol.Geometry(!0),x,y;x=0;for(y=f.length;x<y;x++){var C=f[x];if(C&&C.style){C.clickable&&void 0===C.c&&(C.c={sphere:[],l:[],line:[],h:[]});m(C,u);var v=C,B=t;if(v.style.cross){var F=v.style.cross;if(!F.hidden){var H=F.linewidth||1;B[H]||(B[H]=new WebMol.Geometry);B=B[H].updateGeoGroup(6);F=e(v,F);F=[[F,0,0],[-F,0,0],[0,F,0],[0,-F,0],[0,0,F],[0,0,-F]];(H=v.clickable)&&void 0===
v.c&&(v.c={sphere:[],l:[],line:[]});for(var Z=WebMol.X.color(v.color),K=0;6>K;K++){var P=3*B.vertices;B.vertices++;B.__vertexArray[P]=v.x+F[K][0];B.__vertexArray[P+1]=v.y+F[K][1];B.__vertexArray[P+2]=v.z+F[K][2];B.__colorArray[P]=Z.r;B.__colorArray[P+1]=Z.g;B.__colorArray[P+2]=Z.b;H&&(P=new WebMol.Vector3(F[K][0],F[K][1],F[K][2]),P.multiplyScalar(.1),P.set(P.x+v.x,P.y+v.y,P.z+v.z),v.c.line.push(P))}}}v=C;B=f;F=p;if(v.style.line&&(H=v.style.line,!H.hidden))for(H=H.linewidth||1,F[H]||(F[H]=new WebMol.Geometry),
F=F[H].updateGeoGroup(2*v.bonds.length),H=0;H<v.bonds.length;H++)if(K=B[v.bonds[H]],K.style.line){Z=new WebMol.Vector3(v.x,v.y,v.z);K=new WebMol.Vector3(K.x,K.y,K.z);K=Z.clone().add(K).multiplyScalar(.5);v.clickable&&(void 0===v.c&&(v.c={sphere:[],l:[],line:[],h:[]}),v.c.line.push(Z),v.c.line.push(K));var P=WebMol.X.color(v.color),X=3*F.vertices;F.vertices+=2;F.__vertexArray[X]=Z.x;F.__vertexArray[X+1]=Z.y;F.__vertexArray[X+2]=Z.z;F.__colorArray[X]=P.r;F.__colorArray[X+1]=P.g;F.__colorArray[X+2]=
P.b;F.__vertexArray[X+3]=K.x;F.__vertexArray[X+4]=K.y;F.__vertexArray[X+5]=K.z;F.__colorArray[X+3]=P.r;F.__colorArray[X+4]=P.g;F.__colorArray[X+5]=P.b}v=C;Z=f;B=w;if(v.style.stick&&(K=v.style.stick,!K.hidden)){F=K.f||.25;X=P=!1;H=v.color;"undefined"!=typeof K.color&&(H=K.color);var ga=WebMol.X.color(H),ba=void 0,T=void 0;!v.Qa&&4>v.bonds.length&&(P=!0);for(var z=0;z<v.bonds.length;z++){var J=Z[v.bonds[z]];if(v.serial<J.serial&&J.style.stick){var W=new WebMol.Vector3(v.x,v.y,v.z),ia=new WebMol.Vector3(J.x,
J.y,J.z),ba=J.color;"undefined"!=typeof K.color&&(ba=K.color);var ka=WebMol.X.color(ba);if(1===v.bondOrder[z]){if(!J.Qa&&4>J.bonds.length&&(X=!0),H!=ba?(ba=(new WebMol.Vector3).addVectors(W,ia).multiplyScalar(.5),q(B,W,ba,F,ga,P,!1),q(B,ba,ia,F,ka,!1,X)):q(B,W,ia,F,ga,P,X),v.clickable||J.clickable)ba=(new WebMol.Vector3).addVectors(W,ia).multiplyScalar(.5),v.clickable&&(ka=new sa(W.clone(),ba.clone(),F),W=new ra(W.clone(),F),v.c.l.push(ka),v.c.sphere.push(W)),J.clickable&&(W=new sa(ia.clone(),ba.clone(),
F),ia=new ra(ia.clone(),F),J.c.l.push(W),J.c.sphere.push(ia))}else if(1<v.bondOrder[z]){var X=P=!1,T=ia.clone(),S=null;T.sub(W);var L,ha,da,fa;1===v.bonds.length?1===J.bonds.length?(S=T.clone(),1E-4<Math.abs(S.x)?S.y+=1:S.x+=1):(L=(z+1)%J.bonds.length,L=J.bonds[L],L=Z[L],L=new WebMol.Vector3(L.x,L.y,L.z),L=L.clone(),L.sub(W),S=L.clone(),S.cross(T)):(L=(z+1)%v.bonds.length,L=v.bonds[L],L=Z[L],L=new WebMol.Vector3(L.x,L.y,L.z),L=L.clone(),L.sub(W),S=L.clone(),S.cross(T));if(2==v.bondOrder[z]){if(L=
F/2.5,S.cross(T),S.normalize(),S.multiplyScalar(1.5*L),ha=W.clone(),ha.add(S),da=W.clone(),da.sub(S),S=ha.clone(),S.add(T),fa=da.clone(),fa.add(T),H!=ba?(ba=(new WebMol.Vector3).addVectors(ha,S).multiplyScalar(.5),T=(new WebMol.Vector3).addVectors(da,fa).multiplyScalar(.5),q(B,ha,ba,L,ga,P,!1),q(B,ba,S,L,ka,!1,X),q(B,da,T,L,ga,P,!1),q(B,T,fa,L,ka,!1,X)):(q(B,ha,S,L,ga,P,X),q(B,da,fa,L,ga,P,X)),v.clickable||J.clickable)ba=(new WebMol.Vector3).addVectors(ha,S).multiplyScalar(.5),T=(new WebMol.Vector3).addVectors(da,
fa).multiplyScalar(.5),v.clickable&&(ka=new sa(ha.clone(),ba.clone(),L),da=new sa(da.clone(),T.clone(),L),v.c.l.push(ka),v.c.l.push(da)),J.clickable&&(cylinder2a=new sa(S.clone(),ba.clone(),L),cylinder2b=new sa(fa.clone(),T.clone(),L),J.c.l.push(cylinder2a),J.c.l.push(cylinder2b))}else 3==v.bondOrder[z]&&(L=F/4,S.cross(T),S.normalize(),S.multiplyScalar(3*L),ha=W.clone(),ha.add(S),da=W.clone(),da.sub(S),S=ha.clone(),S.add(T),fa=da.clone(),fa.add(T),H!=ba?(ba=(new WebMol.Vector3).addVectors(ha,S).multiplyScalar(.5),
T=(new WebMol.Vector3).addVectors(da,fa).multiplyScalar(.5),mp3=(new WebMol.Vector3).addVectors(W,ia).multiplyScalar(.5),q(B,ha,ba,L,ga,P,!1),q(B,ba,S,L,ka,!1,X),q(B,W,mp3,L,ga,P,!1),q(B,mp3,ia,L,ka,!1,X),q(B,da,T,L,ga,P,!1),q(B,T,fa,L,ka,!1,X)):(q(B,ha,S,L,ga,P,X),q(B,W,ia,L,ga,P,X),q(B,da,fa,L,ga,P,X)),v.clickable||J.clickable)&&(ba=(new WebMol.Vector3).addVectors(ha,S).multiplyScalar(.5),T=(new WebMol.Vector3).addVectors(da,fa).multiplyScalar(.5),mp3=(new WebMol.Vector3).addVectors(W,ia).multiplyScalar(.5),
v.clickable&&(ka=new sa(ha.clone(),ba.clone(),L),da=new sa(da.clone(),T.clone(),L),W=new sa(W.clone(),mp3.clone(),L),v.c.l.push(ka),v.c.l.push(da),v.c.l.push(W)),J.clickable&&(cylinder2a=new sa(S.clone(),ba.clone(),L),cylinder2b=new sa(fa.clone(),T.clone(),L),cylinder2c=new sa(ia.clone(),mp3.clone(),L),J.c.l.push(cylinder2a),J.c.l.push(cylinder2b),J.c.l.push(cylinder2c)))}if(X||3<J.bonds.length)J.Qa=!0;if(P||3<v.bonds.length)v.Qa=!0}}if(!v.singleBonds&&1===v.bonds.length||!v.bonds.length)Z=v.style,
v.style={sphere:{f:F,color:H}},m(v,B),v.style=Z}"undefined"===typeof C.style.cartoon||C.style.cartoon.hidden||r.push(C)}}if(0<r.length)for(WebMol.Td(g,r,!1),x=0;x<g.children.length;x++);0<u.vertices&&(f=new na({ambient:0,vertexColors:!0,reflectivity:0}),u.initTypedArrays(),f=new pa(u,f),console.log("sphere geometry "+u.vertices.length),g.add(f));0<w.vertices&&(u=new na({vertexColors:!0,ambient:0,reflectivity:0}),w.initTypedArrays(),u.wireframe&&w.setUpWireframe(),w=new pa(w,u),g.add(w));for(x in p)p.hasOwnProperty(x)&&
(w=x,w=new ta({linewidth:w,vertexColors:!0}),p[x].initTypedArrays(),w=new va(p[x],w,WebMol.LinePieces),g.add(w));for(x in t)t.hasOwnProperty(x)&&(w=x,p=new ta({linewidth:w,vertexColors:!0}),t[x].initTypedArrays(),p=new va(t[x],p,WebMol.LinePieces),g.add(p));A=g;console.log("object creation time: "+(new Date-b));D&&(a.remove(D),D=null);D=A.clone();a.add(D)}};this.removegl=function(a){D&&(void 0!==D.A&&D.A.dispose(),void 0!==D.p&&D.p.dispose(),a.remove(D),D=null);A=null}}}();
WebMol.ua=function(){function a(a,r){r=r||{};WebMol.rd++;this.id=a;this.G=new ra;this.c={sphere:[],l:[],line:[],h:[]};c(this,r);var t=[],l=null,f=null,s=new WebMol.Geometry(!0);this.Ye=function(a){for(var b in a)r[b]=a[b];c(this,r)};this.addCustom=function(a){a.Yb=a.Yb||[];a.ub=a.ub||[];a.Mb=a.Mb||[];a.Gb=a.Gb||[];var b=s.addGeoGroup();p(this,b,a);b.truncateArrayBuffers(!0);for(a=0;a<b.__colorArray.length/3;++a)b.__colorArray[3*a]=this.color.r,b.__colorArray[3*a+1]=this.color.g,b.__colorArray[3*a+
2]=this.color.b;t.push({id:b.id,zb:b,Ra:b.getCentroid()});g(this.G,t,b.__vertexArray)};this.addSphere=function(a){a.center=a.center||{x:0,y:0,z:0};a.f=a.f?WebMol.Math.clamp(a.f,0,Infinity):1.5;var b=s.addGeoGroup(),c=a.center,f=a.f,l=new WebMol.Vector3(c.x,c.y,c.z);this.c.sphere.push(new ra(l,f));var r;r=q.Ia(f);for(var l=r.vertices,p=r.oa,C=b.vertices,B=0,x=l.length;B<x;++B){var F=3*(C+B),y=l[B];b.__vertexArray[F]=y.x+c.x;b.__vertexArray[F+1]=y.y+c.y;b.__vertexArray[F+2]=y.z+c.z}b.vertices+=l.length;
B=r.pa;x=B.length-1;for(r=0;r<x;r++)for(F=B[r].length-1,c=0;c<F;c++){var y=b.d,h=b.o,E=B[r][c+1]+C,I=3*E,R=B[r][c]+C,Q=3*R,M=B[r+1][c]+C,U=3*M,O=B[r+1][c+1]+C,Y=3*O,aa=p[E-C],ca=p[R-C],V=p[M-C],v=p[O-C];Math.abs(l[E-C].y)===f?(b.__normalArray[I]=aa.x,b.__normalArray[U]=V.x,b.__normalArray[Y]=v.x,b.__normalArray[I+1]=aa.y,b.__normalArray[U+1]=V.y,b.__normalArray[Y+1]=v.y,b.__normalArray[I+2]=aa.z,b.__normalArray[U+2]=V.z,b.__normalArray[Y+2]=v.z,b.__faceArray[y]=E,b.__faceArray[y+1]=M,b.__faceArray[y+
2]=O,b.__lineArray[h]=E,b.__lineArray[h+1]=M,b.__lineArray[h+2]=E,b.__lineArray[h+3]=O,b.__lineArray[h+4]=M,b.__lineArray[h+5]=O,b.d+=3,b.o+=6):Math.abs(l[M-C].y)===f?(b.__normalArray[I]=aa.x,b.__normalArray[Q]=ca.x,b.__normalArray[U]=V.x,b.__normalArray[I+1]=aa.y,b.__normalArray[Q+1]=ca.y,b.__normalArray[U+1]=V.y,b.__normalArray[I+2]=aa.z,b.__normalArray[Q+2]=ca.z,b.__normalArray[U+2]=V.z,b.__faceArray[y]=E,b.__faceArray[y+1]=R,b.__faceArray[y+2]=M,b.__lineArray[h]=E,b.__lineArray[h+1]=R,b.__lineArray[h+
2]=E,b.__lineArray[h+3]=M,b.__lineArray[h+4]=R,b.__lineArray[h+5]=M,b.d+=3,b.o+=6):(b.__normalArray[I]=aa.x,b.__normalArray[Q]=ca.x,b.__normalArray[Y]=v.x,b.__normalArray[I+1]=aa.y,b.__normalArray[Q+1]=ca.y,b.__normalArray[Y+1]=v.y,b.__normalArray[I+2]=aa.z,b.__normalArray[Q+2]=ca.z,b.__normalArray[Y+2]=v.z,b.__normalArray[Q]=ca.x,b.__normalArray[U]=V.x,b.__normalArray[Y]=v.x,b.__normalArray[Q+1]=ca.y,b.__normalArray[U+1]=V.y,b.__normalArray[Y+1]=v.y,b.__normalArray[Q+2]=ca.z,b.__normalArray[U+2]=
V.z,b.__normalArray[Y+2]=v.z,b.__faceArray[y]=E,b.__faceArray[y+1]=R,b.__faceArray[y+2]=O,b.__faceArray[y+3]=R,b.__faceArray[y+4]=M,b.__faceArray[y+5]=O,b.__lineArray[h]=E,b.__lineArray[h+1]=R,b.__lineArray[h+2]=E,b.__lineArray[h+3]=O,b.__lineArray[h+4]=R,b.__lineArray[h+5]=M,b.__lineArray[h+6]=M,b.__lineArray[h+7]=O,b.d+=6,b.o+=8)}b.truncateArrayBuffers(!0);t.push({id:b.id,zb:b,Ra:new WebMol.Vector3(a.center.x,a.center.y,a.center.z)});g(this.G,t,b.__vertexArray)};this.addArrow=function(a){a.start=
a.start||{};a.end=a.end||{};a.start=new WebMol.Vector3(a.start.x||0,a.start.y||0,a.start.z||0);a.end=new WebMol.Vector3(a.end.x||3,a.end.y||0,a.end.z||0);a.f=a.f||.25;a.Pc=a.Pc||1.618034;a.ab=0<a.ab&&1>a.ab?a.ab:.618034;var b=s.addGeoGroup(),c=a.start,f=a.end,l=a.f,r=a.Pc,p=a.ab;if(c&&f){var q=f.clone();q.sub(c).multiplyScalar(p);var B=c.clone().add(q),p=q.clone().negate();this.c.l.push(new sa(c.clone(),B.clone(),l));this.c.sphere.push(new ra(c.clone(),l));var x=[];x[0]=q.clone();1E-4<Math.abs(x[0].x)?
x[0].y+=1:x[0].x+=1;x[0].cross(q);x[0].normalize();x[0]=x[0];x[4]=x[0].clone();x[4].crossVectors(x[0],q);x[4].normalize();x[8]=x[0].clone().negate();x[12]=x[4].clone().negate();x[2]=x[0].clone().add(x[4]).normalize();x[6]=x[4].clone().add(x[8]).normalize();x[10]=x[8].clone().add(x[12]).normalize();x[14]=x[12].clone().add(x[0]).normalize();x[1]=x[0].clone().add(x[2]).normalize();x[3]=x[2].clone().add(x[4]).normalize();x[5]=x[4].clone().add(x[6]).normalize();x[7]=x[6].clone().add(x[8]).normalize();
x[9]=x[8].clone().add(x[10]).normalize();x[11]=x[10].clone().add(x[12]).normalize();x[13]=x[12].clone().add(x[14]).normalize();x[15]=x[14].clone().add(x[0]).normalize();var F=b.vertices,y,h,E;h=0;for(E=x.length;h<E;++h){y=3*(F+3*h);var I=x[h].clone().multiplyScalar(l).add(c),R=x[h].clone().multiplyScalar(l).add(B),Q=x[h].clone().multiplyScalar(l*r).add(B);b.__vertexArray[y]=I.x;b.__vertexArray[y+1]=I.y;b.__vertexArray[y+2]=I.z;b.__vertexArray[y+3]=R.x;b.__vertexArray[y+4]=R.y;b.__vertexArray[y+5]=
R.z;b.__vertexArray[y+6]=Q.x;b.__vertexArray[y+7]=Q.y;b.__vertexArray[y+8]=Q.z;0<h&&(y=new WebMol.Vector3(b.__vertexArray[y-3],b.__vertexArray[y-2],b.__vertexArray[y-1]),I=f.clone(),R=B.clone(),Q=new WebMol.Vector3(Q.x,Q.y,Q.z),this.c.h.push(new ma(Q,I,y)),this.c.h.push(new ma(y.clone(),R,Q.clone())))}b.vertices+=48;y=3*b.vertices;b.__vertexArray[y]=c.x;b.__vertexArray[y+1]=c.y;b.__vertexArray[y+2]=c.z;b.__vertexArray[y+3]=B.x;b.__vertexArray[y+4]=B.y;b.__vertexArray[y+5]=B.z;b.__vertexArray[y+6]=
f.x;b.__vertexArray[y+7]=f.y;b.__vertexArray[y+8]=f.z;b.vertices+=3;var M,U,O,Y,aa,ca,V,v,ea,qa=b.vertices-3,H=b.vertices-2,Z=b.vertices-1,K=3*qa,P=3*H,X=3*Z;h=0;for(E=x.length-1;h<E;++h)M=F+3*h,c=b.d,f=b.o,l=M,I=3*l,r=M+1,R=3*r,B=M+2,U=3*B,Q=M+4,O=3*Q,y=M+5,Y=3*y,M+=3,aa=3*M,ca=V=x[h],v=ea=x[h+1],b.__normalArray[I]=ca.x,b.__normalArray[R]=V.x,b.__normalArray[aa]=ea.x,b.__normalArray[I+1]=ca.y,b.__normalArray[R+1]=V.y,b.__normalArray[aa+1]=ea.y,b.__normalArray[I+2]=ca.z,b.__normalArray[R+2]=V.z,b.__normalArray[aa+
2]=ea.z,b.__normalArray[R]=V.x,b.__normalArray[O]=v.x,b.__normalArray[aa]=ea.x,b.__normalArray[R+1]=V.y,b.__normalArray[O+1]=v.y,b.__normalArray[aa+1]=ea.y,b.__normalArray[R+2]=V.z,b.__normalArray[O+2]=v.z,b.__normalArray[aa+2]=ea.z,b.__normalArray[U]=V.x,b.__normalArray[Y]=v.x,b.__normalArray[U+1]=V.y,b.__normalArray[Y+1]=v.y,b.__normalArray[U+2]=V.z,b.__normalArray[Y+2]=v.z,b.__faceArray[c]=l,b.__faceArray[c+1]=r,b.__faceArray[c+2]=M,b.__faceArray[c+3]=r,b.__faceArray[c+4]=Q,b.__faceArray[c+5]=
M,b.__faceArray[c+6]=l,b.__faceArray[c+7]=M,b.__faceArray[c+8]=qa,b.__faceArray[c+9]=B,b.__faceArray[c+10]=H,b.__faceArray[c+11]=y,b.__faceArray[c+12]=B,b.__faceArray[c+13]=Z,b.__faceArray[c+14]=y,b.__lineArray[f]=l,b.__lineArray[f+1]=r,b.__lineArray[f+2]=l,b.__lineArray[f+3]=M,b.__lineArray[f+4]=Q,b.__lineArray[f+5]=M,b.__lineArray[f+6]=l,b.__lineArray[f+7]=M,b.__lineArray[f+8]=B,b.__lineArray[f+9]=r,b.__lineArray[f+10]=B,b.__lineArray[f+11]=y,b.__lineArray[f+12]=Q,b.__lineArray[f+13]=y,b.__lineArray[f+
14]=B,b.__lineArray[f+15]=Z,b.__lineArray[f+16]=B,b.__lineArray[f+17]=y,b.__lineArray[f+18]=Z,b.__lineArray[f+19]=y,b.d+=15,b.o+=20;F=[F+45,F+46,F+1,F,F+47,F+2];c=b.d;f=b.o;l=F[0];I=3*l;r=F[1];R=3*r;B=F[4];U=3*B;Q=F[2];O=3*Q;y=F[5];Y=3*y;M=F[3];aa=3*M;ca=V=x[15];v=ea=x[0];b.__normalArray[I]=ca.x;b.__normalArray[R]=V.x;b.__normalArray[aa]=ea.x;b.__normalArray[I+1]=ca.y;b.__normalArray[R+1]=V.y;b.__normalArray[aa+1]=ea.y;b.__normalArray[I+2]=ca.z;b.__normalArray[R+2]=V.z;b.__normalArray[aa+2]=ea.z;
b.__normalArray[R]=V.x;b.__normalArray[O]=v.x;b.__normalArray[aa]=ea.x;b.__normalArray[R+1]=V.y;b.__normalArray[O+1]=v.y;b.__normalArray[aa+1]=ea.y;b.__normalArray[R+2]=V.z;b.__normalArray[O+2]=v.z;b.__normalArray[aa+2]=ea.z;b.__normalArray[U]=V.x;b.__normalArray[Y]=v.x;b.__normalArray[U+1]=V.y;b.__normalArray[Y+1]=v.y;b.__normalArray[U+2]=V.z;b.__normalArray[Y+2]=v.z;q.normalize();p.normalize();b.__normalArray[K]=p.x;b.__normalArray[P]=b.__normalArray[X]=q.x;b.__normalArray[K+1]=p.y;b.__normalArray[P+
1]=b.__normalArray[X+1]=q.y;b.__normalArray[K+2]=p.z;b.__normalArray[P+2]=b.__normalArray[X+2]=q.z;b.__faceArray[c]=l;b.__faceArray[c+1]=r;b.__faceArray[c+2]=M;b.__faceArray[c+3]=r;b.__faceArray[c+4]=Q;b.__faceArray[c+5]=M;b.__faceArray[c+6]=l;b.__faceArray[c+7]=M;b.__faceArray[c+8]=qa;b.__faceArray[c+9]=B;b.__faceArray[c+10]=H;b.__faceArray[c+11]=y;b.__faceArray[c+12]=B;b.__faceArray[c+13]=Z;b.__faceArray[c+14]=y;b.__lineArray[f]=l;b.__lineArray[f+1]=r;b.__lineArray[f+2]=l;b.__lineArray[f+3]=M;b.__lineArray[f+
4]=Q;b.__lineArray[f+5]=M;b.__lineArray[f+6]=l;b.__lineArray[f+7]=M;b.__lineArray[f+8]=B;b.__lineArray[f+9]=r;b.__lineArray[f+10]=B;b.__lineArray[f+11]=y;b.__lineArray[f+12]=Q;b.__lineArray[f+13]=y;b.__lineArray[f+14]=B;b.__lineArray[f+15]=Z;b.__lineArray[f+16]=B;b.__lineArray[f+17]=y;b.__lineArray[f+18]=Z;b.__lineArray[f+19]=y;b.d+=15;b.o+=20}b.truncateArrayBuffers(!0);q=new WebMol.Vector3;t.push({id:b.id,zb:b,Ra:q.addVectors(a.start,a.end).multiplyScalar(.5)});g(this.G,t,b.__vertexArray)};this.addVolumetricData=
function(a,b,c){var f=void 0!==c.Ac&&"number"===typeof c.Ac?c.Ac:0,l=c.gd?!0:!1,r=s.addGeoGroup();switch(b){case "cube":var q=a.replace(/^\s+/,"").split(/[\n\r]+/);if(!(6>q.length)){var C=q[2].replace(/^\s+/,"").replace(/\s+/g," ").split(" "),B=Math.abs(parseFloat(C[0]));a=new WebMol.Vector3(parseFloat(C[1]),parseFloat(C[2]),parseFloat(C[3]));var C=q[3].replace(/^\s+/,"").replace(/\s+/g," ").split(" "),x=0<parseFloat(C[0])?.529177:1;a.multiplyScalar(x);b=Math.abs(C[0]);var F=(new WebMol.Vector3(parseFloat(C[1]),
parseFloat(C[2]),parseFloat(C[3]))).multiplyScalar(x),C=q[4].replace(/^\s+/,"").replace(/\s+/g," ").split(" "),y=Math.abs(C[0]);(new WebMol.Vector3(parseFloat(C[1]),parseFloat(C[2]),parseFloat(C[3]))).multiplyScalar(x);var C=q[5].replace(/^\s+/,"").replace(/\s+/g," ").split(" "),h=Math.abs(C[0]);(new WebMol.Vector3(parseFloat(C[1]),parseFloat(C[2]),parseFloat(C[3]))).multiplyScalar(x);q=new Float32Array(q.splice(B+7).join(" ").replace(/^\s+/,"").split(/[\s\r]+/));C=new Int16Array(b*y*h);B=0;for(x=
C.length;B<x;++B)C[B]=-1;C=new Uint8Array(b*y*h);B=0;for(x=q.length;B<x;++B)0<(0<=f?q[B]-f:f-q[B])&&(C[B]|=2);f=[];q=[];WebMol.bc.ke(C,f,q,{Wd:!0,gd:l,scale:F.length(),origin:a,oe:b,pe:y,qe:h});l||WebMol.bc.je(10,f,q);p(this,r,{Yb:f,ub:q,Mb:[],Gb:[]})}}t.push({id:r.id,zb:r,Ra:r.getCentroid()});this.Ye(c);g(this.G,t,r.__vertexArray)};this.globj=function(a){s.initTypedArrays();var b=this.color,b=b||WebMol.X.color(b);s.Da=!0;for(var c in s.j)for(var g=s.j[c],r=g.__colorArray,q=0,g=g.vertices;q<g;++q)r[3*
q]=b.r,r[3*q+1]=b.g,r[3*q+2]=b.b;l=new WebMol.Object3D;c=new na({wireframe:this.wireframe,vertexColors:!0,ambient:0,reflectivity:0,side:this.side,transparent:1>this.alpha?!0:!1,opacity:this.alpha});c=new pa(s,c);l.add(c);f&&(a.remove(f),f=null);f=l.clone();a.add(f)}}function c(a,c){a.color=c.color||new WebMol.Color;a.wireframe=c.wireframe?!0:!1;a.alpha=c.alpha?WebMol.Math.clamp(c.alpha,0,1):1;a.side=void 0!==c.side?c.side:WebMol.jb;a.clickable=c.clickable?!0:!1;a.callback="function"===typeof c.callback?
c.callback:null}function g(a,c,g){a.center.set(0,0,0);var l,f;if(0<c.length){l=0;for(f=c.length;l<f;++l)a.center.add(c[l].Ra);a.center.divideScalar(c.length)}c=a.f*a.f;l=0;for(f=g.length/3;l<f;l++){var q=a.center.distanceToSquared({x:g[3*l],y:g[3*l+1],z:g[3*l+2]});c=Math.max(c,q)}a.f=Math.sqrt(c)}function p(a,c,g){var l=g.Yb,f=g.Mb,q=g.ub;g=g.Gb;0!==l.length&&0!==q.length||console.warn("Error adding custom shape component: No vertices and/or face indices supplied!");c.vertices=l.length;c.d=q.length;
var m,e,n,p,D;p=0;for(D=c.vertices;p<D;++p)m=3*p,e=l[p],c.__vertexArray[m]=e.x,c.__vertexArray[m+1]=e.y,c.__vertexArray[m+2]=e.z;p=0;for(D=c.d/3;p<D;++p){m=3*p;e=q[m];n=q[m+1];m=q[m+2];var u=new WebMol.Vector3,w=new WebMol.Vector3,C=new WebMol.Vector3;a.c.h.push(new ma(u.copy(l[e]),w.copy(l[n]),C.copy(l[m])))}c.__faceArray=new Uint16Array(q);c.truncateArrayBuffers(!0);if(f.length<c.vertices)c.setNormals();else for(c.__normalArray=new Float32Array(3*c.vertices),p=0,D=c.vertices;p<D;++p)m=3*p,a=f[p],
c.__normalArray[m]=a.x,c.__normalArray[m+1]=a.y,c.__normalArray[m+2]=a.z;g.length?c.__lineArray=new Uint16Array(g):c.setLineIndices();c.o=c.__lineArray.length}var q={k:{},Ia:function(a){if("undefined"!==typeof this.k[a])return this.k[a];var c={vertices:[],pa:[],oa:[]},g=16,l=10;1>a&&(g=8,l=6);var f=2*Math.PI,q=Math.PI,m,e;for(e=0;e<=l;e++){var n=[];for(m=0;m<=g;m++){var p=m/g,D=e/l,u={};u.x=-a*Math.cos(0+p*f)*Math.sin(0+D*q);u.y=a*Math.cos(0+D*q);u.z=a*Math.sin(0+p*f)*Math.sin(0+D*q);p=new WebMol.Vector3(u.x,
u.y,u.z);p.normalize();c.vertices.push(u);c.oa.push(p);n.push(c.vertices.length-1)}c.pa.push(n)}return this.k[a]=c}};Object.defineProperty(a.prototype,"position",{get:function(){return this.G.center}});Object.defineProperty(a.prototype,"x",{get:function(){return this.G.center.x}});Object.defineProperty(a.prototype,"y",{get:function(){return this.G.center.y}});Object.defineProperty(a.prototype,"z",{get:function(){return this.G.center.z}});return a}();WebMol.rd=0;WebMol=WebMol||{};WebMol.md=0;
function xa(a,c){this.id=WebMol.md++;this.i=c||{};this.canvas=document.createElement("canvas");this.context=this.canvas.getContext("2d");this.M=new Aa;this.text=a}xa.prototype={constructor:xa,dispose:function(){void 0!==this.M.p.map&&this.M.p.map.dispose();void 0!==this.M.p&&this.M.p.dispose()}};
function Ga(a){a.font=a.i.font=a.i.font?a.i.font:"Arial";a.fontSize=a.i.fontSize=a.i.fontSize?a.i.fontSize:20;a.ma=a.i.ma=a.i.ma?a.i.ma:{r:255,g:255,b:255,q:1};a.U=a.i.U=a.i.U?a.i.U:4;a.borderColor=a.i.borderColor=a.i.borderColor?a.i.borderColor:{r:0,g:0,b:0,q:1};a.backgroundColor=a.i.backgroundColor=a.i.backgroundColor?a.i.backgroundColor:{r:0,g:0,b:0,q:1};a.position=a.i.position=a.i.position?a.i.position:{x:-10,y:1,z:1};a.Za=a.i.Za=void 0!==a.i.Za?a.i.Za:!0;a.context.clearRect(0,0,a.canvas.width,
a.canvas.height);var c=WebMol.SpriteAlignment.topLeft;a.context.font=a.fontSize+"pt "+a.font;var g=a.context.measureText(a.text).width;a.context.fillStyle="rgba("+a.backgroundColor.r+","+a.backgroundColor.g+","+a.backgroundColor.b+","+a.backgroundColor.q+")";a.context.strokeStyle="rgba("+a.borderColor.r+","+a.borderColor.g+","+a.borderColor.b+","+a.borderColor.q+")";a.context.lineWidth=a.U;var p=a.context,q=a.U/2,b=a.U/2,r=g+a.U,t=1.4*a.fontSize+a.U;p.beginPath();p.moveTo(q+6,b);p.lineTo(q+r-6,b);
p.quadraticCurveTo(q+r,b,q+r,b+6);p.lineTo(q+r,b+t-6);p.quadraticCurveTo(q+r,b+t,q+r-6,b+t);p.lineTo(q+6,b+t);p.quadraticCurveTo(q,b+t,q,b+t-6);p.lineTo(q,b+6);p.quadraticCurveTo(q,b,q+6,b);p.closePath();p.fill();a.context.fillStyle="rgba("+a.ma.r+","+a.ma.g+","+a.ma.b+","+a.ma.q+")";a.context.fillText(a.text,a.U,a.fontSize+a.U,g);g=new Ja(a.canvas);g.needsUpdate=!0;a.M.p=new Ka({map:g,useScreenCoordinates:!1,alignment:c,depthTest:!a.Za});a.M.scale.set(2*a.fontSize,a.fontSize,1);a.M.position.set(a.position.x,
a.position.y,a.position.z)}
WebMol.GLViewer=function(){function a(a){var g,p,q,b,r,t,l,f,s,m;g=p=q=9999;b=r=t=-9999;l=f=s=m=0;if(0===a.length)return[[0,0,0],[0,0,0],[0,0,0]];for(var e=0;e<a.length;e++){var n=a[e];void 0!==n&&(m++,l+=n.x,f+=n.y,s+=n.z,g=g<n.x?g:n.x,p=p<n.y?p:n.y,q=q<n.z?q:n.z,b=b>n.x?b:n.x,r=r>n.y?r:n.y,t=t>n.z?t:n.z)}return[[g,p,q],[b,r,t],[l/m,f/m,s/m]]}return function(c,g,p){function q(){if(y){var a=w.position.z-h.position.z;1>a&&(a=1);w.t=a+R;1>w.t&&(w.t=1);w.L=a+Q;w.t+1>w.L&&(w.L=w.t+1);w instanceof Pa?
w.yb=20:(w.right=a*Math.tan(Math.PI/180*20),w.left=-w.right,w.top=w.right/D,w.bottom=-w.top);w.updateProjectionMatrix();y.fog.t=w.t+.4*(w.L-w.t);y.fog.L=w.L;u.render(y,w)}}function b(a){var b=[];"undefined"===typeof a&&(a={});var c=[],e;if("undefined"===typeof a.Ec)for(e=0;e<f.length;e++)f[e]&&c.push(f[e]);else c=a.Ec,$.isArray(c)||(c=[c]);for(e=0;e<c.length;e++)b=b.concat(c[e].selectedAtoms(a));return b}function r(a,b,c,e){for(var g=0;g<f.length;g++)if(f[g])f[g][a](b,c,e)}var t=this,l=c.id,f=[],
s=[],m=[],e=c.width(),n=c.height(),A=$('<div class="glviewerSpinnerWrap" style = "position: absolute; width: 100%; height: 100%; display: table; z-index: 1;"><div class="glviewerSpinner" style="display: table-cell; text-align: center; vertical-align: middle; z-index:1"><img src="webmol/spinner.gif"></div></div>');$(c).append(A);A.hide();var D=e/n,u=new WebMol.Renderer({antialias:!0});u.domElement.style.width="100%";u.domElement.style.height="100%";u.domElement.style.position="absolute";u.domElement.style.top=
"0px";u.domElement.style.zIndex="0";c.append(u.domElement);u.setSize(e,n);var w=new Pa(20,D,1,800);w.position=new WebMol.Vector3(0,0,150);var C=new WebMol.Vector3;w.lookAt(C);var B=new WebMol.Raycaster(new WebMol.Vector3(0,0,0),new WebMol.Vector3(0,0,0)),x=new Qa,F=new WebMol.Vector3(0,0,0),y=null,h=null,E=null,I=0,R=-50,Q=50,M=new Ua(0,0,0,1),U=new Ua(0,0,0,1),O=!1,Y=0,aa=0,ca=0,V=0,v=0,ea=0;(function(){y=new Va;y.fog=new Wa(I,100,200);E=new WebMol.Object3D;h=new WebMol.Object3D;h.useQuaternion=
!0;h.quaternion=new Ua(0,0,0,1);h.add(E);y.add(h);var a=new Xa(16777215);a.position=(new WebMol.Vector3(.2,.2,1)).normalize();a.intensity=1;y.add(a)})();u.setClearColorHex(I,1);y.fog.color=WebMol.X.color(I);C=$(u.domElement);C.bind("mousedown touchstart",function(a){a.preventDefault();if(y){var b=a.pageX,c=a.pageY;a.originalEvent.targetTouches&&a.originalEvent.targetTouches[0]&&(b=a.originalEvent.targetTouches[0].pageX,c=a.originalEvent.targetTouches[0].pageY);if(void 0!==b){O=!0;mouseButton=a.which;
Y=b;aa=c;M=h.quaternion;V=h.position.z;ca=E.position.clone();v=R;ea=Q;a=b/$(window).width()*2-1;F.set(a,2*-(c/n)+1,-1);x.unprojectVector(F,w);F.sub(w.position).normalize();B.set(w.position,F);c=[];a=[];a=0;for(b=f.length;a<b;a++)var e=f[a].selectedAtoms({clickable:!0}),c=c.concat(e);a=0;for(b=m.length;a<b;a++)e=m[a],e.clickable&&c.push(e);a=B.intersectObjects(E,c);a.length&&(c=a[0].clickable,void 0!==c.callback&&"function"===typeof c.callback&&c.callback(c,t));q()}}});C.bind("DOMMouseScroll mousewheel",
function(a){a.preventDefault();if(y){var b=.85*(150-h.position.z);a.originalEvent.detail?h.position.z+=b*a.originalEvent.detail/10:a.originalEvent.wheelDelta&&(h.position.z-=b*a.originalEvent.wheelDelta/400);q()}});C.bind("contextmenu",function(a){a.preventDefault()});$("body").bind("mouseup touchend",function(){O=!1});C.bind("mousemove touchmove",function(a){a.preventDefault();if(y&&O){var b=0,c=$("input[name="+l+"_mouseMode]:checked");0<c.length&&(b=parseInt(c.val()));var c=a.pageX,f=a.pageY;a.originalEvent.targetTouches&&
a.originalEvent.targetTouches[0]&&(c=a.originalEvent.targetTouches[0].pageX,f=a.originalEvent.targetTouches[0].pageY);if(void 0!==c){var c=(c-Y)/e,f=(f-aa)/n,g=Math.sqrt(c*c+f*f);3==b||3==mouseButton&&a.ctrlKey?(R=v+100*c,Q=ea+100*f):2==b||3==mouseButton||a.shiftKey?(a=.85*(150-h.position.z),80>a&&(a=80),h.position.z=V-f*a):1==b||2==mouseButton||a.ctrlKey?(a=.85*(150-h.position.z),20>a&&(a=20),a=new WebMol.Vector3(c*a,-f*a,0),b=h.quaternion,b=(new Ua(b.x,b.y,b.z,b.w)).inverse().normalize(),a=a.applyQuaternion(b),
E.position.x=ca.x+a.x,E.position.y=ca.y+a.y,E.position.z=ca.z+a.z):0!==b&&1!=mouseButton||0===g||(a=Math.sin(g*Math.PI)/g,U.x=Math.cos(g*Math.PI),U.y=0,U.z=a*c,U.w=-a*f,h.quaternion=new Ua(1,0,0,0),h.quaternion.multiply(U),h.quaternion.multiply(M));q()}}});this.setBackgroundColor=function(a,b){I=a;u.setClearColorHex(a,b|1);y.fog.color=WebMol.X.color(a);q()};this.setWidth=function(a){e=a||e;u.setSize(e,n)};this.setHeight=function(a){n=a||n;u.setSize(e,n)};this.resize=function(){e=c.width();n=c.height();
D=e/n;u.setSize(e,n);w.mc=D;w.updateProjectionMatrix();q()};$(window).resize(this.resize);this.getModel=function(a){a=a||f.length-1;return f[a]};this.getView=function(){if(!E)return[0,0,0,0,0,0,0,1];var a=E.position,b=h.quaternion;return[a.x,a.y,a.z,h.position.z,b.x,b.y,b.z,b.w]};this.setView=function(a){void 0!==a&&(a instanceof Array||8!==a.length)&&E&&h&&(E.position.x=a[0],E.position.y=a[1],E.position.z=a[2],h.position.z=a[3],h.quaternion.x=a[4],h.quaternion.y=a[5],h.quaternion.z=a[6],h.quaternion.w=
a[7],q())};this.render=function(){var a=new Date,b=this.getView(),c;for(c=0;c<f.length;c++)f[c]&&f[c].globj(E);for(c=0;c<m.length;c++)m[c]&&m[c].globj(E);for(c in s)if(s.hasOwnProperty(c)){var e=s[c].Sf;s[c].Vd||(e.ib=!0,e.Ta=!0,e.bb=!0,e.Da=!0,e.pc=!0,e.G=null,s[c].done&&(s[c].Vd=!0),s[c].Bc&&E.remove(s[c].Bc),e=new pa(e,s[c].Xf),s[c].Bc=e,E.add(e))}this.setView(b);b=new Date;A.hide();console.log("render time: "+(b-a))};this.pdbData=function(a){a=b(a);for(var c="",e=0,f=a.length;e<f;++e)c+=a[e].pdbline+
"\n";return c};this.zoomTo=function(c){c=b(c).concat(m);var e=b({}).concat(m);c=a(c);var e=a(e),f=new WebMol.Vector3(c[2][0],c[2][1],c[2][2]);E.position=f.multiplyScalar(-1);var f=e[1][0]-e[0][0],g=e[1][1]-e[0][1],e=e[1][2]-e[0][2],e=Math.sqrt(f*f+g*g+e*e);25>e&&(e=25);R=-e/1.9;Q=e/3;f=c[1][0]-c[0][0];g=c[1][1]-c[0][1];e=c[1][2]-c[0][2];e=Math.sqrt(f*f+g*g+e*e);25>e&&(e=25);h.position.z=-(.35*e/Math.tan(Math.PI/180*w.yb/2)-150);q()};this.addLabel=function(a,b){var c=new xa(a,b);Ga(c);E.add(c.M);return c};
this.removeLabel=function(a){a.dispose();E.remove(a.M)};this.setLabelStyle=function(a,b){a.dispose();a.i=b;Ga(a);E.add(a.M);return a};this.setLabelText=function(a,b){a.dispose();a.text=b;Ga(a);E.add(a.M);return a};this.addShape=function(a){a=a||{};a=new WebMol.ua(m.length,a);m.push(a);return a};this.addSphere=function(a){var b=new WebMol.ua(m.length);a=a||{};b.addSphere(a);m.push(b);return b};this.addArrow=function(a){var b=new WebMol.ua(m.length);a=a||{};b.addArrow(a);m.push(b);return b};this.addCustom=
function(a){var b=new WebMol.ua(m.length);a=a||{};b.addCustom(a);m.push(b);return b};this.addVolumetricData=function(a,b,c){var e=new WebMol.ua(m.length);c=c||{};e.addVolumetricData(a,b,c);m.push(e);return e};this.addModel=function(a,b){var c=new WebMol.GLModel(f.length,p);c.addMolData(a,b);f.push(c);return c};this.removeModel=function(a){if(a)for(a.removegl(E),delete f[a.getID()];0<f.length&&"undefined"===typeof f[f.length-1];)f.pop()};this.removeAllModels=function(){for(var a=0;a<f.length;a++)f[a].removegl(E);
f=[]};this.createModelFrom=function(a,b){for(var c=new WebMol.GLModel(f.length,p),e=0;e<f.length;e++)if(f[e]){var g=f[e].selectedAtoms(a);c.addAtoms(g);b&&f[e].removeAtoms(g)}f.push(c);return c};this.setStyle=function(a,b){r("setStyle",a,b,!1)};this.addStyle=function(a,b){r("setStyle",a,b,!0)};this.setColorByProperty=function(a,b,c){r("setColorByProperty",a,b,c)};this.setColorByElement=function(a,b){r("setColorByElement",a,b)};this.clear=function(){s=[];this.removeAllModels();q()};getModelGroup=function(){return E};
try{"function"===typeof g&&g(this)}catch(qa){console.log("error with glviewer callback: "+qa)}}}();WebMol.glmolViewer=WebMol.GLViewer;WebMol=WebMol||{};
WebMol.gg=[{resn:"ALA",atom:"N",props:{a:-.15}},{resn:"ALA",atom:"CA",props:{a:.1}},{resn:"ALA",atom:"CB",props:{a:0}},{resn:"ALA",atom:"C",props:{a:.6}},{resn:"ALA",atom:"O",props:{a:-.55}},{resn:"ARG",atom:"N",props:{a:-.15}},{resn:"ARG",atom:"CA",props:{a:.1}},{resn:"ARG",atom:"CB",props:{a:0}},{resn:"ARG",atom:"CG",props:{a:0}},{resn:"ARG",atom:"CD",props:{a:.1}},{resn:"ARG",atom:"NE",props:{a:-.1}},{resn:"ARG",atom:"CZ",props:{a:.5}},{resn:"ARG",atom:"NH1",props:{a:.25}},{resn:"ARG",atom:"NH2",
props:{a:.25}},{resn:"ARG",atom:"C",props:{a:.6}},{resn:"ARG",atom:"O",props:{a:-.55}},{resn:"ASN",atom:"N",props:{a:-.15}},{resn:"ASN",atom:"CA",props:{a:.1}},{resn:"ASN",atom:"CB",props:{a:0}},{resn:"ASN",atom:"CG",props:{a:.55}},{resn:"ASN",atom:"OD1",props:{a:-.55}},{resn:"ASN",atom:"ND2",props:{a:0}},{resn:"ASN",atom:"C",props:{a:.6}},{resn:"ASN",atom:"O",props:{a:-.55}},{resn:"ASP",atom:"N",props:{a:-.15}},{resn:"ASP",atom:"CA",props:{a:.1}},{resn:"ASP",atom:"CB",props:{a:0}},{resn:"ASP",atom:"CG",
props:{a:.14}},{resn:"ASP",atom:"OD1",props:{a:-.57}},{resn:"ASP",atom:"OD2",props:{a:-.57}},{resn:"ASP",atom:"C",props:{a:.6}},{resn:"ASP",atom:"O",props:{a:-.55}},{resn:"CYS",atom:"N",props:{a:-.15}},{resn:"CYS",atom:"CA",props:{a:.1}},{resn:"CYS",atom:"CB",props:{a:.19}},{resn:"CYS",atom:"SG",props:{a:-.19}},{resn:"CYS",atom:"C",props:{a:.6}},{resn:"CYS",atom:"O",props:{a:-.55}},{resn:"GLN",atom:"N",props:{a:-.15}},{resn:"GLN",atom:"CA",props:{a:.1}},{resn:"GLN",atom:"CB",props:{a:0}},{resn:"GLN",
atom:"CG",props:{a:0}},{resn:"GLN",atom:"CD",props:{a:.55}},{resn:"GLN",atom:"OE1",props:{a:-.55}},{resn:"GLN",atom:"NE2",props:{a:0}},{resn:"GLN",atom:"C",props:{a:.6}},{resn:"GLN",atom:"O",props:{a:-.55}},{resn:"GLU",atom:"N",props:{a:-.15}},{resn:"GLU",atom:"CA",props:{a:.1}},{resn:"GLU",atom:"CB",props:{a:0}},{resn:"GLU",atom:"CG",props:{a:0}},{resn:"GLU",atom:"CD",props:{a:.14}},{resn:"GLU",atom:"OE1",props:{a:-.57}},{resn:"GLU",atom:"OE2",props:{a:-.57}},{resn:"GLU",atom:"C",props:{a:.6}},{resn:"GLU",
atom:"O",props:{a:-.55}},{resn:"GLY",atom:"N",props:{a:-.15}},{resn:"GLY",atom:"CA",props:{a:.1}},{resn:"GLY",atom:"C",props:{a:.6}},{resn:"GLY",atom:"O",props:{a:-.55}},{resn:"HIS",atom:"N",props:{a:-.15}},{resn:"HIS",atom:"CA",props:{a:.1}},{resn:"HIS",atom:"CB",props:{a:0}},{resn:"HIS",atom:"CG",props:{a:.1}},{resn:"HIS",atom:"ND1",props:{a:-.1}},{resn:"HIS",atom:"CD2",props:{a:.1}},{resn:"HIS",atom:"NE2",props:{a:-.4}},{resn:"HIS",atom:"CE1",props:{a:.3}},{resn:"HIS",atom:"C",props:{a:.6}},{resn:"HIS",
atom:"O",props:{a:-.55}},{resn:"ILE",atom:"N",props:{a:-.15}},{resn:"ILE",atom:"CA",props:{a:.1}},{resn:"ILE",atom:"CB",props:{a:0}},{resn:"ILE",atom:"CG2",props:{a:0}},{resn:"ILE",atom:"CG1",props:{a:0}},{resn:"ILE",atom:"CD",props:{a:0}},{resn:"ILE",atom:"C",props:{a:.6}},{resn:"ILE",atom:"O",props:{a:-.55}},{resn:"LEU",atom:"N",props:{a:-.15}},{resn:"LEU",atom:"CA",props:{a:.1}},{resn:"LEU",atom:"CB",props:{a:0}},{resn:"LEU",atom:"CG",props:{a:0}},{resn:"LEU",atom:"CD1",props:{a:0}},{resn:"LEU",
atom:"CD2",props:{a:0}},{resn:"LEU",atom:"C",props:{a:.6}},{resn:"LEU",atom:"O",props:{a:-.55}},{resn:"LYS",atom:"N",props:{a:-.15}},{resn:"LYS",atom:"CA",props:{a:.1}},{resn:"LYS",atom:"CB",props:{a:0}},{resn:"LYS",atom:"CG",props:{a:0}},{resn:"LYS",atom:"CD",props:{a:0}},{resn:"LYS",atom:"CE",props:{a:.25}},{resn:"LYS",atom:"NZ",props:{a:.75}},{resn:"LYS",atom:"C",props:{a:.6}},{resn:"LYS",atom:"O",props:{a:-.55}},{resn:"MET",atom:"N",props:{a:-.15}},{resn:"MET",atom:"CA",props:{a:.1}},{resn:"MET",
atom:"CB",props:{a:0}},{resn:"MET",atom:"CG",props:{a:.06}},{resn:"MET",atom:"SD",props:{a:-.12}},{resn:"MET",atom:"CE",props:{a:.06}},{resn:"MET",atom:"C",props:{a:.6}},{resn:"MET",atom:"O",props:{a:-.55}},{resn:"PHE",atom:"N",props:{a:-.15}},{resn:"PHE",atom:"CA",props:{a:.1}},{resn:"PHE",atom:"CB",props:{a:0}},{resn:"PHE",atom:"CG",props:{a:0}},{resn:"PHE",atom:"CD1",props:{a:0}},{resn:"PHE",atom:"CD2",props:{a:0}},{resn:"PHE",atom:"CE1",props:{a:0}},{resn:"PHE",atom:"CE2",props:{a:0}},{resn:"PHE",
atom:"CZ",props:{a:0}},{resn:"PHE",atom:"C",props:{a:.6}},{resn:"PHE",atom:"O",props:{a:-.55}},{resn:"PRO",atom:"N",props:{a:-.25}},{resn:"PRO",atom:"CD",props:{a:.1}},{resn:"PRO",atom:"CA",props:{a:.1}},{resn:"PRO",atom:"CB",props:{a:0}},{resn:"PRO",atom:"CG",props:{a:0}},{resn:"PRO",atom:"C",props:{a:.6}},{resn:"PRO",atom:"O",props:{a:-.55}},{resn:"SER",atom:"N",props:{a:-.15}},{resn:"SER",atom:"CA",props:{a:.1}},{resn:"SER",atom:"CB",props:{a:.25}},{resn:"SER",atom:"OG",props:{a:-.25}},{resn:"SER",
atom:"C",props:{a:.6}},{resn:"SER",atom:"O",props:{a:-.55}},{resn:"THR",atom:"N",props:{a:-.15}},{resn:"THR",atom:"CA",props:{a:.1}},{resn:"THR",atom:"CB",props:{a:.25}},{resn:"THR",atom:"OG1",props:{a:-.25}},{resn:"THR",atom:"CG2",props:{a:0}},{resn:"THR",atom:"C",props:{a:.6}},{resn:"THR",atom:"O",props:{a:-.55}},{resn:"TRP",atom:"N",props:{a:-.15}},{resn:"TRP",atom:"CA",props:{a:.1}},{resn:"TRP",atom:"CB",props:{a:0}},{resn:"TRP",atom:"CG",props:{a:-.03}},{resn:"TRP",atom:"CD2",props:{a:.1}},{resn:"TRP",
atom:"CE2",props:{a:-.04}},{resn:"TRP",atom:"CE3",props:{a:-.03}},{resn:"TRP",atom:"CD1",props:{a:.06}},{resn:"TRP",atom:"NE1",props:{a:-.06}},{resn:"TRP",atom:"CZ2",props:{a:0}},{resn:"TRP",atom:"CZ3",props:{a:0}},{resn:"TRP",atom:"CH2",props:{a:0}},{resn:"TRP",atom:"C",props:{a:.6}},{resn:"TRP",atom:"O",props:{a:-.55}},{resn:"TYR",atom:"N",props:{a:-.15}},{resn:"TYR",atom:"CA",props:{a:.1}},{resn:"TYR",atom:"CB",props:{a:0}},{resn:"TYR",atom:"CG",props:{a:0}},{resn:"TYR",atom:"CD1",props:{a:0}},
{resn:"TYR",atom:"CE1",props:{a:0}},{resn:"TYR",atom:"CD2",props:{a:0}},{resn:"TYR",atom:"CE2",props:{a:0}},{resn:"TYR",atom:"CZ",props:{a:.25}},{resn:"TYR",atom:"OH",props:{a:-.25}},{resn:"TYR",atom:"C",props:{a:.6}},{resn:"TYR",atom:"O",props:{a:-.55}},{resn:"VAL",atom:"N",props:{a:-.15}},{resn:"VAL",atom:"CA",props:{a:.1}},{resn:"VAL",atom:"CB",props:{a:0}},{resn:"VAL",atom:"CG1",props:{a:0}},{resn:"VAL",atom:"CG2",props:{a:0}},{resn:"VAL",atom:"C",props:{a:.6}},{resn:"VAL",atom:"O",props:{a:-.55}}];
WebMol=WebMol||{};WebMol.Math={clamp:function(a,c,g){return Math.min(Math.max(a,c),g)},degToRad:function(){var a=Math.PI/180;return function(c){return c*a}}()};function Ua(a,c,g,p){this.x=a||0;this.y=c||0;this.z=g||0;this.w=void 0!==p?p:1}
Ua.prototype={constructor:Ua,set:function(a,c,g,p){this.x=a;this.y=c;this.z=g;this.w=p;return this},copy:function(a){this.x=a.x;this.y=a.y;this.z=a.z;this.w=a.w;return this},conjugate:function(){this.x*=-1;this.y*=-1;this.z*=-1;return this},inverse:function(){return this.conjugate().normalize()},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},normalize:function(){var a=this.length();0===a?(this.z=this.y=this.x=0,this.w=1):(a=1/a,this.x*=a,this.y*=a,this.z*=
a,this.w*=a);return this},multiply:function(a){return this.multiplyQuaternions(this,a)},multiplyQuaternions:function(a,c){var g=a.x,p=a.y,q=a.z,b=a.w,r=c.x,t=c.y,l=c.z,f=c.w;this.x=g*f+b*r+p*l-q*t;this.y=p*f+b*t+q*r-g*l;this.z=q*f+b*l+g*t-p*r;this.w=b*f-g*r-p*t-q*l}};function ab(a,c){this.x=a||0;this.y=c||0}
ab.prototype={constructor:ab,set:function(a,c){this.x=a;this.y=c;return this},subVectors:function(a,c){this.x=a.x-c.x;this.y=a.y-c.y;return this},copy:function(a){this.x=a.x;this.y=a.y;return this},clone:function(){return new ab(this.x,this.y)}};WebMol.Vector3=function(a,c,g){this.x=a||0;this.y=c||0;this.z=g||0};
WebMol.Vector3.prototype={constructor:WebMol.Vector3,set:function(a,c,g){this.x=a;this.y=c;this.z=g;return this},copy:function(a){this.x=a.x;this.y=a.y;this.z=a.z;return this},add:function(a){this.x+=a.x;this.y+=a.y;this.z+=a.z;return this},addVectors:function(a,c){this.x=a.x+c.x;this.y=a.y+c.y;this.z=a.z+c.z;return this},sub:function(a){this.x-=a.x;this.y-=a.y;this.z-=a.z;return this},subVectors:function(a,c){this.x=a.x-c.x;this.y=a.y-c.y;this.z=a.z-c.z;return this},multiplyScalar:function(a){this.x*=
a;this.y*=a;this.z*=a;return this},divideScalar:function(a){0!==a?(this.x/=a,this.y/=a,this.z/=a):this.z=this.y=this.x=0;return this},distanceTo:function(a){return Math.sqrt(this.distanceToSquared(a))},distanceToSquared:function(a){var c=this.x-a.x,g=this.y-a.y;a=this.z-a.z;return c*c+g*g+a*a},applyMatrix4:function(a){var c=this.x,g=this.y,p=this.z;a=a.elements;this.x=a[0]*c+a[4]*g+a[8]*p+a[12];this.y=a[1]*c+a[5]*g+a[9]*p+a[13];this.z=a[2]*c+a[6]*g+a[10]*p+a[14];return this},applyProjection:function(a){var c=
this.x,g=this.y,p=this.z;a=a.elements;var q=a[3]*c+a[7]*g+a[11]*p+a[15];this.x=(a[0]*c+a[4]*g+a[8]*p+a[12])/q;this.y=(a[1]*c+a[5]*g+a[9]*p+a[13])/q;this.z=(a[2]*c+a[6]*g+a[10]*p+a[14])/q;return this},applyQuaternion:function(a){var c=this.x,g=this.y,p=this.z,q=a.x,b=a.y,r=a.z;a=a.w;var t=a*c+b*p-r*g,l=a*g+r*c-q*p,f=a*p+q*g-b*c,c=-a*c-b*g-r*p;this.x=t*a+c*-q+l*-r-f*-b;this.y=l*a+c*-b+f*-q-t*-r;this.z=f*a+c*-r+t*-b-l*-q;return this},negate:function(){return this.multiplyScalar(-1)},dot:function(a){return this.x*
a.x+this.y*a.y+this.z*a.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},normalize:function(){return this.divideScalar(this.length())},cross:function(a){var c=this.x,g=this.y,p=this.z;this.x=g*a.z-p*a.y;this.y=p*a.x-c*a.z;this.z=c*a.y-g*a.x;return this},crossVectors:function(a,c){this.x=a.y*c.z-a.z*c.y;this.y=a.z*c.x-a.x*c.z;this.z=a.x*c.y-a.y*c.x;return this},getPositionFromMatrix:function(a){this.x=
a.elements[12];this.y=a.elements[13];this.z=a.elements[14];return this},setEulerFromRotationMatrix:function(a,c){var g=a.elements,p=g[0],q=g[4],b=g[8],r=g[5],t=g[9],l=g[6],g=g[10];void 0===c||"XYZ"===c?(this.y=Math.asin(WebMol.Math.clamp(b,-1,1)),.99999>Math.abs(b)?(this.x=Math.atan2(-t,g),this.z=Math.atan2(-q,p)):(this.x=Math.atan2(l,r),this.z=0)):console.error("Error with vector's setEulerFromRotationMatrix: Unknown order: "+c);return this},clone:function(){return new WebMol.Vector3(this.x,this.y,
this.z)}};function nb(a,c,g,p,q,b,r,t,l){this.elements=new Float32Array(9);this.set(void 0!==a?a:1,c||0,g||0,p||0,void 0!==q?q:1,b||0,r||0,t||0,void 0!==l?l:1)}
nb.prototype={constructor:nb,set:function(a,c,g,p,q,b,r,t,l){var f=this.elements;f[0]=a;f[3]=c;f[6]=g;f[1]=p;f[4]=q;f[7]=b;f[2]=r;f[5]=t;f[8]=l;return this},identity:function(){this.set(1,0,0,0,1,0,0,0,1);return this},copy:function(a){a=a.elements;this.set(a[0],a[3],a[6],a[1],a[4],a[7],a[2],a[5],a[8])},multiplyScalar:function(a){var c=this.elements;c[0]*=a;c[3]*=a;c[6]*=a;c[1]*=a;c[4]*=a;c[7]*=a;c[2]*=a;c[5]*=a;c[8]*=a;return this},getInverse:function(a,c){var g=a.elements,p=this.elements;p[0]=g[10]*
g[5]-g[6]*g[9];p[1]=-g[10]*g[1]+g[2]*g[9];p[2]=g[6]*g[1]-g[2]*g[5];p[3]=-g[10]*g[4]+g[6]*g[8];p[4]=g[10]*g[0]-g[2]*g[8];p[5]=-g[6]*g[0]+g[2]*g[4];p[6]=g[9]*g[4]-g[5]*g[8];p[7]=-g[9]*g[0]+g[1]*g[8];p[8]=g[5]*g[0]-g[1]*g[4];g=g[0]*p[0]+g[1]*p[3]+g[2]*p[6];if(0===g){if(c)throw Error("Matrix3.getInverse(): can't invert matrix, determinant is 0");console.warn("Matrix3.getInverse(): can't invert matrix, determinant is 0");this.identity();return this}this.multiplyScalar(1/g);return this},transpose:function(){var a,
c=this.elements;a=c[1];c[1]=c[3];c[3]=a;a=c[2];c[2]=c[6];c[6]=a;a=c[5];c[5]=c[7];c[7]=a;return this},clone:function(){var a=this.elements;return new nb(a[0],a[3],a[6],a[1],a[4],a[7],a[2],a[5],a[8])}};function ob(a,c,g,p,q,b,r,t,l,f,s,m,e,n,A,D){var u=this.elements=new Float32Array(16);u[0]=void 0!==a?a:1;u[4]=c||0;u[8]=g||0;u[12]=p||0;u[1]=q||0;u[5]=void 0!==b?b:1;u[9]=r||0;u[13]=t||0;u[2]=l||0;u[6]=f||0;u[10]=void 0!==s?s:1;u[14]=m||0;u[3]=e||0;u[7]=n||0;u[11]=A||0;u[15]=void 0!==D?D:1}
ob.prototype={constructor:ob,set:function(a,c,g,p,q,b,r,t,l,f,s,m,e,n,A,D){var u=this.elements;u[0]=a;u[4]=c;u[8]=g;u[12]=p;u[1]=q;u[5]=b;u[9]=r;u[13]=t;u[2]=l;u[6]=f;u[10]=s;u[14]=m;u[3]=e;u[7]=n;u[11]=A;u[15]=D;return this},identity:function(){this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1);return this},copy:function(a){a=a.elements;this.set(a[0],a[4],a[8],a[12],a[1],a[5],a[9],a[13],a[2],a[6],a[10],a[14],a[3],a[7],a[11],a[15]);return this},setRotationFromEuler:function(a,c){var g=this.elements,p=a.x,
q=a.y,b=a.z,r=Math.cos(p),p=Math.sin(p),t=Math.cos(q),q=Math.sin(q),l=Math.cos(b),b=Math.sin(b);if(void 0===c||"XYZ"===c){var f=r*l,s=r*b,m=p*l,e=p*b;g[0]=t*l;g[4]=-t*b;g[8]=q;g[1]=s+m*q;g[5]=f-e*q;g[9]=-p*t;g[2]=e-f*q;g[6]=m+s*q;g[10]=r*t}else console.error("Error with matrix4 setRotationFromEuler. Order: "+c);return this},setRotationFromQuaternion:function(a){var c=this.elements,g=a.x,p=a.y,q=a.z,b=a.w,r=g+g,t=p+p,l=q+q;a=g*r;var f=g*t,g=g*l,s=p*t,p=p*l,q=q*l,r=b*r,t=b*t,b=b*l;c[0]=1-(s+q);c[4]=
f-b;c[8]=g+t;c[1]=f+b;c[5]=1-(a+q);c[9]=p-r;c[2]=g-t;c[6]=p+r;c[10]=1-(a+s);return this},lookAt:function(){var a=new WebMol.Vector3,c=new WebMol.Vector3,g=new WebMol.Vector3;return function(p,q,b){var r=this.elements;g.subVectors(p,q).normalize();0===g.length()&&(g.z=1);a.crossVectors(b,g).normalize();0===a.length()&&(g.x+=1E-4,a.crossVectors(b,g).normalize());c.crossVectors(g,a);r[0]=a.x;r[4]=c.x;r[8]=g.x;r[1]=a.y;r[5]=c.y;r[9]=g.y;r[2]=a.z;r[6]=c.z;r[10]=g.z;return this}}(),multiplyMatrices:function(a,
c){var g=a.elements,p=c.elements,q=this.elements,b=g[0],r=g[4],t=g[8],l=g[12],f=g[1],s=g[5],m=g[9],e=g[13],n=g[2],A=g[6],D=g[10],u=g[14],w=g[3],C=g[7],B=g[11],g=g[15],x=p[0],F=p[4],y=p[8],h=p[12],E=p[1],I=p[5],R=p[9],Q=p[13],M=p[2],U=p[6],O=p[10],Y=p[14],aa=p[3],ca=p[7],V=p[11],p=p[15];q[0]=b*x+r*E+t*M+l*aa;q[4]=b*F+r*I+t*U+l*ca;q[8]=b*y+r*R+t*O+l*V;q[12]=b*h+r*Q+t*Y+l*p;q[1]=f*x+s*E+m*M+e*aa;q[5]=f*F+s*I+m*U+e*ca;q[9]=f*y+s*R+m*O+e*V;q[13]=f*h+s*Q+m*Y+e*p;q[2]=n*x+A*E+D*M+u*aa;q[6]=n*F+A*I+D*U+u*
ca;q[10]=n*y+A*R+D*O+u*V;q[14]=n*h+A*Q+D*Y+u*p;q[3]=w*x+C*E+B*M+g*aa;q[7]=w*F+C*I+B*U+g*ca;q[11]=w*y+C*R+B*O+g*V;q[15]=w*h+C*Q+B*Y+g*p;return this},multiplyScalar:function(a){var c=this.elements;c[0]*=a;c[4]*=a;c[8]*=a;c[12]*=a;c[1]*=a;c[5]*=a;c[9]*=a;c[13]*=a;c[2]*=a;c[6]*=a;c[10]*=a;c[14]*=a;c[3]*=a;c[7]*=a;c[11]*=a;c[15]*=a;return this},transpose:function(){var a=this.elements,c;c=a[1];a[1]=a[4];a[4]=c;c=a[2];a[2]=a[8];a[8]=c;c=a[6];a[6]=a[9];a[9]=c;c=a[3];a[3]=a[12];a[12]=c;c=a[7];a[7]=a[13];
a[13]=c;c=a[11];a[11]=a[14];a[14]=c;return this},setPosition:function(a){var c=this.elements;c[12]=a.x;c[13]=a.y;c[14]=a.z;return this},getInverse:function(a,c){var g=this.elements,p=a.elements,q=p[0],b=p[4],r=p[8],t=p[12],l=p[1],f=p[5],s=p[9],m=p[13],e=p[2],n=p[6],A=p[10],D=p[14],u=p[3],w=p[7],C=p[11],B=p[15];g[0]=s*D*w-m*A*w+m*n*C-f*D*C-s*n*B+f*A*B;g[4]=t*A*w-r*D*w-t*n*C+b*D*C+r*n*B-b*A*B;g[8]=r*m*w-t*s*w+t*f*C-b*m*C-r*f*B+b*s*B;g[12]=t*s*n-r*m*n-t*f*A+b*m*A+r*f*D-b*s*D;g[1]=m*A*u-s*D*u-m*e*C+l*
D*C+s*e*B-l*A*B;g[5]=r*D*u-t*A*u+t*e*C-q*D*C-r*e*B+q*A*B;g[9]=t*s*u-r*m*u-t*l*C+q*m*C+r*l*B-q*s*B;g[13]=r*m*e-t*s*e+t*l*A-q*m*A-r*l*D+q*s*D;g[2]=f*D*u-m*n*u+m*e*w-l*D*w-f*e*B+l*n*B;g[6]=t*n*u-b*D*u-t*e*w+q*D*w+b*e*B-q*n*B;g[10]=b*m*u-t*f*u+t*l*w-q*m*w-b*l*B+q*f*B;g[14]=t*f*e-b*m*e-t*l*n+q*m*n+b*l*D-q*f*D;g[3]=s*n*u-f*A*u-s*e*w+l*A*w+f*e*C-l*n*C;g[7]=b*A*u-r*n*u+r*e*w-q*A*w-b*e*C+q*n*C;g[11]=r*f*u-b*s*u-r*l*w+q*s*w+b*l*C-q*f*C;g[15]=b*s*e-r*f*e+r*l*n-q*s*n-b*l*A+q*f*A;g=p[0]*g[0]+p[1]*g[4]+p[2]*g[8]+
p[3]*g[12];if(0===g){if(c)throw Error("Matrix4.getInverse(): can't invert matrix, determinant is 0");console.warn("Matrix4.getInverse(): can't invert matrix, determinant is 0");this.identity();return this}this.multiplyScalar(1/g);return this},decompose:function(){var a=new WebMol.Vector3,c=new WebMol.Vector3,g=new WebMol.Vector3,p=new ob;return function(q,b,r){var t=this.elements;a.set(t[0],t[1],t[2]);c.set(t[4],t[5],t[6]);g.set(t[8],t[9],t[10]);q=q instanceof WebMol.Vector3?q:new WebMol.Vector3;
b=b instanceof Ua?b:new Ua;r=r instanceof Webmol.Vector3?r:new WebMol.Vector3;r.x=a.length();r.y=c.length();r.z=g.length();q.x=t[12];q.y=t[13];q.z=t[14];p.copy(this);p.elements[0]/=r.x;p.elements[1]/=r.x;p.elements[2]/=r.x;p.elements[4]/=r.y;p.elements[5]/=r.y;p.elements[6]/=r.y;p.elements[8]/=r.z;p.elements[9]/=r.z;p.elements[10]/=r.z;b.mg(p);return[q,b,r]}}(),scale:function(a){var c=this.elements,g=a.x,p=a.y;a=a.z;c[0]*=g;c[4]*=p;c[8]*=a;c[1]*=g;c[5]*=p;c[9]*=a;c[2]*=g;c[6]*=p;c[10]*=a;c[3]*=g;
c[7]*=p;c[11]*=a;return this},getMaxScaleOnAxis:function(){var a=this.elements;return Math.sqrt(Math.max(a[0]*a[0]+a[1]*a[1]+a[2]*a[2],Math.max(a[4]*a[4]+a[5]*a[5]+a[6]*a[6],a[8]*a[8]+a[9]*a[9]+a[10]*a[10])))},makeFrustum:function(a,c,g,p,q,b){var r=this.elements;r[0]=2*q/(c-a);r[4]=0;r[8]=(c+a)/(c-a);r[12]=0;r[1]=0;r[5]=2*q/(p-g);r[9]=(p+g)/(p-g);r[13]=0;r[2]=0;r[6]=0;r[10]=-(b+q)/(b-q);r[14]=-2*b*q/(b-q);r[3]=0;r[7]=0;r[11]=-1;r[15]=0;return this},makePerspective:function(a,c,g,p){a=g*Math.tan(WebMol.Math.degToRad(.5*
a));var q=-a;return this.makeFrustum(q*c,a*c,q,a,g,p)},clone:function(){var a=this.elements;return new ob(a[0],a[4],a[8],a[12],a[1],a[5],a[9],a[13],a[2],a[6],a[10],a[14],a[3],a[7],a[11],a[15])}};function pb(a,c){this.origin=void 0!==a?a:new WebMol.Vector3;this.direction=void 0!==c?c:new WebMol.Vector3}
pb.prototype={constructor:pb,set:function(a,c){this.origin.copy(a);this.direction.copy(c);return this},copy:function(a){this.origin.copy(a.origin);this.direction.copy(a.direction);return this},distanceToPoint:function(){var a=new WebMol.Vector3;return function(c){var g=a.subVectors(c,this.origin).dot(this.direction);a.copy(this.direction).multiplyScalar(g).add(this.origin);return a.distanceTo(c)}}(),isIntersectionSphere:function(a){return this.distanceToPoint(a.center)<=a.f},applyMatrix4:function(a){this.direction.add(this.origin).applyMatrix4(a);
this.origin.applyMatrix4(a);this.direction.sub(this.origin);return this},clone:function(){return(new pb).copy(this)}};function ra(a,c){this.center=void 0!==a?a:new WebMol.Vector3;this.f=void 0!==c?c:0}ra.prototype={constructor:ra,set:function(a,c){this.center.copy(a);this.f=c;return this},copy:function(a){this.center.copy(a.center);this.f=a.f;return this},applyMatrix4:function(a){this.center.applyMatrix4(a);this.f*=a.getMaxScaleOnAxis();return this},clone:function(){return(new ra).copy(this)}};
function sa(a,c,g){this.aa=void 0!==a?a:new WebMol.Vector3;this.Aa=void 0!==c?c:new WebMol.Vector3;this.direction=(new WebMol.Vector3).subVectors(this.Aa,this.aa).normalize();this.f=void 0!==g?g:0}
sa.prototype={constructor:sa,copy:function(a){this.aa.copy(a.aa);this.Aa.copy(a.Aa);this.direction.copy(a.direction);this.f=a.f;return this},lengthSq:function(){var a=new WebMol.Vector3;return function(){return a.subVectors(this.Aa,this.aa).lengthSq()}}(),applyMatrix4:function(a){this.direction.add(this.aa).applyMatrix4(a);this.aa.applyMatrix4(a);this.Aa.applyMatrix4(a);this.direction.sub(this.aa).normalize();this.f*=a.getMaxScaleOnAxis();return this}};
function ma(a,c,g){this.q=void 0!==a?a:new WebMol.Vector3;this.b=void 0!==c?c:new WebMol.Vector3;this.za=void 0!==g?g:new WebMol.Vector3}
ma.prototype={constructor:ma,copy:function(a){this.q.copy(a.q);this.b.copy(a.b);this.za.copy(a.za);return this},applyMatrix4:function(a){this.q.applyMatrix4(a);this.b.applyMatrix4(a);this.za.applyMatrix4(a);return this},getNormal:function(){var a=new WebMol.Vector3;return function(){var c=this.q.clone();c.sub(this.b);a.subVectors(this.za,this.b);c.cross(a);c.normalize();return c}}()};
WebMol.EventDispatcher=function(){var a={};this.addEventListener=function(c,g){void 0===a[c]&&(a[c]=[]);-1===a[c].indexOf(g)&&a[c].push(g)};this.removeEventListener=function(c,g){var p=a[c].indexOf(g);-1!==p&&a[c].splice(p,1)};this.dispatchEvent=function(c){var g=a[c.type];if(void 0!==g){c.target=this;for(var p=0,q=g.length;p<q;p++)g[p].call(this,c)}}};WebMol.Color=function(a){return 1<arguments.length?(this.r=arguments[0]||0,this.g=arguments[1]||0,this.b=arguments[2]||0,this):this.set(a)};
WebMol.Color.prototype={constructor:WebMol.Color,r:0,g:0,b:0,set:function(a){if(a instanceof WebMol.Color)return a.clone();"number"===typeof a&&Nb(this,a)},clone:function(){return new WebMol.Color(this.r,this.g,this.b)},copy:function(a){this.r=a.r;this.g=a.g;this.b=a.b;return this}};function Nb(a,c){c=Math.floor(c);a.r=(c>>16&255)/255;a.g=(c>>8&255)/255;a.b=(c&255)/255}
WebMol.Object3D=function(){this.id=WebMol.Object3DIDCount++;this.name="";this.parent=void 0;this.children=[];this.position=new WebMol.Vector3;this.rotation=new WebMol.Vector3;this.matrix=new ob;this.matrixWorld=new ob;this.quaternion=new Ua;this.eulerOrder="XYZ";this.up=new WebMol.Vector3(0,1,0);this.scale=new WebMol.Vector3(1,1,1);this.rotationAutoUpdate=this.matrixWorldNeedsUpdate=this.matrixAutoUpdate=!0;this.useQuaternion=!1;this.visible=!0};
WebMol.Object3D.prototype={constructor:WebMol.Object3D,lookAt:function(a){this.matrix.lookAt(a,this.position,this.up);this.rotationAutoUpdate&&(!0===this.useQuaternion?this.quaternion.copy(this.matrix.decompose()[1]):this.rotation.setEulerFromRotationMatrix(this.matrix,this.eulerOrder))},add:function(a){if(a===this)console.error("Can't add WebMol.Object3D to itself");else{a.parent=this;this.children.push(a);for(var c=this;void 0!==c.parent;)c=c.parent;void 0!==c&&c instanceof Va&&c.__addObject(a)}},
remove:function(a){var c=this.children.indexOf(a);if(-1!==c){a.parent=void 0;this.children.splice(c,1);for(c=this;void 0!==c.parent;)c=c.parent;void 0!==c&&c instanceof Va&&c.__removeObject(a)}},updateMatrix:function(){this.matrix.setPosition(this.position);!1===this.useQuaternion?this.matrix.setRotationFromEuler(this.rotation,this.eulerOrder):this.matrix.setRotationFromQuaternion(this.quaternion);1===this.scale.x&&1===this.scale.y&&1===this.scale.z||this.matrix.scale(this.scale);this.matrixWorldNeedsUpdate=
!0},updateMatrixWorld:function(a){!0===this.matrixAutoUpdate&&this.updateMatrix();if(!0===this.matrixWorldNeedsUpdate||!0===a)void 0===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix);this.matrixWorldNeedsUpdate=!1;for(var c in this.children)this.children[c].updateMatrixWorld(!0)},clone:function(a){void 0===a&&(a=new WebMol.Object3D);a.name=this.name;a.up.copy(this.up);a.position.copy(this.position);a.rotation.copy(this.rotation);
a.eulerOrder=this.eulerOrder;a.scale.copy(this.scale);a.rotationAutoUpdate=this.rotationAutoUpdate;a.matrix.copy(this.matrix);a.matrixWorld.copy(this.matrixWorld);a.quaternion.copy(this.quaternion);a.useQuaternion=this.useQuaternion;a.visible=this.visible;for(var c in this.children)a.add(this.children[c].clone());return a}};WebMol.Object3DIDCount=0;
WebMol.Geometry=function(){function a(a){WebMol.EventDispatcher.call(this);this.id=WebMol.GeometryIDCount++;this.name="";this.Dc=!0===a?!0:!1;this.pc=this.Da=this.bb=this.Ta=this.ib=!1;this.j=[];this.Wa=0}function c(a){var b=new g(a.j.length);a.j.push(b);a.Wa=a.j.length;b.__vertexArray=new Float32Array(196605);b.__colorArray=new Float32Array(196605);a.Dc&&(b.__normalArray=new Float32Array(196605),b.__faceArray=new Uint16Array(393210),b.__lineArray=new Uint16Array(393210));return b}function g(a){this.id=
a||0;this.__lineArray=this.__faceArray=this.__normalArray=this.__colorArray=this.__vertexArray=null;this.o=this.d=this.vertices=0}function p(a,b,c){if(null===a||void 0===a)return 0===b?new Uint16Array:new Float32Array;if(0===b)return new Uint16Array(a.buffer.slice(a.byteOffset,2*c));if(1===b)return new Float32Array(a.buffer.slice(a.byteOffset,4*c))}g.prototype.getCentroid=function(){for(var a=new WebMol.Vector3,b,c,g,l=0;l<this.vertices;++l)b=3*l,c=this.__vertexArray[b],g=this.__vertexArray[b+1],
b=this.__vertexArray[b+2],a.x+=c,a.y+=g,a.z+=b;a.divideScalar(this.vertices);return a};g.prototype.setNormals=function(){var a=this.__faceArray,b=this.__vertexArray,c=this.__normalArray;if(this.vertices&&this.d)for(var g,l,f,p,m,e,n=0;n<a.length/3;++n)g=3*a[3*n],l=3*a[3*n+1],f=3*a[3*n+2],p=new WebMol.Vector3(b[g],b[g+1],b[g+2]),m=new WebMol.Vector3(b[l],b[l+1],b[l+2]),e=new WebMol.Vector3(b[f],b[f+1],b[f+2]),p.subVectors(p,m),e.subVectors(e,m),e.cross(p),p=e,p.normalize(),c[g]+=p.x,c[l]+=p.x,c[f]+=
p.x,c[g+1]+=p.y,c[l+1]+=p.y,c[f+1]+=p.y,c[g+2]+=p.z,c[l+2]+=p.z,c[f+2]+=p.z};g.prototype.setLineIndices=function(){if(this.d){var a=this.__faceArray,b=this.__lineArray=new Uint16Array(2*this.d);this.o=2*this.d;for(var c,g=0;g<this.d/3;++g){c=3*g;lineoffset=2*c;var l=a[c],f=a[c+1];c=a[c+2];b[lineoffset]=l;b[lineoffset+1]=f;b[lineoffset+2]=l;b[lineoffset+3]=c;b[lineoffset+4]=f;b[lineoffset+5]=c}}};g.prototype.truncateArrayBuffers=function(a){a=!0===a?!0:!1;var b=this.__colorArray,c=this.__normalArray,
g=this.__faceArray,l=this.__lineArray;this.__vertexArray=p(this.__vertexArray,1,3*this.vertices);this.__colorArray=p(b,1,3*this.vertices);a?(this.__normalArray=p(c,1,3*this.vertices),this.__faceArray=p(g,0,this.d),this.__lineArray=p(l,0,this.o)):(this.__normalArray=p(c,1,0),this.__faceArray=p(g,0,0),this.__lineArray=p(l,0,0));this.vd=!0};a.prototype={constructor:a,updateGeoGroup:function(a){var b=0<this.Wa?this.j[this.Wa-1]:null;if(!b||65535<b.vertices+(a||0))b=c(this);return b},addGeoGroup:function(){return c(this)},
setUpNormals:function(a){a=a||!1;for(var b in this.j)this.j[b].setNormals(a)},setUpWireframe:function(){for(var a in this.j)this.j[a].setLineIndices()},initTypedArrays:function(){for(var a in this.j){var b=this.j[a];!0!==b.vd&&b.truncateArrayBuffers(this.Dc)}},dispose:function(){this.dispatchEvent({type:"dispose"})}};return a}();Object.defineProperty(WebMol.Geometry.prototype,"vertices",{get:function(){var a=0,c;for(c in this.j)a+=this.j[c].vertices;return a}});WebMol.GeometryIDCount=0;
WebMol.Raycaster=function(){function a(a){return Math.min(Math.max(a,-1),1)}function c(a,b){return a.Ga-b.Ga}function g(a,b,c,f){this.m=new pb(a,b);0<this.m.direction.lengthSq()&&this.m.direction.normalize();this.t=f||0;this.L=c||Infinity}var p=new ra,q=new sa,b=new ma,r=new WebMol.Vector3,t=new WebMol.Vector3,l=new WebMol.Vector3,f=new WebMol.Vector3;new pb;new WebMol.Vector3;var s=new WebMol.Vector3;new ob;g.prototype.precision=1E-4;g.prototype.linePrecision=.2;g.prototype.set=function(a,b){this.m.set(a,
b)};g.prototype.intersectObjects=function(g,e){for(var n=[],A=0,D=e.length;A<D;A++)a:{var u=g,w=e[A],C=n;s.getPositionFromMatrix(u.matrixWorld);if(!0===w.clickable&&void 0!==w.c){var B=w.c,x=this.linePrecision,x=x*u.matrixWorld.getMaxScaleOnAxis(),x=x*x;if(void 0!==w.G&&w.G instanceof ra&&(p.copy(w.G),p.applyMatrix4(u.matrixWorld),!this.m.isIntersectionSphere(p)))break a;for(var F=void 0,y=void 0,h=void 0,E=void 0,I=h=void 0,R=void 0,Q=void 0,M=void 0,U=void 0,O=U=I=E=void 0,F=0,y=B.h.length;F<y;F++)B.h[F]instanceof
ma&&(b.copy(B.h[F]),b.applyMatrix4(u.matrixWorld),h=b.getNormal(),E=this.m.direction.dot(h),0<=E||(r.subVectors(b.q,this.m.origin),R=h.dot(r)/E,0>R||(t.copy(this.m.direction).multiplyScalar(R).add(this.m.origin),t.sub(b.q),l.copy(b.b).sub(b.q),f.copy(b.za).sub(b.q),E=l.dot(f),h=l.lengthSq(),I=f.lengthSq(),I=(h*t.dot(f)-E*t.dot(l))/(h*I-E*E),0>I||1<I||(E=(t.dot(l)-I*E)/h,0>E||1<E||1<E+I||C.push({clickable:w,Ga:R})))));F=0;for(y=B.l.length;F<y;F++)B.l[F]instanceof sa&&(q.copy(B.l[F]),q.applyMatrix4(u.matrixWorld),
r.subVectors(q.aa,this.m.origin),h=r.dot(q.direction),I=r.dot(this.m.direction),E=a(this.m.direction.dot(q.direction)),M=1-E*E,0!==M&&(U=(E*I-h)/M,O=(I-E*h)/M,t.copy(q.direction).multiplyScalar(U).add(q.aa),l.copy(this.m.direction).multiplyScalar(O).add(this.m.origin),Q=f.subVectors(t,l).lengthSq(),U=q.f*q.f,Q<=U&&(U=(E*h-I)*(E*h-I)-M*(r.lengthSq()-h*h-U),I=0>=U?R=Math.sqrt(Q):R=(I-E*h-Math.sqrt(U))/M,E=E*I-h,0>E||E*E>q.lengthSq()||0>I||C.push({clickable:w,Ga:R}))));F=0;for(y=B.line.length;F<y;F+=
2)t.copy(B.line[F]),t.applyMatrix4(u.matrixWorld),l.copy(B.line[F+1]),l.applyMatrix4(u.matrixWorld),f.subVectors(l,t),R=f.lengthSq(),f.normalize(),r.subVectors(t,this.m.origin),lineProj=r.dot(f),I=r.dot(this.m.direction),E=a(this.m.direction.dot(f)),M=1-E*E,0!==M&&(U=(E*I-lineProj)/M,O=(I-E*lineProj)/M,t.add(f.multiplyScalar(U)),l.copy(this.m.direction).multiplyScalar(O).add(this.m.origin),Q=f.subVectors(l,t).lengthSq(),Q<x&&U*U<R&&C.push({clickable:w,Ga:O}));F=0;for(y=B.sphere.length;F<y;F++)if(B.sphere[F]instanceof
ra&&(p.copy(B.sphere[F]),p.applyMatrix4(u.matrixWorld),this.m.isIntersectionSphere(p))){t.subVectors(p.center,this.m.origin);u=t.dot(this.m.direction);U=u*u-(t.lengthSq()-p.f*p.f);if(0>u)break a;R=0>=U?u:u-Math.sqrt(U);C.push({clickable:w,Ga:R});break a}}}n.sort(c);return n};return g}();
function Qa(){new ob;var a=new ob;this.projectVector=function(c,g){g.na.getInverse(g.matrixWorld);a.multiplyMatrices(g.ba,g.na);return c.applyProjection(a)};this.unprojectVector=function(c,g){g.Oc.getInverse(g.ba);a.multiplyMatrices(g.matrixWorld,g.Oc);return c.applyProjection(a)}}function Pa(a,c,g,p){WebMol.Object3D.call(this);this.yb=void 0!==a?a:50;this.mc=void 0!==c?c:1;this.t=void 0!==g?g:.1;this.L=void 0!==p?p:2E3;this.ba=new ob;this.Oc=new ob;this.na=new ob;this.updateProjectionMatrix()}
Pa.prototype=Object.create(WebMol.Object3D.prototype);Pa.prototype.lookAt=function(a){this.matrix.lookAt(this.position,a,this.up);this.rotationAutoUpdate&&(!1===this.useQuaternion?this.rotation.setEulerFromRotationMatrix(this.matrix,this.eulerOrder):this.quaternion.copy(this.matrix.decompose()[1]))};Pa.prototype.updateProjectionMatrix=function(){this.ba.makePerspective(this.yb,this.mc,this.t,this.L)};
WebMol.SpritePlugin=function(){function a(a,b){return a.z!==b.z?b.z-a.z:b.id-a.id}var c,g,p,q,b,r,t,l,f,s;this.ga=function(a){c=a.context;g=a;p=a.Zd();q=new Float32Array(16);b=new Uint16Array(6);a=0;q[a++]=-1;q[a++]=-1;q[a++]=0;q[a++]=0;q[a++]=1;q[a++]=-1;q[a++]=1;q[a++]=0;q[a++]=1;q[a++]=1;q[a++]=1;q[a++]=1;q[a++]=-1;q[a++]=1;q[a++]=0;q[a++]=1;a=0;b[a++]=0;b[a++]=1;b[a++]=2;b[a++]=0;b[a++]=2;b[a++]=3;r=c.createBuffer();t=c.createBuffer();c.bindBuffer(c.ARRAY_BUFFER,r);c.bufferData(c.ARRAY_BUFFER,
q,c.STATIC_DRAW);c.bindBuffer(c.ELEMENT_ARRAY_BUFFER,t);c.bufferData(c.ELEMENT_ARRAY_BUFFER,b,c.STATIC_DRAW);a=WebMol.ShaderLib.M;var e=c.createProgram(),n=c.createShader(c.FRAGMENT_SHADER),A=c.createShader(c.VERTEX_SHADER),D="precision "+p+" float;\n";c.shaderSource(n,D+a.fragmentShader);c.shaderSource(A,D+a.vertexShader);c.compileShader(n);c.compileShader(A);c.getShaderParameter(n,c.COMPILE_STATUS)&&c.getShaderParameter(A,c.COMPILE_STATUS)?(c.attachShader(e,n),c.attachShader(e,A),c.linkProgram(e),
c.getProgramParameter(e,c.LINK_STATUS)||console.error("Could not initialize shader"),l=e):(console.error(c.getShaderInfoLog(n)),console.error("could not initialize shader"),l=null);f={};s={};f.position=c.getAttribLocation(l,"position");f.fd=c.getAttribLocation(l,"uv");s.uvOffset=c.getUniformLocation(l,"uvOffset");s.uvScale=c.getUniformLocation(l,"uvScale");s.rotation=c.getUniformLocation(l,"rotation");s.scale=c.getUniformLocation(l,"scale");s.alignment=c.getUniformLocation(l,"alignment");s.color=
c.getUniformLocation(l,"color");s.map=c.getUniformLocation(l,"map");s.opacity=c.getUniformLocation(l,"opacity");s.useScreenCoordinates=c.getUniformLocation(l,"useScreenCoordinates");s.sizeAttenuation=c.getUniformLocation(l,"sizeAttenuation");s.Je=c.getUniformLocation(l,"screenPosition");s.Fc=c.getUniformLocation(l,"modelViewMatrix");s.ba=c.getUniformLocation(l,"projectionMatrix");s.xb=c.getUniformLocation(l,"fogType");s.Qf=c.getUniformLocation(l,"fogDensity");s.fogNear=c.getUniformLocation(l,"fogNear");
s.fogFar=c.getUniformLocation(l,"fogFar");s.fogColor=c.getUniformLocation(l,"fogColor");s.alphaTest=c.getUniformLocation(l,"alphaTest")};this.render=function(b,e,n,p){var q=b.kb,u=q.length;if(u){var w=f,C=s,B=p/n;n*=.5;var x=.5*p;c.useProgram(l);c.enableVertexAttribArray(w.position);c.enableVertexAttribArray(w.fd);c.disable(c.CULL_FACE);c.enable(c.BLEND);c.bindBuffer(c.ARRAY_BUFFER,r);c.vertexAttribPointer(w.position,2,c.FLOAT,!1,16,0);c.vertexAttribPointer(w.fd,2,c.FLOAT,!1,16,8);c.bindBuffer(c.ELEMENT_ARRAY_BUFFER,
t);c.uniformMatrix4fv(C.ba,!1,e.ba.elements);c.activeTexture(c.TEXTURE0);c.uniform1i(C.map,0);var F=w=0;(w=b.fog)?(c.uniform3f(C.fogColor,w.color.r,w.color.g,w.color.b),c.uniform1f(C.fogNear,w.t),c.uniform1f(C.fogFar,w.L),c.uniform1i(C.xb,1),F=w=1):(c.uniform1i(C.xb,0),F=w=0);var y,h,E,I=[];for(y=0;y<u;y++)h=q[y],E=h.p,h.visible&&0!==E.opacity&&(E.useScreenCoordinates?h.z=-h.position.z:(h.qa.multiplyMatrices(e.na,h.matrixWorld),h.z=-h.qa.elements[14]));q.sort(a);for(y=0;y<u;y++)h=q[y],E=h.p,h.visible&&
0!==E.opacity&&E.map&&E.map.W&&E.map.W.width&&(c.uniform1f(C.alphaTest,E.alphaTest),!0===E.useScreenCoordinates?(c.uniform1i(C.useScreenCoordinates,1),c.uniform3f(C.Je,(h.position.x*g.devicePixelRatio-n)/n,(x-h.position.y*g.devicePixelRatio)/x,Math.max(0,Math.min(1,h.position.z))),I[0]=g.devicePixelRatio,I[1]=g.devicePixelRatio):(c.uniform1i(C.useScreenCoordinates,0),c.uniform1i(C.sizeAttenuation,E.sizeAttenuation?1:0),c.uniformMatrix4fv(C.Fc,!1,h.qa.elements),I[0]=1,I[1]=1),e=b.fog&&E.fog?F:0,w!==
e&&(c.uniform1i(C.xb,e),w=e),e=1/(E.Ie?p:1),I[0]=I[0]*e*B*h.scale.x,I[1]=I[1]*e*h.scale.y,c.uniform2f(C.uvScale,E.uvScale.x,E.uvScale.y),c.uniform2f(C.uvOffset,E.uvOffset.x,E.uvOffset.y),c.uniform2f(C.alignment,E.alignment.x,E.alignment.y),c.uniform1f(C.opacity,E.opacity),c.uniform3f(C.color,E.color.r,E.color.g,E.color.b),c.uniform1f(C.rotation,h.rotation),c.uniform2fv(C.scale,I),g.Rb(E.depthTest),g.Sb(E.depthWrite),g.Pe(E.map),c.drawElements(c.TRIANGLES,6,c.UNSIGNED_SHORT,0));c.enable(c.CULL_FACE)}}};
function Xa(a,c){WebMol.Object3D.call(this);this.color=new WebMol.Color(a);this.position=new WebMol.Vector3(0,1,0);this.target=new WebMol.Object3D;this.intensity=void 0!==c?c:1}Xa.prototype=Object.create(WebMol.Object3D.prototype);
function Ec(){WebMol.EventDispatcher.call(this);this.id=WebMol.MaterialIdCount++;this.name="";this.side=WebMol.ld;this.opacity=1;this.transparent=!1;this.blending=WebMol.qd;this.depthWrite=this.depthTest=!0;this.polygonOffset=!1;this.alphaTest=this.polygonOffsetUnits=this.polygonOffsetFactor=0;this.needsUpdate=this.visible=!0}
Ec.prototype.setValues=function(a){if(void 0!==a)for(var c in a){var g=a[c];if(void 0===g)console.warn("WebMol.Material: '"+c+"' parameter is undefined.");else if(c in this){var p=this[c];p instanceof WebMol.Color&&g instanceof WebMol.Color?p.copy(g):p instanceof WebMol.Color?p.set(g):p instanceof WebMol.Vector3&&g instanceof WebMol.Vector3?p.copy(g):this[c]=g}}};
Ec.prototype.clone=function(a){void 0===a&&(a=new Ec);a.name=this.name;a.side=this.side;a.opacity=this.opacity;a.transparent=this.transparent;a.blending=this.blending;a.depthTest=this.depthTest;a.depthWrite=this.depthWrite;a.polygonOffset=this.polygonOffset;a.polygonOffsetFactor=this.polygonOffsetFactor;a.polygonOffsetUnits=this.polygonOffsetUnits;a.alphaTest=this.alphaTest;a.we=this.we;a.visible=this.visible;return a};Ec.prototype.dispose=function(){this.dispatchEvent({type:"dispose"})};
WebMol.MaterialIdCount=0;function ta(a){Ec.call(this);this.color=new WebMol.Color(16777215);this.linewidth=1;this.linejoin=this.linecap="round";this.vertexColors=!1;this.fog=!0;this.setValues(a)}ta.prototype=Object.create(Ec.prototype);ta.prototype.clone=function(){var a=new ta;Ec.prototype.clone.call(this,a);a.color.copy()};
function na(a){Ec.call(this);this.color=new WebMol.Color(16777215);this.ambient=new WebMol.Color(1048575);this.emissive=new WebMol.Color(0);this.wrapAround=!1;this.wrapRGB=new WebMol.Vector3(1,1,1);this.envMap=this.specularMap=this.lightMap=this.map=null;this.reflectivity=1;this.refractionRatio=.98;this.fog=!0;this.wireframe=!1;this.wireframeLinewidth=1;this.wireframeLinejoin=this.wireframeLinecap="round";this.shading=WebMol.sd;this.vertexColors=WebMol.pd;this.skinning=!1;this.setValues(a)}
na.prototype=Object.create(Ec.prototype);
na.prototype.clone=function(){var a=new na;Ec.prototype.clone.call(this,a);a.color.copy(this.color);a.ambient.copy(this.ambient);a.emissive.copy(this.emissive);a.wrapAround=this.wrapAround;a.wrapRGB.copy(this.wrapRGB);a.map=this.map;a.lightMap=this.lightMap;a.specularMap=this.specularMap;a.envMap=this.envMap;a.Nd=this.Nd;a.reflectivity=this.reflectivity;a.refractionRatio=this.refractionRatio;a.fog=this.fog;a.shading=this.shading;a.vertexColors=this.vertexColors;a.skinning=this.skinning;a.me=this.me;
a.le=this.le;return a};
function Ka(a){Ec.call(this);this.color=new WebMol.Color(16777215);this.map=new Ja;this.useScreenCoordinates=!0;this.depthTest=!this.useScreenCoordinates;this.sizeAttenuation=!this.useScreenCoordinates;this.scaleByViewPort=!this.sizeAttenuation;this.alignment=WebMol.SpriteAlignment.center.clone();this.fog=!1;this.uvOffset=new ab(0,0);this.uvScale=new ab(1,1);this.setValues(a);a=a||{};void 0===a.depthTest&&(this.depthTest=!this.useScreenCoordinates);void 0===a.sizeAttenuation&&(this.sizeAttenuation=
!this.useScreenCoordinates);void 0===a.scaleByViewPort&&(this.scaleByViewPort=!this.sizeAttenuation)}Ka.prototype=Object.create(Ec.prototype);Ka.prototype.clone=function(){var a=new Ka;Ec.prototype.clone.call(this,a);a.color.copy(this.color);a.map=this.map;a.useScreenCoordinates=useScreenCoordinates;a.sizeAttenuation=this.sizeAttenuation;a.Ie=this.scaleByViewPort;a.alignment.copy(this.alignment);a.uvOffset.copy(this.uvOffset);return a};WebMol.SpriteAlignment={};
WebMol.SpriteAlignment.topLeft=new ab(1,-1);WebMol.SpriteAlignment.topCenter=new ab(0,-1);WebMol.SpriteAlignment.topRight=new ab(-1,-1);WebMol.SpriteAlignment.centerLeft=new ab(1,0);WebMol.SpriteAlignment.center=new ab(0,0);WebMol.SpriteAlignment.centerRight=new ab(-1,0);WebMol.SpriteAlignment.bottomLeft=new ab(1,1);WebMol.SpriteAlignment.bottomCenter=new ab(0,1);WebMol.SpriteAlignment.bottomRight=new ab(-1,1);
function Ja(a){WebMol.EventDispatcher.call(this);this.id=WebMol.TextureIdCount++;this.name="";this.W=a;this.Kb=[];this.Cc=new WebMol.ud;this.$b=this.Zb=WebMol.ac;this.Hb=WebMol.nd;this.Jb=WebMol.od;this.lc=1;this.format=WebMol.dc;this.type=WebMol.ec;this.offset=new ab(0,0);this.repeat=new ab(1,1);this.Ua=!0;this.Ob=!1;this.wb=!0;this.Vb=4;this.needsUpdate=!1;this.Jc=null}
Ja.prototype={constructor:Ja,clone:function(a){void 0===a&&(a=new Ja);a.W=this.W;a.Kb=this.Kb.slice(0);a.Cc=this.Cc;a.Zb=this.Zb;a.$b=this.$b;a.Hb=this.Hb;a.Jb=this.Jb;a.lc=this.lc;a.format=this.format;a.type=this.type;a.offset.copy(this.offset);a.repeat.copy(this.repeat);a.Ua=this.Ua;a.Ob=this.Ob;a.wb=this.wb;a.Vb=this.Vb;return a},dispose:function(){this.dispatchEvent({type:"dispose"})}};WebMol.TextureIdCount=0;
function va(a,c,g){WebMol.Object3D.call(this);this.A=a;this.p=void 0!==c?c:new ta({color:16777215*Math.random()});this.type=void 0!==g?g:WebMol.LineStrip}WebMol.LineStrip=0;WebMol.LinePieces=1;va.prototype=Object.create(WebMol.Object3D.prototype);va.prototype.clone=function(a){void 0===a&&(a=new va(this.A,this.p,this.type));WebMol.Object3D.prototype.clone.call(this,a);return a};
function pa(a,c){WebMol.Object3D.call(this);this.A=a;this.p=void 0!==c?c:new WebMol.jf({color:16777215*Math.random(),wireframe:!0})}pa.prototype=Object.create(WebMol.Object3D.prototype);pa.prototype.clone=function(a){void 0===a&&(a=new pa(this.A,this.p));WebMol.Object3D.prototype.clone.call(this,a);return a};function Aa(a){WebMol.Object3D.call(this);this.p=void 0!==a?a:new Ka;this.rotation3d=this.rotation;this.rotation=0}Aa.prototype=Object.create(WebMol.Object3D.prototype);
Aa.prototype.updateMatrix=function(){this.matrix.setPosition(this.position);this.rotation3d.set(0,0,this.rotation);this.matrix.setRotationFromEuler(this.rotation3d);1===this.scale.x&&1===this.scale.y||this.matrix.scale(this.scale);this.matrixWorldNeedsUpdate=!0};Aa.prototype.clone=function(a){void 0===a&&(a=new Aa(this.p));WebMol.Object3D.prototype.clone.call(this,a);return a};
WebMol.Renderer=function(a){function c(a){var b=a.ha;if(void 0!==b){a.ha=void 0;var c,e,f=!1;a=0;for(c=x.length;a<c;a++)if(e=x[a],e.ha===b){e.Wb--;0===e.Wb&&(f=!0);break}if(!0===f){f=[];a=0;for(c=x.length;a<c;a++)e=x[a],e.ha!==b&&f.push(e);x=f;z.deleteProgram(b);B.info.memory.Nc--}}}function g(a){a=a.target;a.removeEventListener("dispose",g);c(a)}function p(a){a=a.target;a.removeEventListener("dispose",p);a.W&&a.W.wd?z.deleteTexture(a.W.wd):a.ca&&(a.ca=!1,z.deleteTexture(a.lb));B.info.memory.cd--}
function q(a){a=a.target;a.removeEventListener("dispose",q);a.ca=void 0;void 0!==a.da&&z.deleteBuffer(a.da);void 0!==a.ja&&z.deleteBuffer(a.ja);if(void 0!==a.j)for(var b=0,c=a.Wa;b<c;b++){var e=a.j[b];void 0!==e.da&&z.deleteBuffer(e.da);void 0!==e.ja&&z.deleteBuffer(e.ja);void 0!==e.xa&&z.deleteBuffer(e.xa);void 0!==e.va&&z.deleteBuffer(e.va);void 0!==e.wa&&z.deleteBuffer(e.wa)}B.info.memory.Ab--}function b(a){H[a]||(z.enableVertexAttribArray(a),H[a]=!0)}function r(a,b){var c;"fragment"===a?c=z.createShader(z.FRAGMENT_SHADER):
"vertex"===a&&(c=z.createShader(z.VERTEX_SHADER));z.shaderSource(c,b);z.compileShader(c);return z.getShaderParameter(c,z.COMPILE_STATUS)?c:(console.error(z.getShaderInfoLog(c)),console.error("could not initialize shader"),null)}function t(a,b,c,e,f,g,h){var l,m,n,p;b?(m=a.length-1,p=b=-1):(m=0,b=a.length,p=1);for(var q=m;q!==b;q+=p)if(l=a[q],l.render&&(m=l.object,n=l.buffer,l=l[c])){h&&B.Uc(l.blending);B.Rb(l.depthTest);B.Sb(l.depthWrite);var r=l.polygonOffset;null!==r&&(r?z.enable(z.POLYGON_OFFSET_FILL):
z.disable(z.POLYGON_OFFSET_FILL));B.Ne(l);B.Ge(e,f,g,l,n,m)}}function l(a){return 0===(a&a-1)}function f(a){return a===WebMol.ec?z.UNSIGNED_BYTE:a===WebMol.dc?z.RGBA:0}a=a||{};var s=void 0!==a.canvas?a.canvas:document.createElement("canvas"),m=void 0!==a.precision?a.precision:"highp",e=void 0!==a.alpha?a.alpha:!0,n=void 0!==a.premultipliedAlpha?a.premultipliedAlpha:!0,A=void 0!==a.antialias?a.antialias:!1,D=void 0!==a.stencil?a.stencil:!0,u=void 0!==a.preserveDrawingBuffer?a.preserveDrawingBuffer:
!1,w=void 0!==a.clearColor?new WebMol.Color(a.clearColor):new WebMol.Color(0),C=void 0!==a.clearAlpha?a.clearAlpha:0;this.domElement=s;this.context=null;this.devicePixelRatio=void 0!==a.devicePixelRatio?a.devicePixelRatio:void 0!==self.devicePixelRatio?self.devicePixelRatio:1;this.Gd=this.Fd=this.Ed=this.Dd=this.Cd=this.Bd=!0;this.Rc=[];this.info={memory:{Nc:0,Ab:0,cd:0},render:{pb:0,vertices:0,vb:0,ye:0}};var B=this,x=[],F=0,y=null,h=-1,E=null,I=null,R=0,Q=-1,M=-1,U=-1,O=-1,Y=null,aa=0,ca=0,V=0,
v=0,ea=0,qa=0,H={},Z=new ob,K=new WebMol.Vector3,P=new WebMol.Vector3,X=!0,ga=[0,0,0],ba=[],T=[],z;try{if(!(z=s.getContext("experimental-webgl",{alpha:e,premultipliedAlpha:n,antialias:A,stencil:D,preserveDrawingBuffer:u})))throw"Error creating WebGL context.";}catch(J){console.error(J)}z.clearColor(0,0,0,1);z.clearDepth(1);z.clearStencil(0);z.enable(z.DEPTH_TEST);z.depthFunc(z.LEQUAL);z.frontFace(z.CCW);z.cullFace(z.BACK);z.enable(z.CULL_FACE);z.enable(z.BLEND);z.blendEquation(z.FUNC_ADD);z.blendFunc(z.SRC_ALPHA,
z.ONE_MINUS_SRC_ALPHA);z.clearColor(w.r,w.g,w.b,C);this.context=z;this.getContext=function(){return z};this.Zd=function(){return m};this.setClearColorHex=function(a,b){Nb(w,a);C=b;z.clearColor(w.r,w.g,w.b,C)};this.setSize=function(a,b){s.width=a*this.devicePixelRatio;s.height=b*this.devicePixelRatio;s.style.width=a+"px";s.style.height=b+"px";this.Qe(s.width,s.height)};this.Qe=function(a,b){ca=aa=0;V=void 0!==a?a:s.width;v=void 0!==b?b:s.height;z.viewport(aa,ca,V,v)};this.clear=function(a,b,c){var e=
0;if(void 0===a||a)e|=z.COLOR_BUFFER_BIT;if(void 0===b||b)e|=z.DEPTH_BUFFER_BIT;if(void 0===c||c)e|=z.STENCIL_BUFFER_BIT;z.clear(e)};this.Ne=function(a){var b=a.side===WebMol.jb;a=a.side===WebMol.jd;Q!==b&&(b?z.disable(z.CULL_FACE):z.enable(z.CULL_FACE),Q=b);M!==a&&(a?z.frontFace(z.CW):z.frontFace(z.CCW),M=a)};this.Rb=function(a){U!==a&&(a?z.enable(z.DEPTH_TEST):z.disable(z.DEPTH_TEST),U=a)};this.Sb=function(a){O!==a&&(z.depthMask(a),O=a)};this.Uc=function(a){a===WebMol.cc?z.disable(z.BLEND):(z.enable(z.BLEND),
z.blendEquationSeparate(z.FUNC_ADD,z.FUNC_ADD),z.blendFuncSeparate(z.SRC_ALPHA,z.ONE_MINUS_SRC_ALPHA,z.ONE,z.ONE_MINUS_SRC_ALPHA))};this.xd=function(){var a=new WebMol.SpritePlugin;a.ga(this);this.Rc.push(a)};this.ee=function(a){a.addEventListener("dispose",g);var b;a instanceof ta?b="basic":a instanceof na&&(b="lambert");if(b){var c=WebMol.ShaderLib[b];a.Re=b;a.vertexShader=c.vertexShader;a.fragmentShader=c.fragmentShader;a.uniforms=WebMol.ShaderUtils.clone(c.uniforms)}a:{var e=a.fragmentShader,
f=a.vertexShader,c=a.uniforms,h={wireframe:a.wireframe},l,n;b=[];b.push(e);b.push(f);for(l in h)b.push(l),b.push(h[l]);b=b.join();l=0;for(n=x.length;l<n;l++){var p=x[l];if(p.code===b){p.Wb++;b=p.ha;break a}}l=z.createProgram();p="precision "+m+" float;";n=""+p;e=r("fragment",[h.wireframe?"#define WIREFRAME 1":"",p].join("\n")+e);f=r("vertex",n+f);z.attachShader(l,f);z.attachShader(l,e);z.linkProgram(l);z.getProgramParameter(l,z.LINK_STATUS)||console.error("Could not initialize shader");l.uniforms=
{};l.attributes={};var q,f="viewMatrix modelViewMatrix projectionMatrix normalMatrix modelMatrix cameraPosition".split(" ");for(q in c)f.push(q);for(q=0;q<f.length;q++)c=f[q],l.uniforms[c]=z.getUniformLocation(l,c);f=["position","normal","color","lineDistance"];for(q=0;q<f.length;q++)c=f[q],l.attributes[c]=z.getAttribLocation(l,c);l.id=F++;x.push({ha:l,code:b,Wb:1});B.info.memory.Nc=x.length;b=l}a.ha=b};this.Ge=function(a,e,f,g,l,m){if(g.visible){var n;g.needsUpdate&&(g.ha&&c(g),B.ee(g),g.needsUpdate=
!1);var p=!1,q=g.ha,r=q.uniforms;n=g.uniforms;q!=y&&(z.useProgram(q),y=q,p=!0);g.id!=h&&(h=g.id,p=!0);a!=I&&(I=a,p=!0);if(p){z.uniformMatrix4fv(r.ba,!1,a.ba.elements);z.uniformMatrix4fv(r.Fc,!1,m.qa.elements);n.fogColor.value=f.color;n.fogNear.value=f.t;n.fogFar.value=f.L;if("lambert"===g.Re){z.uniformMatrix4fv(r.zg,!1,a.na.elements);z.uniformMatrix3fv(r.ag,!1,m.mb.elements);if(X){var s,t,u=0,v=0,w=0;a=0;for(f=e.length;a<f;a++)if(p=e[a],s=p.color,t=p.intensity,p instanceof Xa&&(u++,P.getPositionFromMatrix(p.matrixWorld),
K.getPositionFromMatrix(p.target.matrixWorld),P.sub(K),P.normalize(),0!==P.x||0!==P.y||0!==P.z))T[w]=P.x,T[w+1]=P.y,T[w+2]=P.z,ba[w]=s.r*t,ba[w+1]=s.g*t,ba[w+2]=s.b*t,w+=3,v++;ga[0]=0;ga[1]=0;ga[2]=0;X=!1}n.ambientLightColor.value=ga;n.directionalLightColor.value=ba;n.directionalLightDirection.value=T;n.ambient.value=g.ambient;n.emissive.value=g.emissive}n.opacity.value=g.opacity;n.diffuse.value=g.color;for(var x in n)r[x]&&(e=n[x].type,a=n[x].value,f=r[x],"f"===e?z.uniform1f(f,a):"fv"===e?z.uniform3fv(f,
a):"c"===e&&z.uniform3f(f,a.r,a.g,a.b))}n=q.attributes;r=!1;q=16777215*l.id+2*q.id+(g.wireframe?1:0);q!==E&&(E=q,r=!0);if(r){for(var A in H)H[A]&&(z.disableVertexAttribArray(A),H[A]=!1);0<=n.position&&(z.bindBuffer(z.ARRAY_BUFFER,l.da),b(n.position),z.vertexAttribPointer(n.position,3,z.FLOAT,!1,0,0));0<=n.color&&(z.bindBuffer(z.ARRAY_BUFFER,l.ja),b(n.color),z.vertexAttribPointer(n.color,3,z.FLOAT,!1,0,0));0<=n.Hc&&(z.bindBuffer(z.ARRAY_BUFFER,l.xa),b(n.Hc),z.vertexAttribPointer(n.Hc,3,z.FLOAT,!1,
0,0))}var C;m instanceof pa?(g.wireframe?(m=l.o,g=g.wireframeLinewidth,g!==Y&&(z.lineWidth(g),Y=g),r&&z.bindBuffer(z.ELEMENT_ARRAY_BUFFER,l.wa),z.drawElements(z.LINES,m,z.UNSIGNED_SHORT,0)):(C=l.d,r&&z.bindBuffer(z.ELEMENT_ARRAY_BUFFER,l.va),z.drawElements(z.TRIANGLES,C,z.UNSIGNED_SHORT,0)),B.info.render.pb++,B.info.render.vertices+=C,B.info.render.vb+=C/3):m instanceof va&&(m=l.vertices,l=g.linewidth,l!==Y&&(z.lineWidth(l),Y=l),z.drawArrays(z.LINES,0,m),B.info.render.pb++)}};this.render=function(a,
b,c){if(!1===b instanceof Pa)console.error("WebMol.Renderer.render: camera is not an instance of WebMol.Camera.");else{var e,f,g,l,m=a.__lights,n=a.fog;h=-1;X=!0;this.Gd&&a.updateMatrixWorld();void 0===b.parent&&b.updateMatrixWorld();b.na.getInverse(b.matrixWorld);Z.multiplyMatrices(b.ba,b.na);this.Fd&&this.fe(a);B.info.render.pb=0;B.info.render.vertices=0;B.info.render.vb=0;B.info.render.ye=0;ea=V;qa=v;(this.Bd||c)&&this.clear(this.Cd,this.Dd,this.Ed);l=a.Y;c=0;for(e=l.length;c<e;c++)if(f=l[c],g=
f.object,f.render=!1,g.visible){g.qa.multiplyMatrices(b.na,g.matrixWorld);g.mb.getInverse(g.qa);g.mb.transpose();g=f;var p=g.object.p;p.transparent?(g.Kc=null,g.transparent=p,p=p.clone(),p.opacity=0,g.Ff=p):(g.Kc=p,g.transparent=null);f.render=!0}this.Uc(WebMol.cc);t(a.Y,!0,"opaque",b,m,n,!1);t(a.Y,!0,"blank",b,m,n,!0);t(a.Y,!1,"transparent",b,m,n,!0);m=this.Rc;E=-1;I=y=null;M=h=Q=U=O=-1;if(m.length)for(n=0,c=m.length;n<c;n++)X=!0,m[n].render(a,b,ea,qa),E=-1,I=y=null,M=h=Q=U=O=-1;this.Rb(!0);this.Sb(!0)}};
this.fe=function(a){a.Y||(a.Y=[],a.Bf=[],a.kb=[],a.Af=[]);if(a.__objectsAdded.length){for(;a.__objectsAdded.length;){var b=a.__objectsAdded[0],c=a,e=void 0,f=void 0,g=void 0,h=void 0;if(!b.ca&&(b.ca=!0,b.qa=new ob,b.mb=new nb,void 0!==b.A&&void 0===b.A.ca&&(b.A.ca=!0,b.A.addEventListener("dispose",q)),b instanceof pa||b instanceof va))for(g=b.A,e=0,f=g.j.length;e<f;e++)h=g.j[e],h.id=R++,h.da||(b instanceof pa?(h.da=z.createBuffer(),h.xa=z.createBuffer(),h.ja=z.createBuffer(),h.va=z.createBuffer(),
h.wa=z.createBuffer(),B.info.memory.Ab++,g.Ta=!0,g.bb=!0):b instanceof va&&(h.da=z.createBuffer(),h.ja=z.createBuffer(),B.info.memory.Ab++),g.ib=!0,g.Da=!0);if(!b.fc){if(b instanceof pa||b instanceof va)for(g=b.A,e=0,f=g.j.length;e<f;e++)h=g.j[e],c.Y.push({buffer:h,object:b,Kc:null,transparent:null});else b instanceof Aa&&c.kb.push(b);b.fc=!0}a.__objectsAdded.splice(0,1)}E=-1}for(;a.__objectsRemoved.length;){b=a.__objectsRemoved[0];c=a;if(b instanceof pa||b instanceof va)for(c=c.Y,e=b,f=c.length-
1;0<=f;--f)c[f].object===e&&c.splice(f,1);else if(b instanceof Aa)for(c=c.kb,e=b,f=c.length-1;0<=f;--f)c[f]===e&&c.splice(f,1);b.fc=!1;a.__objectsRemoved.splice(0,1)}b=0;for(c=a.Y.length;b<c;b++)if(f=a.Y[b].object,e=f.A,h=void 0,f instanceof pa||f instanceof va){f=0;for(g=e.j.length;f<g;f++)if(h=e.j[f],e.ib||e.Ta||e.Da||e.bb){var l=z.DYNAMIC_DRAW,m=h.__vertexArray,n=h.__colorArray;z.bindBuffer(z.ARRAY_BUFFER,h.da);z.bufferData(z.ARRAY_BUFFER,m,l);z.bindBuffer(z.ARRAY_BUFFER,h.ja);z.bufferData(z.ARRAY_BUFFER,
n,l);void 0!==h.__normalArray&&void 0!==h.xa&&(m=h.__normalArray,z.bindBuffer(z.ARRAY_BUFFER,h.xa),z.bufferData(z.ARRAY_BUFFER,m,l));void 0!==h.__faceArray&&void 0!==h.va&&(m=h.__faceArray,z.bindBuffer(z.ELEMENT_ARRAY_BUFFER,h.va),z.bufferData(z.ELEMENT_ARRAY_BUFFER,m,l));void 0!==h.__lineArray&&void 0!==h.wa&&(m=h.__lineArray,z.bindBuffer(z.ELEMENT_ARRAY_BUFFER,h.wa),z.bufferData(z.ELEMENT_ARRAY_BUFFER,m,l))}e.ib=!1;e.Ta=!1;e.bb=!1;e.Da=!1;e.pc=!1}};this.Pe=function(a){if(a.needsUpdate){a.ca||(a.ca=
!0,a.addEventListener("dispose",p),a.lb=z.createTexture(),B.info.memory.cd++);z.activeTexture(z.TEXTURE0+0);z.bindTexture(z.TEXTURE_2D,a.lb);z.pixelStorei(z.UNPACK_FLIP_Y_WEBGL,a.wb);z.pixelStorei(z.UNPACK_PREMULTIPLY_ALPHA_WEBGL,a.Ob);z.pixelStorei(z.UNPACK_ALIGNMENT,a.Vb);var b=a.W,b=l(b.width)&&l(b.height),c=f(a.format),e=f(a.type),g=z.TEXTURE_2D;b?(z.texParameteri(g,z.TEXTURE_WRAP_S,f(a.Zb)),z.texParameteri(g,z.TEXTURE_WRAP_T,f(a.$b)),z.texParameteri(g,z.TEXTURE_MAG_FILTER,f(a.Hb)),z.texParameteri(g,
z.TEXTURE_MIN_FILTER,f(a.Jb))):(z.texParameteri(g,z.TEXTURE_WRAP_S,z.CLAMP_TO_EDGE),z.texParameteri(g,z.TEXTURE_WRAP_T,z.CLAMP_TO_EDGE),z.texParameteri(g,z.TEXTURE_MAG_FILTER,z.LINEAR),z.texParameteri(g,z.TEXTURE_MIN_FILTER,z.LINEAR));var h=a.Kb;if(0<h.length&&b){for(var m=0,n=h.length;m<n;m++)g=h[m],z.texImage2D(z.TEXTURE_2D,m,c,c,e,g);a.Ua=!1}else z.texImage2D(z.TEXTURE_2D,0,c,c,e,a.W);a.Ua&&b&&z.generateMipmap(z.TEXTURE_2D);a.needsUpdate=!1;a.Jc&&a.Jc()}else z.activeTexture(z.TEXTURE0+0),z.bindTexture(z.TEXTURE_2D,
a.lb)};this.xd()};function Va(){WebMol.Object3D.call(this);this.overrideMaterial=this.fog=null;this.matrixAutoUpdate=!1;this.__objects=[];this.__lights=[];this.__objectsAdded=[];this.__objectsRemoved=[]}Va.prototype=Object.create(WebMol.Object3D.prototype);
Va.prototype.__addObject=function(a){a instanceof Xa?(-1===this.__lights.indexOf(a)&&this.__lights.push(a),a.target&&void 0===a.target.parent&&this.add(a.target)):-1===this.__objects.indexOf(a)&&(this.__objects.push(a),this.__objectsAdded.push(a),-1!==this.__objectsRemoved.indexOf(a)&&this.__objectsRemoved.splice(c,1));for(var c in a.children)this.__addObject(a.children[c])};
Va.prototype.__removeObject=function(a){var c;a instanceof Xa?(c=this.__lights.indexOf(a),-1!==c&&this.__lights.splice(c,1)):(c=this.__objects.indexOf(a),-1!==c&&(this.__objects.splice(c,1),this.__objectsRemoved.push(a),-1!==this.__objectsAdded.indexOf(a)&&this.__objectsAdded.splice(c,1)));for(var g in a.children)this.__removeObject(a.children[g])};function Wa(a,c,g){this.name="";this.color=new WebMol.Color(a);this.t=void 0!==c?c:1;this.L=void 0!==g?g:1E3}
Wa.prototype.clone=function(){return new Wa(this.color.Tf(),this.t,this.L)};WebMol.ShaderUtils={clone:function(a){var c,g={};for(c in a){g[c]={};g[c].type=a[c].type;var p=a[c].value;p instanceof WebMol.Color?g[c].value=p.clone():"number"===typeof p?g[c].value=p:p instanceof Array?g[c].value=[]:console.error("Error copying shader uniforms from ShaderLib: unknown type for uniform")}return g}};
WebMol.ShaderLib={basic:{fragmentShader:"uniform mat4 viewMatrix;\nuniform vec3 cameraPosition;\nuniform vec3 diffuse;\nuniform float opacity;\nuniform vec3 fogColor;\nuniform float fogNear;\nuniform float fogFar;\nvarying vec3 vColor;\nvoid main() {\n    gl_FragColor = vec4( diffuse, opacity );\n    gl_FragColor = gl_FragColor * vec4( vColor, opacity );\n    float depth = gl_FragCoord.z / gl_FragCoord.w;\n    float fogFactor = smoothstep( fogNear, fogFar, depth );\n    gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );\n}",vertexShader:"uniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\nuniform mat4 viewMatrix;\nuniform mat3 normalMatrix;\nuniform vec3 cameraPosition;\nattribute vec3 position;\nattribute vec3 color;\nvarying vec3 vColor;\nvoid main() {\n    vColor = color;\n    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n    gl_Position = projectionMatrix * mvPosition;\n}",
uniforms:{opacity:{type:"f",value:1},diffuse:{type:"c",value:new WebMol.Color(1,1,1)},fogColor:{type:"c",value:new WebMol.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2E3}}},lambert:{fragmentShader:"uniform mat4 viewMatrix;\nuniform vec3 cameraPosition;\nuniform float opacity;\nuniform vec3 fogColor;\nuniform float fogNear;\nuniform float fogFar;\nvarying vec3 vLightFront;\nvarying vec3 vColor;\nvoid main() {\n    gl_FragColor = vec4( vec3 ( 1.0 ), opacity );\n    #ifndef WIREFRAME\n    gl_FragColor.xyz *= vLightFront;\n    #endif\n    gl_FragColor = gl_FragColor * vec4( vColor, opacity );\n    float depth = gl_FragCoord.z / gl_FragCoord.w;\n    float fogFactor = smoothstep( fogNear, fogFar, depth );\n    gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );\n}",
vertexShader:"uniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\nuniform mat4 viewMatrix;\nuniform mat3 normalMatrix;\nuniform vec3 cameraPosition;\nuniform vec3 ambient;\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 ambientLightColor;\nuniform vec3 directionalLightColor[ 1 ];\nuniform vec3 directionalLightDirection[ 1 ];\nattribute vec3 position;\nattribute vec3 normal;\nattribute vec3 color;\nvarying vec3 vColor;\nvarying vec3 vLightFront;\nvoid main() {\n    vColor = color;\n    vec3 objectNormal = normal;\n    vec3 transformedNormal = normalMatrix * objectNormal;\n    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n    vLightFront = vec3( 0.0 );\n    transformedNormal = normalize( transformedNormal );\n    vec4 lDirection = viewMatrix * vec4( directionalLightDirection[ 0 ], 0.0 );\n    vec3 dirVector = normalize( lDirection.xyz );\n    float dotProduct = dot( transformedNormal, dirVector );\n    vec3 directionalLightWeighting = vec3( max( dotProduct, 0.0 ) );\n    vLightFront += directionalLightColor[ 0 ] * directionalLightWeighting;\n    vLightFront = vLightFront * diffuse + ambient * ambientLightColor + emissive;\n    gl_Position = projectionMatrix * mvPosition;\n}",
uniforms:{opacity:{type:"f",value:1},diffuse:{type:"c",value:new WebMol.Color(1,1,1)},fogColor:{type:"c",value:new WebMol.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2E3},ambient:{type:"c",value:new WebMol.Color(1,1,1)},emissive:{type:"c",value:new WebMol.Color(1,1,1)},ambientLightColor:{type:"fv",value:[]},directionalLightColor:{type:"fv",value:[]},directionalLightDirection:{type:"fv",value:[]}}},sprite:{fragmentShader:"uniform vec3 color;\nuniform sampler2D map;\nuniform float opacity;\nuniform int fogType;\nuniform vec3 fogColor;\nuniform float fogDensity;\nuniform float fogNear;\nuniform float fogFar;\nuniform float alphaTest;\nvarying vec2 vUV;\nvoid main() {\n    vec4 texture = texture2D(map, vUV);\n    if (texture.a < alphaTest) discard;\n    gl_FragColor = vec4(color * texture.xyz, texture.a * opacity);\n    if (fogType > 0) {\n        float depth = gl_FragCoord.z / gl_FragCoord.w;\n        float fogFactor = 0.0;\n        if (fogType == 1) {\n            fogFactor = smoothstep(fogNear, fogFar, depth);\n        }\n        else {\n            const float LOG2 = 1.442695;\n            float fogFactor = exp2(- fogDensity * fogDensity * depth * depth * LOG2);\n            fogFactor = 1.0 - clamp(fogFactor, 0.0, 1.0);\n        }\n        gl_FragColor = mix(gl_FragColor, vec4(fogColor, gl_FragColor.w), fogFactor);\n    }\n}",
vertexShader:"uniform int useScreenCoordinates;\nuniform int sizeAttenuation;\nuniform vec3 screenPosition;\nuniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\nuniform float rotation;\nuniform vec2 scale;\nuniform vec2 alignment;\nuniform vec2 uvOffset;\nuniform vec2 uvScale;\nattribute vec2 position;\nattribute vec2 uv;\nvarying vec2 vUV;\nvoid main() {\n    vUV = uvOffset + uv * uvScale;\n    vec2 alignedPosition = position + alignment;\n    vec2 rotatedPosition;\n    rotatedPosition.x = ( cos(rotation) * alignedPosition.x - sin(rotation) * alignedPosition.y ) * scale.x;\n    rotatedPosition.y = ( sin(rotation) * alignedPosition.x + cos(rotation) * alignedPosition.y ) * scale.y;\n    vec4 finalPosition;\n    if(useScreenCoordinates != 0) {\n        finalPosition = vec4(screenPosition.xy + rotatedPosition, screenPosition.z, 1.0);\n    }\n    else {\n        finalPosition = projectionMatrix * modelViewMatrix * vec4(0.0, 0.0, 0.0, 1.0);\n        finalPosition.xy += rotatedPosition * (sizeAttenuation == 1 ? 1.0 : finalPosition.z);\n    }\n    gl_Position = finalPosition;\n}",
uniforms:{}}};
