(function(a,d){function l(){M.addEventListener?(M.removeEventListener("DOMContentLoaded",p,!1),a.removeEventListener("load",p,!1)):(M.detachEvent("onreadystatechange",p),a.detachEvent("onload",p))}function p(c){if(M.addEventListener||"load"===c.type||"complete"===M.readyState)l(),b.ready()}function t(c,b){return b.toUpperCase()}function b(c,q){return new b.fn.pa(c,q,ba)}function n(c){var q=c.length,V=b.type(c);return b.isWindow(c)?!1:1===c.nodeType&&q?!0:"array"===V||"function"!==V&&(0===q||"number"===
typeof q&&0<q&&q-1 in c)}function s(c){var q=sb[c]={};b.each(c.match(wa)||[],function(c,b){q[b]=!0});return q}function g(c,q,V,a){if(b.Ka(c)){var e=b.expando,N="string"===typeof q,f=c.nodeType,g=f?b.v:c,h=f?c[e]:c[e]&&e;if(h&&g[h]&&(a||g[h].data)||!N||V!==d){h||(f?c[e]=h=ha.pop()||b.D++:h=e);g[h]||(g[h]={},f||(g[h].toJSON=b.noop));if("object"===typeof q||"function"===typeof q)a?g[h]=b.extend(g[h],q):g[h].data=b.extend(g[h].data,q);c=g[h];a||(c.data||(c.data={}),c=c.data);V!==d&&(c[b.Y(q)]=V);N?(V=
c[q],null==V&&(V=c[b.Y(q)])):V=c;return V}}}function f(c,q,V){if(b.Ka(c)){var a,d,e,f=c.nodeType,g=f?b.v:c,r=f?c[b.expando]:b.expando;if(g[r]){if(q&&(e=V?g[r]:g[r].data)){b.isArray(q)?q=q.concat(b.map(q,b.Y)):q in e?q=[q]:(q=b.Y(q),q=q in e?[q]:q.split(" "));a=0;for(d=q.length;a<d;a++)delete e[q[a]];if(!(V?h:b.isEmptyObject)(e))return}if(!V&&(delete g[r].data,!h(g[r])))return;f?b.fb([c],!0):b.support.Fb||g!=g.window?delete g[r]:g[r]=null}}}function v(c,q,V){if(V===d&&1===c.nodeType)if(V="data-"+q.replace(Rb,
"-$1").toLowerCase(),V=c.getAttribute(V),"string"===typeof V){try{V="true"===V?!0:"false"===V?!1:"null"===V?null:+V+""===V?+V:Sb.test(V)?b.parseJSON(V):V}catch(a){}b.data(c,q,V)}else V=d;return V}function h(c){for(var q in c)if(("data"!==q||!b.isEmptyObject(c[q]))&&"toJSON"!==q)return!1;return!0}function e(){return!0}function m(){return!1}function C(c,b){do c=c[b];while(c&&1!==c.nodeType);return c}function w(c,q,V){q=q||0;if(b.isFunction(q))return b.grep(c,function(c,b){return!!q.call(c,b,c)===V});
if(q.nodeType)return b.grep(c,function(c){return c===q===V});if("string"===typeof q){var a=b.grep(c,function(c){return 1===c.nodeType});if(Tb.test(q))return b.filter(q,a,!V);q=b.filter(q,a)}return b.grep(c,function(c){return 0<=b.inArray(c,q)===V})}function u(c){var b=tb.split("|");c=c.createDocumentFragment();if(c.createElement)for(;b.length;)c.createElement(b.pop());return c}function G(c){return c.getElementsByTagName("tbody")[0]||c.appendChild(c.ownerDocument.createElement("tbody"))}function E(c){var b=
c.getAttributeNode("type");c.type=(b&&b.specified)+"/"+c.type;return c}function B(c){var b=Ub.exec(c.type);b?c.type=b[1]:c.removeAttribute("type");return c}function A(c,q){for(var a,ea=0;null!=(a=c[ea]);ea++)b.o(a,"globalEval",!q||b.o(q[ea],"globalEval"))}function r(c,q){if(1===q.nodeType&&b.hasData(c)){var a,ea,d;ea=b.o(c);var e=b.o(q,ea),f=ea.xa;if(f)for(a in delete e.handle,e.xa={},f)for(ea=0,d=f[a].length;ea<d;ea++)b.event.add(q,a,f[a][ea]);e.data&&(e.data=b.extend({},e.data))}}function D(c,q){var a,
ea,e=0,N=typeof c.getElementsByTagName!==y?c.getElementsByTagName(q||"*"):typeof c.querySelectorAll!==y?c.querySelectorAll(q||"*"):d;if(!N)for(N=[],a=c.childNodes||c;null!=(ea=a[e]);e++)!q||b.nodeName(ea,q)?N.push(ea):b.merge(N,D(ea,q));return q===d||q&&b.nodeName(c,q)?b.merge([c],N):N}function z(c){db.test(c.type)&&(c.defaultChecked=c.checked)}function F(c,b){if(b in c)return b;for(var a=b.charAt(0).toUpperCase()+b.slice(1),ea=b,d=ub.length;d--;)if(b=ub[d]+a,b in c)return b;return ea}function H(c,
q){c=q||c;return"none"===b.css(c,"display")||!b.contains(c.ownerDocument,c)}function T(c,q){for(var a,d,e,N=[],f=0,g=c.length;f<g;f++)d=c[f],d.style&&(N[f]=b.o(d,"olddisplay"),a=d.style.display,q?(N[f]||"none"!==a||(d.style.display=""),""===d.style.display&&H(d)&&(N[f]=b.o(d,"olddisplay",W(d.nodeName)))):N[f]||(e=H(d),(a&&"none"!==a||!e)&&b.o(d,"olddisplay",e?a:b.css(d,"display"))));for(f=0;f<g;f++)d=c[f],!d.style||q&&"none"!==d.style.display&&""!==d.style.display||(d.style.display=q?N[f]||"":"none");
return c}function U(c,b,a){return(c=Vb.exec(b))?Math.max(0,c[1]-(a||0))+(c[2]||"px"):b}function x(c,q,a,d,e){q=a===(d?"border":"content")?4:"width"===q?1:0;for(var N=0;4>q;q+=2)"margin"===a&&(N+=b.css(c,a+Ba[q],!0,e)),d?("content"===a&&(N-=b.css(c,"padding"+Ba[q],!0,e)),"margin"!==a&&(N-=b.css(c,"border"+Ba[q]+"Width",!0,e))):(N+=b.css(c,"padding"+Ba[q],!0,e),"padding"!==a&&(N+=b.css(c,"border"+Ba[q]+"Width",!0,e)));return N}function R(c,q,a){var d=!0,e="width"===q?c.offsetWidth:c.offsetHeight,N=
Ca(c),f=b.support.boxSizing&&"border-box"===b.css(c,"boxSizing",!1,N);if(0>=e||null==e){e=Da(c,q,N);if(0>e||null==e)e=c.style[q];if(Xa.test(e))return e;d=f&&(b.support.Jc||e===c.style[q]);e=parseFloat(e)||0}return e+x(c,q,a||(f?"border":"content"),d,N)+"px"}function W(c){var q=M,a=vb[c];a||(a=fa(c,q),"none"!==a&&a||(Sa=(Sa||b("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(q.documentElement),q=(Sa[0].contentWindow||Sa[0].contentDocument).document,
q.write("<!doctype html><html><body>"),q.close(),a=fa(c,q),Sa.detach()),vb[c]=a);return a}function fa(c,q){var a=b(q.createElement(c)).appendTo(q.body),d=b.css(a[0],"display");a.remove();return d}function ca(c,q,a,d){var e;if(b.isArray(q))b.each(q,function(b,q){a||Wb.test(c)?d(c,q):ca(c+"["+("object"===typeof q?b:"")+"]",q,a,d)});else if(a||"object"!==b.type(q))d(c,q);else for(e in q)ca(c+"["+e+"]",q[e],a,d)}function P(c){return function(q,a){"string"!==typeof q&&(a=q,q="*");var d,e=0,N=q.toLowerCase().match(wa)||
[];if(b.isFunction(a))for(;d=N[e++];)"+"===d[0]?(d=d.slice(1)||"*",(c[d]=c[d]||[]).unshift(a)):(c[d]=c[d]||[]).push(a)}}function I(c,q,a,d){function e(g){var h;N[g]=!0;b.each(c[g]||[],function(c,b){var g=b(q,a,d);if("string"===typeof g&&!f&&!N[g])return q.ba.unshift(g),e(g),!1;if(f)return!(h=g)});return h}var N={},f=c===eb;return e(q.ba[0])||!N["*"]&&e("*")}function Q(c,q){var a,e,cb=b.ajaxSettings.flatOptions||{};for(e in q)q[e]!==d&&((cb[e]?c:a||(a={}))[e]=q[e]);a&&b.extend(!0,c,a);return c}function ga(){try{return new a.XMLHttpRequest}catch(c){}}
function K(){setTimeout(function(){La=d});return La=b.now()}function J(c,q){b.each(q,function(b,q){for(var a=(Ta[b]||[]).concat(Ta["*"]),d=0,e=a.length;d<e&&!a[d].call(c,b,q);d++);})}function X(c,q,a){function d(){if(e)return!1;for(var b=La||K(),b=Math.max(0,h.startTime+h.duration-b),q=1-(b/h.duration||0),a=0,V=h.Za.length;a<V;a++)h.Za[a].nd(q);g.notifyWith(c,[h,q,b]);if(1>q&&V)return b;g.resolveWith(c,[h]);return!1}var e,N=0,f=Ya.length,g=b.Deferred().always(function(){delete d.m}),h=g.promise({m:c,
props:b.extend({},q),U:b.extend(!0,{vd:{}},a),Dh:q,Ch:a,startTime:La||K(),duration:a.duration,Za:[],Mc:function(q,a){var V=b.Je(c,h.U,q,a,h.U.vd[q]||h.U.Sa);h.Za.push(V);return V},stop:function(b){var q=0,a=b?h.Za.length:0;if(e)return this;for(e=!0;q<a;q++)h.Za[q].nd(1);b?g.resolveWith(c,[h,b]):g.rejectWith(c,[h,b]);return this}});a=h.props;for(ja(a,h.U.vd);N<f;N++)if(q=Ya[N].call(h,c,a,h.U))return q;J(h,a);b.isFunction(h.U.start)&&h.U.start.call(c,h);b.fx.tg(b.extend(d,{m:c,Fc:h,queue:h.U.queue}));
return h.progress(h.U.progress).done(h.U.done,h.U.complete).fail(h.U.fail).always(h.U.always)}function ja(c,q){var a,d,e,N,f;for(e in c)if(d=b.Y(e),N=q[d],a=c[e],b.isArray(a)&&(N=a[1],a=c[e]=a[0]),e!==d&&(c[d]=a,delete c[e]),(f=b.cssHooks[d])&&"expand"in f)for(e in a=f.expand(a),delete c[d],a)e in c||(c[e]=a[e],q[e]=N);else q[d]=N}function L(c,b,a,d,e){return new L.prototype.pa(c,b,a,d,e)}function S(c,b){var a,d={height:c},e=0;for(b=b?1:0;4>e;e+=2-b)a=Ba[e],d["margin"+a]=d["padding"+a]=c;b&&(d.opacity=
d.width=c);return d}function da(c){return b.isWindow(c)?c:9===c.nodeType?c.defaultView||c.parentWindow:!1}var Z,ba,y=typeof d,M=a.document,Y=a.location,O=a.jQuery,ia=a.$,aa={},ha=[],xa=ha.concat,ua=ha.push,na=ha.slice,ka=ha.indexOf,ma=aa.toString,Ha=aa.hasOwnProperty,Ea="1.9.1".trim,Ma=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,wa=/\S+/g,fb=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,Xb=/^(?:(<[\w\W]+>)[^>]*|#([\w-]*))$/,wb=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,Yb=/^[\],:{}\s]*$/,Zb=/(?:^|:|,)(?:\s*\[)+/g,$b=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,
ac=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,bc=/^-ms-/,cc=/-([\da-z])/gi;b.fn=b.prototype={jquery:"1.9.1",constructor:b,pa:function(c,q,a){var e;if(!c)return this;if("string"===typeof c){e="<"===c.charAt(0)&&">"===c.charAt(c.length-1)&&3<=c.length?[null,c,null]:Xb.exec(c);if(!e||!e[1]&&q)return!q||q.jquery?(q||a).find(c):this.constructor(q).find(c);if(e[1]){if(q=q instanceof b?q[0]:q,b.merge(this,b.parseHTML(e[1],q&&q.nodeType?q.ownerDocument||q:M,!0)),wb.test(e[1])&&b.isPlainObject(q))for(e in q)if(b.isFunction(this[e]))this[e](q[e]);
else this.attr(e,q[e])}else{if((q=M.getElementById(e[2]))&&q.parentNode){if(q.id!==e[2])return a.find(c);this.length=1;this[0]=q}this.context=M;this.R=c}return this}if(c.nodeType)return this.context=this[0]=c,this.length=1,this;if(b.isFunction(c))return a.ready(c);c.R!==d&&(this.R=c.R,this.context=c.context);return b.makeArray(c,this)},R:"",length:0,toArray:function(){return na.call(this)},get:function(c){return null==c?this.toArray():0>c?this[this.length+c]:this[c]},pushStack:function(c){c=b.merge(this.constructor(),
c);c.cc=this;c.context=this.context;return c},each:function(c,q){return b.each(this,c,q)},ready:function(c){b.ready.promise().done(c);return this},slice:function(){return this.pushStack(na.apply(this,arguments))},first:function(){return this.eq(0)},eq:function(c){var b=this.length;c=+c+(0>c?b:0);return this.pushStack(0<=c&&c<b?[this[c]]:[])},map:function(c){return this.pushStack(b.map(this,function(b,a){return c.call(b,a,b)}))},end:function(){return this.cc||this.constructor(null)},push:ua,sort:[].sort,
splice:[].splice};b.fn.pa.prototype=b.fn;b.extend=b.fn.extend=function(){var c,q,a,e,f,N=arguments[0]||{},h=1,g=arguments.length,r=!1;"boolean"===typeof N&&(r=N,N=arguments[1]||{},h=2);"object"===typeof N||b.isFunction(N)||(N={});g===h&&(N=this,--h);for(;h<g;h++)if(null!=(f=arguments[h]))for(e in f)c=N[e],a=f[e],N!==a&&(r&&a&&(b.isPlainObject(a)||(q=b.isArray(a)))?(q?(q=!1,c=c&&b.isArray(c)?c:[]):c=c&&b.isPlainObject(c)?c:{},N[e]=b.extend(r,c,a)):a!==d&&(N[e]=a));return N};b.extend({noConflict:function(c){a.$===
b&&(a.$=ia);c&&a.jQuery===b&&(a.jQuery=O);return b},Sb:!1,ec:1,holdReady:function(c){c?b.ec++:b.ready(!0)},ready:function(c){if(!0===c?!--b.ec:!b.Sb){if(!M.body)return setTimeout(b.ready);b.Sb=!0;!0!==c&&0<--b.ec||(Z.resolveWith(M,[b]),b.fn.trigger&&b(M).trigger("ready").off("ready"))}},isFunction:function(c){return"function"===b.type(c)},isArray:Array.isArray||function(c){return"array"===b.type(c)},isWindow:function(c){return null!=c&&c==c.window},isNumeric:function(c){return!isNaN(parseFloat(c))&&
isFinite(c)},type:function(c){return null==c?String(c):"object"===typeof c||"function"===typeof c?aa[ma.call(c)]||"object":typeof c},isPlainObject:function(c){if(!c||"object"!==b.type(c)||c.nodeType||b.isWindow(c))return!1;try{if(c.constructor&&!Ha.call(c,"constructor")&&!Ha.call(c.constructor.prototype,"isPrototypeOf"))return!1}catch(q){return!1}for(var a in c);return a===d||Ha.call(c,a)},isEmptyObject:function(c){for(var b in c)return!1;return!0},error:function(c){throw Error(c);},parseHTML:function(c,
q,a){if(!c||"string"!==typeof c)return null;"boolean"===typeof q&&(a=q,q=!1);q=q||M;var d=wb.exec(c);a=!a&&[];if(d)return[q.createElement(d[1])];d=b.Lc([c],q,a);a&&b(a).remove();return b.merge([],d.childNodes)},parseJSON:function(c){if(a.JSON&&a.JSON.parse)return a.JSON.parse(c);if(null===c)return c;if("string"===typeof c&&(c=b.trim(c))&&Yb.test(c.replace($b,"@").replace(ac,"]").replace(Zb,"")))return(new Function("return "+c))();b.error("Invalid JSON: "+c)},parseXML:function(c){var q,V;if(!c||"string"!==
typeof c)return null;try{a.DOMParser?(V=new DOMParser,q=V.parseFromString(c,"text/xml")):(q=new ActiveXObject("Microsoft.XMLDOM"),q.async="false",q.loadXML(c))}catch(e){q=d}q&&q.documentElement&&!q.getElementsByTagName("parsererror").length||b.error("Invalid XML: "+c);return q},noop:function(){},globalEval:function(c){c&&b.trim(c)&&(a.execScript||function(c){a.eval.call(a,c)})(c)},Y:function(c){return c.replace(bc,"ms-").replace(cc,t)},nodeName:function(c,b){return c.nodeName&&c.nodeName.toLowerCase()===
b.toLowerCase()},each:function(c,b,a){var d,e=0,f=c.length;d=n(c);if(a)if(d)for(;e<f&&(d=b.apply(c[e],a),!1!==d);e++);else for(e in c){if(d=b.apply(c[e],a),!1===d)break}else if(d)for(;e<f&&(d=b.call(c[e],e,c[e]),!1!==d);e++);else for(e in c)if(d=b.call(c[e],e,c[e]),!1===d)break;return c},trim:Ea&&!Ea.call("\ufeff\u00a0")?function(c){return null==c?"":Ea.call(c)}:function(c){return null==c?"":(c+"").replace(fb,"")},makeArray:function(c,a){var d=a||[];null!=c&&(n(Object(c))?b.merge(d,"string"===typeof c?
[c]:c):ua.call(d,c));return d},inArray:function(c,b,a){var d;if(b){if(ka)return ka.call(b,c,a);d=b.length;for(a=a?0>a?Math.max(0,d+a):a:0;a<d;a++)if(a in b&&b[a]===c)return a}return-1},merge:function(c,b){var a=b.length,e=c.length,f=0;if("number"===typeof a)for(;f<a;f++)c[e++]=b[f];else for(;b[f]!==d;)c[e++]=b[f++];c.length=e;return c},grep:function(c,b,a){var d,e=[],f=0,h=c.length;for(a=!!a;f<h;f++)d=!!b(c[f],f),a!==d&&e.push(c[f]);return e},map:function(c,b,a){var d,e=0,f=c.length,h=[];if(n(c))for(;e<
f;e++)d=b(c[e],e,a),null!=d&&(h[h.length]=d);else for(e in c)d=b(c[e],e,a),null!=d&&(h[h.length]=d);return xa.apply([],h)},D:1,proxy:function(c,a){var e,ea;"string"===typeof a&&(ea=c[a],a=c,c=ea);if(!b.isFunction(c))return d;e=na.call(arguments,2);ea=function(){return c.apply(a||this,e.concat(na.call(arguments)))};ea.D=c.D=c.D||b.D++;return ea},ga:function(c,a,e,ea,f,N,h){var g=0,r=c.length,l=null==e;if("object"===b.type(e))for(g in f=!0,e)b.ga(c,a,g,e[g],!0,N,h);else if(ea!==d&&(f=!0,b.isFunction(ea)||
(h=!0),l&&(h?(a.call(c,ea),a=null):(l=a,a=function(c,a,q){return l.call(b(c),q)})),a))for(;g<r;g++)a(c[g],e,h?ea:ea.call(c[g],g,a(c[g],e)));return f?c:l?a.call(c):r?a(c[0],e):N},now:function(){return(new Date).getTime()}});b.ready.promise=function(c){if(!Z)if(Z=b.Deferred(),"complete"===M.readyState)setTimeout(b.ready);else if(M.addEventListener)M.addEventListener("DOMContentLoaded",p,!1),a.addEventListener("load",p,!1);else{M.attachEvent("onreadystatechange",p);a.attachEvent("onload",p);var q=!1;
try{q=null==a.frameElement&&M.documentElement}catch(d){}q&&q.doScroll&&function cb(){if(!b.Sb){try{q.doScroll("left")}catch(c){return setTimeout(cb,50)}l();b.ready()}}()}return Z.promise(c)};b.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(c,b){aa["[object "+b+"]"]=b.toLowerCase()});ba=b(M);var sb={};b.Callbacks=function(c){function a(b){ea=c.memory&&b;f=!0;h=g||0;g=0;N=r.length;for(e=!0;r&&h<N;h++)if(!1===r[h].apply(b[0],b[1])&&c.Nh){ea=!1;break}e=!1;r&&
(l?l.length&&a(l.shift()):ea?r=[]:x.disable())}c="string"===typeof c?sb[c]||s(c):b.extend({},c);var e,ea,f,N,h,g,r=[],l=!c.Ah&&[],x={add:function(){if(r){var d=r.length;(function dc(a){b.each(a,function(a,q){var d=b.type(q);"function"===d?c.unique&&x.has(q)||r.push(q):q&&q.length&&"string"!==d&&dc(q)})})(arguments);e?N=r.length:ea&&(g=d,a(ea))}return this},remove:function(){r&&b.each(arguments,function(c,a){for(var q;-1<(q=b.inArray(a,r,q));)r.splice(q,1),e&&(q<=N&&N--,q<=h&&h--)});return this},has:function(c){return c?
-1<b.inArray(c,r):!(!r||!r.length)},empty:function(){r=[];return this},disable:function(){r=l=ea=d;return this},disabled:function(){return!r},lock:function(){l=d;ea||x.disable();return this},locked:function(){return!l},fireWith:function(c,b){b=b||[];b=[c,b.slice?b.slice():b];!r||f&&!l||(e?l.push(b):a(b));return this},fire:function(){x.fireWith(this,arguments);return this},fired:function(){return!!f}};return x};b.extend({Deferred:function(c){var a=[["resolve","done",b.Callbacks("once memory"),"resolved"],
["reject","fail",b.Callbacks("once memory"),"rejected"],["notify","progress",b.Callbacks("memory")]],d="pending",e={state:function(){return d},always:function(){f.done(arguments).fail(arguments);return this},then:function(){var c=arguments;return b.Deferred(function(d){b.each(a,function(a,q){var V=q[0],h=b.isFunction(c[a])&&c[a];f[q[1]](function(){var c=h&&h.apply(this,arguments);if(c&&b.isFunction(c.promise))c.promise().done(d.resolve).fail(d.reject).progress(d.notify);else d[V+"With"](this===e?
d.promise():this,h?[c]:arguments)})});c=null}).promise()},promise:function(c){return null!=c?b.extend(c,e):e}},f={};e.pipe=e.then;b.each(a,function(c,b){var h=b[2],g=b[3];e[b[1]]=h.add;g&&h.add(function(){d=g},a[c^1][2].disable,a[2][2].lock);f[b[0]]=function(){f[b[0]+"With"](this===f?e:this,arguments);return this};f[b[0]+"With"]=h.fireWith});e.promise(f);c&&c.call(f,f);return f},when:function(c){function a(c,b,q){return function(a){b[c]=this;q[c]=1<arguments.length?na.call(arguments):a;q===r?g.notifyWith(b,
q):--h||g.resolveWith(b,q)}}var d=0,e=na.call(arguments),f=e.length,h=1!==f||c&&b.isFunction(c.promise)?f:0,g=1===h?c:b.Deferred(),r,l,x;if(1<f)for(r=Array(f),l=Array(f),x=Array(f);d<f;d++)e[d]&&b.isFunction(e[d].promise)?e[d].promise().done(a(d,x,e)).fail(g.reject).progress(a(d,l,r)):--h;h||g.resolveWith(x,e);return g.promise()}});b.support=function(){var c,q,d,e,f,h,g,r=M.createElement("div");r.setAttribute("className","t");r.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>";
q=r.getElementsByTagName("*");d=r.getElementsByTagName("a")[0];if(!q||!d||!q.length)return{};e=M.createElement("select");f=e.appendChild(M.createElement("option"));q=r.getElementsByTagName("input")[0];d.style.cssText="top:1px;float:left;opacity:.5";c={vf:"t"!==r.className,leadingWhitespace:3===r.firstChild.nodeType,tbody:!r.getElementsByTagName("tbody").length,htmlSerialize:!!r.getElementsByTagName("link").length,style:/top/.test(d.getAttribute("style")),hrefNormalized:"/a"===d.getAttribute("href"),
opacity:/^0.5/.test(d.style.opacity),cssFloat:!!d.style.cssFloat,ef:!!q.value,Rf:f.selected,enctype:!!M.createElement("form").enctype,Sc:"<:nav></:nav>"!==M.createElement("nav").cloneNode(!0).outerHTML,boxModel:"CSS1Compat"===M.compatMode,Fb:!0,noCloneEvent:!0,Rb:!1,td:!1,kd:!0,Jc:!0,fd:!1};q.checked=!0;c.Of=q.cloneNode(!0).checked;e.disabled=!0;c.Qf=!f.disabled;try{delete r.test}catch(l){c.Fb=!1}q=M.createElement("input");q.setAttribute("value","");c.input=""===q.getAttribute("value");q.value="t";
q.setAttribute("type","radio");c.Yf="t"===q.value;q.setAttribute("checked","t");q.setAttribute("name","t");d=M.createDocumentFragment();d.appendChild(q);c.Se=q.checked;c.df=d.cloneNode(!0).cloneNode(!0).lastChild.checked;r.attachEvent&&(r.attachEvent("onclick",function(){c.noCloneEvent=!1}),r.cloneNode(!0).click());for(g in{submit:!0,change:!0,focusin:!0})r.setAttribute(d="on"+g,"t"),c[g+"Bubbles"]=d in a||!1===r.attributes[d].expando;r.style.Ic="content-box";r.cloneNode(!0).style.Ic="";c.ff="content-box"===
r.style.Ic;b(function(){var b,q,d=M.getElementsByTagName("body")[0];d&&(b=M.createElement("div"),b.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",d.appendChild(b).appendChild(r),r.innerHTML="<table><tr><td></td><td>t</td></tr></table>",q=r.getElementsByTagName("td"),q[0].style.cssText="padding:0;margin:0;border:0;display:none",h=0===q[0].offsetHeight,q[0].style.display="",q[1].style.display="none",c.Zf=h&&0===q[0].offsetHeight,r.innerHTML="",r.style.cssText=
"box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",c.boxSizing=4===r.offsetWidth,c.kh=1!==d.offsetTop,a.getComputedStyle&&(c.fd="1%"!==(a.getComputedStyle(r,null)||{}).top,c.Jc="4px"===(a.getComputedStyle(r,null)||{width:"4px"}).width,q=r.appendChild(M.createElement("div")),q.style.cssText=r.style.cssText="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",
q.style.marginRight=q.style.width="0",r.style.width="1px",c.kd=!parseFloat((a.getComputedStyle(q,null)||{}).marginRight)),typeof r.style.zoom!==y&&(r.innerHTML="",r.style.cssText="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;width:1px;padding:1px;display:inline;zoom:1",c.Rb=3===r.offsetWidth,r.style.display="block",r.innerHTML="<div></div>",r.firstChild.style.width="5px",c.td=3!==r.offsetWidth,c.Rb&&(d.style.zoom=1)),d.removeChild(b),
r=null)});q=e=d=f=d=q=null;return c}();var Sb=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,Rb=/([A-Z])/g;b.extend({v:{},expando:"jQuery"+("1.9.1"+Math.random()).replace(/\D/g,""),Pf:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(c){c=c.nodeType?b.v[c[b.expando]]:c[b.expando];return!!c&&!h(c)},data:function(c,b,a){return g(c,b,a)},removeData:function(c,b){return f(c,b)},o:function(c,b,a){return g(c,b,a,!0)},ab:function(c,b){return f(c,b,!0)},Ka:function(c){if(c.nodeType&&
1!==c.nodeType&&9!==c.nodeType)return!1;var a=c.nodeName&&b.Pf[c.nodeName.toLowerCase()];return!a||!0!==a&&c.getAttribute("classid")===a}});b.fn.extend({data:function(c,a){var e,f,h=this[0],g=0,r=null;if(c===d){if(this.length&&(r=b.data(h),1===h.nodeType&&!b.o(h,"parsedAttrs"))){for(e=h.attributes;g<e.length;g++)f=e[g].name,f.indexOf("data-")||(f=b.Y(f.slice(5)),v(h,f,r[f]));b.o(h,"parsedAttrs",!0)}return r}return"object"===typeof c?this.each(function(){b.data(this,c)}):b.ga(this,function(a){if(a===
d)return h?v(h,c,b.data(h,c)):null;this.each(function(){b.data(this,c,a)})},null,a,1<arguments.length,null,!0)},removeData:function(c){return this.each(function(){b.removeData(this,c)})}});b.extend({queue:function(c,a,d){var e;if(c)return a=(a||"fx")+"queue",e=b.o(c,a),d&&(!e||b.isArray(d)?e=b.o(c,a,b.makeArray(d)):e.push(d)),e||[]},dequeue:function(c,a){function d(){b.dequeue(c,a)}a=a||"fx";var e=b.queue(c,a),f=e.length,h=e.shift(),g=b.zb(c,a);"inprogress"===h&&(h=e.shift(),f--);if(g.va=h)"fx"===
a&&e.unshift("inprogress"),delete g.stop,h.call(c,d,g);!f&&g&&g.empty.fire()},zb:function(c,a){var d=a+"queueHooks";return b.o(c,d)||b.o(c,d,{empty:b.Callbacks("once memory").add(function(){b.ab(c,a+"queue");b.ab(c,d)})})}});b.fn.extend({queue:function(c,a){var e=2;"string"!==typeof c&&(a=c,c="fx",e--);return arguments.length<e?b.queue(this[0],c):a===d?this:this.each(function(){var d=b.queue(this,c,a);b.zb(this,c);"fx"===c&&"inprogress"!==d[0]&&b.dequeue(this,c)})},dequeue:function(c){return this.each(function(){b.dequeue(this,
c)})},delay:function(c,a){c=b.fx?b.fx.rb[c]||c:c;return this.queue(a||"fx",function(b,a){var q=setTimeout(b,c);a.stop=function(){clearTimeout(q)}})},clearQueue:function(c){return this.queue(c||"fx",[])},promise:function(c,a){function e(){--h||g.resolveWith(r,[r])}var f,h=1,g=b.Deferred(),r=this,l=this.length;"string"!==typeof c&&(a=c,c=d);for(c=c||"fx";l--;)(f=b.o(r[l],c+"queueHooks"))&&f.empty&&(h++,f.empty.add(e));e();return g.promise(a)}});var Na,xb,gb=/[\t\r\n]/g,ec=/\r/g,fc=/^(?:input|select|textarea|button|object)$/i,
gc=/^(?:a|area)$/i,yb=/^(?:checked|selected|autofocus|autoplay|async|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped)$/i,hb=/^(?:checked|selected)$/i,Ia=b.support.vf,ib=b.support.input;b.fn.extend({attr:function(c,a){return b.ga(this,b.attr,c,a,1<arguments.length)},removeAttr:function(c){return this.each(function(){b.removeAttr(this,c)})},prop:function(c,a){return b.ga(this,b.prop,c,a,1<arguments.length)},removeProp:function(c){c=b.Xa[c]||c;return this.each(function(){try{this[c]=
d,delete this[c]}catch(b){}})},addClass:function(c){var a,d,e,f,h,g=0,r=this.length;a="string"===typeof c&&c;if(b.isFunction(c))return this.each(function(a){b(this).addClass(c.call(this,a,this.className))});if(a)for(a=(c||"").match(wa)||[];g<r;g++)if(d=this[g],e=1===d.nodeType&&(d.className?(" "+d.className+" ").replace(gb," "):" ")){for(h=0;f=a[h++];)0>e.indexOf(" "+f+" ")&&(e+=f+" ");d.className=b.trim(e)}return this},removeClass:function(c){var a,d,e,f,h,g=0,r=this.length;a=0===arguments.length||
"string"===typeof c&&c;if(b.isFunction(c))return this.each(function(a){b(this).removeClass(c.call(this,a,this.className))});if(a)for(a=(c||"").match(wa)||[];g<r;g++)if(d=this[g],e=1===d.nodeType&&(d.className?(" "+d.className+" ").replace(gb," "):"")){for(h=0;f=a[h++];)for(;0<=e.indexOf(" "+f+" ");)e=e.replace(" "+f+" "," ");d.className=c?b.trim(e):""}return this},toggleClass:function(c,a){var d=typeof c,e="boolean"===typeof a;return b.isFunction(c)?this.each(function(d){b(this).toggleClass(c.call(this,
d,this.className,a),a)}):this.each(function(){if("string"===d)for(var f,h=0,g=b(this),r=a,l=c.match(wa)||[];f=l[h++];)r=e?r:!g.hasClass(f),g[r?"addClass":"removeClass"](f);else if(d===y||"boolean"===d)this.className&&b.o(this,"__className__",this.className),this.className=this.className||!1===c?"":b.o(this,"__className__")||""})},hasClass:function(c){c=" "+c+" ";for(var b=0,a=this.length;b<a;b++)if(1===this[b].nodeType&&0<=(" "+this[b].className+" ").replace(gb," ").indexOf(c))return!0;return!1},
val:function(c){var a,e,f,h=this[0];if(arguments.length)return f=b.isFunction(c),this.each(function(a){var q=b(this);1===this.nodeType&&(a=f?c.call(this,a,q.val()):c,null==a?a="":"number"===typeof a?a+="":b.isArray(a)&&(a=b.map(a,function(c){return null==c?"":c+""})),e=b.ta[this.type]||b.ta[this.nodeName.toLowerCase()],e&&"set"in e&&e.set(this,a,"value")!==d||(this.value=a))});if(h){if((e=b.ta[h.type]||b.ta[h.nodeName.toLowerCase()])&&"get"in e&&(a=e.get(h,"value"))!==d)return a;a=h.value;return"string"===
typeof a?a.replace(ec,""):null==a?"":a}}});b.extend({ta:{ed:{get:function(c){var b=c.attributes.value;return!b||b.specified?c.value:c.text}},select:{get:function(c){for(var a,d=c.options,e=c.selectedIndex,f=(c="select-one"===c.type||0>e)?null:[],h=c?e+1:d.length,g=0>e?h:c?e:0;g<h;g++)if(a=d[g],!(!a.selected&&g!==e||(b.support.Qf?a.disabled:null!==a.getAttribute("disabled"))||a.parentNode.disabled&&b.nodeName(a.parentNode,"optgroup"))){a=b(a).val();if(c)return a;f.push(a)}return f},set:function(c,
a){var d=b.makeArray(a);b(c).find("option").each(function(){this.selected=0<=b.inArray(b(this).val(),d)});d.length||(c.selectedIndex=-1);return d}}},attr:function(c,a,e){var f,h,g;h=c.nodeType;if(c&&3!==h&&8!==h&&2!==h){if(typeof c.getAttribute===y)return b.prop(c,a,e);if(h=1!==h||!b.isXMLDoc(c))a=a.toLowerCase(),f=b.na[a]||(yb.test(a)?xb:Na);if(e!==d)if(null===e)b.removeAttr(c,a);else{if(f&&h&&"set"in f&&(g=f.set(c,e,a))!==d)return g;c.setAttribute(a,e+"");return e}else{if(f&&h&&"get"in f&&null!==
(g=f.get(c,a)))return g;typeof c.getAttribute!==y&&(g=c.getAttribute(a));return null==g?d:g}}},removeAttr:function(c,a){var d,e,f=0,h=a&&a.match(wa);if(h&&1===c.nodeType)for(;d=h[f++];)e=b.Xa[d]||d,yb.test(d)?!Ia&&hb.test(d)?c[b.Y("default-"+d)]=c[e]=!1:c[e]=!1:b.attr(c,d,""),c.removeAttribute(Ia?d:e)},na:{type:{set:function(c,a){if(!b.support.Yf&&"radio"===a&&b.nodeName(c,"input")){var d=c.value;c.setAttribute("type",a);d&&(c.value=d);return a}}}},Xa:{Qh:"tabIndex",Hh:"readOnly","for":"htmlFor",
"class":"className",vh:"maxLength",eh:"cellSpacing",dh:"cellPadding",Ih:"rowSpan",ih:"colSpan",Wh:"useMap",oh:"frameBorder",hf:"contentEditable"},prop:function(c,a,e){var f,h,g;g=c.nodeType;if(c&&3!==g&&8!==g&&2!==g){if(g=1!==g||!b.isXMLDoc(c))a=b.Xa[a]||a,h=b.Z[a];return e!==d?h&&"set"in h&&(f=h.set(c,e,a))!==d?f:c[a]=e:h&&"get"in h&&null!==(f=h.get(c,a))?f:c[a]}},Z:{tabIndex:{get:function(c){var b=c.getAttributeNode("tabindex");return b&&b.specified?parseInt(b.value,10):fc.test(c.nodeName)||gc.test(c.nodeName)&&
c.href?0:d}}}});xb={get:function(c,a){var e=b.prop(c,a),f="boolean"===typeof e&&c.getAttribute(a);return(e="boolean"===typeof e?ib&&Ia?null!=f:hb.test(a)?c[b.Y("default-"+a)]:!!f:c.getAttributeNode(a))&&!1!==e.value?a.toLowerCase():d},set:function(c,a,d){!1===a?b.removeAttr(c,d):ib&&Ia||!hb.test(d)?c.setAttribute(!Ia&&b.Xa[d]||d,d):c[b.Y("default-"+d)]=c[d]=!0;return d}};ib&&Ia||(b.na.value={get:function(c,a){var e=c.getAttributeNode(a);return b.nodeName(c,"input")?c.defaultValue:e&&e.specified?e.value:
d},set:function(c,a,d){if(b.nodeName(c,"input"))c.defaultValue=a;else return Na&&Na.set(c,a,d)}});Ia||(Na=b.ta.button={get:function(c,b){var a=c.getAttributeNode(b);return a&&("id"===b||"name"===b||"coords"===b?""!==a.value:a.specified)?a.value:d},set:function(c,b,a){var e=c.getAttributeNode(a);e||c.setAttributeNode(e=c.ownerDocument.createAttribute(a));e.value=b+="";return"value"===a||b===c.getAttribute(a)?b:d}},b.na.hf={get:Na.get,set:function(c,b,a){Na.set(c,""===b?!1:b,a)}},b.each(["width","height"],
function(c,a){b.na[a]=b.extend(b.na[a],{set:function(c,b){if(""===b)return c.setAttribute(a,"auto"),b}})}));b.support.hrefNormalized||(b.each(["href","src","width","height"],function(c,a){b.na[a]=b.extend(b.na[a],{get:function(c){c=c.getAttribute(a,2);return null==c?d:c}})}),b.each(["href","src"],function(c,a){b.Z[a]={get:function(c){return c.getAttribute(a,4)}}}));b.support.style||(b.na.style={get:function(c){return c.style.cssText||d},set:function(c,b){return c.style.cssText=b+""}});b.support.Rf||
(b.Z.selected=b.extend(b.Z.selected,{get:function(c){if(c=c.parentNode)c.selectedIndex,c.parentNode&&c.parentNode.selectedIndex;return null}}));b.support.enctype||(b.Xa.enctype="encoding");b.support.ef||b.each(["radio","checkbox"],function(){b.ta[this]={get:function(c){return null===c.getAttribute("value")?"on":c.value}}});b.each(["radio","checkbox"],function(){b.ta[this]=b.extend(b.ta[this],{set:function(c,a){if(b.isArray(a))return c.checked=0<=b.inArray(b(c).val(),a)}})});var jb=/^(?:input|select|textarea)$/i,
hc=/^key/,ic=/^(?:mouse|contextmenu)|click/,zb=/^(?:focusinfocus|focusoutblur)$/,Ab=/^([^.]*)(?:\.(.+)|)$/;b.event={global:{},add:function(c,a,e,f,h){var g,r,l,x,z,m,n,s,D;if(l=b.o(c)){e.oa&&(x=e,e=x.oa,h=x.R);e.D||(e.D=b.D++);(r=l.xa)||(r=l.xa={});(z=l.handle)||(z=l.handle=function(c){return typeof b===y||c&&b.event.kc===c.type?d:b.event.Oc.apply(z.m,arguments)},z.m=c);a=(a||"").match(wa)||[""];for(l=a.length;l--;)g=Ab.exec(a[l])||[],s=m=g[1],D=(g[2]||"").split(".").sort(),g=b.event.aa[s]||{},s=
(h?g.Qa:g.Ab)||s,g=b.event.aa[s]||{},m=b.extend({type:s,Wa:m,data:f,oa:e,D:e.D,R:h,Zb:h&&b.W.match.Zb.test(h),namespace:D.join(".")},x),(n=r[s])||(n=r[s]=[],n.Eb=0,g.pb&&!1!==g.pb.call(c,f,D,z)||(c.addEventListener?c.addEventListener(s,z,!1):c.attachEvent&&c.attachEvent("on"+s,z))),g.add&&(g.add.call(c,m),m.oa.D||(m.oa.D=e.D)),h?n.splice(n.Eb++,0,m):n.push(m),b.event.global[s]=!0;c=null}},remove:function(c,a,d,e,f){var h,g,r,l,x,z,m,n,s,D,R,p=b.hasData(c)&&b.o(c);if(p&&(z=p.xa)){a=(a||"").match(wa)||
[""];for(x=a.length;x--;)if(r=Ab.exec(a[x])||[],s=R=r[1],D=(r[2]||"").split(".").sort(),s){m=b.event.aa[s]||{};s=(e?m.Qa:m.Ab)||s;n=z[s]||[];r=r[2]&&new RegExp("(^|\\.)"+D.join("\\.(?:.*\\.|)")+"(\\.|$)");for(l=h=n.length;h--;)g=n[h],!f&&R!==g.Wa||d&&d.D!==g.D||r&&!r.test(g.namespace)||e&&e!==g.R&&("**"!==e||!g.R)||(n.splice(h,1),g.R&&n.Eb--,m.remove&&m.remove.call(c,g));l&&!n.length&&(m.sb&&!1!==m.sb.call(c,D,p.handle)||b.fc(c,s,p.handle),delete z[s])}else for(s in z)b.event.remove(c,s+a[x],d,e,
!0);b.isEmptyObject(z)&&(delete p.handle,b.ab(c,"events"))}},trigger:function(c,e,f,h){var g,r,l,x,m,z,n=[f||M],s=Ha.call(c,"type")?c.type:c;m=Ha.call(c,"namespace")?c.namespace.split("."):[];l=g=f=f||M;if(3!==f.nodeType&&8!==f.nodeType&&!zb.test(s+b.event.kc)&&(0<=s.indexOf(".")&&(m=s.split("."),s=m.shift(),m.sort()),r=0>s.indexOf(":")&&"on"+s,c=c[b.expando]?c:new b.Event(s,"object"===typeof c&&c),c.mb=!0,c.namespace=m.join("."),c.$c=c.namespace?new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):
null,c.result=d,c.target||(c.target=f),e=null==e?[c]:b.makeArray(e,[c]),m=b.event.aa[s]||{},h||!m.trigger||!1!==m.trigger.apply(f,e))){if(!h&&!m.Nf&&!b.isWindow(f)){x=m.Qa||s;zb.test(x+s)||(l=l.parentNode);for(;l;l=l.parentNode)n.push(l),g=l;g===(f.ownerDocument||M)&&n.push(g.defaultView||g.parentWindow||a)}for(z=0;(l=n[z++])&&!c.isPropagationStopped();)c.type=1<z?x:m.Ab||s,(g=(b.o(l,"events")||{})[c.type]&&b.o(l,"handle"))&&g.apply(l,e),(g=r&&l[r])&&b.Ka(l)&&g.apply&&!1===g.apply(l,e)&&c.preventDefault();
c.type=s;if(!(h||c.isDefaultPrevented()||m.la&&!1!==m.la.apply(f.ownerDocument,e)||"click"===s&&b.nodeName(f,"a"))&&b.Ka(f)&&r&&f[s]&&!b.isWindow(f)){(g=f[r])&&(f[r]=null);b.event.kc=s;try{f[s]()}catch(D){}b.event.kc=d;g&&(f[r]=g)}return c.result}},Oc:function(c){c=b.event.Pc(c);var a,e,f,h,g=[],r=na.call(arguments);a=(b.o(this,"events")||{})[c.type]||[];var l=b.event.aa[c.type]||{};r[0]=c;c.delegateTarget=this;if(!l.Vf||!1!==l.Vf.call(this,c)){g=b.event.lb.call(this,c,a);for(a=0;(f=g[a++])&&!c.isPropagationStopped();)for(c.currentTarget=
f.m,h=0;(e=f.lb[h++])&&!c.isImmediatePropagationStopped();)if(!c.$c||c.$c.test(e.namespace))c.kb=e,c.data=e.data,e=((b.event.aa[e.Wa]||{}).handle||e.oa).apply(f.m,r),e!==d&&!1===(c.result=e)&&(c.preventDefault(),c.stopPropagation());l.ac&&l.ac.call(this,c);return c.result}},lb:function(c,a){var e,f,h,g,r=[],l=a.Eb,m=c.target;if(l&&m.nodeType&&(!c.button||"click"!==c.type))for(;m!=this;m=m.parentNode||this)if(1===m.nodeType&&(!0!==m.disabled||"click"!==c.type)){h=[];for(g=0;g<l;g++)f=a[g],e=f.R+" ",
h[e]===d&&(h[e]=f.Zb?0<=b(e,this).index(m):b.find(e,this,null,[m]).length),h[e]&&h.push(f);h.length&&r.push({m:m,lb:h})}l<a.length&&r.push({m:this,lb:a.slice(l)});return r},Pc:function(c){if(c[b.expando])return c;var a,e,d;a=c.type;var f=c,h=this.Qc[a];h||(this.Qc[a]=h=ic.test(a)?this.Jf:hc.test(a)?this.Ef:{});d=h.props?this.props.concat(h.props):this.props;c=new b.Event(f);for(a=d.length;a--;)e=d[a],c[e]=f[e];c.target||(c.target=f.srcElement||M);3===c.target.nodeType&&(c.target=c.target.parentNode);
c.metaKey=!!c.metaKey;return h.filter?h.filter(c,f):c},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),Qc:{},Ef:{props:["char","charCode","key","keyCode"],filter:function(c,a){null==c.which&&(c.which=null!=a.charCode?a.charCode:a.keyCode);return c}},Jf:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(c,a){var b,e,f=a.button,h=
a.fromElement;null==c.pageX&&null!=a.clientX&&(b=c.target.ownerDocument||M,e=b.documentElement,b=b.body,c.pageX=a.clientX+(e&&e.scrollLeft||b&&b.scrollLeft||0)-(e&&e.clientLeft||b&&b.clientLeft||0),c.pageY=a.clientY+(e&&e.scrollTop||b&&b.scrollTop||0)-(e&&e.clientTop||b&&b.clientTop||0));!c.relatedTarget&&h&&(c.relatedTarget=h===c.target?a.toElement:h);c.which||f===d||(c.which=f&1?1:f&2?3:f&4?2:0);return c}},aa:{load:{Nf:!0},click:{trigger:function(){if(b.nodeName(this,"input")&&"checkbox"===this.type&&
this.click)return this.click(),!1}},focus:{trigger:function(){if(this!==M.activeElement&&this.focus)try{return this.focus(),!1}catch(c){}},Qa:"focusin"},blur:{trigger:function(){if(this===M.activeElement&&this.blur)return this.blur(),!1},Qa:"focusout"},ah:{ac:function(c){c.result!==d&&(c.originalEvent.returnValue=c.result)}}},qb:function(c,a,e,d){c=b.extend(new b.Event,e,{type:c,Tc:!0,originalEvent:{}});d?b.event.trigger(c,null,a):b.event.Oc.call(a,c);c.isDefaultPrevented()&&e.preventDefault()}};
b.fc=M.removeEventListener?function(c,a,b){c.removeEventListener&&c.removeEventListener(a,b,!1)}:function(c,a,b){a="on"+a;c.detachEvent&&(typeof c[a]===y&&(c[a]=null),c.detachEvent(a,b))};b.Event=function(c,a){if(!(this instanceof b.Event))return new b.Event(c,a);c&&c.type?(this.originalEvent=c,this.type=c.type,this.isDefaultPrevented=c.defaultPrevented||!1===c.returnValue||c.uf&&c.uf()?e:m):this.type=c;a&&b.extend(this,a);this.timeStamp=c&&c.timeStamp||b.now();this[b.expando]=!0};b.Event.prototype=
{isDefaultPrevented:m,isPropagationStopped:m,isImmediatePropagationStopped:m,preventDefault:function(){var c=this.originalEvent;this.isDefaultPrevented=e;c&&(c.preventDefault?c.preventDefault():c.returnValue=!1)},stopPropagation:function(){var c=this.originalEvent;this.isPropagationStopped=e;c&&(c.stopPropagation&&c.stopPropagation(),c.cancelBubble=!0)}};b.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(c,a){b.event.aa[c]={Qa:a,Ab:a,handle:function(c){var e,d=c.relatedTarget,f=c.kb;if(!d||
d!==this&&!b.contains(this,d))c.type=f.Wa,e=f.oa.apply(this,arguments),c.type=a;return e}}});b.support.submitBubbles||(b.event.aa.submit={pb:function(){if(b.nodeName(this,"form"))return!1;b.event.add(this,"click._submit keypress._submit",function(c){c=c.target;(c=b.nodeName(c,"input")||b.nodeName(c,"button")?c.form:d)&&!b.o(c,"submitBubbles")&&(b.event.add(c,"submit._submit",function(c){c.xc=!0}),b.o(c,"submitBubbles",!0))})},ac:function(c){c.xc&&(delete c.xc,this.parentNode&&!c.mb&&b.event.qb("submit",
this.parentNode,c,!0))},sb:function(){if(b.nodeName(this,"form"))return!1;b.event.remove(this,"._submit")}});b.support.changeBubbles||(b.event.aa.change={pb:function(){if(jb.test(this.nodeName)){if("checkbox"===this.type||"radio"===this.type)b.event.add(this,"propertychange._change",function(c){"checked"===c.originalEvent.propertyName&&(this.wc=!0)}),b.event.add(this,"click._change",function(c){this.wc&&!c.mb&&(this.wc=!1);b.event.qb("change",this,c,!0)});return!1}b.event.add(this,"beforeactivate._change",
function(c){c=c.target;jb.test(c.nodeName)&&!b.o(c,"changeBubbles")&&(b.event.add(c,"change._change",function(c){!this.parentNode||c.Tc||c.mb||b.event.qb("change",this.parentNode,c,!0)}),b.o(c,"changeBubbles",!0))})},handle:function(c){var a=c.target;if(this!==a||c.Tc||c.mb||"radio"!==a.type&&"checkbox"!==a.type)return c.kb.oa.apply(this,arguments)},sb:function(){b.event.remove(this,"._change");return!jb.test(this.nodeName)}});b.support.mh||b.each({focus:"focusin",blur:"focusout"},function(c,a){function e(c){b.event.qb(a,
c.target,b.event.Pc(c),!0)}var d=0;b.event.aa[a]={pb:function(){0===d++&&M.addEventListener(c,e,!0)},sb:function(){0===--d&&M.removeEventListener(c,e,!0)}}});b.fn.extend({on:function(c,a,e,f,h){var g,r;if("object"===typeof c){"string"!==typeof a&&(e=e||a,a=d);for(g in c)this.on(g,a,e,c[g],h);return this}null==e&&null==f?(f=a,e=a=d):null==f&&("string"===typeof a?(f=e,e=d):(f=e,e=a,a=d));if(!1===f)f=m;else if(!f)return this;1===h&&(r=f,f=function(c){b().off(c);return r.apply(this,arguments)},f.D=r.D||
(r.D=b.D++));return this.each(function(){b.event.add(this,c,f,e,a)})},one:function(c,a,b,e){return this.on(c,a,b,e,1)},off:function(c,a,e){var f;if(c&&c.preventDefault&&c.kb)return f=c.kb,b(c.delegateTarget).off(f.namespace?f.Wa+"."+f.namespace:f.Wa,f.R,f.oa),this;if("object"===typeof c){for(f in c)this.off(f,a,c[f]);return this}if(!1===a||"function"===typeof a)e=a,a=d;!1===e&&(e=m);return this.each(function(){b.event.remove(this,c,e,a)})},bind:function(c,a,b){return this.on(c,null,a,b)},unbind:function(c,
a){return this.off(c,null,a)},delegate:function(c,a,b,e){return this.on(a,c,b,e)},undelegate:function(c,a,b){return 1===arguments.length?this.off(c,"**"):this.off(a,c||"**",b)},trigger:function(c,a){return this.each(function(){b.event.trigger(c,a,this)})},triggerHandler:function(c,a){var e=this[0];if(e)return b.event.trigger(c,a,e,!0)}});(function(c,a){function e(c,a){var b="0x"+a-65536;return b!==b?a:0>b?String.fromCharCode(b+65536):String.fromCharCode(b>>10|55296,b&1023|56320)}function d(c){return wa.test(c+
"")}function f(){var c,a=[];return c=function(b,e){a.push(b+=" ")>H.cf&&delete c[a.shift()];return c[b]=e}}function h(c){c[I]=!0;return c}function g(c){var a=w.createElement("div");try{return c(a)}catch(b){return!1}finally{}}function r(c,a,b,d){var f,q,h,g,l;(a?a.ownerDocument||a:B)!==w&&W(a);a=a||w;b=b||[];if(!c||"string"!==typeof c)return b;if(1!==(g=a.nodeType)&&9!==g)return[];if(!X&&!d){if(f=fb.exec(c))if(h=f[1])if(9===g)if((q=a.getElementById(h))&&q.parentNode){if(q.id===h)return b.push(q),b}else return b;
else{if(a.ownerDocument&&(q=a.ownerDocument.getElementById(h))&&P(a,q)&&q.id===h)return b.push(q),b}else{if(f[2])return M.apply(b,S.call(a.getElementsByTagName(c),0)),b;if((h=f[3])&&aa.Rc&&a.getElementsByClassName)return M.apply(b,S.call(a.getElementsByClassName(h),0)),b}if(aa.Xf&&!U.test(c)){f=!0;q=I;h=a;l=9===g&&c;if(1===g&&"object"!==a.nodeName.toLowerCase()){g=s(c);(f=a.getAttribute("id"))?q=f.replace(Ba,"\\$&"):a.setAttribute("id",q);q="[id='"+q+"'] ";for(h=g.length;h--;)g[h]=q+n(g[h]);h=pa.test(c)&&
a.parentNode||a;l=g.join(",")}if(l)try{return M.apply(b,S.call(h.querySelectorAll(l),0)),b}catch(m){}finally{f||a.removeAttribute("id")}}}var x;a:{c=c.replace(ma,"$1");q=s(c);if(!d&&1===q.length){f=q[0]=q[0].slice(0);if(2<f.length&&"ID"===(x=f[0]).type&&9===a.nodeType&&!X&&H.Ga[f[1].type]){a=H.find.ID(x.matches[0].replace(Fa,e),a)[0];if(!a){x=b;break a}c=c.slice(f.shift().value.length)}for(g=Ea.needsContext.test(c)?0:f.length;g--;){x=f[g];if(H.Ga[h=x.type])break;if(h=H.find[h])if(d=h(x.matches[0].replace(Fa,
e),pa.test(f[0].type)&&a.parentNode||a)){f.splice(g,1);c=d.length&&n(f);if(!c){M.apply(b,S.call(d,0));x=b;break a}break}}}J(c,q)(d,a,X,b,pa.test(c));x=b}return x}function l(c,a){var b=a&&c,e=b&&(~a.sourceIndex||-2147483648)-(~c.sourceIndex||-2147483648);if(e)return e;if(b)for(;b=b.nextSibling;)if(b===a)return-1;return c?1:-1}function m(c){return function(a){return"input"===a.nodeName.toLowerCase()&&a.type===c}}function x(c){return function(a){var b=a.nodeName.toLowerCase();return("input"===b||"button"===
b)&&a.type===c}}function z(c){return h(function(a){a=+a;return h(function(b,e){for(var d,f=c([],b.length,a),q=f.length;q--;)b[d=f[q]]&&(b[d]=!(e[d]=b[d]))})})}function s(c,a){var b,e,d,f,q,h,g;if(q=ha[c+" "])return a?0:q.slice(0);q=c;h=[];for(g=H.Wf;q;){if(!b||(e=ba.exec(q)))e&&(q=q.slice(e[0].length)||q),h.push(d=[]);b=!1;if(e=da.exec(q))b=e.shift(),d.push({value:b,type:e[0].replace(ma," ")}),q=q.slice(b.length);for(f in H.filter)!(e=Ea[f].exec(q))||g[f]&&!(e=g[f](e))||(b=e.shift(),d.push({value:b,
type:f,matches:e}),q=q.slice(b.length));if(!b)break}return a?q.length:q?r.error(c):ha(c,h).slice(0)}function n(c){for(var a=0,b=c.length,e="";a<b;a++)e+=c[a].value;return e}function D(c,a,b){var e=a.dir,d=b&&"parentNode"===e,q=ua++;return a.first?function(a,b,q){for(;a=a[e];)if(1===a.nodeType||d)return c(a,b,q)}:function(a,b,f){var h,g,r,l=Q+" "+q;if(f)for(;a=a[e];){if((1===a.nodeType||d)&&c(a,b,f))return!0}else for(;a=a[e];)if(1===a.nodeType||d)if(r=a[I]||(a[I]={}),(g=r[e])&&g[0]===l){if(!0===(h=
g[1])||h===Y)return!0===h}else if(g=r[e]=[l],g[1]=c(a,b,f)||Y,!0===g[1])return!0}}function R(c){return 1<c.length?function(a,b,e){for(var d=c.length;d--;)if(!c[d](a,b,e))return!1;return!0}:c[0]}function p(c,a,b,e,d){for(var q,f=[],h=0,g=c.length,r=null!=a;h<g;h++)if(q=c[h])if(!b||b(q,e,d))f.push(q),r&&a.push(h);return f}function v(c,a,b,e,d,q){e&&!e[I]&&(e=v(e));d&&!d[I]&&(d=v(d,q));return h(function(q,f,h,g){var l,m,V=[],x=[],z=f.length,s;if(!(s=q)){s=a||"*";for(var n=h.nodeType?[h]:h,ea=[],N=0,
D=n.length;N<D;N++)r(s,n[N],ea);s=ea}s=!c||!q&&a?s:p(s,V,c,h,g);n=b?d||(q?c:z||e)?[]:f:s;b&&b(s,n,h,g);if(e)for(l=p(n,x),e(l,[],h,g),h=l.length;h--;)if(m=l[h])n[x[h]]=!(s[x[h]]=m);if(q){if(d||c){if(d){l=[];for(h=n.length;h--;)(m=n[h])&&l.push(s[h]=m);d(null,n=[],l,g)}for(h=n.length;h--;)(m=n[h])&&-1<(l=d?ka.call(q,m):V[h])&&(q[l]=!(f[l]=m))}}else n=p(n===f?n.splice(z,n.length):n),d?d(null,f,n,g):M.apply(f,n)})}function u(c){var a,b,e,d=c.length,q=H.Ga[c[0].type];b=q||H.Ga[" "];for(var f=q?1:0,h=D(function(c){return c===
a},b,!0),g=D(function(c){return-1<ka.call(a,c)},b,!0),r=[function(c,b,e){return!q&&(e||b!==ca)||((a=b).nodeType?h(c,b,e):g(c,b,e))}];f<d;f++)if(b=H.Ga[c[f].type])r=[D(R(r),b)];else{b=H.filter[c[f].type].apply(null,c[f].matches);if(b[I]){for(e=++f;e<d&&!H.Ga[c[e].type];e++);return v(1<f&&R(r),1<f&&n(c.slice(0,f-1)).replace(ma,"$1"),b,f<e&&u(c.slice(f,e)),e<d&&u(c=c.slice(e)),e<d&&n(c))}r.push(b)}return R(r)}function t(c,a){function b(f,h,g,l,m){var V,x,n=[],s=0,z="0",ea=f&&[],N=null!=m,D=ca,R=f||q&&
H.find.TAG("*",m&&h.parentNode||h),v=Q+=null==D?1:Math.random()||.1;N&&(ca=h!==w&&h,Y=e);for(;null!=(m=R[z]);z++){if(q&&m){for(V=0;x=c[V++];)if(x(m,h,g)){l.push(m);break}N&&(Q=v,Y=++e)}d&&((m=!x&&m)&&s--,f&&ea.push(m))}s+=z;if(d&&z!==s){for(V=0;x=a[V++];)x(ea,n,h,g);if(f){if(0<s)for(;z--;)ea[z]||n[z]||(n[z]=ga.call(l));n=p(n)}M.apply(l,n);N&&!f&&0<n.length&&1<s+a.length&&r.Cd(l)}N&&(Q=v,ca=D);return ea}var e=0,d=0<a.length,q=0<c.length;return d?h(b):b}function y(){}var F,Y,H,K,C,J,O,ca,W,w,A,X,U,
E,T,P,G,I="sizzle"+-new Date,B=c.document,aa={},Q=0,ua=0,ja=f(),ha=f(),ia=f(),fa=typeof a,L=[],ga=L.pop,M=L.push,S=L.slice,ka=L.indexOf||function(c){for(var a=0,b=this.length;a<b;a++)if(this[a]===c)return a;return-1},L="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+".replace("w","w#"),na="\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)[\\x20\\t\\r\\n\\f]*(?:([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+L+")|)|)[\\x20\\t\\r\\n\\f]*\\]",Z=":((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+
na.replace(3,8)+")*)|.*)\\)|)",ma=/^[\x20\t\r\n\f]+|((?:^|[^\\])(?:\\.)*)[\x20\t\r\n\f]+$/g,ba=/^[\x20\t\r\n\f]*,[\x20\t\r\n\f]*/,da=/^[\x20\t\r\n\f]*([\x20\t\r\n\f>+~])[\x20\t\r\n\f]*/,xa=new RegExp(Z),Ha=new RegExp("^"+L+"$"),Ea={ID:/^#((?:\\.|[\w-]|[^\x00-\xa0])+)/,CLASS:/^\.((?:\\.|[\w-]|[^\x00-\xa0])+)/,NAME:/^\[name=['"]?((?:\\.|[\w-]|[^\x00-\xa0])+)['"]?\]/,TAG:new RegExp("^("+"(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+".replace("w","w*")+")"),ATTR:new RegExp("^"+na),PSEUDO:new RegExp("^"+Z),CHILD:/^:(only|first|last|nth|nth-last)-(child|of-type)(?:\([\x20\t\r\n\f]*(even|odd|(([+-]|)(\d*)n|)[\x20\t\r\n\f]*(?:([+-]|)[\x20\t\r\n\f]*(\d+)|))[\x20\t\r\n\f]*\)|)/i,
needsContext:/^[\x20\t\r\n\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\([\x20\t\r\n\f]*((?:-\d)?\d*)[\x20\t\r\n\f]*\)|)(?=[^-]|$)/i},pa=/[\x20\t\r\n\f]*[+~]/,wa=/^[^{]+\{\s*\[native code/,fb=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Ma=/^(?:input|select|textarea|button)$/i,za=/^h\d$/i,Ba=/'|\\/g,Ca=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,Fa=/\\([\da-fA-F]{1,6}[\x20\t\r\n\f]?|.)/g;try{S.call(B.documentElement.childNodes,0)[0].nodeType}catch(Da){S=function(c){for(var a,b=[];a=this[c++];)b.push(a);
return b}}C=r.Cf=function(c){return(c=c&&(c.ownerDocument||c).documentElement)?"HTML"!==c.nodeName:!1};W=r.Jh=function(c){var b=c?c.ownerDocument||c:B;if(b===w||9!==b.nodeType||!b.documentElement)return w;w=b;A=b.documentElement;X=C(b);aa.pg=g(function(c){c.appendChild(b.createComment(""));return!c.getElementsByTagName("*").length});aa.attributes=g(function(c){c.innerHTML="<select></select>";c=typeof c.lastChild.getAttribute("multiple");return"boolean"!==c&&"string"!==c});aa.Rc=g(function(c){c.innerHTML=
"<div class='hidden e'></div><div class='hidden'></div>";if(!c.getElementsByClassName||!c.getElementsByClassName("e").length)return!1;c.lastChild.className="e";return 2===c.getElementsByClassName("e").length});aa.rf=g(function(c){c.id=I+0;c.innerHTML="<a name='"+I+"'></a><div name='"+I+"'></div>";A.insertBefore(c,A.firstChild);var a=b.getElementsByName&&b.getElementsByName(I).length===2+b.getElementsByName(I+0).length;aa.sf=!b.getElementById(I);A.removeChild(c);return a});H.Ue=g(function(c){c.innerHTML=
"<a href='#'></a>";return c.firstChild&&typeof c.firstChild.getAttribute!==fa&&"#"===c.firstChild.getAttribute("href")})?{}:{href:function(c){return c.getAttribute("href",2)},type:function(c){return c.getAttribute("type")}};aa.sf?(H.find.ID=function(c,a){if(typeof a.getElementById!==fa&&!X){var b=a.getElementById(c);return b&&b.parentNode?[b]:[]}},H.filter.ID=function(c){var a=c.replace(Fa,e);return function(c){return c.getAttribute("id")===a}}):(H.find.ID=function(c,b){if(typeof b.getElementById!==
fa&&!X){var e=b.getElementById(c);return e?e.id===c||typeof e.getAttributeNode!==fa&&e.getAttributeNode("id").value===c?[e]:a:[]}},H.filter.ID=function(c){var a=c.replace(Fa,e);return function(c){return(c=typeof c.getAttributeNode!==fa&&c.getAttributeNode("id"))&&c.value===a}});H.find.TAG=aa.pg?function(c,a){if(typeof a.getElementsByTagName!==fa)return a.getElementsByTagName(c)}:function(c,a){var b,e=[],d=0,q=a.getElementsByTagName(c);if("*"===c){for(;b=q[d++];)1===b.nodeType&&e.push(b);return e}return q};
H.find.NAME=aa.rf&&function(c,a){if(typeof a.getElementsByName!==fa)return a.getElementsByName(name)};H.find.CLASS=aa.Rc&&function(c,a){if(typeof a.getElementsByClassName!==fa&&!X)return a.getElementsByClassName(c)};E=[];U=[":focus"];if(aa.Xf=d(b.querySelectorAll))g(function(c){c.innerHTML="<select><option selected=''></option></select>";c.querySelectorAll("[selected]").length||U.push("\\[[\\x20\\t\\r\\n\\f]*(?:checked|disabled|ismap|multiple|readonly|selected|value)");c.querySelectorAll(":checked").length||
U.push(":checked")}),g(function(c){c.innerHTML="<input type='hidden' i=''/>";c.querySelectorAll("[i^='']").length&&U.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:\"\"|'')");c.querySelectorAll(":enabled").length||U.push(":enabled",":disabled");c.querySelectorAll("*,:x");U.push(",.*:")});(aa.matchesSelector=d(T=A.matchesSelector||A.mozMatchesSelector||A.webkitMatchesSelector||A.zh||A.msMatchesSelector))&&g(function(c){aa.mf=T.call(c,"div");T.call(c,"[s!='']:x");E.push("!=",Z)});U=new RegExp(U.join("|"));E=new RegExp(E.join("|"));
P=d(A.contains)||A.compareDocumentPosition?function(c,a){var b=9===c.nodeType?c.documentElement:c,e=a&&a.parentNode;return c===e||!!(e&&1===e.nodeType&&(b.contains?b.contains(e):c.compareDocumentPosition&&c.compareDocumentPosition(e)&16))}:function(c,a){if(a)for(;a=a.parentNode;)if(a===c)return!0;return!1};G=A.compareDocumentPosition?function(c,a){var e;return c===a?(O=!0,0):(e=a.compareDocumentPosition&&c.compareDocumentPosition&&c.compareDocumentPosition(a))?e&1||c.parentNode&&11===c.parentNode.nodeType?
c===b||P(B,c)?-1:a===b||P(B,a)?1:0:e&4?-1:1:c.compareDocumentPosition?-1:1}:function(c,a){var e,d=0;e=c.parentNode;var q=a.parentNode,f=[c],h=[a];if(c===a)return O=!0,0;if(!e||!q)return c===b?-1:a===b?1:e?-1:q?1:0;if(e===q)return l(c,a);for(e=c;e=e.parentNode;)f.unshift(e);for(e=a;e=e.parentNode;)h.unshift(e);for(;f[d]===h[d];)d++;return d?l(f[d],h[d]):f[d]===B?-1:h[d]===B?1:0};O=!1;[0,0].sort(G);aa.lf=O;return w};r.matches=function(c,a){return r(c,null,null,a)};r.matchesSelector=function(c,a){(c.ownerDocument||
c)!==w&&W(c);a=a.replace(Ca,"='$1']");if(!(!aa.matchesSelector||X||E&&E.test(a)||U.test(a)))try{var b=T.call(c,a);if(b||aa.mf||c.document&&11!==c.document.nodeType)return b}catch(e){}return 0<r(a,w,null,[c]).length};r.contains=function(c,a){(c.ownerDocument||c)!==w&&W(c);return P(c,a)};r.attr=function(c,a){var b;(c.ownerDocument||c)!==w&&W(c);X||(a=a.toLowerCase());return(b=H.Ue[a])?b(c):X||aa.attributes?c.getAttribute(a):((b=c.getAttributeNode(a))||c.getAttribute(a))&&!0===c[a]?a:b&&b.specified?
b.value:null};r.error=function(c){throw Error("Syntax error, unrecognized expression: "+c);};r.Cd=function(c){var a,b=[],e=1,d=0;O=!aa.lf;c.sort(G);if(O){for(;a=c[e];e++)a===c[e-1]&&(d=b.push(e));for(;d--;)c.splice(b[d],1)}return c};K=r.wf=function(c){var a,b="",e=0;a=c.nodeType;if(!a)for(;a=c[e];e++)b+=K(a);else if(1===a||9===a||11===a){if("string"===typeof c.textContent)return c.textContent;for(c=c.firstChild;c;c=c.nextSibling)b+=K(c)}else if(3===a||4===a)return c.nodeValue;return b};H=r.gg={cf:50,
jh:h,match:Ea,find:{},Ga:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},Wf:{ATTR:function(c){c[1]=c[1].replace(Fa,e);c[3]=(c[4]||c[5]||"").replace(Fa,e);"~="===c[2]&&(c[3]=" "+c[3]+" ");return c.slice(0,4)},CHILD:function(c){c[1]=c[1].toLowerCase();"nth"===c[1].slice(0,3)?(c[3]||r.error(c[0]),c[4]=+(c[4]?c[5]+(c[6]||1):2*("even"===c[3]||"odd"===c[3])),c[5]=+(c[7]+c[8]||"odd"===c[3])):c[3]&&r.error(c[0]);return c},PSEUDO:function(c){var a,
b=!c[5]&&c[2];if(Ea.CHILD.test(c[0]))return null;c[4]?c[2]=c[4]:b&&xa.test(b)&&(a=s(b,!0))&&(a=b.indexOf(")",b.length-a)-b.length)&&(c[0]=c[0].slice(0,a),c[2]=b.slice(0,a));return c.slice(0,3)}},filter:{TAG:function(c){if("*"===c)return function(){return!0};c=c.replace(Fa,e).toLowerCase();return function(a){return a.nodeName&&a.nodeName.toLowerCase()===c}},CLASS:function(c){var a=ja[c+" "];return a||(a=new RegExp("(^|[\\x20\\t\\r\\n\\f])"+c+"([\\x20\\t\\r\\n\\f]|$)"))&&ja(c,function(c){return a.test(c.className||
typeof c.getAttribute!==fa&&c.getAttribute("class")||"")})},ATTR:function(c,a,b){return function(e){e=r.attr(e,c);if(null==e)return"!="===a;if(!a)return!0;e+="";return"="===a?e===b:"!="===a?e!==b:"^="===a?b&&0===e.indexOf(b):"*="===a?b&&-1<e.indexOf(b):"$="===a?b&&e.slice(-b.length)===b:"~="===a?-1<(" "+e+" ").indexOf(b):"|="===a?e===b||e.slice(0,b.length+1)===b+"-":!1}},CHILD:function(c,a,b,e,d){var q="nth"!==c.slice(0,3),f="last"!==c.slice(-4),h="of-type"===a;return 1===e&&0===d?function(c){return!!c.parentNode}:
function(a,b,g){var r,l,m,x,V;b=q!==f?"nextSibling":"previousSibling";var n=a.parentNode,s=h&&a.nodeName.toLowerCase();g=!g&&!h;if(n){if(q){for(;b;){for(l=a;l=l[b];)if(h?l.nodeName.toLowerCase()===s:1===l.nodeType)return!1;V=b="only"===c&&!V&&"nextSibling"}return!0}V=[f?n.firstChild:n.lastChild];if(f&&g)for(g=n[I]||(n[I]={}),r=g[c]||[],x=r[0]===Q&&r[1],m=r[0]===Q&&r[2],l=x&&n.childNodes[x];l=++x&&l&&l[b]||(m=x=0)||V.pop();){if(1===l.nodeType&&++m&&l===a){g[c]=[Q,x,m];break}}else if(g&&(r=(a[I]||(a[I]=
{}))[c])&&r[0]===Q)m=r[1];else for(;(l=++x&&l&&l[b]||(m=x=0)||V.pop())&&((h?l.nodeName.toLowerCase()!==s:1!==l.nodeType)||!++m||(g&&((l[I]||(l[I]={}))[c]=[Q,m]),l!==a)););m-=d;return m===e||0===m%e&&0<=m/e}}},PSEUDO:function(c,a){var b,e=H.ra[c]||H.qd[c.toLowerCase()]||r.error("unsupported pseudo: "+c);return e[I]?e(a):1<e.length?(b=[c,c,"",a],H.qd.hasOwnProperty(c.toLowerCase())?h(function(c,b){for(var d,q=e(c,a),f=q.length;f--;)d=ka.call(c,q[f]),c[d]=!(b[d]=q[f])}):function(c){return e(c,0,b)}):
e}},ra:{not:h(function(c){var a=[],b=[],e=J(c.replace(ma,"$1"));return e[I]?h(function(c,a,b,d){d=e(c,null,d,[]);for(var q=c.length;q--;)if(b=d[q])c[q]=!(a[q]=b)}):function(c,d,q){a[0]=c;e(a,null,q,b);return!b.pop()}}),has:h(function(c){return function(a){return 0<r(c,a).length}}),contains:h(function(c){return function(a){return-1<(a.textContent||a.innerText||K(a)).indexOf(c)}}),lang:h(function(c){Ha.test(c||"")||r.error("unsupported lang: "+c);c=c.replace(Fa,e).toLowerCase();return function(a){var b;
do if(b=X?a.getAttribute("xml:lang")||a.getAttribute("lang"):a.lang)return b=b.toLowerCase(),b===c||0===b.indexOf(c+"-");while((a=a.parentNode)&&1===a.nodeType);return!1}}),target:function(a){var b=c.location&&c.location.hash;return b&&b.slice(1)===a.id},root:function(c){return c===A},focus:function(c){return c===w.activeElement&&(!w.hasFocus||w.hasFocus())&&!!(c.type||c.href||~c.tabIndex)},enabled:function(c){return!1===c.disabled},disabled:function(c){return!0===c.disabled},checked:function(c){var a=
c.nodeName.toLowerCase();return"input"===a&&!!c.checked||"option"===a&&!!c.selected},selected:function(c){c.parentNode&&c.parentNode.selectedIndex;return!0===c.selected},empty:function(c){for(c=c.firstChild;c;c=c.nextSibling)if("@"<c.nodeName||3===c.nodeType||4===c.nodeType)return!1;return!0},parent:function(c){return!H.ra.empty(c)},header:function(c){return za.test(c.nodeName)},input:function(c){return Ma.test(c.nodeName)},button:function(c){var a=c.nodeName.toLowerCase();return"input"===a&&"button"===
c.type||"button"===a},text:function(c){var a;return"input"===c.nodeName.toLowerCase()&&"text"===c.type&&(null==(a=c.getAttribute("type"))||a.toLowerCase()===c.type)},first:z(function(){return[0]}),last:z(function(c,a){return[a-1]}),eq:z(function(c,a,b){return[0>b?b+a:b]}),even:z(function(c,a){for(var b=0;b<a;b+=2)c.push(b);return c}),odd:z(function(c,a){for(var b=1;b<a;b+=2)c.push(b);return c}),lt:z(function(c,a,b){for(a=0>b?b+a:b;0<=--a;)c.push(a);return c}),gt:z(function(c,a,b){for(b=0>b?b+a:b;++b<
a;)c.push(b);return c})}};for(F in{Gh:!0,fh:!0,file:!0,Tf:!0,ca:!0})H.ra[F]=m(F);for(F in{submit:!0,reset:!0})H.ra[F]=x(F);J=r.compile=function(c,a){var b,e=[],d=[],q=ia[c+" "];if(!q){a||(a=s(c));for(b=a.length;b--;)q=u(a[b]),q[I]?e.push(q):d.push(q);q=ia(c,t(d,e))}return q};H.ra.nth=H.ra.eq;H.filters=y.prototype=H.ra;H.qd=new y;W();r.attr=b.attr;b.find=r;b.W=r.gg;b.W[":"]=b.W.ra;b.unique=r.Cd;b.text=r.wf;b.isXMLDoc=r.Cf;b.contains=r.contains})(a);var jc=/Until$/,kc=/^(?:parents|prev(?:Until|All))/,
Tb=/^.[^:#\[\.,]*$/,Bb=b.W.match.Zb,lc={children:!0,contents:!0,next:!0,prev:!0};b.fn.extend({find:function(c){var a,e,d,f=this.length;if("string"!==typeof c)return d=this,this.pushStack(b(c).filter(function(){for(a=0;a<f;a++)if(b.contains(d[a],this))return!0}));e=[];for(a=0;a<f;a++)b.find(c,this[a],e);e=this.pushStack(1<f?b.unique(e):e);e.R=(this.R?this.R+" ":"")+c;return e},has:function(c){var a,e=b(c,this),d=e.length;return this.filter(function(){for(a=0;a<d;a++)if(b.contains(this,e[a]))return!0})},
not:function(c){return this.pushStack(w(this,c,!1))},filter:function(c){return this.pushStack(w(this,c,!0))},is:function(c){return!!c&&("string"===typeof c?Bb.test(c)?0<=b(c,this.context).index(this[0]):0<b.filter(c,this).length:0<this.filter(c).length)},closest:function(c,a){for(var e,d=0,f=this.length,h=[],g=Bb.test(c)||"string"!==typeof c?b(c,a||this.context):0;d<f;d++)for(e=this[d];e&&e.ownerDocument&&e!==a&&11!==e.nodeType;){if(g?-1<g.index(e):b.find.matchesSelector(e,c)){h.push(e);break}e=e.parentNode}return this.pushStack(1<
h.length?b.unique(h):h)},index:function(c){return c?"string"===typeof c?b.inArray(this[0],b(c)):b.inArray(c.jquery?c[0]:c,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(c,a){var e="string"===typeof c?b(c,a):b.makeArray(c&&c.nodeType?[c]:c),e=b.merge(this.get(),e);return this.pushStack(b.unique(e))},addBack:function(c){return this.add(null==c?this.cc:this.cc.filter(c))}});b.fn.andSelf=b.fn.addBack;b.each({parent:function(c){return(c=c.parentNode)&&11!==c.nodeType?
c:null},parents:function(c){return b.dir(c,"parentNode")},parentsUntil:function(c,a,e){return b.dir(c,"parentNode",e)},next:function(c){return C(c,"nextSibling")},prev:function(c){return C(c,"previousSibling")},nextAll:function(c){return b.dir(c,"nextSibling")},prevAll:function(c){return b.dir(c,"previousSibling")},nextUntil:function(c,a,e){return b.dir(c,"nextSibling",e)},prevUntil:function(c,a,e){return b.dir(c,"previousSibling",e)},siblings:function(c){return b.ud((c.parentNode||{}).firstChild,
c)},children:function(c){return b.ud(c.firstChild)},contents:function(c){return b.nodeName(c,"iframe")?c.contentDocument||c.contentWindow.document:b.merge([],c.childNodes)}},function(c,a){b.fn[c]=function(e,d){var f=b.map(this,a,e);jc.test(c)||(d=e);d&&"string"===typeof d&&(f=b.filter(d,f));f=1<this.length&&!lc[c]?b.unique(f):f;1<this.length&&kc.test(c)&&(f=f.reverse());return this.pushStack(f)}});b.extend({filter:function(c,a,e){e&&(c=":not("+c+")");return 1===a.length?b.find.matchesSelector(a[0],
c)?[a[0]]:[]:b.find.matches(c,a)},dir:function(c,a,e){var f=[];for(c=c[a];c&&9!==c.nodeType&&(e===d||1!==c.nodeType||!b(c).is(e));)1===c.nodeType&&f.push(c),c=c[a];return f},ud:function(c,a){for(var b=[];c;c=c.nextSibling)1===c.nodeType&&c!==a&&b.push(c);return b}});var tb="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",mc=/ jQuery\d+="(?:null|\d+)"/g,Cb=new RegExp("<(?:"+tb+")[\\s/>]","i"),
kb=/^\s+/,Db=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Eb=/<([\w:]+)/,Fb=/<tbody/i,nc=/<|&#?\w+;/,oc=/<(?:script|style|link)/i,db=/^(?:checkbox|radio)$/i,pc=/checked\s*(?:[^=]|=\s*.checked.)/i,Gb=/^$|\/(?:java|ecma)script/i,Ub=/^true\/(.*)/,qc=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,pa={ed:[1,"<select multiple='multiple'>","</select>"],sh:[1,"<fieldset>","</fieldset>"],$g:[1,"<map>","</map>"],param:[1,"<object>","</object>"],rg:[1,"<table>","</table>"],Th:[2,"<table><tbody>",
"</tbody></table>"],gh:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],qg:[3,"<table><tbody><tr>","</tr></tbody></table>"],la:b.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},lb=u(M).appendChild(M.createElement("div"));pa.Bh=pa.ed;pa.tbody=pa.Rh=pa.hh=pa.caption=pa.rg;pa.Sh=pa.qg;b.fn.extend({text:function(c){return b.ga(this,function(c){return c===d?b.text(this):this.empty().append((this[0]&&this[0].ownerDocument||M).createTextNode(c))},null,c,arguments.length)},wrapAll:function(c){if(b.isFunction(c))return this.each(function(a){b(this).wrapAll(c.call(this,
a))});if(this[0]){var a=b(c,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&a.insertBefore(this[0]);a.map(function(){for(var c=this;c.firstChild&&1===c.firstChild.nodeType;)c=c.firstChild;return c}).append(this)}return this},wrapInner:function(c){return b.isFunction(c)?this.each(function(a){b(this).wrapInner(c.call(this,a))}):this.each(function(){var a=b(this),e=a.contents();e.length?e.wrapAll(c):a.append(c)})},wrap:function(c){var a=b.isFunction(c);return this.each(function(e){b(this).wrapAll(a?
c.call(this,e):c)})},unwrap:function(){return this.parent().each(function(){b.nodeName(this,"body")||b(this).replaceWith(this.childNodes)}).end()},append:function(){return this.Ea(arguments,!0,function(c){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||this.appendChild(c)})},prepend:function(){return this.Ea(arguments,!0,function(c){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||this.insertBefore(c,this.firstChild)})},before:function(){return this.Ea(arguments,!1,function(c){this.parentNode&&
this.parentNode.insertBefore(c,this)})},after:function(){return this.Ea(arguments,!1,function(c){this.parentNode&&this.parentNode.insertBefore(c,this.nextSibling)})},remove:function(c,a){for(var e,d=0;null!=(e=this[d]);d++)if(!c||0<b.filter(c,[e]).length)a||1!==e.nodeType||b.fb(D(e)),e.parentNode&&(a&&b.contains(e.ownerDocument,e)&&A(D(e,"script")),e.parentNode.removeChild(e));return this},empty:function(){for(var c,a=0;null!=(c=this[a]);a++){for(1===c.nodeType&&b.fb(D(c,!1));c.firstChild;)c.removeChild(c.firstChild);
c.options&&b.nodeName(c,"select")&&(c.options.length=0)}return this},clone:function(c,a){c=null==c?!1:c;a=null==a?c:a;return this.map(function(){return b.clone(this,c,a)})},html:function(c){return b.ga(this,function(c){var a=this[0]||{},e=0,f=this.length;if(c===d)return 1===a.nodeType?a.innerHTML.replace(mc,""):d;if(!("string"!==typeof c||oc.test(c)||!b.support.htmlSerialize&&Cb.test(c)||!b.support.leadingWhitespace&&kb.test(c)||pa[(Eb.exec(c)||["",""])[1].toLowerCase()])){c=c.replace(Db,"<$1></$2>");
try{for(;e<f;e++)a=this[e]||{},1===a.nodeType&&(b.fb(D(a,!1)),a.innerHTML=c);a=0}catch(h){}}a&&this.empty().append(c)},null,c,arguments.length)},replaceWith:function(c){b.isFunction(c)||"string"===typeof c||(c=b(c).not(this).detach());return this.Ea([c],!0,function(c){var a=this.nextSibling,e=this.parentNode;e&&(b(this).remove(),e.insertBefore(c,a))})},detach:function(c){return this.remove(c,!0)},Ea:function(c,a,e){c=xa.apply([],c);var f,h,g,r,l=0,m=this.length,x=this,n=m-1,s=c[0],z=b.isFunction(s);
if(z||!(1>=m||"string"!==typeof s||b.support.df)&&pc.test(s))return this.each(function(b){var f=x.eq(b);z&&(c[0]=s.call(this,b,a?f.html():d));f.Ea(c,a,e)});if(m&&(r=b.Lc(c,this[0].ownerDocument,!1,this),f=r.firstChild,1===r.childNodes.length&&(r=f),f)){a=a&&b.nodeName(f,"tr");g=b.map(D(r,"script"),E);for(h=g.length;l<m;l++)f=r,l!==n&&(f=b.clone(f,!0,!0),h&&b.merge(g,D(f,"script"))),e.call(a&&b.nodeName(this[l],"table")?G(this[l]):this[l],f,l);if(h)for(r=g[g.length-1].ownerDocument,b.map(g,B),l=0;l<
h;l++)f=g[l],Gb.test(f.type||"")&&!b.o(f,"globalEval")&&b.contains(r,f)&&(f.src?b.ajax({url:f.src,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0}):b.globalEval((f.text||f.textContent||f.innerHTML||"").replace(qc,"")));r=f=null}return this}});b.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(c,a){b.fn[c]=function(c){for(var e=0,d=[],f=b(c),h=f.length-1;e<=h;e++)c=e===h?this:this.clone(!0),b(f[e])[a](c),ua.apply(d,
c.get());return this.pushStack(d)}});b.extend({clone:function(c,a,e){var d,f,h,g,l,m=b.contains(c.ownerDocument,c);b.support.Sc||b.isXMLDoc(c)||!Cb.test("<"+c.nodeName+">")?h=c.cloneNode(!0):(lb.innerHTML=c.outerHTML,lb.removeChild(h=lb.firstChild));if(!(b.support.noCloneEvent&&b.support.Of||1!==c.nodeType&&11!==c.nodeType||b.isXMLDoc(c)))for(d=D(h),l=D(c),g=0;null!=(f=l[g]);++g)if(d[g]){var x=d[g],n=void 0,s=void 0,z=void 0;if(1===x.nodeType){n=x.nodeName.toLowerCase();if(!b.support.noCloneEvent&&
x[b.expando]){z=b.o(x);for(s in z.xa)b.fc(x,s,z.handle);x.removeAttribute(b.expando)}if("script"===n&&x.text!==f.text)E(x).text=f.text,B(x);else if("object"===n)x.parentNode&&(x.outerHTML=f.outerHTML),b.support.Sc&&f.innerHTML&&!b.trim(x.innerHTML)&&(x.innerHTML=f.innerHTML);else if("input"===n&&db.test(f.type))x.defaultChecked=x.checked=f.checked,x.value!==f.value&&(x.value=f.value);else if("option"===n)x.defaultSelected=x.selected=f.defaultSelected;else if("input"===n||"textarea"===n)x.defaultValue=
f.defaultValue}}if(a)if(e)for(l=l||D(c),d=d||D(h),g=0;null!=(f=l[g]);g++)r(f,d[g]);else r(c,h);d=D(h,"script");0<d.length&&A(d,!m&&D(c,"script"));return h},Lc:function(c,a,e,d){for(var f,h,g,r,l,m,x=c.length,n=u(a),s=[],R=0;R<x;R++)if((h=c[R])||0===h)if("object"===b.type(h))b.merge(s,h.nodeType?[h]:h);else if(nc.test(h)){g=g||n.appendChild(a.createElement("div"));r=(Eb.exec(h)||["",""])[1].toLowerCase();m=pa[r]||pa.la;g.innerHTML=m[1]+h.replace(Db,"<$1></$2>")+m[2];for(f=m[0];f--;)g=g.lastChild;!b.support.leadingWhitespace&&
kb.test(h)&&s.push(a.createTextNode(kb.exec(h)[0]));if(!b.support.tbody)for(f=(h="table"!==r||Fb.test(h)?"<table>"!==m[1]||Fb.test(h)?0:g:g.firstChild)&&h.childNodes.length;f--;)b.nodeName(l=h.childNodes[f],"tbody")&&!l.childNodes.length&&h.removeChild(l);b.merge(s,g.childNodes);for(g.textContent="";g.firstChild;)g.removeChild(g.firstChild);g=n.lastChild}else s.push(a.createTextNode(h));g&&n.removeChild(g);b.support.Se||b.grep(D(s,"input"),z);for(R=0;h=s[R++];)if(!d||-1===b.inArray(h,d))if(c=b.contains(h.ownerDocument,
h),g=D(n.appendChild(h),"script"),c&&A(g),e)for(f=0;h=g[f++];)Gb.test(h.type||"")&&e.push(h);return n},fb:function(c,a){for(var e,d,f,h,g=0,r=b.expando,l=b.v,m=b.support.Fb,x=b.event.aa;null!=(e=c[g]);g++)if(a||b.Ka(e))if(h=(f=e[r])&&l[f]){if(h.xa)for(d in h.xa)x[d]?b.event.remove(e,d):b.fc(e,d,h.handle);l[f]&&(delete l[f],m?delete e[r]:typeof e.removeAttribute!==y?e.removeAttribute(r):e[r]=null,ha.push(f))}}});var Sa,Ca,Da,mb=/alpha\([^)]*\)/i,rc=/opacity\s*=\s*([^)]*)/,sc=/^(top|right|bottom|left)$/,
tc=/^(none|table(?!-c[ea]).+)/,Hb=/^margin/,Vb=new RegExp("^("+Ma+")(.*)$","i"),Xa=new RegExp("^("+Ma+")(?!px)[a-z%]+$","i"),uc=new RegExp("^([+-])=("+Ma+")","i"),vb={Ag:"block"},vc={position:"absolute",visibility:"hidden",display:"block"},Ib={letterSpacing:0,fontWeight:400},Ba=["Top","Right","Bottom","Left"],ub=["Webkit","O","Moz","ms"];b.fn.extend({css:function(c,a){return b.ga(this,function(c,a,e){var f,h={},q=0;if(b.isArray(a)){f=Ca(c);for(e=a.length;q<e;q++)h[a[q]]=b.css(c,a[q],!1,f);return h}return e!==
d?b.style(c,a,e):b.css(c,a)},c,a,1<arguments.length)},show:function(){return T(this,!0)},hide:function(){return T(this)},toggle:function(c){var a="boolean"===typeof c;return this.each(function(){(a?c:H(this))?b(this).show():b(this).hide()})}});b.extend({cssHooks:{opacity:{get:function(c,a){if(a){var b=Da(c,"opacity");return""===b?"1":b}}}},Db:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},Pa:{"float":b.support.cssFloat?"cssFloat":"styleFloat"},
style:function(c,a,e,f){if(c&&3!==c.nodeType&&8!==c.nodeType&&c.style){var h,g,r,l=b.Y(a),m=c.style;a=b.Pa[l]||(b.Pa[l]=F(m,l));r=b.cssHooks[a]||b.cssHooks[l];if(e!==d){if(g=typeof e,"string"===g&&(h=uc.exec(e))&&(e=(h[1]+1)*h[2]+parseFloat(b.css(c,a)),g="number"),!(null==e||"number"===g&&isNaN(e)||("number"!==g||b.Db[l]||(e+="px"),b.support.ff||""!==e||0!==a.indexOf("background")||(m[a]="inherit"),r&&"set"in r&&(e=r.set(c,e,f))===d)))try{m[a]=e}catch(x){}}else return r&&"get"in r&&(h=r.get(c,!1,
f))!==d?h:m[a]}},css:function(c,a,e,f){var h,g;g=b.Y(a);a=b.Pa[g]||(b.Pa[g]=F(c.style,g));(g=b.cssHooks[a]||b.cssHooks[g])&&"get"in g&&(h=g.get(c,!0,e));h===d&&(h=Da(c,a,f));"normal"===h&&a in Ib&&(h=Ib[a]);return""===e||e?(c=parseFloat(h),!0===e||b.isNumeric(c)?c||0:h):h},Ad:function(c,a,b,e){var d,f={};for(d in a)f[d]=c.style[d],c.style[d]=a[d];b=b.apply(c,e||[]);for(d in a)c.style[d]=f[d];return b}});a.getComputedStyle?(Ca=function(c){return a.getComputedStyle(c,null)},Da=function(c,a,e){var f,
h=(e=e||Ca(c))?e.getPropertyValue(a)||e[a]:d,g=c.style;e&&(""!==h||b.contains(c.ownerDocument,c)||(h=b.style(c,a)),Xa.test(h)&&Hb.test(a)&&(c=g.width,a=g.minWidth,f=g.maxWidth,g.minWidth=g.maxWidth=g.width=h,h=e.width,g.width=c,g.minWidth=a,g.maxWidth=f));return h}):M.documentElement.currentStyle&&(Ca=function(c){return c.currentStyle},Da=function(c,a,b){var e,f,h=(b=b||Ca(c))?b[a]:d,g=c.style;null==h&&g&&g[a]&&(h=g[a]);if(Xa.test(h)&&!sc.test(a)){b=g.left;if(f=(e=c.runtimeStyle)&&e.left)e.left=c.currentStyle.left;
g.left="fontSize"===a?"1em":h;h=g.pixelLeft+"px";g.left=b;f&&(e.left=f)}return""===h?"auto":h});b.each(["height","width"],function(c,a){b.cssHooks[a]={get:function(c,e,d){if(e)return 0===c.offsetWidth&&tc.test(b.css(c,"display"))?b.Ad(c,vc,function(){return R(c,a,d)}):R(c,a,d)},set:function(c,e,d){var f=d&&Ca(c);return U(0,e,d?x(c,a,d,b.support.boxSizing&&"border-box"===b.css(c,"boxSizing",!1,f),f):0)}}});b.support.opacity||(b.cssHooks.opacity={get:function(c,a){return rc.test((a&&c.currentStyle?
c.currentStyle.filter:c.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":a?"1":""},set:function(c,a){var e=c.style,d=c.currentStyle,f=b.isNumeric(a)?"alpha(opacity="+100*a+")":"",h=d&&d.filter||e.filter||"";e.zoom=1;if((1<=a||""===a)&&""===b.trim(h.replace(mb,""))&&e.removeAttribute&&(e.removeAttribute("filter"),""===a||d&&!d.filter))return;e.filter=mb.test(h)?h.replace(mb,f):h+" "+f}});b(function(){b.support.kd||(b.cssHooks.marginRight={get:function(c,a){if(a)return b.Ad(c,{display:"inline-block"},
Da,[c,"marginRight"])}});!b.support.fd&&b.fn.position&&b.each(["top","left"],function(c,a){b.cssHooks[a]={get:function(c,e){if(e)return e=Da(c,a),Xa.test(e)?b(c).position()[a]+"px":e}}})});b.W&&b.W.filters&&(b.W.filters.hidden=function(c){return 0>=c.offsetWidth&&0>=c.offsetHeight||!b.support.Zf&&"none"===(c.style&&c.style.display||b.css(c,"display"))},b.W.filters.visible=function(c){return!b.W.filters.hidden(c)});b.each({margin:"",padding:"",border:"Width"},function(c,a){b.cssHooks[c+a]={expand:function(b){var e=
0,d={};for(b="string"===typeof b?b.split(" "):[b];4>e;e++)d[c+Ba[e]+a]=b[e]||b[e-2]||b[0];return d}};Hb.test(c)||(b.cssHooks[c+a].set=U)});var wc=/%20/g,Wb=/\[\]$/,Jb=/\r?\n/g,xc=/^(?:submit|button|image|reset|file)$/i,yc=/^(?:input|select|textarea|keygen)/i;b.fn.extend({serialize:function(){return b.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var c=b.prop(this,"elements");return c?b.makeArray(c):this}).filter(function(){var c=this.type;return this.name&&!b(this).is(":disabled")&&
yc.test(this.nodeName)&&!xc.test(c)&&(this.checked||!db.test(c))}).map(function(c,a){var e=b(this).val();return null==e?null:b.isArray(e)?b.map(e,function(c){return{name:a.name,value:c.replace(Jb,"\r\n")}}):{name:a.name,value:e.replace(Jb,"\r\n")}}).get()}});b.param=function(c,a){function e(c,a){a=b.isFunction(a)?a():null==a?"":a;h[h.length]=encodeURIComponent(c)+"="+encodeURIComponent(a)}var f,h=[];a===d&&(a=b.ajaxSettings&&b.ajaxSettings.traditional);if(b.isArray(c)||c.jquery&&!b.isPlainObject(c))b.each(c,
function(){e(this.name,this.value)});else for(f in c)ca(f,c[f],a,e);return h.join("&").replace(wc,"+")};b.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(c,a){b.fn[a]=function(c,b){return 0<arguments.length?this.on(a,null,c,b):this.trigger(a)}});b.fn.hover=function(c,a){return this.mouseenter(c).mouseleave(a||c)};var Ja,
za,nb=b.now(),ob=/\?/,zc=/#.*$/,Kb=/([?&])_=[^&]*/,Ac=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,Bc=/^(?:GET|HEAD)$/,Cc=/^\/\//,Lb=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,Mb=b.fn.load,Nb={},eb={},Ob="*/".concat("*");try{za=Y.href}catch(Ic){za=M.createElement("a"),za.href="",za=za.href}Ja=Lb.exec(za.toLowerCase())||[];b.fn.load=function(c,a,e){if("string"!==typeof c&&Mb)return Mb.apply(this,arguments);var f,h,g,r=this,l=c.indexOf(" ");0<=l&&(f=c.slice(l,c.length),c=c.slice(0,l));b.isFunction(a)?(e=a,a=
d):a&&"object"===typeof a&&(g="POST");0<r.length&&b.ajax({url:c,type:g,dataType:"html",data:a}).done(function(c){h=arguments;r.html(f?b("<div>").append(b.parseHTML(c)).find(f):c)}).complete(e&&function(c,a){r.each(e,h||[c.responseText,a,c])});return this};b.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(c,a){b.fn[a]=function(c){return this.on(a,c)}});b.each(["get","post"],function(c,a){b[a]=function(c,e,f,h){b.isFunction(e)&&(h=h||f,f=e,e=d);return b.ajax({url:c,
type:a,dataType:h,data:e,success:f})}});b.extend({yc:0,lastModified:{},Gb:{},ajaxSettings:{url:za,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Ja[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ob,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",Df:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,Df:/json/},responseFields:{xml:"responseXML",text:"responseText"},
converters:{"* text":a.String,"text html":!0,"text json":b.parseJSON,"text xml":b.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(c,a){return a?Q(Q(c,b.ajaxSettings),a):Q(b.ajaxSettings,c)},ajaxPrefilter:P(Nb),Ec:P(eb),ajax:function(c,a){function e(c,a,f,h){var q,n,H,u,F=a;if(2!==t){t=2;l&&clearTimeout(l);x=d;r=h||"";y.readyState=0<c?4:0;if(f){u=s;h=y;var Y,K,C,J,O=u.contents,w=u.ba,A=u.responseFields;for(J in A)J in f&&(h[A[J]]=f[J]);for(;"*"===w[0];)w.shift(),K===d&&(K=u.Wb||h.getResponseHeader("Content-Type"));
if(K)for(J in O)if(O[J]&&O[J].test(K)){w.unshift(J);break}if(w[0]in f)C=w[0];else{for(J in f){if(!w[0]||u.converters[J+" "+w[0]]){C=J;break}Y||(Y=J)}C=C||Y}C?(C!==w[0]&&w.unshift(C),u=f[C]):u=void 0}if(200<=c&&300>c||304===c)if(s.zf&&((f=y.getResponseHeader("Last-Modified"))&&(b.lastModified[g]=f),(f=y.getResponseHeader("etag"))&&(b.Gb[g]=f)),204===c)q=!0,F="nocontent";else if(304===c)q=!0,F="notmodified";else{a:{n=s;H=u;var ca,W,F={};Y=0;K=n.ba.slice();C=K[0];n.jf&&(H=n.jf(H,n.dataType));if(K[1])for(W in n.converters)F[W.toLowerCase()]=
n.converters[W];for(;f=K[++Y];)if("*"!==f){if("*"!==C&&C!==f){W=F[C+" "+f]||F["* "+f];if(!W)for(ca in F)if(q=ca.split(" "),q[1]===f&&(W=F[C+" "+q[0]]||F["* "+q[0]])){!0===W?W=F[ca]:!0!==F[ca]&&(f=q[0],K.splice(Y--,0,f));break}if(!0!==W)if(W&&n["throws"])H=W(H);else try{H=W(H)}catch(X){q={state:"parsererror",error:W?X:"No conversion from "+C+" to "+f};break a}}C=f}q={state:"success",data:H}}F=q.state;n=q.data;H=q.error;q=!H}else if(H=F,c||!F)F="error",0>c&&(c=0);y.status=c;y.statusText=(a||F)+"";q?
R.resolveWith(z,[n,F,y]):R.rejectWith(z,[y,F,H]);y.yd(v);v=d;m&&D.trigger(q?"ajaxSuccess":"ajaxError",[y,s,q?n:H]);p.fireWith(z,[y,F]);m&&(D.trigger("ajaxComplete",[y,s]),--b.yc||b.event.trigger("ajaxStop"))}}"object"===typeof c&&(a=c,c=d);a=a||{};var f,h,g,r,l,m,x,n,s=b.ajaxSetup({},a),z=s.context||s,D=s.context&&(z.nodeType||z.jquery)?b(z):b.event,R=b.Deferred(),p=b.Callbacks("once memory"),v=s.yd||{},H={},u={},t=0,F="canceled",y={readyState:0,getResponseHeader:function(c){var a;if(2===t){if(!n)for(n=
{};a=Ac.exec(r);)n[a[1].toLowerCase()]=a[2];a=n[c.toLowerCase()]}return null==a?null:a},getAllResponseHeaders:function(){return 2===t?r:null},setRequestHeader:function(c,a){var b=c.toLowerCase();t||(c=u[b]=u[b]||c,H[c]=a);return this},overrideMimeType:function(c){t||(s.Wb=c);return this},yd:function(c){var a;if(c)if(2>t)for(a in c)v[a]=[v[a],c[a]];else y.always(c[y.status]);return this},abort:function(c){c=c||F;x&&x.abort(c);e(0,c);return this}};R.promise(y).complete=p.add;y.success=y.done;y.error=
y.fail;s.url=((c||s.url||za)+"").replace(zc,"").replace(Cc,Ja[1]+"//");s.type=a.method||a.type||s.method||s.type;s.ba=b.trim(s.dataType||"*").toLowerCase().match(wa)||[""];null==s.Da&&(f=Lb.exec(s.url.toLowerCase()),s.Da=!(!f||f[1]===Ja[1]&&f[2]===Ja[2]&&(f[3]||("http:"===f[1]?80:443))==(Ja[3]||("http:"===Ja[1]?80:443))));s.data&&s.processData&&"string"!==typeof s.data&&(s.data=b.param(s.data,s.traditional));I(Nb,s,a,y);if(2===t)return y;(m=s.global)&&0===b.yc++&&b.event.trigger("ajaxStart");s.type=
s.type.toUpperCase();s.Pb=!Bc.test(s.type);g=s.url;s.Pb||(s.data&&(g=s.url+=(ob.test(g)?"&":"?")+s.data,delete s.data),!1===s.v&&(s.url=Kb.test(g)?g.replace(Kb,"$1_="+nb++):g+(ob.test(g)?"&":"?")+"_="+nb++));s.zf&&(b.lastModified[g]&&y.setRequestHeader("If-Modified-Since",b.lastModified[g]),b.Gb[g]&&y.setRequestHeader("If-None-Match",b.Gb[g]));(s.data&&s.Pb&&!1!==s.contentType||a.contentType)&&y.setRequestHeader("Content-Type",s.contentType);y.setRequestHeader("Accept",s.ba[0]&&s.accepts[s.ba[0]]?
s.accepts[s.ba[0]]+("*"!==s.ba[0]?", "+Ob+"; q=0.01":""):s.accepts["*"]);for(h in s.headers)y.setRequestHeader(h,s.headers[h]);if(s.bf&&(!1===s.bf.call(z,y,s)||2===t))return y.abort();F="abort";for(h in{success:1,error:1,complete:1})y[h](s[h]);if(x=I(eb,s,a,y)){y.readyState=1;m&&D.trigger("ajaxSend",[y,s]);s.async&&0<s.timeout&&(l=setTimeout(function(){y.abort("timeout")},s.timeout));try{t=1,x.send(H,e)}catch(Y){if(2>t)e(-1,Y);else throw Y;}}else e(-1,"No Transport");return y},getScript:function(c,
a){return b.get(c,d,a,"script")},getJSON:function(c,a,e){return b.get(c,a,e,"json")}});b.ajaxSetup({accepts:{eg:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{eg:/(?:java|ecma)script/},converters:{"text script":function(c){b.globalEval(c);return c}}});b.ajaxPrefilter("script",function(c){c.v===d&&(c.v=!1);c.Da&&(c.type="GET",c.global=!1)});b.Ec("script",function(c){if(c.Da){var a,e=M.head||b("head")[0]||M.documentElement;return{send:function(b,
d){a=M.createElement("script");a.async=!0;c.fg&&(a.charset=c.fg);a.src=c.url;a.onload=a.onreadystatechange=function(c,b){if(b||!a.readyState||/loaded|complete/.test(a.readyState))a.onload=a.onreadystatechange=null,a.parentNode&&a.parentNode.removeChild(a),a=null,b||d(200,"success")};e.insertBefore(a,e.firstChild)},abort:function(){if(a)a.onload(d,!0)}}}});var Pb=[],pb=/(=)\?(?=&|$)|\?\?/;b.ajaxSetup({Tb:"callback",Fa:function(){var c=Pb.pop()||b.expando+"_"+nb++;this[c]=!0;return c}});b.ajaxPrefilter("json jsonp",
function(c,e,f){var h,g,r,l=!1!==c.Tb&&(pb.test(c.url)?"url":"string"===typeof c.data&&!(c.contentType||"").indexOf("application/x-www-form-urlencoded")&&pb.test(c.data)&&"data");if(l||"jsonp"===c.ba[0])return h=c.Fa=b.isFunction(c.Fa)?c.Fa():c.Fa,l?c[l]=c[l].replace(pb,"$1"+h):!1!==c.Tb&&(c.url+=(ob.test(c.url)?"&":"?")+c.Tb+"="+h),c.converters["script json"]=function(){r||b.error(h+" was not called");return r[0]},c.ba[0]="json",g=a[h],a[h]=function(){r=arguments},f.always(function(){a[h]=g;c[h]&&
(c.Fa=e.Fa,Pb.push(h));r&&b.isFunction(g)&&g(r[0]);r=g=d}),"script"});var Oa,Ua,Dc=0,qb=a.ActiveXObject&&function(){for(var c in Oa)Oa[c](d,!0)};b.ajaxSettings.xhr=a.ActiveXObject?function(){var c;if(!(c=!this.isLocal&&ga()))a:{try{c=new a.ActiveXObject("Microsoft.XMLHTTP");break a}catch(b){}c=void 0}return c}:ga;Ua=b.ajaxSettings.xhr();b.support.cors=!!Ua&&"withCredentials"in Ua;(Ua=b.support.ajax=!!Ua)&&b.Ec(function(c){if(!c.Da||b.support.cors){var e;return{send:function(f,h){var g,r,l=c.xhr();
c.vg?l.open(c.type,c.url,c.async,c.vg,c.Tf):l.open(c.type,c.url,c.async);if(c.Gd)for(r in c.Gd)l[r]=c.Gd[r];c.Wb&&l.overrideMimeType&&l.overrideMimeType(c.Wb);c.Da||f["X-Requested-With"]||(f["X-Requested-With"]="XMLHttpRequest");try{for(r in f)l.setRequestHeader(r,f[r])}catch(s){}l.send(c.Pb&&c.data||null);e=function(a,f){var r,s,m,x;try{if(e&&(f||4===l.readyState))if(e=d,g&&(l.onreadystatechange=b.noop,qb&&delete Oa[g]),f)4!==l.readyState&&l.abort();else{x={};r=l.status;s=l.getAllResponseHeaders();
"string"===typeof l.responseText&&(x.text=l.responseText);try{m=l.statusText}catch(n){m=""}r||!c.isLocal||c.Da?1223===r&&(r=204):r=x.text?200:404}}catch(z){f||h(-1,z)}x&&h(r,m,x,s)};c.async?4===l.readyState?setTimeout(e):(g=++Dc,qb&&(Oa||(Oa={},b(a).unload(qb)),Oa[g]=e),l.onreadystatechange=e):e()},abort:function(){e&&e(d,!0)}}}});var La,Za,Ec=/^(?:toggle|show|hide)$/,Fc=new RegExp("^(?:([+-])=|)("+Ma+")([a-z%]*)$","i"),Gc=/queueHooks$/,Ya=[function(c,a,e){var d,f,h,g,r,l,s=this,m=c.style,x={},n=
[],z=c.nodeType&&H(c);e.queue||(r=b.zb(c,"fx"),null==r.tb&&(r.tb=0,l=r.empty.fire,r.empty.fire=function(){r.tb||l()}),r.tb++,s.always(function(){s.always(function(){r.tb--;b.queue(c,"fx").length||r.empty.fire()})}));1===c.nodeType&&("height"in a||"width"in a)&&(e.overflow=[m.overflow,m.overflowX,m.overflowY],"inline"===b.css(c,"display")&&"none"===b.css(c,"float")&&(b.support.Rb&&"inline"!==W(c.nodeName)?m.zoom=1:m.display="inline-block"));e.overflow&&(m.overflow="hidden",b.support.td||s.always(function(){m.overflow=
e.overflow[0];m.overflowX=e.overflow[1];m.overflowY=e.overflow[2]}));for(f in a)h=a[f],Ec.exec(h)&&(delete a[f],d=d||"toggle"===h,h!==(z?"hide":"show")&&n.push(f));if(a=n.length)for(h=b.o(c,"fxshow")||b.o(c,"fxshow",{}),("hidden"in h)&&(z=h.hidden),d&&(h.hidden=!z),z?b(c).show():s.done(function(){b(c).hide()}),s.done(function(){var a;b.ab(c,"fxshow");for(a in x)b.style(c,a,x[a])}),f=0;f<a;f++)d=n[f],g=s.Mc(d,z?h[d]:0),x[d]=h[d]||b.style(c,d),d in h||(h[d]=g.start,z&&(g.end=g.start,g.start="width"===
d||"height"===d?1:0))}],Ta={"*":[function(c,a){var e,d,f=this.Mc(c,a),h=Fc.exec(a),g=f.va(),r=+g||0,l=1,s=20;if(h){e=+h[2];d=h[3]||(b.Db[c]?"":"px");if("px"!==d&&r){r=b.css(f.m,c,!0)||e||1;do l=l||".5",r/=l,b.style(f.m,c,r+d);while(l!==(l=f.va()/g)&&1!==l&&--s)}f.Dd=d;f.start=r;f.end=h[1]?r+(h[1]+1)*e:e}return f}]};b.zg=b.extend(X,{Vh:function(c,a){b.isFunction(c)?(a=c,c=["*"]):c=c.split(" ");for(var e,d=0,f=c.length;d<f;d++)e=c[d],Ta[e]=Ta[e]||[],Ta[e].unshift(a)},Fh:function(c,a){a?Ya.unshift(c):
Ya.push(c)}});b.Je=L;L.prototype={constructor:L,pa:function(c,a,e,d,f,h){this.m=c;this.prop=e;this.Sa=f||"swing";this.options=a;this.start=this.now=this.va();this.end=d;this.Dd=h||(b.Db[e]?"":"px")},va:function(){var c=L.Z[this.prop];return c&&c.get?c.get(this):L.Z.la.get(this)},nd:function(c){var a=L.Z[this.prop];c=this.options.duration?b.Sa[this.Sa](c,this.options.duration*c,0,1,this.options.duration):c;this.now=(this.end-this.start)*c+this.start;this.options.step&&this.options.step.call(this.m,
this.now,this);a&&a.set?a.set(this):L.Z.la.set(this);return this}};L.prototype.pa.prototype=L.prototype;L.Z={la:{get:function(c){return null==c.m[c.prop]||c.m.style&&null!=c.m.style[c.prop]?(c=b.css(c.m,c.prop,""))&&"auto"!==c?c:0:c.m[c.prop]},set:function(c){if(b.fx.step[c.prop])b.fx.step[c.prop](c);else c.m.style&&(null!=c.m.style[b.Pa[c.prop]]||b.cssHooks[c.prop])?b.style(c.m,c.prop,c.now+c.Dd):c.m[c.prop]=c.now}}};L.Z.scrollTop=L.Z.scrollLeft={set:function(c){c.m.nodeType&&c.m.parentNode&&(c.m[c.prop]=
c.now)}};b.each(["toggle","show","hide"],function(c,a){var e=b.fn[a];b.fn[a]=function(c,b,d){return null==c||"boolean"===typeof c?e.apply(this,arguments):this.animate(S(a,!0),c,b,d)}});b.fn.extend({fadeTo:function(c,a,b,e){return this.filter(H).css("opacity",0).show().end().animate({opacity:a},c,b,e)},animate:function(c,a,e,d){function f(){var a=X(this,b.extend({},c),g);f.finish=function(){a.stop(!0)};(h||b.o(this,"finish"))&&a.stop(!0)}var h=b.isEmptyObject(c),g=b.speed(a,e,d);f.finish=f;return h||
!1===g.queue?this.each(f):this.queue(g.queue,f)},stop:function(c,a,e){function f(c){var a=c.stop;delete c.stop;a(e)}"string"!==typeof c&&(e=a,a=c,c=d);a&&!1!==c&&this.queue(c||"fx",[]);return this.each(function(){var a=!0,d=null!=c&&c+"queueHooks",h=b.Ya,g=b.o(this);if(d)g[d]&&g[d].stop&&f(g[d]);else for(d in g)g[d]&&g[d].stop&&Gc.test(d)&&f(g[d]);for(d=h.length;d--;)h[d].m!==this||null!=c&&h[d].queue!==c||(h[d].Fc.stop(e),a=!1,h.splice(d,1));!a&&e||b.dequeue(this,c)})},finish:function(c){!1!==c&&
(c=c||"fx");return this.each(function(){var a,e=b.o(this),d=e[c+"queue"];a=e[c+"queueHooks"];var f=b.Ya,h=d?d.length:0;e.finish=!0;b.queue(this,c,[]);a&&a.va&&a.va.finish&&a.va.finish.call(this);for(a=f.length;a--;)f[a].m===this&&f[a].queue===c&&(f[a].Fc.stop(!0),f.splice(a,1));for(a=0;a<h;a++)d[a]&&d[a].finish&&d[a].finish.call(this);delete e.finish})}});b.each({slideDown:S("show"),slideUp:S("hide"),slideToggle:S("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},
function(c,a){b.fn[c]=function(c,b,e){return this.animate(a,c,b,e)}});b.speed=function(c,a,e){var d=c&&"object"===typeof c?b.extend({},c):{complete:e||!e&&a||b.isFunction(c)&&c,duration:c,Sa:e&&a||a&&!b.isFunction(a)&&a};d.duration=b.fx.off?0:"number"===typeof d.duration?d.duration:d.duration in b.fx.rb?b.fx.rb[d.duration]:b.fx.rb.la;if(null==d.queue||!0===d.queue)d.queue="fx";d.bd=d.complete;d.complete=function(){b.isFunction(d.bd)&&d.bd.call(this);d.queue&&b.dequeue(this,d.queue)};return d};b.Sa=
{th:function(c){return c},Oh:function(c){return.5-Math.cos(c*Math.PI)/2}};b.Ya=[];b.fx=L.prototype.pa;b.fx.sg=function(){var c,a=b.Ya,e=0;for(La=b.now();e<a.length;e++)c=a[e],c()||a[e]!==c||a.splice(e--,1);a.length||b.fx.stop();La=d};b.fx.tg=function(c){c()&&b.Ya.push(c)&&b.fx.start()};b.fx.interval=13;b.fx.start=function(){Za||(Za=setInterval(b.fx.sg,b.fx.interval))};b.fx.stop=function(){clearInterval(Za);Za=null};b.fx.rb={Lh:600,lh:200,la:400};b.fx.step={};b.W&&b.W.filters&&(b.W.filters.Zg=function(c){return b.grep(b.Ya,
function(a){return c===a.m}).length});b.fn.offset=function(c){if(arguments.length)return c===d?this:this.each(function(a){b.offset.jg(this,c,a)});var a,e,f={top:0,left:0},h=(e=this[0])&&e.ownerDocument;if(h){a=h.documentElement;if(!b.contains(a,e))return f;typeof e.getBoundingClientRect!==y&&(f=e.getBoundingClientRect());e=da(h);return{top:f.top+(e.pageYOffset||a.scrollTop)-(a.clientTop||0),left:f.left+(e.pageXOffset||a.scrollLeft)-(a.clientLeft||0)}}};b.offset={jg:function(c,a,e){var d=b.css(c,"position");
"static"===d&&(c.style.position="relative");var f=b(c),h=f.offset(),g=b.css(c,"top"),r=b.css(c,"left"),l={},s={};("absolute"===d||"fixed"===d)&&-1<b.inArray("auto",[g,r])?(s=f.position(),d=s.top,r=s.left):(d=parseFloat(g)||0,r=parseFloat(r)||0);b.isFunction(a)&&(a=a.call(c,e,h));null!=a.top&&(l.top=a.top-h.top+d);null!=a.left&&(l.left=a.left-h.left+r);"using"in a?a.Xh.call(c,l):f.css(l)}};b.fn.extend({position:function(){if(this[0]){var c,a,e={top:0,left:0},d=this[0];"fixed"===b.css(d,"position")?
a=d.getBoundingClientRect():(c=this.offsetParent(),a=this.offset(),b.nodeName(c[0],"html")||(e=c.offset()),e.top+=b.css(c[0],"borderTopWidth",!0),e.left+=b.css(c[0],"borderLeftWidth",!0));return{top:a.top-e.top-b.css(d,"marginTop",!0),left:a.left-e.left-b.css(d,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var c=this.offsetParent||M.documentElement;c&&!b.nodeName(c,"html")&&"static"===b.css(c,"position");)c=c.offsetParent;return c||M.documentElement})}});b.each({scrollLeft:"pageXOffset",
scrollTop:"pageYOffset"},function(c,a){var e=/Y/.test(a);b.fn[c]=function(f){return b.ga(this,function(c,f,h){var g=da(c);if(h===d)return g?a in g?g[a]:g.document.documentElement[f]:c[f];g?g.scrollTo(e?b(g).scrollLeft():h,e?h:b(g).scrollTop()):c[f]=h},c,f,arguments.length,null)}});b.each({Dg:"height",Wg:"width"},function(c,a){b.each({padding:"inner"+c,content:a,"":"outer"+c},function(e,f){b.fn[f]=function(f,h){var g=arguments.length&&(e||"boolean"!==typeof f),r=e||(!0===f||!0===h?"margin":"border");
return b.ga(this,function(a,e,f){return b.isWindow(a)?a.document.documentElement["client"+c]:9===a.nodeType?(e=a.documentElement,Math.max(a.body["scroll"+c],e["scroll"+c],a.body["offset"+c],e["offset"+c],e["client"+c])):f===d?b.css(a,e,r):b.style(a,e,f,r)},a,g?f:d,g,null)}})});a.jQuery=a.$=b;"function"===typeof define&&define.Re&&define.Re.jQuery&&define("jquery",[],function(){return b})})(window);
var WebMol={createViewer:function(a,d){"string"===$.type(a)&&(a=$("#"+a));if(a){d=d||{};d.order||(d.order=["glmol","jmol"]);d.defaultcolors||(d.defaultcolors=WebMol.Nc);for(var l=0;l<d.order.length;l++){var p=d.order[l],t=p+"Viewer";if("function"===typeof this[t])try{return new this[t](a,d.callback,d.defaultcolors)}catch(b){console.log("error with "+p+":"+b)}}alert("Unable to instantiate webmol viewer: "+d.order);return null}},download:function(a,d){var l="";if("pdb:"===a.substr(0,4)){l="pdb";a=a.substr(4).toUpperCase();
if(!a.match(/^[1-9][A-Za-z0-9]{3}$/)){alert("Wrong PDB ID");return}uri="http://www.pdb.org/pdb/files/"+a+".pdb"}else if("cid:"==a.substr(0,4)){l="sdf";a=a.substr(4);if(!a.match(/^[1-9]+$/)){alert("Wrong Compound ID");return}uri="http://pubchem.ncbi.nlm.nih.gov/rest/pug/compound/cid/"+a+"/SDF?record_type=3d"}$.get(uri,function(a){d.Bc(a,l);d.Hd();d.render()});return null},Sg:{Ug:1,Fg:2,Og:3,Pg:4},ea:{v:{},color:function(a){if("undefined"!==typeof this.v[a])return this.v[a];var d=new WebMol.Color(a);
return this.v[a]=d}},Color:function(a){return 1<arguments.length?(this.r=arguments[0]||0,this.g=arguments[1]||0,this.b=arguments[2]||0,this):this.set(a)}};WebMol.Color.prototype={constructor:WebMol.Color,r:0,g:0,b:0,set:function(a){if(a instanceof WebMol.Color)return a.clone();"number"===typeof a&&la(this,a)},clone:function(){return new WebMol.Color(this.r,this.g,this.b)},copy:function(a){this.r=a.r;this.g=a.g;this.b=a.b;return this}};
function la(a,d){d=Math.floor(d);a.r=(d>>16&255)/255;a.g=(d>>8&255)/255;a.b=(d&255)/255}WebMol.wh=function(a,d){var l=d.T;void 0!==l&&a.u.push(l.u[0])};WebMol.xh=function(a){return a.toString().replace(/^[^\/]+\/\*!?/,"").replace(/\*\/[^\/]+$/,"")};WebMol.Ph=!1;WebMol.ge=0;WebMol.Sd=1;WebMol.vb=2;WebMol.sc=0;WebMol.ze=1;WebMol.yg=2;WebMol.Rg=3;WebMol.Ig=4;WebMol.Bg=5;WebMol.Kg=0;WebMol.Cg=1;WebMol.Ge=2;WebMol.ye=0;WebMol.ee=1;WebMol.Vg=2;WebMol.Jg=0;WebMol.Hg=1;WebMol.xg=2;WebMol.Ke=function(){};
WebMol.qc=1001;WebMol.ne=1006;WebMol.oe=1008;WebMol.uc=1009;WebMol.tc=1021;WebMol=WebMol||{};
WebMol.rc=function(){var a={Gf:function(a,n,s,g){function f(a,b,d,f,g,r){var l=new WebMol.Vector3;l.copy(h);var s=g;f&1<<g||!(f&1<<r)||(s=r);s&1&&d++;s&2&&b++;s&4&&a++;l.x+=u.x*a;l.y+=u.y*b;l.z+=u.z*d;a=(C*a+b)*w+d;if(e)return n.push(l),n.length-1;0>G[a]&&(G[a]=n.length,n.push(l));return G[a]}var v=!!g.qf,h=g.hasOwnProperty("origin")&&g.origin.hasOwnProperty("x")?g.origin:{x:0,y:0,z:0},e=!!g.Fd,m=g.Kf||0,C=g.Lf||0,w=g.Mf||0;g=g.scale||1;var u=(new WebMol.Vector3(1,1,1)).multiplyScalar(g),G=new Int32Array(m*
C*w),E;g=0;for(E=G.length;g<E;++g)G[g]=-1;E=new Int32Array(12);var B=v?p:d,v=v?t:l;for(g=0;g<m-1;++g)for(var A=0;A<C-1;++A)for(var r=0;r<w-1;++r){for(var D=0,z=0;8>z;++z)D|=!!(a[(C*(g+((z&4)>>2))+A+((z&2)>>1))*w+r+(z&1)]&2)<<z;if(0!==D&&255!==D){var F=B[D];if(0!==F)for(z=v[D],F&1&&(E[0]=f(g,A,r,D,0,1)),F&2&&(E[1]=f(g,A,r,D,1,3)),F&4&&(E[2]=f(g,A,r,D,3,2)),F&8&&(E[3]=f(g,A,r,D,2,0)),F&16&&(E[4]=f(g,A,r,D,4,5)),F&32&&(E[5]=f(g,A,r,D,5,7)),F&64&&(E[6]=f(g,A,r,D,7,6)),F&128&&(E[7]=f(g,A,r,D,6,4)),F&256&&
(E[8]=f(g,A,r,D,0,4)),F&512&&(E[9]=f(g,A,r,D,1,5)),F&1024&&(E[10]=f(g,A,r,D,3,7)),F&2048&&(E[11]=f(g,A,r,D,2,6)),D=0;D<z.length;D+=3){var F=E[z[D]],H=E[z[D+1]],T=E[z[D+2]];e&&3<=D&&(n.push(n[F]),F=n.length-1,n.push(n[H]),H=n.length-1,n.push(n[T]),T=n.length-1);s.push(F);s.push(H);s.push(T)}}}},Ff:function(a,d,l){var g=Array(d.length),f,p,h,e;f=0;for(p=d.length;f<p;f++)g[f]={x:0,y:0,z:0};var m=Array(20),t;for(f=0;20>f;f++)m[f]=Array(d.length);f=0;for(p=d.length;f<p;f++)m[0][f]=0;f=0;for(p=l.length/
3;f<p;f++){var w=3*f,u=3*f+1,G=3*f+2;t=!0;h=0;for(e=m[0][l[w]];h<e;h++)if(l[u]==m[h+1][l[w]]){t=!1;break}t&&(m[0][l[w]]++,m[m[0][l[w]]][l[w]]=l[u]);t=!0;h=0;for(e=m[0][l[w]];h<e;h++)if(l[G]==m[h+1][l[w]]){t=!1;break}t&&(m[0][l[w]]++,m[m[0][l[w]]][l[w]]=l[G]);t=!0;h=0;for(e=m[0][l[u]];h<e;h++)if(l[w]==m[h+1][l[u]]){t=!1;break}t&&(m[0][l[u]]++,m[m[0][l[u]]][l[u]]=l[w]);t=!0;h=0;for(e=m[0][l[u]];h<e;h++)if(l[G]==m[h+1][l[u]]){t=!1;break}t&&(m[0][l[u]]++,m[m[0][l[u]]][l[u]]=l[G]);t=!0;for(h=0;h<m[0][l[G]];h++)if(l[w]==
m[h+1][l[G]]){t=!1;break}t&&(m[0][l[G]]++,m[m[0][l[G]]][l[G]]=l[w]);t=!0;h=0;for(e=m[0][l[G]];h<e;h++)if(l[u]==m[h+1][l[G]]){t=!1;break}t&&(m[0][l[G]]++,m[m[0][l[G]]][l[G]]=l[u])}for(l=0;l<a;l++){f=0;for(p=d.length;f<p;f++)if(3>m[0][f])g[f].x=d[f].x,g[f].y=d[f].y,g[f].z=d[f].z;else if(3==m[0][f]||4==m[0][f]){g[f].x=0;g[f].y=0;h=g[f].z=0;for(e=m[0][f];h<e;h++)g[f].x+=d[m[h+1][f]].x,g[f].y+=d[m[h+1][f]].y,g[f].z+=d[m[h+1][f]].z;g[f].x+=.5*d[f].x;g[f].y+=.5*d[f].y;g[f].z+=.5*d[f].z;g[f].x/=.5+m[0][f];
g[f].y/=.5+m[0][f];g[f].z/=.5+m[0][f]}else{g[f].x=0;g[f].y=0;h=g[f].z=0;for(e=m[0][f];h<e;h++)g[f].x+=d[m[h+1][f]].x,g[f].y+=d[m[h+1][f]].y,g[f].z+=d[m[h+1][f]].z;g[f].x+=1*d[f].x;g[f].y+=1*d[f].y;g[f].z+=1*d[f].z;g[f].x/=1+m[0][f];g[f].y/=1+m[0][f];g[f].z/=1+m[0][f]}f=0;for(p=d.length;f<p;f++)d[f].x=g[f].x,d[f].y=g[f].y,d[f].z=g[f].z}},of:[0,0,0,0,0,0,0,2816,0,0,0,1792,0,3328,3584,3840,0,0,0,138,0,21,0,134,0,0,0,652,0,2067,3865,3600,0,0,0,42,0,0,0,294,0,0,21,28,0,3875,1049,3360,0,168,162,170,0,645,
2475,2210,0,687,293,172,4010,3747,3497,3232,0,0,0,0,0,69,0,900,0,0,0,1792,138,131,1608,1920,0,81,0,2074,84,85,84,86,0,81,0,3676,330,1105,1881,1616,0,0,0,42,0,69,0,502,0,0,21,3580,138,2035,1273,1520,2816,104,2337,106,840,581,367,102,2816,3695,3429,3180,1898,1635,1385,1120,0,0,0,0,0,0,0,3910,0,0,69,588,42,2083,41,2880,0,0,0,1722,0,2293,4095,3830,0,255,757,764,2538,2291,3065,2800,0,0,81,338,0,3925,1119,3414,84,855,85,340,2130,2899,89,2384,1792,712,194,1162,4036,3781,3535,3270,708,719,197,204,3018,2755,
2505,2240,0,0,0,0,168,420,168,1958,162,162,676,2988,170,163,680,928,3328,3096,3328,3642,52,53,1855,1590,2340,2111,2869,2620,298,51,825,560,3584,3584,3090,3482,1668,1941,1183,1430,146,2975,2069,2460,154,915,153,400,3840,3592,3329,3082,1796,1541,1295,1030,2818,2575,2309,2060,778,515,265,0]},d=new Uint32Array(a.of),l=a.Uh=[[],[],[],[],[],[],[],[11,9,8],[],[],[],[8,10,9],[],[10,8,11],[9,11,10],[8,10,9,8,11,10],[],[],[],[1,7,3],[],[4,2,0],[],[2,1,7],[],[],[],[2,7,3,2,9,7],[],[1,4,11,1,0,4],[3,8,0,11,9,
4,11,10,9],[4,11,9,11,10,9],[],[],[],[5,3,1],[],[],[],[2,5,8,2,1,5],[],[],[2,4,0],[3,2,4],[],[0,9,1,8,10,5,8,11,10],[3,4,0,3,10,4],[5,8,10,8,11,10],[],[3,5,7],[7,1,5],[1,7,3,1,5,7],[],[9,2,0,9,7,2],[0,3,8,1,7,11,1,5,7],[11,1,7,1,5,7],[],[9,1,0,5,3,2,5,7,3],[8,2,5,8,0,2],[2,5,3,5,7,3],[3,9,1,3,8,9,7,11,10,7,10,5],[9,1,0,10,7,11,10,5,7],[3,8,0,7,10,5,7,11,10],[11,5,7,11,10,5],[],[],[],[],[],[0,6,2],[],[7,2,9,7,9,8],[],[],[],[8,10,9],[7,1,3],[7,1,0],[6,9,3,6,10,9],[7,10,8,10,9,8],[],[6,0,4],[],[11,1,
4,11,3,1],[2,4,6],[2,0,4,2,4,6],[2,4,6],[1,4,2,4,6,2],[],[6,0,4],[],[2,11,3,6,9,4,6,10,9],[8,6,1,8,1,3],[10,0,6,0,4,6],[8,0,3,9,6,10,9,4,6],[10,4,6,10,9,4],[],[],[],[5,3,1],[],[0,6,2],[],[7,4,8,5,2,1,5,6,2],[],[],[2,4,0],[7,4,8,2,11,3,10,5,6],[7,1,3],[5,6,10,0,9,1,8,7,4],[5,6,10,7,0,3,7,4,0],[10,5,6,4,8,7],[9,11,8],[3,5,6],[0,5,11,0,11,8],[6,3,5,3,1,5],[3,9,6,3,8,9],[9,6,0,6,2,0],[0,3,8,2,5,6,2,1,5],[1,6,2,1,5,6],[9,11,8],[1,0,9,6,10,5,11,3,2],[6,10,5,2,8,0,2,11,8],[3,2,11,10,5,6],[10,5,6,9,3,8,9,
1,3],[0,9,1,5,6,10],[8,0,3,10,5,6],[10,5,6],[],[],[],[],[],[],[],[1,10,2,9,11,6,9,8,11],[],[],[6,0,2],[3,6,9,3,2,6],[3,5,1],[0,5,1,0,11,5],[0,3,5],[6,9,11,9,8,11],[],[],[],[4,5,9,7,1,10,7,3,1],[],[11,6,7,2,4,5,2,0,4],[11,6,7,8,0,3,1,10,2,9,4,5],[6,7,11,1,10,2,9,4,5],[],[4,1,0,4,5,1,6,7,3,6,3,2],[9,4,5,0,6,7,0,2,6],[4,5,9,6,3,2,6,7,3],[6,7,11,5,3,8,5,1,3],[6,7,11,4,1,0,4,5,1],[4,5,9,3,8,0,11,6,7],[9,4,5,7,11,6],[],[],[0,6,4],[8,6,4,8,1,6],[],[0,10,2,0,9,10,4,8,11,4,11,6],[10,2,1,6,0,3,6,4,0],[10,2,
1,11,4,8,11,6,4],[4,2,6],[1,0,9,2,4,8,2,6,4],[2,4,0,2,6,4],[8,2,4,2,6,4],[11,4,1,11,6,4],[0,9,1,4,11,6,4,8,11],[3,6,0,6,4,0],[8,6,4,8,11,6],[10,8,9],[6,3,9,6,7,3],[6,7,1],[10,7,1,7,3,1],[7,11,6,8,10,2,8,9,10],[11,6,7,10,0,9,10,2,0],[2,1,10,7,11,6,8,0,3],[1,10,2,6,7,11],[7,2,6,7,9,2],[1,0,9,3,6,7,3,2,6],[7,0,6,0,2,6],[2,7,3,2,6,7],[7,11,6,3,9,1,3,8,9],[9,1,0,11,6,7],[0,3,8,11,6,7],[11,6,7],[],[],[],[],[5,3,7],[8,5,2,8,7,5],[5,3,7],[1,10,2,5,8,7,5,9,8],[1,7,5],[1,7,5],[9,2,7,9,7,5],[11,3,2,8,5,9,8,
7,5],[1,3,7,1,7,5],[0,7,1,7,5,1],[9,3,5,3,7,5],[9,7,5,9,8,7],[8,10,11],[3,4,10,3,10,11],[8,10,11],[5,9,4,1,11,3,1,10,11],[2,4,5],[5,2,4,2,0,4],[0,3,8,5,9,4,10,2,1],[2,1,10,9,4,5],[2,8,5,2,11,8],[3,2,11,1,4,5,1,0,4],[9,4,5,8,2,11,8,0,2],[11,3,2,9,4,5],[8,5,3,5,1,3],[5,0,4,5,1,0],[3,8,0,4,5,9],[9,4,5],[11,9,10],[11,9,10],[1,11,4,1,10,11],[8,7,4,11,1,10,11,3,1],[2,7,9,2,9,10],[4,8,7,0,10,2,0,9,10],[2,1,10,0,7,4,0,3,7],[10,2,1,8,7,4],[1,7,4],[3,2,11,4,8,7,9,1,0],[11,4,2,4,0,2],[2,11,3,7,4,8],[4,1,7,1,
3,7],[1,0,9,8,7,4],[3,4,0,3,7,4],[8,7,4],[8,9,10,8,10,11],[3,9,11,9,10,11],[0,10,8,10,11,8],[10,3,1,10,11,3],[2,8,10,8,9,10],[9,2,0,9,10,2],[8,0,3,1,10,2],[10,2,1],[1,11,9,11,8,9],[11,3,2,0,9,1],[11,0,2,11,8,0],[11,3,2],[8,1,3,8,9,1],[9,1,0],[8,0,3],[]],p=[0,265,515,778,2060,2309,2575,2822,1030,1295,1541,1804,3082,3331,3593,3840,400,153,915,666,2460,2197,2975,2710,1430,1183,1941,1692,3482,3219,3993,3728,560,825,51,314,2620,2869,2111,2358,1590,1855,1077,1340,3642,3891,3129,3376,928,681,419,170,2988,
2725,2479,2214,1958,1711,1445,1196,4010,3747,3497,3232,2240,2505,2755,3018,204,453,719,966,3270,3535,3781,4044,1226,1475,1737,1984,2384,2137,2899,2650,348,85,863,598,3414,3167,3925,3676,1370,1107,1881,1616,2800,3065,2291,2554,764,1013,255,502,3830,4095,3317,3580,1786,2035,1273,1520,2912,2665,2403,2154,876,613,367,102,3942,3695,3429,3180,1898,1635,1385,1120,1120,1385,1635,1898,3180,3429,3695,3942,102,367,613,876,2154,2403,2665,2912,1520,1273,2035,1786,3580,3317,4095,3830,502,255,1013,764,2554,2291,
3065,2800,1616,1881,1107,1370,3676,3925,3167,3414,598,863,85,348,2650,2899,2137,2384,1984,1737,1475,1226,4044,3781,3535,3270,966,719,453,204,3018,2755,2505,2240,3232,3497,3747,4010,1196,1445,1711,1958,2214,2479,2725,2988,170,419,681,928,3376,3129,3891,3642,1340,1077,1855,1590,2358,2111,2869,2620,314,51,825,560,3728,3993,3219,3482,1692,1941,1183,1430,2710,2975,2197,2460,666,915,153,400,3840,3593,3331,3082,1804,1541,1295,1030,2822,2575,2309,2060,778,515,265,0],t=[[],[8,3,0],[9,0,1],[8,3,1,8,1,9],[11,
2,3],[11,2,0,11,0,8],[11,2,3,0,1,9],[2,1,11,1,9,11,11,9,8],[10,1,2],[8,3,0,1,2,10],[9,0,2,9,2,10],[3,2,8,2,10,8,8,10,9],[10,1,3,10,3,11],[1,0,10,0,8,10,10,8,11],[0,3,9,3,11,9,9,11,10],[8,10,9,8,11,10],[8,4,7],[3,0,4,3,4,7],[1,9,0,8,4,7],[9,4,1,4,7,1,1,7,3],[2,3,11,7,8,4],[7,11,4,11,2,4,4,2,0],[3,11,2,4,7,8,9,0,1],[2,7,11,2,1,7,1,4,7,1,9,4],[10,1,2,8,4,7],[2,10,1,0,4,7,0,7,3],[4,7,8,0,2,10,0,10,9],[2,7,3,2,9,7,7,9,4,2,10,9],[8,4,7,11,10,1,11,1,3],[11,4,7,1,4,11,1,11,10,1,0,4],[3,8,0,7,11,4,11,9,4,
11,10,9],[7,11,4,4,11,9,11,10,9],[9,5,4],[3,0,8,4,9,5],[5,4,0,5,0,1],[4,8,5,8,3,5,5,3,1],[11,2,3,9,5,4],[9,5,4,8,11,2,8,2,0],[3,11,2,1,5,4,1,4,0],[8,5,4,2,5,8,2,8,11,2,1,5],[2,10,1,9,5,4],[0,8,3,5,4,9,10,1,2],[10,5,2,5,4,2,2,4,0],[3,4,8,3,2,4,2,5,4,2,10,5],[5,4,9,1,3,11,1,11,10],[0,9,1,4,8,5,8,10,5,8,11,10],[3,4,0,3,10,4,4,10,5,3,11,10],[4,8,5,5,8,10,8,11,10],[9,5,7,9,7,8],[0,9,3,9,5,3,3,5,7],[8,0,7,0,1,7,7,1,5],[1,7,3,1,5,7],[11,2,3,8,9,5,8,5,7],[9,2,0,9,7,2,2,7,11,9,5,7],[0,3,8,2,1,11,1,7,11,1,
5,7],[2,1,11,11,1,7,1,5,7],[1,2,10,5,7,8,5,8,9],[9,1,0,10,5,2,5,3,2,5,7,3],[5,2,10,8,2,5,8,5,7,8,0,2],[10,5,2,2,5,3,5,7,3],[3,9,1,3,8,9,7,11,10,7,10,5],[9,1,0,10,7,11,10,5,7],[3,8,0,7,10,5,7,11,10],[11,5,7,11,10,5],[11,7,6],[0,8,3,11,7,6],[9,0,1,11,7,6],[7,6,11,3,1,9,3,9,8],[2,3,7,2,7,6],[8,7,0,7,6,0,0,6,2],[1,9,0,3,7,6,3,6,2],[7,6,2,7,2,9,2,1,9,7,9,8],[1,2,10,6,11,7],[2,10,1,7,6,11,8,3,0],[11,7,6,10,9,0,10,0,2],[7,6,11,3,2,8,8,2,10,8,10,9],[6,10,7,10,1,7,7,1,3],[6,10,1,6,1,7,7,1,0,7,0,8],[9,0,3,
6,9,3,6,10,9,6,3,7],[6,10,7,7,10,8,10,9,8],[8,4,6,8,6,11],[11,3,6,3,0,6,6,0,4],[0,1,9,4,6,11,4,11,8],[1,9,4,11,1,4,11,3,1,11,4,6],[3,8,2,8,4,2,2,4,6],[2,0,4,2,4,6],[1,9,0,3,8,2,2,8,4,2,4,6],[9,4,1,1,4,2,4,6,2],[10,1,2,11,8,4,11,4,6],[10,1,2,11,3,6,6,3,0,6,0,4],[0,2,10,0,10,9,4,11,8,4,6,11],[2,11,3,6,9,4,6,10,9],[8,4,6,8,6,1,6,10,1,8,1,3],[1,0,10,10,0,6,0,4,6],[8,0,3,9,6,10,9,4,6],[10,4,6,10,9,4],[9,5,4,7,6,11],[4,9,5,3,0,8,11,7,6],[6,11,7,4,0,1,4,1,5],[6,11,7,4,8,5,5,8,3,5,3,1],[4,9,5,6,2,3,6,3,7],
[9,5,4,8,7,0,0,7,6,0,6,2],[4,0,1,4,1,5,6,3,7,6,2,3],[7,4,8,5,2,1,5,6,2],[6,11,7,1,2,10,9,5,4],[11,7,6,8,3,0,1,2,10,9,5,4],[11,7,6,10,5,2,2,5,4,2,4,0],[7,4,8,2,11,3,10,5,6],[4,9,5,6,10,7,7,10,1,7,1,3],[5,6,10,0,9,1,8,7,4],[5,6,10,7,0,3,7,4,0],[10,5,6,4,8,7],[5,6,9,6,11,9,9,11,8],[0,9,5,0,5,3,3,5,6,3,6,11],[0,1,5,0,5,11,5,6,11,0,11,8],[11,3,6,6,3,5,3,1,5],[9,5,6,3,9,6,3,8,9,3,6,2],[5,6,9,9,6,0,6,2,0],[0,3,8,2,5,6,2,1,5],[1,6,2,1,5,6],[1,2,10,5,6,9,9,6,11,9,11,8],[1,0,9,6,10,5,11,3,2],[6,10,5,2,8,0,
2,11,8],[3,2,11,10,5,6],[10,5,6,9,3,8,9,1,3],[0,9,1,5,6,10],[8,0,3,10,5,6],[10,5,6],[10,6,5],[8,3,0,10,6,5],[0,1,9,5,10,6],[10,6,5,9,8,3,9,3,1],[3,11,2,10,6,5],[6,5,10,2,0,8,2,8,11],[1,9,0,6,5,10,11,2,3],[1,10,2,5,9,6,9,11,6,9,8,11],[1,2,6,1,6,5],[0,8,3,2,6,5,2,5,1],[5,9,6,9,0,6,6,0,2],[9,6,5,3,6,9,3,9,8,3,2,6],[11,6,3,6,5,3,3,5,1],[0,5,1,0,11,5,5,11,6,0,8,11],[0,5,9,0,3,5,3,6,5,3,11,6],[5,9,6,6,9,11,9,8,11],[10,6,5,4,7,8],[5,10,6,7,3,0,7,0,4],[5,10,6,0,1,9,8,4,7],[4,5,9,6,7,10,7,1,10,7,3,1],[7,8,
4,2,3,11,10,6,5],[11,6,7,10,2,5,2,4,5,2,0,4],[11,6,7,8,0,3,1,10,2,9,4,5],[6,7,11,1,10,2,9,4,5],[7,8,4,5,1,2,5,2,6],[4,1,0,4,5,1,6,7,3,6,3,2],[9,4,5,8,0,7,0,6,7,0,2,6],[4,5,9,6,3,2,6,7,3],[6,7,11,4,5,8,5,3,8,5,1,3],[6,7,11,4,1,0,4,5,1],[4,5,9,3,8,0,11,6,7],[9,4,5,7,11,6],[10,6,4,10,4,9],[8,3,0,9,10,6,9,6,4],[1,10,0,10,6,0,0,6,4],[8,6,4,8,1,6,6,1,10,8,3,1],[2,3,11,6,4,9,6,9,10],[0,10,2,0,9,10,4,8,11,4,11,6],[10,2,1,11,6,3,6,0,3,6,4,0],[10,2,1,11,4,8,11,6,4],[9,1,4,1,2,4,4,2,6],[1,0,9,3,2,8,2,4,8,2,
6,4],[2,4,0,2,6,4],[3,2,8,8,2,4,2,6,4],[1,4,9,11,4,1,11,1,3,11,6,4],[0,9,1,4,11,6,4,8,11],[11,6,3,3,6,0,6,4,0],[8,6,4,8,11,6],[6,7,10,7,8,10,10,8,9],[9,3,0,6,3,9,6,9,10,6,7,3],[6,1,10,6,7,1,7,0,1,7,8,0],[6,7,10,10,7,1,7,3,1],[7,11,6,3,8,2,8,10,2,8,9,10],[11,6,7,10,0,9,10,2,0],[2,1,10,7,11,6,8,0,3],[1,10,2,6,7,11],[7,2,6,7,9,2,2,9,1,7,8,9],[1,0,9,3,6,7,3,2,6],[8,0,7,7,0,6,0,2,6],[2,7,3,2,6,7],[7,11,6,3,9,1,3,8,9],[9,1,0,11,6,7],[0,3,8,11,6,7],[11,6,7],[11,7,5,11,5,10],[3,0,8,7,5,10,7,10,11],[9,0,1,
10,11,7,10,7,5],[3,1,9,3,9,8,7,10,11,7,5,10],[10,2,5,2,3,5,5,3,7],[5,10,2,8,5,2,8,7,5,8,2,0],[9,0,1,10,2,5,5,2,3,5,3,7],[1,10,2,5,8,7,5,9,8],[2,11,1,11,7,1,1,7,5],[0,8,3,2,11,1,1,11,7,1,7,5],[9,0,2,9,2,7,2,11,7,9,7,5],[11,3,2,8,5,9,8,7,5],[1,3,7,1,7,5],[8,7,0,0,7,1,7,5,1],[0,3,9,9,3,5,3,7,5],[9,7,5,9,8,7],[4,5,8,5,10,8,8,10,11],[3,0,4,3,4,10,4,5,10,3,10,11],[0,1,9,4,5,8,8,5,10,8,10,11],[5,9,4,1,11,3,1,10,11],[3,8,4,3,4,2,2,4,5,2,5,10],[10,2,5,5,2,4,2,0,4],[0,3,8,5,9,4,10,2,1],[2,1,10,9,4,5],[8,4,
5,2,8,5,2,11,8,2,5,1],[3,2,11,1,4,5,1,0,4],[9,4,5,8,2,11,8,0,2],[11,3,2,9,4,5],[4,5,8,8,5,3,5,1,3],[5,0,4,5,1,0],[3,8,0,4,5,9],[9,4,5],[7,4,11,4,9,11,11,9,10],[3,0,8,7,4,11,11,4,9,11,9,10],[11,7,4,1,11,4,1,10,11,1,4,0],[8,7,4,11,1,10,11,3,1],[2,3,7,2,7,9,7,4,9,2,9,10],[4,8,7,0,10,2,0,9,10],[2,1,10,0,7,4,0,3,7],[10,2,1,8,7,4],[2,11,7,2,7,1,1,7,4,1,4,9],[3,2,11,4,8,7,9,1,0],[7,4,11,11,4,2,4,0,2],[2,11,3,7,4,8],[9,1,4,4,1,7,1,3,7],[1,0,9,8,7,4],[3,4,0,3,7,4],[8,7,4],[8,9,10,8,10,11],[0,9,3,3,9,11,9,
10,11],[1,10,0,0,10,8,10,11,8],[10,3,1,10,11,3],[3,8,2,2,8,10,8,9,10],[9,2,0,9,10,2],[8,0,3,1,10,2],[10,2,1],[2,11,1,1,11,9,11,8,9],[11,3,2,0,9,1],[11,0,2,11,8,0],[11,3,2],[8,1,3,8,9,1],[9,1,0],[8,0,3],[]];return a}();"undefined"===typeof console&&(console={log:function(){}});
WebMol.Lg=function(){new Int32Array([1,0,0]);new Int32Array([-1,0,0]);new Int32Array([0,1,0]);new Int32Array([0,-1,0]);new Int32Array([0,0,1]);new Int32Array([0,0,-1]);new Int32Array([1,1,0]);new Int32Array([1,-1,0]);new Int32Array([-1,1,0]);new Int32Array([-1,-1,0]);new Int32Array([1,0,1]);new Int32Array([1,0,-1]);new Int32Array([-1,0,1]);new Int32Array([-1,0,-1]);new Int32Array([0,1,1]);new Int32Array([0,1,-1]);new Int32Array([0,-1,1]);new Int32Array([0,-1,-1]);new Int32Array([1,1,1]);new Int32Array([1,
1,-1]);new Int32Array([1,-1,1]);new Int32Array([-1,1,1]);new Int32Array([1,-1,-1]);new Int32Array([-1,-1,1]);new Int32Array([-1,1,-1]);new Int32Array([-1,-1,-1])};WebMol.wg='self.onmessage=function(oEvent){var obj=oEvent.data,type=obj.type;if(0>type)self.atomData=obj.atoms,self.volume=obj.volume,self.ps=new ProteinSurface;else{var ps=self.ps;ps.initparm(obj.expandedExtent,1==type?!1:!0,self.volume),ps.fillvoxels(self.atomData,obj.extendedAtoms),ps.buildboundary(),(4===type||2===type)&&(ps.fastdistancemap(),ps.boundingatom(!1),ps.fillvoxelswaals(self.atomData,obj.extendedAtoms)),ps.marchingcube(type);var VandF=ps.getFacesAndVertices(obj.atomsToShow);self.postMessage(VandF)}};var Vector3=function(x,y,z){this.x=x||0,this.y=y||0,this.z=z||0};Vector3.prototype={constructor:Vector3,copy:function(v){return this.x=v.x,this.y=v.y,this.z=v.z,this},multiplyScalar:function(s){return this.x*=s,this.y*=s,this.z*=s,this}};var ISDONE=2,ProteinSurface=function (){var faces,verts,origextent,INOUT=1,ISDONE=2,ISBOUND=4,ptranx=0,ptrany=0,ptranz=0,probeRadius=1.4,defaultScaleFactor=2,scaleFactor=defaultScaleFactor,pHeight=0,pWidth=0,pLength=0,cutRadius=0,vpBits=null,vpDistance=null,vpAtomID=null,pminx=0,pminy=0,pminz=0,pmaxx=0,pmaxy=0,pmaxz=0,vdwRadii={H:1.2,Li:1.82,Na:2.27,K:2.75,C:1.7,N:1.55,O:1.52,F:1.47,P:1.8,S:1.8,CL:1.75,BR:1.85,SE:1.9,ZN:1.39,CU:1.4,NI:1.63,X:2},getVDWIndex=function(atom){return atom.elem&&"undefined"!=typeof vdwRadii[atom.elem]?atom.elem:"X"},depty={},widxz={},nb=[new Int32Array([1,0,0]),new Int32Array([-1,0,0]),new Int32Array([0,1,0]),new Int32Array([0,-1,0]),new Int32Array([0,0,1]),new Int32Array([0,0,-1]),new Int32Array([1,1,0]),new Int32Array([1,-1,0]),new Int32Array([-1,1,0]),new Int32Array([-1,-1,0]),new Int32Array([1,0,1]),new Int32Array([1,0,-1]),new Int32Array([-1,0,1]),new Int32Array([-1,0,-1]),new Int32Array([0,1,1]),new Int32Array([0,1,-1]),new Int32Array([0,-1,1]),new Int32Array([0,-1,-1]),new Int32Array([1,1,1]),new Int32Array([1,1,-1]),new Int32Array([1,-1,1]),new Int32Array([-1,1,1]),new Int32Array([1,-1,-1]),new Int32Array([-1,-1,1]),new Int32Array([-1,1,-1]),new Int32Array([-1,-1,-1])];this.getFacesAndVertices=function(atomlist){var i,il,atomsToShow={};for(i=0,il=atomlist.length;il>i;i++)atomsToShow[atomlist[i]]=!0;var vertices=verts;for(i=0,il=vertices.length;il>i;i++)vertices[i].x=vertices[i].x/scaleFactor-ptranx,vertices[i].y=vertices[i].y/scaleFactor-ptrany,vertices[i].z=vertices[i].z/scaleFactor-ptranz;var finalfaces=[];for(i=0,il=faces.length;il>i;i+=3){var fa=faces[i],fb=faces[i+1],fc=faces[i+2],a=vertices[fa].atomid,b=vertices[fb].atomid,c=vertices[fc].atomid,which=a;if(which>b&&(which=b),which>c&&(which=c),atomsToShow[which]){{vertices[faces[i]],vertices[faces[i+1]],vertices[faces[i+2]]}fa!==fb&&fb!==fc&&fa!==fc&&(finalfaces.push(fa),finalfaces.push(fb),finalfaces.push(fc))}}return vpBits=null,vpDistance=null,vpAtomID=null,{vertices:vertices,faces:finalfaces}},this.initparm=function(extent,btype,volume){volume>1e6&&(scaleFactor=defaultScaleFactor/2);var margin=1/scaleFactor*5.5;origextent=extent,pminx=extent[0][0],pmaxx=extent[1][0],pminy=extent[0][1],pmaxy=extent[1][1],pminz=extent[0][2],pmaxz=extent[1][2],btype?(pminx-=probeRadius+margin,pminy-=probeRadius+margin,pminz-=probeRadius+margin,pmaxx+=probeRadius+margin,pmaxy+=probeRadius+margin,pmaxz+=probeRadius+margin):(pminx-=margin,pminy-=margin,pminz-=margin,pmaxx+=margin,pmaxy+=margin,pmaxz+=margin),pminx=Math.floor(pminx*scaleFactor)/scaleFactor,pminy=Math.floor(pminy*scaleFactor)/scaleFactor,pminz=Math.floor(pminz*scaleFactor)/scaleFactor,pmaxx=Math.ceil(pmaxx*scaleFactor)/scaleFactor,pmaxy=Math.ceil(pmaxy*scaleFactor)/scaleFactor,pmaxz=Math.ceil(pmaxz*scaleFactor)/scaleFactor,ptranx=-pminx,ptrany=-pminy,ptranz=-pminz,pLength=Math.ceil(scaleFactor*(pmaxx-pminx))+1,pWidth=Math.ceil(scaleFactor*(pmaxy-pminy))+1,pHeight=Math.ceil(scaleFactor*(pmaxz-pminz))+1,this.boundingatom(btype),cutRadius=probeRadius*scaleFactor,vpBits=new Uint8Array(pLength*pWidth*pHeight),vpDistance=new Float64Array(pLength*pWidth*pHeight),vpAtomID=new Int32Array(pLength*pWidth*pHeight),console.log("Box size: ",pLength,pWidth,pHeight,vpBits.length)},this.boundingatom=function(btype){var txz,tdept,sradius,tradius=[];flagradius=btype;for(var i in vdwRadii)if(vdwRadii.hasOwnProperty(i)){var r=vdwRadii[i];for(tradius[i]=btype?(r+probeRadius)*scaleFactor+.5:r*scaleFactor+.5,sradius=tradius[i]*tradius[i],widxz[i]=Math.floor(tradius[i])+1,depty[i]=new Int32Array(widxz[i]*widxz[i]),indx=0,j=0;j<widxz[i];j++)for(k=0;k<widxz[i];k++)txz=j*j+k*k,txz>sradius?depty[i][indx]=-1:(tdept=Math.sqrt(sradius-txz),depty[i][indx]=Math.floor(tdept)),indx++}},this.fillvoxels=function(atoms,atomlist){var i,il;for(i=0,il=vpBits.length;il>i;i++)vpBits[i]=0,vpDistance[i]=-1,vpAtomID[i]=-1;for(i in atomlist){var atom=atoms[atomlist[i]];void 0!==atom&&this.fillAtom(atom,atoms)}for(i=0,il=vpBits.length;il>i;i++)vpBits[i]&INOUT&&(vpBits[i]|=ISDONE)},this.fillAtom=function(atom,atoms){var cx,cy,cz,ox,oy,oz,mi,mj,mk,i,j,k,si,sj,sk,ii,jj,kk,n;cx=Math.floor(.5+scaleFactor*(atom.x+ptranx)),cy=Math.floor(.5+scaleFactor*(atom.y+ptrany)),cz=Math.floor(.5+scaleFactor*(atom.z+ptranz));var at=getVDWIndex(atom),nind=0,pWH=pWidth*pHeight;for(i=0,n=widxz[at];n>i;i++)for(j=0;n>j;j++){if(-1!=depty[at][nind])for(ii=-1;2>ii;ii++)for(jj=-1;2>jj;jj++)for(kk=-1;2>kk;kk++)if(0!==ii&&0!==jj&&0!==kk)for(mi=ii*i,mk=kk*j,k=0;k<=depty[at][nind];k++)if(mj=k*jj,si=cx+mi,sj=cy+mj,sk=cz+mk,!(0>si||0>sj||0>sk||si>=pLength||sj>=pWidth||sk>=pHeight)){var index=si*pWH+sj*pHeight+sk;if(vpBits[index]&INOUT){var atom2=atoms[vpAtomID[index]];ox=Math.floor(.5+scaleFactor*(atom2.x+ptranx)),oy=Math.floor(.5+scaleFactor*(atom2.y+ptrany)),oz=Math.floor(.5+scaleFactor*(atom2.z+ptranz)),ox*ox+oy*oy+oz*oz>mi*mi+mj*mj+mk*mk&&(vpAtomID[index]=atom.serial)}else vpBits[index]|=INOUT,vpAtomID[index]=atom.serial}nind++}},this.fillvoxelswaals=function(atoms,atomlist){var i,il;for(i=0,il=vpBits.length;il>i;i++)vpBits[i]&=~ISDONE;for(i in atomlist){var atom=atoms[atomlist[i]];void 0!==atom&&this.fillAtomWaals(atom,atoms)}},this.fillAtomWaals=function(atom,atoms){var cx,cy,cz,ox,oy,oz,mi,mj,mk,si,sj,sk,i,j,k,ii,jj,kk,n,nind=0;cx=Math.floor(.5+scaleFactor*(atom.x+ptranx)),cy=Math.floor(.5+scaleFactor*(atom.y+ptrany)),cz=Math.floor(.5+scaleFactor*(atom.z+ptranz));var at=getVDWIndex(atom),pWH=pWidth*pHeight;for(i=0,n=widxz[at];n>i;i++)for(j=0;n>j;j++){if(-1!=depty[at][nind])for(ii=-1;2>ii;ii++)for(jj=-1;2>jj;jj++)for(kk=-1;2>kk;kk++)if(0!==ii&&0!==jj&&0!==kk)for(mi=ii*i,mk=kk*j,k=0;k<=depty[at][nind];k++)if(mj=k*jj,si=cx+mi,sj=cy+mj,sk=cz+mk,!(0>si||0>sj||0>sk||si>=pLength||sj>=pWidth||sk>=pHeight)){var index=si*pWH+sj*pHeight+sk;if(vpBits[index]&ISDONE){var atom2=atoms[vpAtomID[index]];ox=Math.floor(.5+scaleFactor*(atom2.x+ptranx)),oy=Math.floor(.5+scaleFactor*(atom2.y+ptrany)),oz=Math.floor(.5+scaleFactor*(atom2.z+ptranz)),ox*ox+oy*oy+oz*oz>mi*mi+mj*mj+mk*mk&&(vpAtomID[index]=atom.serial)}else vpBits[index]|=ISDONE,vpAtomID[index]=atom.serial}nind++}},this.buildboundary=function(){var pWH=pWidth*pHeight;for(i=0;pLength>i;i++)for(j=0;pHeight>j;j++)for(k=0;pWidth>k;k++){var index=i*pWH+k*pHeight+j;if(vpBits[index]&INOUT)for(var ii=0;26>ii;){var ti=i+nb[ii][0],tj=j+nb[ii][2],tk=k+nb[ii][1];if(ti>-1&&pLength>ti&&tk>-1&&pWidth>tk&&tj>-1&&pHeight>tj&&!(vpBits[ti*pWH+tk*pHeight+tj]&INOUT)){vpBits[index]|=ISBOUND;break}ii++}}};var PointGrid=function(length,width,height){var data=new Int32Array(length*width*height*3);this.set=function(x,y,z,pt){var index=3*((x*width+y)*height+z);data[index]=pt.ix,data[index+1]=pt.iy,data[index+2]=pt.iz},this.get=function(x,y,z){var index=3*((x*width+y)*height+z);return{ix:data[index],iy:data[index+1],iz:data[index+2]}}};this.fastdistancemap=function(){var i,j,k,n,index,boundPoint=new PointGrid(pLength,pWidth,pHeight),pWH=pWidth*pHeight,cutRSq=cutRadius*cutRadius,inarray=[],outarray=[];for(i=0;pLength>i;i++)for(j=0;pWidth>j;j++)for(k=0;pHeight>k;k++)if(index=i*pWH+j*pHeight+k,vpBits[index]&=~ISDONE,vpBits[index]&INOUT&&vpBits[index]&ISBOUND){var triple={ix:i,iy:j,iz:k};boundPoint.set(i,j,k,triple),inarray.push(triple),vpDistance[index]=0,vpBits[index]|=ISDONE,vpBits[index]&=~ISBOUND}do for(outarray=this.fastoneshell(inarray,boundPoint),inarray=[],i=0,n=outarray.length;n>i;i++)index=pWH*outarray[i].ix+pHeight*outarray[i].iy+outarray[i].iz,vpBits[index]&=~ISBOUND,vpDistance[index]<=1.0404*cutRSq&&inarray.push({ix:outarray[i].ix,iy:outarray[i].iy,iz:outarray[i].iz});while(0!==inarray.length);inarray=[],outarray=[],boundPoint=null;var cutsf=scaleFactor-.5;0>cutsf&&(cutsf=0);var cutoff=cutRSq-.5/(.1+cutsf);for(i=0;pLength>i;i++)for(j=0;pWidth>j;j++)for(k=0;pHeight>k;k++)index=i*pWH+j*pHeight+k,vpBits[index]&=~ISBOUND,vpBits[index]&INOUT&&(!(vpBits[index]&ISDONE)||vpBits[index]&ISDONE&&vpDistance[index]>=cutoff)&&(vpBits[index]|=ISBOUND)},this.fastoneshell=function(inarray,boundPoint){var tx,ty,tz,dx,dy,dz,i,j,n,square,bp,index,outarray=[];if(0===inarray.length)return outarray;tnv={ix:-1,iy:-1,iz:-1};var pWH=pWidth*pHeight;for(i=0,n=inarray.length;n>i;i++)for(tx=inarray[i].ix,ty=inarray[i].iy,tz=inarray[i].iz,bp=boundPoint.get(tx,ty,tz),j=0;6>j;j++)tnv.ix=tx+nb[j][0],tnv.iy=ty+nb[j][1],tnv.iz=tz+nb[j][2],tnv.ix<pLength&&tnv.ix>-1&&tnv.iy<pWidth&&tnv.iy>-1&&tnv.iz<pHeight&&tnv.iz>-1&&(index=tnv.ix*pWH+pHeight*tnv.iy+tnv.iz,vpBits[index]&INOUT&&!(vpBits[index]&ISDONE)?(boundPoint.set(tnv.ix,tnv.iy,tz+nb[j][2],bp),dx=tnv.ix-bp.ix,dy=tnv.iy-bp.iy,dz=tnv.iz-bp.iz,square=dx*dx+dy*dy+dz*dz,vpDistance[index]=square,vpBits[index]|=ISDONE,vpBits[index]|=ISBOUND,outarray.push({ix:tnv.ix,iy:tnv.iy,iz:tnv.iz})):vpBits[index]&INOUT&&vpBits[index]&ISDONE&&(dx=tnv.ix-bp.ix,dy=tnv.iy-bp.iy,dz=tnv.iz-bp.iz,square=dx*dx+dy*dy+dz*dz,square<vpDistance[index]&&(boundPoint.set(tnv.ix,tnv.iy,tnv.iz,bp),vpDistance[index]=square,vpBits[index]&ISBOUND||(vpBits[index]|=ISBOUND,outarray.push({ix:tnv.ix,iy:tnv.iy,iz:tnv.iz})))));for(i=0,n=inarray.length;n>i;i++)for(tx=inarray[i].ix,ty=inarray[i].iy,tz=inarray[i].iz,bp=boundPoint.get(tx,ty,tz),j=6;18>j;j++)tnv.ix=tx+nb[j][0],tnv.iy=ty+nb[j][1],tnv.iz=tz+nb[j][2],tnv.ix<pLength&&tnv.ix>-1&&tnv.iy<pWidth&&tnv.iy>-1&&tnv.iz<pHeight&&tnv.iz>-1&&(index=tnv.ix*pWH+pHeight*tnv.iy+tnv.iz,vpBits[index]&INOUT&&!(vpBits[index]&ISDONE)?(boundPoint.set(tnv.ix,tnv.iy,tz+nb[j][2],bp),dx=tnv.ix-bp.ix,dy=tnv.iy-bp.iy,dz=tnv.iz-bp.iz,square=dx*dx+dy*dy+dz*dz,vpDistance[index]=square,vpBits[index]|=ISDONE,vpBits[index]|=ISBOUND,outarray.push({ix:tnv.ix,iy:tnv.iy,iz:tnv.iz})):vpBits[index]&INOUT&&vpBits[index]&ISDONE&&(dx=tnv.ix-bp.ix,dy=tnv.iy-bp.iy,dz=tnv.iz-bp.iz,square=dx*dx+dy*dy+dz*dz,square<vpDistance[index]&&(boundPoint.set(tnv.ix,tnv.iy,tnv.iz,bp),vpDistance[index]=square,vpBits[index]&ISBOUND||(vpBits[index]|=ISBOUND,outarray.push({ix:tnv.ix,iy:tnv.iy,iz:tnv.iz})))));for(i=0,n=inarray.length;n>i;i++)for(tx=inarray[i].ix,ty=inarray[i].iy,tz=inarray[i].iz,bp=boundPoint.get(tx,ty,tz),j=18;26>j;j++)tnv.ix=tx+nb[j][0],tnv.iy=ty+nb[j][1],tnv.iz=tz+nb[j][2],tnv.ix<pLength&&tnv.ix>-1&&tnv.iy<pWidth&&tnv.iy>-1&&tnv.iz<pHeight&&tnv.iz>-1&&(index=tnv.ix*pWH+pHeight*tnv.iy+tnv.iz,vpBits[index]&INOUT&&!(vpBits[index]&ISDONE)?(boundPoint.set(tnv.ix,tnv.iy,tz+nb[j][2],bp),dx=tnv.ix-bp.ix,dy=tnv.iy-bp.iy,dz=tnv.iz-bp.iz,square=dx*dx+dy*dy+dz*dz,vpDistance[index]=square,vpBits[index]|=ISDONE,vpBits[index]|=ISBOUND,outarray.push({ix:tnv.ix,iy:tnv.iy,iz:tnv.iz})):vpBits[index]&INOUT&&vpBits[index]&ISDONE&&(dx=tnv.ix-bp.ix,dy=tnv.iy-bp.iy,dz=tnv.iz-bp.iz,square=dx*dx+dy*dy+dz*dz,square<vpDistance[index]&&(boundPoint.set(tnv.ix,tnv.iy,tnv.iz,bp),vpDistance[index]=square,vpBits[index]&ISBOUND||(vpBits[index]|=ISBOUND,outarray.push({ix:tnv.ix,iy:tnv.iy,iz:tnv.iz})))));return outarray},this.marchingcubeinit=function(stype){for(var i=0,lim=vpBits.length;lim>i;i++)1==stype?vpBits[i]&=~ISBOUND:4==stype?(vpBits[i]&=~ISDONE,vpBits[i]&ISBOUND&&(vpBits[i]|=ISDONE),vpBits[i]&=~ISBOUND):2==stype?vpBits[i]&ISBOUND&&vpBits[i]&ISDONE?vpBits[i]&=~ISBOUND:vpBits[i]&ISBOUND&&!(vpBits[i]&ISDONE)&&(vpBits[i]|=ISDONE):3==stype&&(vpBits[i]&=~ISBOUND)};this.marchingcube=function(stype){this.marchingcubeinit(stype),verts=[],faces=[],march(vpBits,verts,faces,{smooth:1,nX:pLength,nY:pWidth,nZ:pHeight});for(var pWH=pWidth*pHeight,i=0,vlen=verts.length;vlen>i;i++)verts[i].atomid=vpAtomID[verts[i].x*pWH+pHeight*verts[i].y+verts[i].z];laplacianSmooth(1,verts,faces)}},march=function (data,verts,faces,spec){var i,il,fulltable=!!spec.fulltable,origin=spec.hasOwnProperty("origin")&&spec.origin.hasOwnProperty("x")?spec.origin:{x:0,y:0,z:0},voxel=!!spec.voxel,nX=spec.nX||0,nY=spec.nY||0,nZ=spec.nZ||0,scale=spec.scale||1,unitCube=new Vector3(1,1,1).multiplyScalar(scale),vertnums=new Int32Array(nX*nY*nZ);for(i=0,il=vertnums.length;il>i;++i)vertnums[i]=-1;var getVertex=function(i,j,k,code,p1,p2){var pt=new Vector3;pt.copy(origin);var val1=!!(code&1<<p1),val2=!!(code&1<<p2),p=p1;!val1&&val2&&(p=p2),1&p&&k++,2&p&&j++,4&p&&i++,pt.x+=unitCube.x*i,pt.y+=unitCube.y*j,pt.z+=unitCube.z*k;var index=(nY*i+j)*nZ+k;return voxel?(verts.push(pt),verts.length-1):(vertnums[index]<0&&(vertnums[index]=verts.length,verts.push(pt)),vertnums[index])},intersects=new Int32Array(12),etable=fulltable?edgeTable2:edgeTable,tritable=fulltable?triTable2:triTable;for(i=0;nX-1>i;++i)for(var j=0;nY-1>j;++j)for(var k=0;nZ-1>k;++k){for(var code=0,p=0;8>p;++p){var index=(nY*(i+((4&p)>>2))+j+((2&p)>>1))*nZ+k+(1&p),val=!!(data[index]&ISDONE);code|=val<<p}if(0!==code&&255!==code){var ecode=etable[code];if(0!==ecode){var ttable=tritable[code];1&ecode&&(intersects[0]=getVertex(i,j,k,code,0,1)),2&ecode&&(intersects[1]=getVertex(i,j,k,code,1,3)),4&ecode&&(intersects[2]=getVertex(i,j,k,code,3,2)),8&ecode&&(intersects[3]=getVertex(i,j,k,code,2,0)),16&ecode&&(intersects[4]=getVertex(i,j,k,code,4,5)),32&ecode&&(intersects[5]=getVertex(i,j,k,code,5,7)),64&ecode&&(intersects[6]=getVertex(i,j,k,code,7,6)),128&ecode&&(intersects[7]=getVertex(i,j,k,code,6,4)),256&ecode&&(intersects[8]=getVertex(i,j,k,code,0,4)),512&ecode&&(intersects[9]=getVertex(i,j,k,code,1,5)),1024&ecode&&(intersects[10]=getVertex(i,j,k,code,3,7)),2048&ecode&&(intersects[11]=getVertex(i,j,k,code,2,6));for(var t=0;t<ttable.length;t+=3){var a=intersects[ttable[t]],b=intersects[ttable[t+1]],c=intersects[ttable[t+2]];voxel&&t>=3&&(verts.push(verts[a]),a=verts.length-1,verts.push(verts[b]),b=verts.length-1,verts.push(verts[c]),c=verts.length-1),faces.push(a),faces.push(b),faces.push(c)}}}}},laplacianSmooth=function (numiter,verts,faces){var i,il,j,jl,k,tps=new Array(verts.length);for(i=0,il=verts.length;il>i;i++)tps[i]={x:0,y:0,z:0};var flagvert,vertdeg=new Array(20);for(i=0;20>i;i++)vertdeg[i]=new Array(verts.length);for(i=0,il=verts.length;il>i;i++)vertdeg[0][i]=0;for(i=0,il=faces.length/3;il>i;i++){var aoffset=3*i,boffset=3*i+1,coffset=3*i+2;for(flagvert=!0,j=0,jl=vertdeg[0][faces[aoffset]];jl>j;j++)if(faces[boffset]==vertdeg[j+1][faces[aoffset]]){flagvert=!1;break}for(flagvert&&(vertdeg[0][faces[aoffset]]++,vertdeg[vertdeg[0][faces[aoffset]]][faces[aoffset]]=faces[boffset]),flagvert=!0,j=0,jl=vertdeg[0][faces[aoffset]];jl>j;j++)if(faces[coffset]==vertdeg[j+1][faces[aoffset]]){flagvert=!1;break}for(flagvert&&(vertdeg[0][faces[aoffset]]++,vertdeg[vertdeg[0][faces[aoffset]]][faces[aoffset]]=faces[coffset]),flagvert=!0,j=0,jl=vertdeg[0][faces[boffset]];jl>j;j++)if(faces[aoffset]==vertdeg[j+1][faces[boffset]]){flagvert=!1;break}for(flagvert&&(vertdeg[0][faces[boffset]]++,vertdeg[vertdeg[0][faces[boffset]]][faces[boffset]]=faces[aoffset]),flagvert=!0,j=0,jl=vertdeg[0][faces[boffset]];jl>j;j++)if(faces[coffset]==vertdeg[j+1][faces[boffset]]){flagvert=!1;break}for(flagvert&&(vertdeg[0][faces[boffset]]++,vertdeg[vertdeg[0][faces[boffset]]][faces[boffset]]=faces[coffset]),flagvert=!0,j=0;j<vertdeg[0][faces[coffset]];j++)if(faces[aoffset]==vertdeg[j+1][faces[coffset]]){flagvert=!1;break}for(flagvert&&(vertdeg[0][faces[coffset]]++,vertdeg[vertdeg[0][faces[coffset]]][faces[coffset]]=faces[aoffset]),flagvert=!0,j=0,jl=vertdeg[0][faces[coffset]];jl>j;j++)if(faces[boffset]==vertdeg[j+1][faces[coffset]]){flagvert=!1;break}flagvert&&(vertdeg[0][faces[coffset]]++,vertdeg[vertdeg[0][faces[coffset]]][faces[coffset]]=faces[boffset])}var wt=1,wt2=.5;for(k=0;numiter>k;k++){for(i=0,il=verts.length;il>i;i++)if(vertdeg[0][i]<3)tps[i].x=verts[i].x,tps[i].y=verts[i].y,tps[i].z=verts[i].z;else if(3==vertdeg[0][i]||4==vertdeg[0][i]){for(tps[i].x=0,tps[i].y=0,tps[i].z=0,j=0,jl=vertdeg[0][i];jl>j;j++)tps[i].x+=verts[vertdeg[j+1][i]].x,tps[i].y+=verts[vertdeg[j+1][i]].y,tps[i].z+=verts[vertdeg[j+1][i]].z;tps[i].x+=wt2*verts[i].x,tps[i].y+=wt2*verts[i].y,tps[i].z+=wt2*verts[i].z,tps[i].x/=wt2+vertdeg[0][i],tps[i].y/=wt2+vertdeg[0][i],tps[i].z/=wt2+vertdeg[0][i]}else{for(tps[i].x=0,tps[i].y=0,tps[i].z=0,j=0,jl=vertdeg[0][i];jl>j;j++)tps[i].x+=verts[vertdeg[j+1][i]].x,tps[i].y+=verts[vertdeg[j+1][i]].y,tps[i].z+=verts[vertdeg[j+1][i]].z;tps[i].x+=wt*verts[i].x,tps[i].y+=wt*verts[i].y,tps[i].z+=wt*verts[i].z,tps[i].x/=wt+vertdeg[0][i],tps[i].y/=wt+vertdeg[0][i],tps[i].z/=wt+vertdeg[0][i]}for(i=0,il=verts.length;il>i;i++)verts[i].x=tps[i].x,verts[i].y=tps[i].y,verts[i].z=tps[i].z}},edgeTable=new Uint32Array([0,0,0,0,0,0,0,2816,0,0,0,1792,0,3328,3584,3840,0,0,0,138,0,21,0,134,0,0,0,652,0,2067,3865,3600,0,0,0,42,0,0,0,294,0,0,21,28,0,3875,1049,3360,0,168,162,170,0,645,2475,2210,0,687,293,172,4010,3747,3497,3232,0,0,0,0,0,69,0,900,0,0,0,1792,138,131,1608,1920,0,81,0,2074,84,85,84,86,0,81,0,3676,330,1105,1881,1616,0,0,0,42,0,69,0,502,0,0,21,3580,138,2035,1273,1520,2816,104,2337,106,840,581,367,102,2816,3695,3429,3180,1898,1635,1385,1120,0,0,0,0,0,0,0,3910,0,0,69,588,42,2083,41,2880,0,0,0,1722,0,2293,4095,3830,0,255,757,764,2538,2291,3065,2800,0,0,81,338,0,3925,1119,3414,84,855,85,340,2130,2899,89,2384,1792,712,194,1162,4036,3781,3535,3270,708,719,197,204,3018,2755,2505,2240,0,0,0,0,168,420,168,1958,162,162,676,2988,170,163,680,928,3328,3096,3328,3642,52,53,1855,1590,2340,2111,2869,2620,298,51,825,560,3584,3584,3090,3482,1668,1941,1183,1430,146,2975,2069,2460,154,915,153,400,3840,3592,3329,3082,1796,1541,1295,1030,2818,2575,2309,2060,778,515,265,0]),triTable=[[],[],[],[],[],[],[],[11,9,8],[],[],[],[8,10,9],[],[10,8,11],[9,11,10],[8,10,9,8,11,10],[],[],[],[1,7,3],[],[4,2,0],[],[2,1,7],[],[],[],[2,7,3,2,9,7],[],[1,4,11,1,0,4],[3,8,0,11,9,4,11,10,9],[4,11,9,11,10,9],[],[],[],[5,3,1],[],[],[],[2,5,8,2,1,5],[],[],[2,4,0],[3,2,4],[],[0,9,1,8,10,5,8,11,10],[3,4,0,3,10,4],[5,8,10,8,11,10],[],[3,5,7],[7,1,5],[1,7,3,1,5,7],[],[9,2,0,9,7,2],[0,3,8,1,7,11,1,5,7],[11,1,7,1,5,7],[],[9,1,0,5,3,2,5,7,3],[8,2,5,8,0,2],[2,5,3,5,7,3],[3,9,1,3,8,9,7,11,10,7,10,5],[9,1,0,10,7,11,10,5,7],[3,8,0,7,10,5,7,11,10],[11,5,7,11,10,5],[],[],[],[],[],[0,6,2],[],[7,2,9,7,9,8],[],[],[],[8,10,9],[7,1,3],[7,1,0],[6,9,3,6,10,9],[7,10,8,10,9,8],[],[6,0,4],[],[11,1,4,11,3,1],[2,4,6],[2,0,4,2,4,6],[2,4,6],[1,4,2,4,6,2],[],[6,0,4],[],[2,11,3,6,9,4,6,10,9],[8,6,1,8,1,3],[10,0,6,0,4,6],[8,0,3,9,6,10,9,4,6],[10,4,6,10,9,4],[],[],[],[5,3,1],[],[0,6,2],[],[7,4,8,5,2,1,5,6,2],[],[],[2,4,0],[7,4,8,2,11,3,10,5,6],[7,1,3],[5,6,10,0,9,1,8,7,4],[5,6,10,7,0,3,7,4,0],[10,5,6,4,8,7],[9,11,8],[3,5,6],[0,5,11,0,11,8],[6,3,5,3,1,5],[3,9,6,3,8,9],[9,6,0,6,2,0],[0,3,8,2,5,6,2,1,5],[1,6,2,1,5,6],[9,11,8],[1,0,9,6,10,5,11,3,2],[6,10,5,2,8,0,2,11,8],[3,2,11,10,5,6],[10,5,6,9,3,8,9,1,3],[0,9,1,5,6,10],[8,0,3,10,5,6],[10,5,6],[],[],[],[],[],[],[],[1,10,2,9,11,6,9,8,11],[],[],[6,0,2],[3,6,9,3,2,6],[3,5,1],[0,5,1,0,11,5],[0,3,5],[6,9,11,9,8,11],[],[],[],[4,5,9,7,1,10,7,3,1],[],[11,6,7,2,4,5,2,0,4],[11,6,7,8,0,3,1,10,2,9,4,5],[6,7,11,1,10,2,9,4,5],[],[4,1,0,4,5,1,6,7,3,6,3,2],[9,4,5,0,6,7,0,2,6],[4,5,9,6,3,2,6,7,3],[6,7,11,5,3,8,5,1,3],[6,7,11,4,1,0,4,5,1],[4,5,9,3,8,0,11,6,7],[9,4,5,7,11,6],[],[],[0,6,4],[8,6,4,8,1,6],[],[0,10,2,0,9,10,4,8,11,4,11,6],[10,2,1,6,0,3,6,4,0],[10,2,1,11,4,8,11,6,4],[4,2,6],[1,0,9,2,4,8,2,6,4],[2,4,0,2,6,4],[8,2,4,2,6,4],[11,4,1,11,6,4],[0,9,1,4,11,6,4,8,11],[3,6,0,6,4,0],[8,6,4,8,11,6],[10,8,9],[6,3,9,6,7,3],[6,7,1],[10,7,1,7,3,1],[7,11,6,8,10,2,8,9,10],[11,6,7,10,0,9,10,2,0],[2,1,10,7,11,6,8,0,3],[1,10,2,6,7,11],[7,2,6,7,9,2],[1,0,9,3,6,7,3,2,6],[7,0,6,0,2,6],[2,7,3,2,6,7],[7,11,6,3,9,1,3,8,9],[9,1,0,11,6,7],[0,3,8,11,6,7],[11,6,7],[],[],[],[],[5,3,7],[8,5,2,8,7,5],[5,3,7],[1,10,2,5,8,7,5,9,8],[1,7,5],[1,7,5],[9,2,7,9,7,5],[11,3,2,8,5,9,8,7,5],[1,3,7,1,7,5],[0,7,1,7,5,1],[9,3,5,3,7,5],[9,7,5,9,8,7],[8,10,11],[3,4,10,3,10,11],[8,10,11],[5,9,4,1,11,3,1,10,11],[2,4,5],[5,2,4,2,0,4],[0,3,8,5,9,4,10,2,1],[2,1,10,9,4,5],[2,8,5,2,11,8],[3,2,11,1,4,5,1,0,4],[9,4,5,8,2,11,8,0,2],[11,3,2,9,4,5],[8,5,3,5,1,3],[5,0,4,5,1,0],[3,8,0,4,5,9],[9,4,5],[11,9,10],[11,9,10],[1,11,4,1,10,11],[8,7,4,11,1,10,11,3,1],[2,7,9,2,9,10],[4,8,7,0,10,2,0,9,10],[2,1,10,0,7,4,0,3,7],[10,2,1,8,7,4],[1,7,4],[3,2,11,4,8,7,9,1,0],[11,4,2,4,0,2],[2,11,3,7,4,8],[4,1,7,1,3,7],[1,0,9,8,7,4],[3,4,0,3,7,4],[8,7,4],[8,9,10,8,10,11],[3,9,11,9,10,11],[0,10,8,10,11,8],[10,3,1,10,11,3],[2,8,10,8,9,10],[9,2,0,9,10,2],[8,0,3,1,10,2],[10,2,1],[1,11,9,11,8,9],[11,3,2,0,9,1],[11,0,2,11,8,0],[11,3,2],[8,1,3,8,9,1],[9,1,0],[8,0,3],[]]';
WebMol.Tg=window.URL.createObjectURL(new Blob([WebMol.wg]));
$(document).ready(function(){void 0!==$("#webmoljs_viewer")[0]&&(WebMol.af=!0);if(WebMol.af){var a=WebMol.Zh=$("#webmoljs_viewer"),d=null;a.data("pdb")?d="http://www.pdb.org/pdb/files/"+a.data("pdb")+".pdb":a.data("href")&&(d=a.data("href"));var l=Number(a.data("backgroundcolor"))||0,p=a.data("style")||{I:{}};WebMol.ib=WebMol.createViewer("webmoljs_viewer",{defaultcolors:WebMol.rasmolElementColors,callback:function(a){a.hg(l)}});if(d){var t=a.data("datatype")||"pdb";$.get(d,function(a){WebMol.ib.Bc(a,
t);WebMol.ib.sd({},p);WebMol.ib.Hd();WebMol.ib.render()},"text")}}});WebMol=WebMol||{};WebMol.kf=16716947;
WebMol.JmolElementColors={he:16777215,je:14286847,ie:14286847,me:13402367,le:13402367,Od:16758197,Ud:9474192,te:3166456,Ae:16715021,ce:9494608,we:11230450,ue:11230450,re:9109248,pe:9109248,Md:12560038,Jd:12560038,Fe:1578E4,De:1578E4,Be:16744448,Ce:16777008,$d:2093087,Wd:2093087,Zd:4062976,Vd:4062976,Ie:12567239,He:12567239,ae:9083335,Xd:9083335,se:10255047,qe:10255047,fe:14706227,de:14706227,xe:5296208,ve:5296208,be:13140019,Yd:13140019,Me:8224944,Le:8224944,Td:10889513,Qd:10889513,Ld:12632256,Id:12632256,
ke:9699476,Rd:51456,Pd:51456,Nd:16765219,Kd:16765219};
WebMol.rasmolElementColors={he:16777215,je:16761035,ie:16761035,me:11674146,le:11674146,Od:65280,Ud:13158600,te:9408511,Ae:15728640,ce:14329120,we:255,ue:255,re:2263842,pe:2263842,Md:8421520,Jd:8421520,Fe:14329120,De:14329120,Be:16753920,Ce:16762930,$d:65280,Wd:65280,Zd:8421520,Vd:8421520,Ie:8421520,He:8421520,ae:8421520,Xd:8421520,se:8421520,qe:8421520,fe:16753920,de:16753920,xe:10824234,ve:10824234,be:10824234,Yd:10824234,Me:10824234,Le:10824234,Td:10824234,Qd:10824234,Ld:8421520,Id:8421520,ke:10494192,
Rd:16753920,Pd:16753920,Nd:14329120,Kd:14329120};WebMol.Nc=WebMol.JmolElementColors;WebMol=WebMol||{};WebMol.Ng=function(){};WebMol.Mg=function(){};WebMol.Qg=function(){};WebMol=WebMol||{};
WebMol.nf=function(){function a(a,p,t,b,n){if(!(2>p.length)){n=n||5;p=d(p,n);t=d(t,n);var s=new WebMol.Geometry(!0),g=[],f,v,h,e,m,C=[[0,2,-6,-8],[-4,-2,6,4],[7,-1,-5,3],[-3,5,1,-7]],w,u,G,E,B,A,r,D,z;A=0;for(r=p.length;A<r;A++){G=WebMol.ea.color(b[Math.round((A-1)/n)]);g.push(v=p[A]);g.push(v);g.push(h=t[A]);g.push(h);A<r-1&&(w=p[A+1].clone().sub(p[A]),f=t[A].clone().sub(p[A]).cross(w).normalize().multiplyScalar(.4));g.push(e=p[A].clone().add(f));g.push(e);g.push(m=t[A].clone().add(f));g.push(m);
void 0!==v.a&&(E=v.a);z=s.updateGeoGroup(8);w=z.vertices;u=3*w;z.h[u]=v.x;z.h[u+1]=v.y;z.h[u+2]=v.z;z.h[u+3]=v.x;z.h[u+4]=v.y;z.h[u+5]=v.z;z.h[u+6]=h.x;z.h[u+7]=h.y;z.h[u+8]=h.z;z.h[u+9]=h.x;z.h[u+10]=h.y;z.h[u+11]=h.z;z.h[u+12]=e.x;z.h[u+13]=e.y;z.h[u+14]=e.z;z.h[u+15]=e.x;z.h[u+16]=e.y;z.h[u+17]=e.z;z.h[u+18]=m.x;z.h[u+19]=m.y;z.h[u+20]=m.z;z.h[u+21]=m.x;z.h[u+22]=m.y;z.h[u+23]=m.z;for(v=0;8>v;++v)z.k[u+3*v]=G.r,z.k[u+1+3*v]=G.g,z.k[u+2+3*v]=G.b;if(0<A)for(u=void 0!==B&&void 0!==E&&B.Aa!==E.Aa,
v=0;4>v;v++)if(h=[w+C[v][0],w+C[v][1],w+C[v][2],w+C[v][3]],m=z.l,z.f[m]=h[0],z.f[m+1]=h[1],z.f[m+2]=h[3],z.f[m+3]=h[1],z.f[m+4]=h[2],z.f[m+5]=h[3],z.l+=6,E.n||B.n){D=g[h[3]].clone();m=g[h[0]].clone();var F=g[h[2]].clone(),H=g[h[1]].clone();D.a=g[h[3]].a||null;F.a=g[h[2]].a||null;m.a=g[h[0]].a||null;H.a=g[h[1]].a||null;if(u){var T=D.clone().add(m).multiplyScalar(.5),U=F.clone().add(H).multiplyScalar(.5),x=D.clone().add(H).multiplyScalar(.5);0===v%2?(B.n&&(h=new oa(T,x,D),e=new oa(U,F,x),D=new oa(x,
F,D),B.j.s.push(h),B.j.s.push(e),B.j.s.push(D)),E.n&&(h=new oa(m,H,x),e=new oa(H,U,x),D=new oa(m,x,T),E.j.s.push(h),E.j.s.push(e),E.j.s.push(D))):(E.n&&(h=new oa(T,x,D),e=new oa(U,F,x),D=new oa(x,F,D),E.j.s.push(h),E.j.s.push(e),E.j.s.push(D)),B.n&&(h=new oa(m,H,x),e=new oa(H,U,x),D=new oa(m,x,T),B.j.s.push(h),B.j.s.push(e),B.j.s.push(D)))}else E.n&&(h=new oa(m,H,D),e=new oa(H,F,D),E.j.s.push(h),E.j.s.push(e))}z.vertices+=8;B=E}p=g.length-8;z=s.updateGeoGroup(8);w=z.vertices;u=3*w;m=z.l;for(A=0;4>
A;A++)g.push(g[2*A]),g.push(g[p+2*A]),t=g[2*A],b=g[p+2*A],z.h[u+6*A]=t.x,z.h[u+1+6*A]=t.y,z.h[u+2+6*A]=t.z,z.h[u+3+6*A]=b.x,z.h[u+4+6*A]=b.y,z.h[u+5+6*A]=b.z,z.k[u+6*A]=G.r,z.k[u+1+6*A]=G.g,z.k[u+2+6*A]=G.b,z.k[u+3+6*A]=G.r,z.k[u+4+6*A]=G.g,z.k[u+5+6*A]=G.b;h=[w,w+2,w+6,w+4];e=[w+1,w+5,w+7,w+3];z.f[m]=h[0];z.f[m+1]=h[1];z.f[m+2]=h[3];z.f[m+3]=h[1];z.f[m+4]=h[2];z.f[m+5]=h[3];z.f[m+6]=e[0];z.f[m+7]=e[1];z.f[m+8]=e[3];z.f[m+9]=e[1];z.f[m+10]=e[2];z.f[m+11]=e[3];z.l+=12;z.vertices+=8;s.initTypedArrays();
s.setUpNormals();g=new qa;g.vertexColors=WebMol.ee;g.side=WebMol.vb;s=new ra(s,g);a.add(s)}}function d(a,d){var t=[],b=a,b=[];b.push(a[0]);var n,s,g,f,v,h;n=1;for(s=a.length-1;n<s;n++)f=a[n],v=a[n+1],f.og?b.push(new WebMol.Vector3((f.x+v.x)/2,(f.y+v.y)/2,(f.z+v.z)/2)):b.push(f);b.push(a[a.length-1]);n=-1;for(s=b.length;n<=s-3;n++){g=b[-1===n?0:n];f=b[n+1];v=b[n+2];h=b[n===s-3?s-1:n+3];g=(new WebMol.Vector3).subVectors(v,g).multiplyScalar(.5);h=(new WebMol.Vector3).subVectors(h,f).multiplyScalar(.5);
for(var e=0;e<d;e++){var m=1/d*e,m=new WebMol.Vector3(f.x+m*g.x+m*m*(-3*f.x+3*v.x-2*g.x-h.x)+m*m*m*(2*f.x-2*v.x+g.x+h.x),f.y+m*g.y+m*m*(-3*f.y+3*v.y-2*g.y-h.y)+m*m*m*(2*f.y-2*v.y+g.y+h.y),f.z+m*g.z+m*m*(-3*f.z+3*v.z-2*g.z-h.z)+m*m*m*(2*f.z-2*v.z+g.z+h.z)),C=Math.floor((t.length+2)/d);void 0!==a[C]&&void 0!==a[C].a&&(m.a=a[C].a);t.push(m)}}t.push(b[b.length-1]);return t}return function(d,p){var t,b,n;t=2;b=5;n=!1;var s=[],g,f,v;for(v=0;v<t;v++)s[v]=[];v=[];var h,e,m,C,w=null,u=null;for(g in p)if(f=
p[g],void 0!==f&&("O"==f.a||"CA"==f.a)&&!f.Va)if("CA"==f.a){if(h!=f.G||m+1!=f.t||e!=f.md){a(d,s[0],s[t-1],v,b);s=[];for(v=0;v<t;v++)s[v]=[];v=[];w=null}C=new WebMol.Vector3(f.x,f.y,f.z);currentAtom=f;h=f.G;e=f.md;m=f.t;var u=f.jc,G=f.color;"undefined"!=typeof f.style.Cb.color&&(G=f.style.Cb.color);v.push(G);!0!==f.n||void 0!==f.j&&void 0!==f.j.s||(f.j={L:null,A:[],I:[],s:[]})}else for(f=new WebMol.Vector3(f.x,f.y,f.z),f.sub(C),f.normalize(),f.multiplyScalar("c"==u?.3:1.3),null!==w&&0>f.dot(w)&&f.negate(),
w=f,f=0;f<t;f++)G=-1+2/(t-1)*f,G=new WebMol.Vector3(C.x+w.x*G,C.y+w.y*G,C.z+w.z*G),G.a=currentAtom,n||"s"!=u||(G.og=!0),s[f].push(G);a(d,s[0],s[t-1],v,b)}}();WebMol=WebMol||{};
WebMol.GLModel=function(){function a(a){var b=[],f,l;f=0;for(l=a.length;f<l;f++){a[f].index=f;var h=a[f];h.Va||"N"!==h.a&&"O"!==h.a||(b.push(h),h.Qb=null,h.Ua=Number.POSITIVE_INFINITY)}b.sort(function(a,b){return a.z-b.z});f=0;for(l=b.length;f<l;f++)for(h=b[f],a=f+1;a<l;a++){var e=b[a];if(3.5<e.z-h.z)break;var m=d(h,e);m<h.Ua&&(h.Qb=e,h.Ua=m);m<e.Ua&&(e.Qb=h,e.Ua=m)}}function d(a,b){if(a.G==b.G&&4>Math.abs(a.t-b.t))return Number.POSITIVE_INFINITY;if("O"===a.a&&"N"===b.a||"N"===a.a&&"O"===b.a){var d=
a.x-b.x;if(3.5<d)return Number.POSITIVE_INFINITY;var l=a.y-b.y;if(3.5<l)return Number.POSITIVE_INFINITY;var h=a.z-b.z;if(3.5<h)return Number.POSITIVE_INFINITY;d=Math.sqrt(d*d+l*l+h*h);if(3.5>d)return d}return Number.POSITIVE_INFINITY}function l(a){var b=[],d=[],l,h;l=0;for(h=a.length;l<h;l++){var e=a[l];e.index=l;e.Va?d.push(e):b.push(e)}p(d);b.sort(function(a,b){return a.G!=b.G?a.G<b.G?-1:1:a.t-b.t});var d=a=-1,m;l=0;for(h=b.length;l<h;l++){e=b[l];e.t!==a&&(a=e.t,m||d++,m=!1);e.md=d;for(var n=l+
1;n<b.length;n++){var w=b[n];if(w.G!=e.G)break;if(1<w.t-e.t)break;t(e,w)&&(-1===e.p.indexOf(w.index)&&(e.p.push(w.index),e.M.push(1),w.p.push(e.index),w.M.push(1)),e.t!==w.t&&(m=!0))}}}function p(a){var b=a.slice(0),d,l;d=0;for(l=a.length;d<l;d++)a[d].index||(a[d].index=d);b.sort(function(a,b){return a.z-b.z});d=0;for(l=b.length;d<l;d++){var h=b[d];for(a=d+1;a<l;a++){var e=b[a];if(1.9<e.z-h.z)break;t(h,e)&&-1==h.p.indexOf(e.index)&&(h.p.push(e.index),h.M.push(1),e.p.push(h.index),e.M.push(1))}}}function t(a,
b){var d=a.x-b.x,d=d*d;if(3.6<d)return!1;var l=a.y-b.y,l=l*l;if(3.6<l)return!1;var h=a.z-b.z,h=h*h;if(3.6<h)return!1;d=d+l+h;return isNaN(d)||.5>d||1.3<d&&("H"==a.m||"H"==b.m||"D"==a.m||"D"==b.m)?!1:3.6>d&&("S"==a.m||"S"==b.m)?!0:2.78<d?!1:!0}var b={I:{}},n={H:1.2,Li:1.82,Na:2.27,K:2.75,C:1.7,N:1.55,O:1.52,F:1.47,P:1.8,S:1.8,CL:1.75,BR:1.85,SE:1.9,ZN:1.39,CU:1.4,NI:1.63};return function(d,g){function f(a,b,e,d,f,h,g){if(b&&e){A++;var l=h||g,m=e.clone();m.sub(b);var m=B(m),n=G.Ta(d);d=n.w;var s=n.yf,
t=l?s*d+2:2*d;a=a.updateGeoGroup(t);var p=n.vertices,u=n.za,n=n.Ba,v=n[s/2],C=n[s/2+1],K=a.vertices,J,w,E,L,S,da;for(E=0;E<d;++E)w=2*E,L=m[0]*p[w].x+m[3]*p[w].y+m[6]*p[w].z,S=m[1]*p[w].x+m[4]*p[w].y+m[7]*p[w].z,da=m[5]*p[w].y+m[8]*p[w].z,J=3*(K+w),w=a.l,a.h[J]=L+b.x,a.h[J+1]=S+b.y,a.h[J+2]=da+b.z,a.h[J+3]=L+e.x,a.h[J+4]=S+e.y,a.h[J+5]=da+e.z,a.c[J]=L,a.c[J+3]=L,a.c[J+1]=S,a.c[J+4]=S,a.c[J+2]=da,a.c[J+5]=da,a.k[J]=f.r,a.k[J+3]=f.r,a.k[J+1]=f.g,a.k[J+4]=f.g,a.k[J+2]=f.b,a.k[J+5]=f.b,a.f[w]=C[E]+K,a.f[w+
1]=C[E+1]+K,a.f[w+2]=v[E]+K,a.f[w+3]=v[E]+K,a.f[w+4]=C[E+1]+K,a.f[w+5]=v[E+1]+K,a.l+=6;if(l){h=h?s+1:s/2+1;var Z,ba,y,M,Y,O,ia,aa,ha,xa,ua,na,ka;for(S=g?0:s/2;S<h;S++)if(S!==s/2){var ma=S<=s/2?e:b;for(L=0;L<d;L++)w=a.l,g=n[S][L+1],E=3*(g+K),l=n[S][L],da=3*(l+K),v=n[S+1][L],J=3*(v+K),C=n[S+1][L+1],ka=3*(C+K),Z=m[0]*p[g].x+m[3]*p[g].y+m[6]*p[g].z,ba=m[0]*p[l].x+m[3]*p[l].y+m[6]*p[l].z,y=m[0]*p[v].x+m[3]*p[v].y+m[6]*p[v].z,M=m[0]*p[C].x+m[3]*p[C].y+m[6]*p[C].z,Y=m[1]*p[g].x+m[4]*p[g].y+m[7]*p[g].z,O=
m[1]*p[l].x+m[4]*p[l].y+m[7]*p[l].z,ia=m[1]*p[v].x+m[4]*p[v].y+m[7]*p[v].z,aa=m[1]*p[C].x+m[4]*p[C].y+m[7]*p[C].z,ha=m[5]*p[g].y+m[8]*p[g].z,xa=m[5]*p[l].y+m[8]*p[l].z,ua=m[5]*p[v].y+m[8]*p[v].z,na=m[5]*p[C].y+m[8]*p[C].z,a.h[E]=Z+ma.x,a.h[da]=ba+ma.x,a.h[J]=y+ma.x,a.h[ka]=M+ma.x,a.h[E+1]=Y+ma.y,a.h[da+1]=O+ma.y,a.h[J+1]=ia+ma.y,a.h[ka+1]=aa+ma.y,a.h[E+2]=ha+ma.z,a.h[da+2]=xa+ma.z,a.h[J+2]=ua+ma.z,a.h[ka+2]=na+ma.z,a.k[E]=f.r,a.k[da]=f.r,a.k[J]=f.r,a.k[ka]=f.r,a.k[E+1]=f.g,a.k[da+1]=f.g,a.k[J+1]=
f.g,a.k[ka+1]=f.g,a.k[E+2]=f.b,a.k[da+2]=f.b,a.k[J+2]=f.b,a.k[ka+2]=f.b,Z=m[0]*u[g].x+m[3]*u[g].y+m[6]*u[g].z,ba=m[0]*u[l].x+m[3]*u[l].y+m[6]*u[l].z,y=m[0]*u[v].x+m[3]*u[v].y+m[6]*u[v].z,M=m[0]*u[C].x+m[3]*u[C].y+m[6]*u[C].z,Y=m[1]*u[g].x+m[4]*u[g].y+m[7]*u[g].z,O=m[1]*u[l].x+m[4]*u[l].y+m[7]*u[l].z,ia=m[1]*u[v].x+m[4]*u[v].y+m[7]*u[v].z,aa=m[1]*u[C].x+m[4]*u[C].y+m[7]*u[C].z,ha=m[5]*u[g].y+m[8]*u[g].z,xa=m[5]*u[l].y+m[8]*u[l].z,ua=m[5]*u[v].y+m[8]*u[v].z,na=m[5]*u[C].y+m[8]*u[C].z,0===S?(a.c[E]=
Z,a.c[J]=y,a.c[ka]=M,a.c[E+1]=Y,a.c[J+1]=ia,a.c[ka+1]=aa,a.c[E+2]=ha,a.c[J+2]=ua,a.c[ka+2]=na,a.f[w]=g+K,a.f[w+1]=v+K,a.f[w+2]=C+K,a.l+=3):S===h-1?(a.c[E]=Z,a.c[da]=ba,a.c[J]=y,a.c[E+1]=Y,a.c[da+1]=O,a.c[J+1]=ia,a.c[E+2]=ha,a.c[da+2]=xa,a.c[J+2]=ua,a.f[w]=g+K,a.f[w+1]=l+K,a.f[w+2]=v+K,a.l+=3):(a.c[E]=Z,a.c[da]=ba,a.c[ka]=M,a.c[E+1]=Y,a.c[da+1]=O,a.c[ka+1]=aa,a.c[E+2]=ha,a.c[da+2]=xa,a.c[ka+2]=na,a.c[da]=ba,a.c[J]=y,a.c[ka]=M,a.c[da+1]=O,a.c[J+1]=ia,a.c[ka+1]=aa,a.c[da+2]=xa,a.c[J+2]=ua,a.c[ka+2]=
na,a.f[w]=g+K,a.f[w+1]=l+K,a.f[w+2]=C+K,a.f[w+3]=l+K,a.f[w+4]=v+K,a.f[w+5]=C+K,a.l+=6)}}a.vertices+=t}}function t(a,b){if(a.style.L){var e=a.style.L;if(!e.hidden){var d=a.color;"undefined"!=typeof e.color&&(d=e.color);var f=WebMol.ea.color(d),g,e=h(a,e);!0===a.n&&void 0!==a.j&&(d=new WebMol.Vector3(a.x,a.y,a.z),a.j.L.push(new sa(d,e)));g=E.Ta(e);for(var d=g.vertices,l=g.za,m=b.updateGeoGroup(d.length),n=m.vertices,s=0,p=d.length;s<p;++s){var u=3*(n+s),v=d[s];m.h[u]=v.x+a.x;m.h[u+1]=v.y+a.y;m.h[u+
2]=v.z+a.z;m.k[u]=f.r;m.k[u+1]=f.g;m.k[u+2]=f.b}m.vertices+=d.length;s=g.Ba;p=s.length-1;for(g=0;g<p;g++)for(u=s[g].length-1,f=0;f<u;f++){var v=m.l,w=s[g][f+1]+n,C=3*w,A=s[g][f]+n,K=3*A,J=s[g+1][f]+n,G=3*J,B=s[g+1][f+1]+n,L=3*B,S=l[w-n],da=l[A-n],Z=l[J-n],ba=l[B-n];Math.abs(d[w-n].y)===e?(m.c[C]=S.x,m.c[G]=Z.x,m.c[L]=ba.x,m.c[C+1]=S.y,m.c[G+1]=Z.y,m.c[L+1]=ba.y,m.c[C+2]=S.z,m.c[G+2]=Z.z,m.c[L+2]=ba.z,m.f[v]=w,m.f[v+1]=J,m.f[v+2]=B,m.l+=3):Math.abs(d[J-n].y)===e?(m.c[C]=S.x,m.c[K]=da.x,m.c[G]=Z.x,
m.c[C+1]=S.y,m.c[K+1]=da.y,m.c[G+1]=Z.y,m.c[C+2]=S.z,m.c[K+2]=da.z,m.c[G+2]=Z.z,m.f[v]=w,m.f[v+1]=A,m.f[v+2]=J,m.l+=3):(m.c[C]=S.x,m.c[K]=da.x,m.c[L]=ba.x,m.c[C+1]=S.y,m.c[K+1]=da.y,m.c[L+1]=ba.y,m.c[C+2]=S.z,m.c[K+2]=da.z,m.c[L+2]=ba.z,m.c[K]=da.x,m.c[G]=Z.x,m.c[L]=ba.x,m.c[K+1]=da.y,m.c[G+1]=Z.y,m.c[L+1]=ba.y,m.c[K+2]=da.z,m.c[G+2]=Z.z,m.c[L+2]=ba.z,m.f[v]=w,m.f[v+1]=A,m.f[v+2]=B,m.f[v+3]=A,m.f[v+4]=J,m.f[v+5]=B,m.l+=6)}}}}function h(a,b){var e=1.5;"undefined"!=typeof b.q?e=b.q:n[a.m]&&(e=n[a.m]);
"undefined"!=typeof b.scale&&(e*=b.scale);return e}var e=[],m=null,C=null,w=null,u=WebMol.kf;ElementColors=g?g:WebMol.Nc;var G={bb:function(){var a=[];a[0]=new WebMol.Vector3(-1,0,0);a[4]=new WebMol.Vector3(0,0,1);a[8]=new WebMol.Vector3(1,0,0);a[12]=new WebMol.Vector3(0,0,-1);a[2]=a[0].clone().add(a[4]).normalize();a[6]=a[4].clone().add(a[8]).normalize();a[10]=a[8].clone().add(a[12]).normalize();a[14]=a[12].clone().add(a[0]).normalize();a[1]=a[0].clone().add(a[2]).normalize();a[3]=a[2].clone().add(a[4]).normalize();
a[5]=a[4].clone().add(a[6]).normalize();a[7]=a[6].clone().add(a[8]).normalize();a[9]=a[8].clone().add(a[10]).normalize();a[11]=a[10].clone().add(a[12]).normalize();a[13]=a[12].clone().add(a[14]).normalize();a[15]=a[14].clone().add(a[0]).normalize();return a}(),v:{},Ta:function(a){if(void 0!==this.v[a])return this.v[a];new WebMol.Vector3(0,1,0);for(var b=this.bb.length,e=[],d=[],f,h=0;h<b;h++)e.push(this.bb[h].clone().multiplyScalar(a)),e.push(this.bb[h].clone().multiplyScalar(a)),f=this.bb[h].clone().normalize(),
d.push(f),d.push(f);var h=[],g=2*Math.PI,l=Math.PI,m,n,s=!1,p=!1;for(n=0;10>=n;n++){var s=0===n||10===n?!0:!1,p=5===n?!0:!1,u=[],t=[];for(m=0;m<=b;m++)if(p){var v=m<b?2*m:0;t.push(v+1);u.push(v)}else{f=m/b;var C=n/10;s&&0!==m?s&&u.push(e.length-1):m<b?(v=new WebMol.Vector3,v.x=-a*Math.cos(0+f*g)*Math.sin(0+C*l),v.y=a*Math.cos(0+C*l),v.z=a*Math.sin(0+f*g)*Math.sin(0+C*l),1E-5>Math.abs(v.x)&&(v.x=0),1E-5>Math.abs(v.y)&&(v.y=0),1E-5>Math.abs(v.z)&&(v.z=0),f=new WebMol.Vector3(v.x,v.y,v.z),f.normalize(),
e.push(v),d.push(f),u.push(e.length-1)):u.push(e.length-b)}p&&h.push(t);h.push(u)}b={vertices:e,za:d,Ba:h,w:b,yf:10};return this.v[a]=b}},E={v:{},Ta:function(a){if("undefined"!=typeof this.v[a])return this.v[a];var b={vertices:[],Ba:[],za:[]},e=12,d=10;1>a&&(e=8,d=6);var f=2*Math.PI,h=Math.PI,g,l;for(l=0;l<=d;l++){var m=[];for(g=0;g<=e;g++){var n=g/e,s=l/d,p={};p.x=-a*Math.cos(0+n*f)*Math.sin(0+s*h);p.y=a*Math.cos(0+s*h);p.z=a*Math.sin(0+n*f)*Math.sin(0+s*h);n=new WebMol.Vector3(p.x,p.y,p.z);n.normalize();
b.vertices.push(p);b.za.push(n);m.push(b.vertices.length-1)}b.Ba.push(m)}return this.v[a]=b}},B=function(){var a=new WebMol.Vector3;return function(b){a.copy(b);var e=a.x,d=a.y,f=a.z,h=Math.sqrt(e*e+d*d);1E-4>h?(b=0,h=1):(b=-e/h,h=d/h);d=-b*e+h*d;e=Math.sqrt(d*d+f*f);1E-4>e?(f=0,d=1):(f/=e,d/=e);rot=new Float32Array(9);rot[0]=h;rot[1]=b;rot[2]=0;rot[3]=-b*d;rot[4]=h*d;rot[5]=f;rot[6]=b*f;rot[7]=-h*f;rot[8]=d;return rot}}(),A=0;this.Pe=function(f,h){f||console.error("Erorr with addMolData: No input data specified");
switch(h){case "xyz":var g=f.split("\n");if(!(3>g.length)){var m=parseInt(g[0].substr(0,3));if(!(isNaN(m)||0>=m||g.length<m+2)){for(var n=2,t=e.length,m=t+m;t<m;t++){var v=g[n++].replace(/^\s+/,"").replace(/\s+/g," ").split(" "),x={};x.Aa=t;x.a=x.m=v[0];x.x=parseFloat(v[1]);x.y=parseFloat(v[2]);x.z=parseFloat(v[3]);x.Va=!0;x.p=[];x.M=[];x.sa=!0;x.dc={};e[t]=x}p(e)}}break;case "pdb":var g=e.length,C,n=[],m=[],v=[];lines=f.split("\n");for(var w,x=0;x<lines.length;x++){line=lines[x].replace(/^\s*/,"");
C=line.substr(0,6);var E,A;if("ATOM  "==C||"HETATM"==C){var G,B,Q,ga,K,J,X,ja;C=line.substr(16,1);if(" "==C||"A"==C)X=parseInt(line.substr(6,5)),C=line.substr(12,4).replace(/ /g,""),w=line.substr(17,3),E=line.substr(21,1),A=parseInt(line.substr(22,4)),G=line.substr(26,1),B=parseFloat(line.substr(30,8)),Q=parseFloat(line.substr(38,8)),ga=parseFloat(line.substr(46,8)),ja=parseFloat(line.substr(60,8)),J=line.substr(76,2).replace(/ /g,""),""===J&&(J=line.substr(12,2).replace(/ /g,"")),"H"!=J&&"HH"!=J&&
"HD"!=J&&(K="H"==line[0]?!0:!1,v[X]=e.length,e.push({resn:w,x:B,y:Q,z:ga,elem:J,hetflag:K,chain:E,resi:A,icode:G,rescode:A+(" "!=G?"^"+G:""),serial:X,atom:C,bonds:[],ss:"c",singleBonds:!0,bondOrder:[],properties:{},b:ja,pdbline:line}))}else if("SHEET "==C)C=line.substr(21,1),w=parseInt(line.substr(22,4)),E=line.substr(32,1),A=parseInt(line.substr(33,4)),n.push([C,w,E,A]);else if("CONECT"==C)for(C=e[v[parseInt(line.substr(6,5))]],w=0;4>w;w++)E=parseInt(line.substr([11,16,21,26][w],5)),A=e[v[E]],void 0!==
C&&void 0!==A&&(C.p.push(v[E]),C.M.push(1));else"HELIX "==C&&(C=line.substr(19,1),w=parseInt(line.substr(21,4)),E=line.substr(31,1),A=parseInt(line.substr(33,4)),m.push([C,w,E,A]))}v=(new Date).getTime();l(e);console.log("bond connecting "+((new Date).getTime()-v));v=(new Date).getTime();a(e);x={};w=0;for(E=e.length;w<E;w++)A=e[w],"undefined"===typeof x[A.G]&&(x[A.G]=[]),isFinite(A.Ua)&&(x[A.G][A.t]=4===Math.abs(A.Qb.t-A.t)?"h":"s");for(t in x){for(w=1;w<x[t].length-1;w++)E=x[t][w-1],A=x[t][w+1],
C=x[t][w],E==A&&C!=E&&(x[t][w]=E);for(w=0;w<x[t].length;w++)C=x[t][w],"h"!=C&&"s"!=C||x[t][w-1]==C||x[t][w+1]==C||delete x[t][w]}w=0;for(E=e.length;w<E;w++)A=e[w],C=x[A.G][A.t],"undefined"!=typeof C&&(A.jc=C,x[A.G][A.t-1]!=C&&(A.wd=!0),x[A.G][A.t+1]!=C&&(A.xd=!0));console.log("secondary structure "+((new Date).getTime()-v));for(x=g;x<e.length;x++)if(C=e[x],void 0!==C){for(w=0;w<n.length;w++)C.G!=n[w][0]||C.t<n[w][1]||C.t>n[w][3]||(C.jc="s",C.t==n[w][1]&&(C.wd=!0),C.t==n[w][3]&&(C.xd=!0));for(w=0;w<
m.length;w++)C.G!=m[w][0]||C.t<m[w][1]||C.t>m[w][3]||(C.jc="h",C.t==m[w][1]?C.wd=!0:C.t==m[w][3]&&(C.xd=!0))}break;case "sdf":g=f.split("\n");if(!(4>g.length||(v=parseInt(g[3].substr(0,3)),isNaN(v)||0>=v||(n=parseInt(g[3].substr(3,3)),m=4,g.length<4+v+n)))){t=e.length;C=t+v;for(v=t;v<C;v++)x=g[m],m++,w={},w.Aa=v,w.x=parseFloat(x.substr(0,10)),w.y=parseFloat(x.substr(10,10)),w.z=parseFloat(x.substr(20,10)),w.Va=!0,w.sa=!0,w.a=w.m=x.substr(31,3).replace(/ /g,""),w.p=[],w.M=[],w.dc={},e[v]=w;for(v=0;v<
n;v++)x=g[m],m++,C=parseInt(x.substr(0,3))-1+t,w=parseInt(x.substr(3,3))-1+t,x=parseInt(x.substr(6,3)),1<x&&(e[C].sa=!1,e[w].sa=!1),e[C].p.push(w),e[C].M.push(x),e[w].p.push(C),e[w].M.push(x)}break;case "mol2":n=f.search(/@<TRIPOS>MOLECULE/);g=f.search(/@<TRIPOS>ATOM/);if(-1!=n&&-1!=g){g=[];n=f.substr(n,f.length).split("\n");x=n[2].replace(/^\s+/,"").replace(/\s+/g," ").split(" ");C=parseInt(x[0]);m=0;1<x.length&&(m=parseInt(x[1]));t=4;for(v=3;v<n.length;v++)if("@<TRIPOS>ATOM"==n[v]){t=v+1;break}v=
e.length;for(C=v+C;v<C;v++)x=n[t++],x=x.replace(/^\s+/,"").replace(/\s+/g," ").split(" "),w={},E=v,A=parseInt(x[0]),w.Aa=A,w.x=parseFloat(x[2]),w.y=parseFloat(x[3]),w.z=parseFloat(x[4]),w.a=w.m=x[5].split(".")[0],w.sa=!0,"H"!=w.m&&(w.p=[],w.M=[],w.dc={},g[A]=E,e.push(w));for(v=!1;t<n.length;)if("@<TRIPOS>BOND"==n[t++]){v=!0;break}if(v&&m)for(v=0;v<m;v++)x=n[t++],x=x.replace(/^\s+/,"").replace(/\s+/g," ").split(" "),C=parseInt(x[1]),fromAtom=e[g[C]],w=parseInt(x[2]),toAtom=e[g[w]],x=parseInt(x[3]),
isNaN(x)&&(x=1),1<x&&(fromAtom.sa=!1,toAtom.sa=!1),void 0!==fromAtom&&void 0!==toAtom&&(fromAtom.p.push(g[w]),fromAtom.M.push(x),toAtom.p.push(g[C]),toAtom.M.push(x))}break;case "cube":if(g=f.replace(/^\s+/,"").split(/[\n\r]+/),!(6>g.length)){n=g[2].replace(/^\s+/,"").replace(/\s+/g," ").split(" ");m=Math.abs(parseFloat(n[0]));n=g[3].replace(/^\s+/,"").replace(/\s+/g," ").split(" ");n=0<parseFloat(n[0])?.529177:1;g=g.splice(6,m);m=e.length;t=m+g.length;for(v=m;v<t;++v)x={},x.Aa=v,C=g[v-m].replace(/^\s+/,
"").replace(/\s+/g," ").split(" "),6==C[0]?x.m="C":1==C[0]?x.m="H":8==C[0]?x.m="O":17==C[0]&&(x.m="CL"),x.x=parseFloat(C[2])*n,x.y=parseFloat(C[3])*n,x.z=parseFloat(C[4])*n,x.Va=!0,x.sa=!0,x.p=[],x.M=[],x.dc={},e.push(x);p(e)}}for(g=0;g<e.length;g++)if(n=e[g])n.style=n.style||b,n.color=n.color||ElementColors[n.m]||u,n.Yc=d,n.n&&(n.j={L:[],A:[],I:[],s:[]})};this.Te=function(a,b){if("undefined"===typeof b)return!0;var e=!!b.rh,d=!0,f;for(f in b)if(b.hasOwnProperty(f)&&"props"!=f&&"invert"!=f&&"model"!=
f){if("undefined"===typeof a[f]){d=!1;break}var h=!1;if($.isArray(b[f])){for(var g=b[f],l=0;l<g.length;l++)if(a[f]==g[l]){h=!0;break}if(!h){d=!1;break}}else if(a[f]!=b[f]){d=!1;break}}return e?!d:d};this.gc=function(a){for(var b=[],d=0;d<e.length;d++){var f=e[d];f&&this.Te(f,a)&&b.push(f)}return b};this.sd=function(a,b,e){var d;(d=e||null===m)||(d=w,d=!(b&&d?JSON.stringify(b)==JSON.stringify(d):b==d));if(d)for(w=e?null:b,a=this.gc(a),0<a.length&&(m=null),b=$.extend(!0,{},b),d=0;d<a.length;d++){a[d].n&&
(a[d].j={L:[],A:[],I:[],s:[]});a[d].cb=!1;e||(a[d].style={});for(var f in b)b.hasOwnProperty(f)&&(a[d].style[f]=b[f])}};this.Ob=function(a){var b=new Date;if(null===m){console.log("creating for "+d);var g=new WebMol.Object3D,l=[],n={},p={},w=new WebMol.Geometry(!0),u=new WebMol.Geometry(!0),A,E;A=0;for(E=e.length;A<E;A++){var G=e[A];if(G&&G.style){G.n&&void 0===G.j&&(G.j={L:[],A:[],I:[],s:[]});t(G,w);var B=G,P=p;if(B.style.cross){var I=B.style.cross;if(!I.hidden){var Q=I.linewidth||1;P[Q]||(P[Q]=
new WebMol.Geometry);P=P[Q].updateGeoGroup(6);I=h(B,I);I=[[I,0,0],[-I,0,0],[0,I,0],[0,-I,0],[0,0,I],[0,0,-I]];(Q=B.n)&&void 0===B.j&&(B.j={L:[],A:[],I:[]});for(var ga=WebMol.ea.color(B.color),K=0;6>K;K++){var J=3*P.vertices;P.vertices++;P.h[J]=B.x+I[K][0];P.h[J+1]=B.y+I[K][1];P.h[J+2]=B.z+I[K][2];P.k[J]=ga.r;P.k[J+1]=ga.g;P.k[J+2]=ga.b;Q&&(J=new WebMol.Vector3(I[K][0],I[K][1],I[K][2]),J.multiplyScalar(.1),J.set(J.x+B.x,J.y+B.y,J.z+B.z),B.j.I.push(J))}}}B=G;P=e;I=n;if(B.style.I&&(Q=B.style.I,!Q.hidden))for(Q=
Q.linewidth||1,I[Q]||(I[Q]=new WebMol.Geometry),I=I[Q].updateGeoGroup(2*B.p.length),Q=0;Q<B.p.length;Q++)if(K=P[B.p[Q]],K.style.I){ga=new WebMol.Vector3(B.x,B.y,B.z);K=new WebMol.Vector3(K.x,K.y,K.z);K=ga.clone().add(K).multiplyScalar(.5);B.n&&(void 0===B.j&&(B.j={L:[],A:[],I:[],s:[]}),B.j.I.push(ga),B.j.I.push(K));var J=WebMol.ea.color(B.color),X=3*I.vertices;I.vertices+=2;I.h[X]=ga.x;I.h[X+1]=ga.y;I.h[X+2]=ga.z;I.k[X]=J.r;I.k[X+1]=J.g;I.k[X+2]=J.b;I.h[X+3]=K.x;I.h[X+4]=K.y;I.h[X+5]=K.z;I.k[X+3]=
J.r;I.k[X+4]=J.g;I.k[X+5]=J.b}B=G;ga=e;P=u;if(B.style.zd&&(K=B.style.zd,!K.hidden)){I=K.q||.25;X=J=!1;Q=B.color;"undefined"!=typeof K.color&&(Q=K.color);var ja=WebMol.ea.color(Q),L=void 0,S=void 0;!B.cb&&4>B.p.length&&(J=!0);for(var da=0;da<B.p.length;da++){var Z=ga[B.p[da]];if(B.Aa<Z.Aa&&Z.style.zd){var ba=new WebMol.Vector3(B.x,B.y,B.z),y=new WebMol.Vector3(Z.x,Z.y,Z.z),L=Z.color;"undefined"!=typeof K.color&&(L=K.color);var M=WebMol.ea.color(L);if(1===B.M[da]){if(!Z.cb&&4>Z.p.length&&(X=!0),Q!=
L?(L=(new WebMol.Vector3).addVectors(ba,y).multiplyScalar(.5),f(P,ba,L,I,ja,J,!1),f(P,L,y,I,M,!1,X)):f(P,ba,y,I,ja,J,X),B.n||Z.n)L=(new WebMol.Vector3).addVectors(ba,y).multiplyScalar(.5),B.n&&(M=new ta(ba.clone(),L.clone(),I),ba=new sa(ba.clone(),I),B.j.A.push(M),B.j.L.push(ba)),Z.n&&(ba=new ta(y.clone(),L.clone(),I),y=new sa(y.clone(),I),Z.j.A.push(ba),Z.j.L.push(y))}else if(1<B.M[da]){var X=J=!1,S=y.clone(),Y=null;S.sub(ba);var O,ia,aa,ha;1===B.p.length?1===Z.p.length?(Y=S.clone(),1E-4<Math.abs(Y.x)?
Y.y+=1:Y.x+=1):(O=(da+1)%Z.p.length,O=Z.p[O],O=ga[O],O=new WebMol.Vector3(O.x,O.y,O.z),O=O.clone(),O.sub(ba),Y=O.clone(),Y.cross(S)):(O=(da+1)%B.p.length,O=B.p[O],O=ga[O],O=new WebMol.Vector3(O.x,O.y,O.z),O=O.clone(),O.sub(ba),Y=O.clone(),Y.cross(S));if(2==B.M[da]){if(O=I/2.5,Y.cross(S),Y.normalize(),Y.multiplyScalar(1.5*O),ia=ba.clone(),ia.add(Y),aa=ba.clone(),aa.sub(Y),Y=ia.clone(),Y.add(S),ha=aa.clone(),ha.add(S),Q!=L?(L=(new WebMol.Vector3).addVectors(ia,Y).multiplyScalar(.5),S=(new WebMol.Vector3).addVectors(aa,
ha).multiplyScalar(.5),f(P,ia,L,O,ja,J,!1),f(P,L,Y,O,M,!1,X),f(P,aa,S,O,ja,J,!1),f(P,S,ha,O,M,!1,X)):(f(P,ia,Y,O,ja,J,X),f(P,aa,ha,O,ja,J,X)),B.n||Z.n)L=(new WebMol.Vector3).addVectors(ia,Y).multiplyScalar(.5),S=(new WebMol.Vector3).addVectors(aa,ha).multiplyScalar(.5),B.n&&(M=new ta(ia.clone(),L.clone(),O),aa=new ta(aa.clone(),S.clone(),O),B.j.A.push(M),B.j.A.push(aa)),Z.n&&(cylinder2a=new ta(Y.clone(),L.clone(),O),cylinder2b=new ta(ha.clone(),S.clone(),O),Z.j.A.push(cylinder2a),Z.j.A.push(cylinder2b))}else 3==
B.M[da]&&(O=I/4,Y.cross(S),Y.normalize(),Y.multiplyScalar(3*O),ia=ba.clone(),ia.add(Y),aa=ba.clone(),aa.sub(Y),Y=ia.clone(),Y.add(S),ha=aa.clone(),ha.add(S),Q!=L?(L=(new WebMol.Vector3).addVectors(ia,Y).multiplyScalar(.5),S=(new WebMol.Vector3).addVectors(aa,ha).multiplyScalar(.5),mp3=(new WebMol.Vector3).addVectors(ba,y).multiplyScalar(.5),f(P,ia,L,O,ja,J,!1),f(P,L,Y,O,M,!1,X),f(P,ba,mp3,O,ja,J,!1),f(P,mp3,y,O,M,!1,X),f(P,aa,S,O,ja,J,!1),f(P,S,ha,O,M,!1,X)):(f(P,ia,Y,O,ja,J,X),f(P,ba,y,O,ja,J,X),
f(P,aa,ha,O,ja,J,X)),B.n||Z.n)&&(L=(new WebMol.Vector3).addVectors(ia,Y).multiplyScalar(.5),S=(new WebMol.Vector3).addVectors(aa,ha).multiplyScalar(.5),mp3=(new WebMol.Vector3).addVectors(ba,y).multiplyScalar(.5),B.n&&(M=new ta(ia.clone(),L.clone(),O),aa=new ta(aa.clone(),S.clone(),O),ba=new ta(ba.clone(),mp3.clone(),O),B.j.A.push(M),B.j.A.push(aa),B.j.A.push(ba)),Z.n&&(cylinder2a=new ta(Y.clone(),L.clone(),O),cylinder2b=new ta(ha.clone(),S.clone(),O),cylinder2c=new ta(y.clone(),mp3.clone(),O),Z.j.A.push(cylinder2a),
Z.j.A.push(cylinder2b),Z.j.A.push(cylinder2c)))}if(X||3<Z.p.length)Z.cb=!0;if(J||3<B.p.length)B.cb=!0}}if(!B.sa&&1===B.p.length||!B.p.length)ga=B.style,B.style={L:{q:I,color:Q}},t(B,P),B.style=ga}"undefined"===typeof G.style.Cb||G.style.Cb.hidden||l.push(G)}}if(0<l.length)for(WebMol.nf(g,l,!1),A=0;A<g.children.length;A++);0<w.vertices&&(l=new qa({ambient:0,vertexColors:!0,reflectivity:0}),w.initTypedArrays(),l=new ra(w,l),console.log("sphere geometry "+w.vertices.length),g.add(l));0<u.vertices&&(w=
new qa({vertexColors:!0,ambient:0,reflectivity:0}),u.initTypedArrays(),w.wireframe&&u.setUpWireframe(),u=new ra(u,w),g.add(u));for(A in n)n.hasOwnProperty(A)&&(u=A,u=new va({linewidth:u,vertexColors:!0}),n[A].initTypedArrays(),u=new ya(n[A],u,WebMol.LinePieces),g.add(u));for(A in p)p.hasOwnProperty(A)&&(u=A,n=new va({linewidth:u,vertexColors:!0}),p[A].initTypedArrays(),n=new ya(p[A],n,WebMol.LinePieces),g.add(n));m=g;console.log("object creation time: "+(new Date-b));C&&(a.remove(C),C=null);C=m.clone();
a.add(C)}};this.ag=function(a){C&&(void 0!==C.T&&C.T.dispose(),void 0!==C.da&&C.da.dispose(),a.remove(C),C=null);m=null}}}();
WebMol.$a=function(){function a(a,n){n=n||{};WebMol.Ee++;this.id=a;this.V=new sa;this.j={L:[],A:[],I:[],s:[]};d(this,n);var s=[],g=null,f=null,v=new WebMol.Geometry(!0);this.ug=function(a){for(var b in a)n[b]=a[b];d(this,n)};this.Ac=function(a){a.nc=a.nc||[];a.Hb=a.Hb||[];a.$b=a.$b||[];a.Ub=a.Ub||[];var b=v.addGeoGroup();p(this,b,a);b.truncateArrayBuffers(!0);for(a=0;a<b.k.length/3;++a)b.k[3*a]=this.color.r,b.k[3*a+1]=this.color.g,b.k[3*a+2]=this.color.b;s.push({id:b.id,Mb:b,eb:b.getCentroid()});
l(this.V,s,b.h)};this.Cc=function(a){a.center=a.center||{x:0,y:0,z:0};a.q=a.q?WebMol.Math.clamp(a.q,0,Infinity):1.5;var b=v.addGeoGroup(),d=a.center,f=a.q,g=new WebMol.Vector3(d.x,d.y,d.z);this.j.L.push(new sa(g,f));var n;n=t.Ta(f);for(var g=n.vertices,p=n.za,E=b.vertices,B=0,A=g.length;B<A;++B){var r=3*(E+B),D=g[B];b.h[r]=D.x+d.x;b.h[r+1]=D.y+d.y;b.h[r+2]=D.z+d.z}b.vertices+=g.length;B=n.Ba;A=B.length-1;for(n=0;n<A;n++)for(r=B[n].length-1,d=0;d<r;d++){var D=b.l,z=b.J,F=B[n][d+1]+E,H=3*F,T=B[n][d]+
E,U=3*T,x=B[n+1][d]+E,R=3*x,W=B[n+1][d+1]+E,fa=3*W,ca=p[F-E],P=p[T-E],I=p[x-E],Q=p[W-E];Math.abs(g[F-E].y)===f?(b.c[H]=ca.x,b.c[R]=I.x,b.c[fa]=Q.x,b.c[H+1]=ca.y,b.c[R+1]=I.y,b.c[fa+1]=Q.y,b.c[H+2]=ca.z,b.c[R+2]=I.z,b.c[fa+2]=Q.z,b.f[D]=F,b.f[D+1]=x,b.f[D+2]=W,b.i[z]=F,b.i[z+1]=x,b.i[z+2]=F,b.i[z+3]=W,b.i[z+4]=x,b.i[z+5]=W,b.l+=3,b.J+=6):Math.abs(g[x-E].y)===f?(b.c[H]=ca.x,b.c[U]=P.x,b.c[R]=I.x,b.c[H+1]=ca.y,b.c[U+1]=P.y,b.c[R+1]=I.y,b.c[H+2]=ca.z,b.c[U+2]=P.z,b.c[R+2]=I.z,b.f[D]=F,b.f[D+1]=T,b.f[D+
2]=x,b.i[z]=F,b.i[z+1]=T,b.i[z+2]=F,b.i[z+3]=x,b.i[z+4]=T,b.i[z+5]=x,b.l+=3,b.J+=6):(b.c[H]=ca.x,b.c[U]=P.x,b.c[fa]=Q.x,b.c[H+1]=ca.y,b.c[U+1]=P.y,b.c[fa+1]=Q.y,b.c[H+2]=ca.z,b.c[U+2]=P.z,b.c[fa+2]=Q.z,b.c[U]=P.x,b.c[R]=I.x,b.c[fa]=Q.x,b.c[U+1]=P.y,b.c[R+1]=I.y,b.c[fa+1]=Q.y,b.c[U+2]=P.z,b.c[R+2]=I.z,b.c[fa+2]=Q.z,b.f[D]=F,b.f[D+1]=T,b.f[D+2]=W,b.f[D+3]=T,b.f[D+4]=x,b.f[D+5]=W,b.i[z]=F,b.i[z+1]=T,b.i[z+2]=F,b.i[z+3]=W,b.i[z+4]=T,b.i[z+5]=x,b.i[z+6]=x,b.i[z+7]=W,b.l+=6,b.J+=8)}b.truncateArrayBuffers(!0);
s.push({id:b.id,Mb:b,eb:new WebMol.Vector3(a.center.x,a.center.y,a.center.z)});l(this.V,s,b.h)};this.zc=function(a){a.start=a.start||{};a.end=a.end||{};a.start=new WebMol.Vector3(a.start.x||0,a.start.y||0,a.start.z||0);a.end=new WebMol.Vector3(a.end.x||3,a.end.y||0,a.end.z||0);a.q=a.q||.25;a.jd=a.jd||1.618034;a.nb=0<a.nb&&1>a.nb?a.nb:.618034;var b=v.addGeoGroup(),d=a.start,f=a.end,g=a.q,n=a.jd,p=a.nb;if(d&&f){var t=f.clone();t.sub(d).multiplyScalar(p);var B=d.clone().add(t),p=t.clone().negate();this.j.A.push(new ta(d.clone(),
B.clone(),g));this.j.L.push(new sa(d.clone(),g));var A=[];A[0]=t.clone();1E-4<Math.abs(A[0].x)?A[0].y+=1:A[0].x+=1;A[0].cross(t);A[0].normalize();A[0]=A[0];A[4]=A[0].clone();A[4].crossVectors(A[0],t);A[4].normalize();A[8]=A[0].clone().negate();A[12]=A[4].clone().negate();A[2]=A[0].clone().add(A[4]).normalize();A[6]=A[4].clone().add(A[8]).normalize();A[10]=A[8].clone().add(A[12]).normalize();A[14]=A[12].clone().add(A[0]).normalize();A[1]=A[0].clone().add(A[2]).normalize();A[3]=A[2].clone().add(A[4]).normalize();
A[5]=A[4].clone().add(A[6]).normalize();A[7]=A[6].clone().add(A[8]).normalize();A[9]=A[8].clone().add(A[10]).normalize();A[11]=A[10].clone().add(A[12]).normalize();A[13]=A[12].clone().add(A[14]).normalize();A[15]=A[14].clone().add(A[0]).normalize();var r=b.vertices,D,z,F;z=0;for(F=A.length;z<F;++z){D=3*(r+3*z);var H=A[z].clone().multiplyScalar(g).add(d),T=A[z].clone().multiplyScalar(g).add(B),U=A[z].clone().multiplyScalar(g*n).add(B);b.h[D]=H.x;b.h[D+1]=H.y;b.h[D+2]=H.z;b.h[D+3]=T.x;b.h[D+4]=T.y;
b.h[D+5]=T.z;b.h[D+6]=U.x;b.h[D+7]=U.y;b.h[D+8]=U.z;0<z&&(D=new WebMol.Vector3(b.h[D-3],b.h[D-2],b.h[D-1]),H=f.clone(),T=B.clone(),U=new WebMol.Vector3(U.x,U.y,U.z),this.j.s.push(new oa(U,H,D)),this.j.s.push(new oa(D.clone(),T,U.clone())))}b.vertices+=48;D=3*b.vertices;b.h[D]=d.x;b.h[D+1]=d.y;b.h[D+2]=d.z;b.h[D+3]=B.x;b.h[D+4]=B.y;b.h[D+5]=B.z;b.h[D+6]=f.x;b.h[D+7]=f.y;b.h[D+8]=f.z;b.vertices+=3;var x,R,W,fa,ca,P,I,Q,ga,K=b.vertices-3,J=b.vertices-2,X=b.vertices-1,ja=3*K,L=3*J,S=3*X;z=0;for(F=A.length-
1;z<F;++z)x=r+3*z,d=b.l,f=b.J,g=x,H=3*g,n=x+1,T=3*n,B=x+2,R=3*B,U=x+4,W=3*U,D=x+5,fa=3*D,x+=3,ca=3*x,P=I=A[z],Q=ga=A[z+1],b.c[H]=P.x,b.c[T]=I.x,b.c[ca]=ga.x,b.c[H+1]=P.y,b.c[T+1]=I.y,b.c[ca+1]=ga.y,b.c[H+2]=P.z,b.c[T+2]=I.z,b.c[ca+2]=ga.z,b.c[T]=I.x,b.c[W]=Q.x,b.c[ca]=ga.x,b.c[T+1]=I.y,b.c[W+1]=Q.y,b.c[ca+1]=ga.y,b.c[T+2]=I.z,b.c[W+2]=Q.z,b.c[ca+2]=ga.z,b.c[R]=I.x,b.c[fa]=Q.x,b.c[R+1]=I.y,b.c[fa+1]=Q.y,b.c[R+2]=I.z,b.c[fa+2]=Q.z,b.f[d]=g,b.f[d+1]=n,b.f[d+2]=x,b.f[d+3]=n,b.f[d+4]=U,b.f[d+5]=x,b.f[d+
6]=g,b.f[d+7]=x,b.f[d+8]=K,b.f[d+9]=B,b.f[d+10]=J,b.f[d+11]=D,b.f[d+12]=B,b.f[d+13]=X,b.f[d+14]=D,b.i[f]=g,b.i[f+1]=n,b.i[f+2]=g,b.i[f+3]=x,b.i[f+4]=U,b.i[f+5]=x,b.i[f+6]=g,b.i[f+7]=x,b.i[f+8]=B,b.i[f+9]=n,b.i[f+10]=B,b.i[f+11]=D,b.i[f+12]=U,b.i[f+13]=D,b.i[f+14]=B,b.i[f+15]=X,b.i[f+16]=B,b.i[f+17]=D,b.i[f+18]=X,b.i[f+19]=D,b.l+=15,b.J+=20;r=[r+45,r+46,r+1,r,r+47,r+2];d=b.l;f=b.J;g=r[0];H=3*g;n=r[1];T=3*n;B=r[4];R=3*B;U=r[2];W=3*U;D=r[5];fa=3*D;x=r[3];ca=3*x;P=I=A[15];Q=ga=A[0];b.c[H]=P.x;b.c[T]=
I.x;b.c[ca]=ga.x;b.c[H+1]=P.y;b.c[T+1]=I.y;b.c[ca+1]=ga.y;b.c[H+2]=P.z;b.c[T+2]=I.z;b.c[ca+2]=ga.z;b.c[T]=I.x;b.c[W]=Q.x;b.c[ca]=ga.x;b.c[T+1]=I.y;b.c[W+1]=Q.y;b.c[ca+1]=ga.y;b.c[T+2]=I.z;b.c[W+2]=Q.z;b.c[ca+2]=ga.z;b.c[R]=I.x;b.c[fa]=Q.x;b.c[R+1]=I.y;b.c[fa+1]=Q.y;b.c[R+2]=I.z;b.c[fa+2]=Q.z;t.normalize();p.normalize();b.c[ja]=p.x;b.c[L]=b.c[S]=t.x;b.c[ja+1]=p.y;b.c[L+1]=b.c[S+1]=t.y;b.c[ja+2]=p.z;b.c[L+2]=b.c[S+2]=t.z;b.f[d]=g;b.f[d+1]=n;b.f[d+2]=x;b.f[d+3]=n;b.f[d+4]=U;b.f[d+5]=x;b.f[d+6]=g;b.f[d+
7]=x;b.f[d+8]=K;b.f[d+9]=B;b.f[d+10]=J;b.f[d+11]=D;b.f[d+12]=B;b.f[d+13]=X;b.f[d+14]=D;b.i[f]=g;b.i[f+1]=n;b.i[f+2]=g;b.i[f+3]=x;b.i[f+4]=U;b.i[f+5]=x;b.i[f+6]=g;b.i[f+7]=x;b.i[f+8]=B;b.i[f+9]=n;b.i[f+10]=B;b.i[f+11]=D;b.i[f+12]=U;b.i[f+13]=D;b.i[f+14]=B;b.i[f+15]=X;b.i[f+16]=B;b.i[f+17]=D;b.i[f+18]=X;b.i[f+19]=D;b.l+=15;b.J+=20}b.truncateArrayBuffers(!0);t=new WebMol.Vector3;s.push({id:b.id,Mb:b,eb:t.addVectors(a.start,a.end).multiplyScalar(.5)});l(this.V,s,b.h)};this.Dc=function(a,b,d){var f=void 0!==
d.Uc&&"number"===typeof d.Uc?d.Uc:0,g=d.Fd?!0:!1,n=v.addGeoGroup();switch(b){case "cube":var t=a.replace(/^\s+/,"").split(/[\n\r]+/);if(!(6>t.length)){var E=t[2].replace(/^\s+/,"").replace(/\s+/g," ").split(" "),B=Math.abs(parseFloat(E[0]));a=new WebMol.Vector3(parseFloat(E[1]),parseFloat(E[2]),parseFloat(E[3]));var E=t[3].replace(/^\s+/,"").replace(/\s+/g," ").split(" "),A=0<parseFloat(E[0])?.529177:1;a.multiplyScalar(A);b=Math.abs(E[0]);var r=(new WebMol.Vector3(parseFloat(E[1]),parseFloat(E[2]),
parseFloat(E[3]))).multiplyScalar(A),E=t[4].replace(/^\s+/,"").replace(/\s+/g," ").split(" "),D=Math.abs(E[0]);(new WebMol.Vector3(parseFloat(E[1]),parseFloat(E[2]),parseFloat(E[3]))).multiplyScalar(A);var E=t[5].replace(/^\s+/,"").replace(/\s+/g," ").split(" "),z=Math.abs(E[0]);(new WebMol.Vector3(parseFloat(E[1]),parseFloat(E[2]),parseFloat(E[3]))).multiplyScalar(A);t=new Float32Array(t.splice(B+7).join(" ").replace(/^\s+/,"").split(/[\s\r]+/));E=new Int16Array(b*D*z);B=0;for(A=E.length;B<A;++B)E[B]=
-1;E=new Uint8Array(b*D*z);B=0;for(A=t.length;B<A;++B)0<(0<=f?t[B]-f:f-t[B])&&(E[B]|=2);f=[];t=[];WebMol.rc.Gf(E,f,t,{qf:!0,Fd:g,scale:r.length(),origin:a,Kf:b,Lf:D,Mf:z});g||WebMol.rc.Ff(10,f,t);p(this,n,{nc:f,Hb:t,$b:[],Ub:[]})}}s.push({id:n.id,Mb:n,eb:n.getCentroid()});this.ug(d);l(this.V,s,n.h)};this.Ob=function(a){v.initTypedArrays();var b=this.color,b=b||WebMol.ea.color(b);v.Oa=!0;for(var d in v.u)for(var l=v.u[d],n=l.k,s=0,l=l.vertices;s<l;++s)n[3*s]=b.r,n[3*s+1]=b.g,n[3*s+2]=b.b;g=new WebMol.Object3D;
d=new qa({wireframe:this.wireframe,vertexColors:!0,ambient:0,reflectivity:0,side:this.side,transparent:1>this.alpha?!0:!1,opacity:this.alpha});d=new ra(v,d);g.add(d);f&&(a.remove(f),f=null);f=g.clone();a.add(f)}}function d(a,d){a.color=d.color||new WebMol.Color;a.wireframe=d.wireframe?!0:!1;a.alpha=d.alpha?WebMol.Math.clamp(d.alpha,0,1):1;a.side=void 0!==d.side?d.side:WebMol.vb;a.n=d.n?!0:!1;a.callback="function"===typeof d.callback?d.callback:null}function l(a,d,l){a.center.set(0,0,0);var g,f;if(0<
d.length){g=0;for(f=d.length;g<f;++g)a.center.add(d[g].eb);a.center.divideScalar(d.length)}d=a.q*a.q;g=0;for(f=l.length/3;g<f;g++){var p=a.center.distanceToSquared({x:l[3*g],y:l[3*g+1],z:l[3*g+2]});d=Math.max(d,p)}a.q=Math.sqrt(d)}function p(a,d,l){var g=l.nc,f=l.$b,p=l.Hb;l=l.Ub;0!==g.length&&0!==p.length||console.warn("Error adding custom shape component: No vertices and/or face indices supplied!");d.vertices=g.length;d.l=p.length;var h,e,m,t,w;t=0;for(w=d.vertices;t<w;++t)h=3*t,e=g[t],d.h[h]=e.x,
d.h[h+1]=e.y,d.h[h+2]=e.z;t=0;for(w=d.l/3;t<w;++t){h=3*t;e=p[h];m=p[h+1];h=p[h+2];var u=new WebMol.Vector3,G=new WebMol.Vector3,E=new WebMol.Vector3;a.j.s.push(new oa(u.copy(g[e]),G.copy(g[m]),E.copy(g[h])))}d.f=new Uint16Array(p);d.truncateArrayBuffers(!0);if(f.length<d.vertices)d.setNormals();else for(d.c=new Float32Array(3*d.vertices),t=0,w=d.vertices;t<w;++t)h=3*t,a=f[t],d.c[h]=a.x,d.c[h+1]=a.y,d.c[h+2]=a.z;l.length?d.i=new Uint16Array(l):d.setLineIndices();d.J=d.i.length}var t={v:{},Ta:function(a){if("undefined"!==
typeof this.v[a])return this.v[a];var d={vertices:[],Ba:[],za:[]},l=16,g=10;1>a&&(l=8,g=6);var f=2*Math.PI,t=Math.PI,h,e;for(e=0;e<=g;e++){var m=[];for(h=0;h<=l;h++){var p=h/l,w=e/g,u={};u.x=-a*Math.cos(0+p*f)*Math.sin(0+w*t);u.y=a*Math.cos(0+w*t);u.z=a*Math.sin(0+p*f)*Math.sin(0+w*t);p=new WebMol.Vector3(u.x,u.y,u.z);p.normalize();d.vertices.push(u);d.za.push(p);m.push(d.vertices.length-1)}d.Ba.push(m)}return this.v[a]=d}};Object.defineProperty(a.prototype,"position",{get:function(){return this.V.center}});
Object.defineProperty(a.prototype,"x",{get:function(){return this.V.center.x}});Object.defineProperty(a.prototype,"y",{get:function(){return this.V.center.y}});Object.defineProperty(a.prototype,"z",{get:function(){return this.V.center.z}});return a}();WebMol.Ee=0;WebMol=WebMol||{};WebMol.Eg=0;
WebMol.GLViewer=function(){function a(a){var l,p,t,b,n,s,g,f,v,h;l=p=t=9999;b=n=s=-9999;g=f=v=h=0;if(0===a.length)return[[0,0,0],[0,0,0],[0,0,0]];for(var e=0;e<a.length;e++){var m=a[e];void 0!==m&&(h++,g+=m.x,f+=m.y,v+=m.z,l=l<m.x?l:m.x,p=p<m.y?p:m.y,t=t<m.z?t:m.z,b=b>m.x?b:m.x,n=n>m.y?n:m.y,s=s>m.z?s:m.z)}return[[l,p,t],[b,n,s],[g/h,f/h,v/h]]}return function(d,l,p){function t(){if(r){var a=u.position.z-D.position.z;1>a&&(a=1);u.Q=a+H;1>u.Q&&(u.Q=1);u.X=a+T;u.Q+1>u.X&&(u.X=u.Q+1);u instanceof Aa?
u.Lb=20:(u.right=a*Math.tan(Math.PI/180*20),u.left=-u.right,u.top=u.right/C,u.bottom=-u.top);u.updateProjectionMatrix();r.fog.Q=u.Q+.4*(u.X-u.Q);r.fog.X=u.X;w.render(r,u)}}function b(a){var b=[];"undefined"===typeof a&&(a={});var d=[],e;if("undefined"===typeof a.Yc)for(e=0;e<g.length;e++)g[e]&&d.push(g[e]);else d=a.Yc,$.isArray(d)||(d=[d]);for(e=0;e<d.length;e++)b=b.concat(d[e].gc(a));return b}var n=this,s=d.id,g=[],f=[],v=[],h=d.width(),e=d.height(),m=$('<div class="glviewerSpinnerWrap" style = "position: absolute; width: 100%; height: 100%; display: table; z-index: 1;"><div class="glviewerSpinner" style="display: table-cell; text-align: center; vertical-align: middle; z-index:1"><img src="webmol/spinner.gif"></div></div>');
$(d).append(m);m.hide();var C=h/e,w=new WebMol.Renderer({antialias:!0});w.wa.style.width="100%";w.wa.style.height="100%";w.wa.style.position="absolute";w.wa.style.top="0px";w.wa.style.zIndex="0";d.append(w.wa);w.rd(h,e);var u=new Aa(20,C,1,800);u.position=new WebMol.Vector3(0,0,150);var G=new WebMol.Vector3;u.lookAt(G);var E=new WebMol.Raycaster(new WebMol.Vector3(0,0,0),new WebMol.Vector3(0,0,0)),B=new Ga,A=new WebMol.Vector3(0,0,0),r=null,D=null,z=null,F=0,H=-50,T=50,U=new Ka(0,0,0,1),x=new Ka(0,
0,0,1),R=!1,W=0,fa=0,ca=0,P=0,I=0,Q=0;(function(){r=new Pa;r.fog=new Qa(F,100,200);z=new WebMol.Object3D;D=new WebMol.Object3D;D.useQuaternion=!0;D.quaternion=new Ka(0,0,0,1);D.add(z);r.add(D);var a=new Ra(16777215);a.position=(new WebMol.Vector3(.2,.2,1)).normalize();a.intensity=1;r.add(a)})();w.pd(F,1);r.fog.color=WebMol.ea.color(F);G=$(w.wa);G.bind("mousedown touchstart",function(a){a.preventDefault();if(r){var b=a.pageX,d=a.pageY;a.originalEvent.targetTouches&&a.originalEvent.targetTouches[0]&&
(b=a.originalEvent.targetTouches[0].pageX,d=a.originalEvent.targetTouches[0].pageY);if(void 0!==b){R=!0;mouseButton=a.which;W=b;fa=d;U=D.quaternion;P=D.position.z;ca=z.position.clone();I=H;Q=T;a=b/$(window).width()*2-1;A.set(a,2*-(d/e)+1,-1);B.unprojectVector(A,u);A.sub(u.position).normalize();E.set(u.position,A);d=[];a=[];a=0;for(b=g.length;a<b;a++)var f=g[a].gc({n:!0}),d=d.concat(f);a=0;for(b=v.length;a<b;a++)f=v[a],f.n&&d.push(f);a=E.intersectObjects(z,d);a.length&&(d=a[0].n,void 0!==d.callback&&
"function"===typeof d.callback&&d.callback(d,n));t()}}});G.bind("DOMMouseScroll mousewheel",function(a){a.preventDefault();if(r){var b=.85*(150-D.position.z);a.originalEvent.detail?D.position.z+=b*a.originalEvent.detail/10:a.originalEvent.wheelDelta&&(D.position.z-=b*a.originalEvent.wheelDelta/400);t()}});G.bind("contextmenu",function(a){a.preventDefault()});$("body").bind("mouseup touchend",function(){R=!1});G.bind("mousemove touchmove",function(a){a.preventDefault();if(r&&R){var b=0,d=$("input[name="+
s+"_mouseMode]:checked");0<d.length&&(b=parseInt(d.val()));var d=a.pageX,f=a.pageY;a.originalEvent.targetTouches&&a.originalEvent.targetTouches[0]&&(d=a.originalEvent.targetTouches[0].pageX,f=a.originalEvent.targetTouches[0].pageY);if(void 0!==d){var d=(d-W)/h,f=(f-fa)/e,g=Math.sqrt(d*d+f*f);3==b||3==mouseButton&&a.ctrlKey?(H=I+100*d,T=Q+100*f):2==b||3==mouseButton||a.shiftKey?(a=.85*(150-D.position.z),80>a&&(a=80),D.position.z=P-f*a):1==b||2==mouseButton||a.ctrlKey?(a=.85*(150-D.position.z),20>a&&
(a=20),a=new WebMol.Vector3(d*a,-f*a,0),b=D.quaternion,b=(new Ka(b.x,b.y,b.z,b.w)).inverse().normalize(),a=a.applyQuaternion(b),z.position.x=ca.x+a.x,z.position.y=ca.y+a.y,z.position.z=ca.z+a.z):0!==b&&1!=mouseButton||0===g||(a=Math.sin(g*Math.PI)/g,x.x=Math.cos(g*Math.PI),x.y=0,x.z=a*d,x.w=-a*f,D.quaternion=new Ka(1,0,0,0),D.quaternion.multiply(x),D.quaternion.multiply(U));t()}}});this.hg=function(a){var b;F=a;w.pd(a,b|1);r.fog.color=WebMol.ea.color(a);t()};this.resize=function(){h=d.width();e=d.height();
C=h/e;w.rd(h,e);u.Hc=C;u.updateProjectionMatrix();t()};$(window).resize(this.resize);this.xf=function(){if(!z)return[0,0,0,0,0,0,0,1];var a=z.position,b=D.quaternion;return[a.x,a.y,a.z,D.position.z,b.x,b.y,b.z,b.w]};this.lg=function(a){void 0!==a&&(a instanceof Array||8!==a.length)&&z&&D&&(z.position.x=a[0],z.position.y=a[1],z.position.z=a[2],D.position.z=a[3],D.quaternion.x=a[4],D.quaternion.y=a[5],D.quaternion.z=a[6],D.quaternion.w=a[7],t())};this.render=function(){var a=new Date,b=this.xf(),d;
for(d=0;d<g.length;d++)g[d]&&g[d].Ob(z);for(d=0;d<v.length;d++)v[d]&&v[d].Ob(z);for(d in f)if(f.hasOwnProperty(d)){var e=f[d].ph;f[d].pf||(e.ub=!0,e.gb=!0,e.ob=!0,e.Oa=!0,e.Kc=!0,e.V=null,f[d].done&&(f[d].pf=!0),f[d].Vc&&z.remove(f[d].Vc),e=new ra(e,f[d].uh),f[d].Vc=e,z.add(e))}this.lg(b);b=new Date;m.hide();console.log("render time: "+(b-a))};this.Hd=function(){var d=b(void 0).concat(v),e=b({}).concat(v),d=a(d),e=a(e),f=new WebMol.Vector3(d[2][0],d[2][1],d[2][2]);z.position=f.multiplyScalar(-1);
var f=e[1][0]-e[0][0],g=e[1][1]-e[0][1],e=e[1][2]-e[0][2],e=Math.sqrt(f*f+g*g+e*e);25>e&&(e=25);H=-e/1.9;T=e/3;f=d[1][0]-d[0][0];g=d[1][1]-d[0][1];e=d[1][2]-d[0][2];e=Math.sqrt(f*f+g*g+e*e);25>e&&(e=25);D.position.z=-(.35*e/Math.tan(Math.PI/180*u.Lb/2)-150);t()};this.Cc=function(a){var b=new WebMol.$a(v.length);a=a||{};b.Cc(a);v.push(b);return b};this.zc=function(a){var b=new WebMol.$a(v.length);a=a||{};b.zc(a);v.push(b);return b};this.Ac=function(a){var b=new WebMol.$a(v.length);a=a||{};b.Ac(a);
v.push(b);return b};this.Dc=function(a,b,d){var e=new WebMol.$a(v.length);d=d||{};e.Dc(a,b,d);v.push(e);return e};this.Bc=function(a,b){var d=new WebMol.GLModel(g.length,p);d.Pe(a,b);g.push(d)};this.$f=function(){for(var a=0;a<g.length;a++)g[a].ag(z);g=[]};this.sd=function(a,b){for(var d=0;d<g.length;d++)g[d]&&g[d].setStyle(a,b,!1)};this.clear=function(){f=[];this.$f();t()};getModelGroup=function(){return z};try{"function"===typeof l&&l(this)}catch(ga){console.log("error with glviewer callback: "+
ga)}}}();WebMol.glmolViewer=WebMol.GLViewer;WebMol=WebMol||{};
WebMol.Eh=[{e:"ALA",a:"N",props:{d:-.15}},{e:"ALA",a:"CA",props:{d:.1}},{e:"ALA",a:"CB",props:{d:0}},{e:"ALA",a:"C",props:{d:.6}},{e:"ALA",a:"O",props:{d:-.55}},{e:"ARG",a:"N",props:{d:-.15}},{e:"ARG",a:"CA",props:{d:.1}},{e:"ARG",a:"CB",props:{d:0}},{e:"ARG",a:"CG",props:{d:0}},{e:"ARG",a:"CD",props:{d:.1}},{e:"ARG",a:"NE",props:{d:-.1}},{e:"ARG",a:"CZ",props:{d:.5}},{e:"ARG",a:"NH1",props:{d:.25}},{e:"ARG",a:"NH2",props:{d:.25}},{e:"ARG",a:"C",props:{d:.6}},{e:"ARG",a:"O",props:{d:-.55}},{e:"ASN",
a:"N",props:{d:-.15}},{e:"ASN",a:"CA",props:{d:.1}},{e:"ASN",a:"CB",props:{d:0}},{e:"ASN",a:"CG",props:{d:.55}},{e:"ASN",a:"OD1",props:{d:-.55}},{e:"ASN",a:"ND2",props:{d:0}},{e:"ASN",a:"C",props:{d:.6}},{e:"ASN",a:"O",props:{d:-.55}},{e:"ASP",a:"N",props:{d:-.15}},{e:"ASP",a:"CA",props:{d:.1}},{e:"ASP",a:"CB",props:{d:0}},{e:"ASP",a:"CG",props:{d:.14}},{e:"ASP",a:"OD1",props:{d:-.57}},{e:"ASP",a:"OD2",props:{d:-.57}},{e:"ASP",a:"C",props:{d:.6}},{e:"ASP",a:"O",props:{d:-.55}},{e:"CYS",a:"N",props:{d:-.15}},
{e:"CYS",a:"CA",props:{d:.1}},{e:"CYS",a:"CB",props:{d:.19}},{e:"CYS",a:"SG",props:{d:-.19}},{e:"CYS",a:"C",props:{d:.6}},{e:"CYS",a:"O",props:{d:-.55}},{e:"GLN",a:"N",props:{d:-.15}},{e:"GLN",a:"CA",props:{d:.1}},{e:"GLN",a:"CB",props:{d:0}},{e:"GLN",a:"CG",props:{d:0}},{e:"GLN",a:"CD",props:{d:.55}},{e:"GLN",a:"OE1",props:{d:-.55}},{e:"GLN",a:"NE2",props:{d:0}},{e:"GLN",a:"C",props:{d:.6}},{e:"GLN",a:"O",props:{d:-.55}},{e:"GLU",a:"N",props:{d:-.15}},{e:"GLU",a:"CA",props:{d:.1}},{e:"GLU",a:"CB",
props:{d:0}},{e:"GLU",a:"CG",props:{d:0}},{e:"GLU",a:"CD",props:{d:.14}},{e:"GLU",a:"OE1",props:{d:-.57}},{e:"GLU",a:"OE2",props:{d:-.57}},{e:"GLU",a:"C",props:{d:.6}},{e:"GLU",a:"O",props:{d:-.55}},{e:"GLY",a:"N",props:{d:-.15}},{e:"GLY",a:"CA",props:{d:.1}},{e:"GLY",a:"C",props:{d:.6}},{e:"GLY",a:"O",props:{d:-.55}},{e:"HIS",a:"N",props:{d:-.15}},{e:"HIS",a:"CA",props:{d:.1}},{e:"HIS",a:"CB",props:{d:0}},{e:"HIS",a:"CG",props:{d:.1}},{e:"HIS",a:"ND1",props:{d:-.1}},{e:"HIS",a:"CD2",props:{d:.1}},
{e:"HIS",a:"NE2",props:{d:-.4}},{e:"HIS",a:"CE1",props:{d:.3}},{e:"HIS",a:"C",props:{d:.6}},{e:"HIS",a:"O",props:{d:-.55}},{e:"ILE",a:"N",props:{d:-.15}},{e:"ILE",a:"CA",props:{d:.1}},{e:"ILE",a:"CB",props:{d:0}},{e:"ILE",a:"CG2",props:{d:0}},{e:"ILE",a:"CG1",props:{d:0}},{e:"ILE",a:"CD",props:{d:0}},{e:"ILE",a:"C",props:{d:.6}},{e:"ILE",a:"O",props:{d:-.55}},{e:"LEU",a:"N",props:{d:-.15}},{e:"LEU",a:"CA",props:{d:.1}},{e:"LEU",a:"CB",props:{d:0}},{e:"LEU",a:"CG",props:{d:0}},{e:"LEU",a:"CD1",props:{d:0}},
{e:"LEU",a:"CD2",props:{d:0}},{e:"LEU",a:"C",props:{d:.6}},{e:"LEU",a:"O",props:{d:-.55}},{e:"LYS",a:"N",props:{d:-.15}},{e:"LYS",a:"CA",props:{d:.1}},{e:"LYS",a:"CB",props:{d:0}},{e:"LYS",a:"CG",props:{d:0}},{e:"LYS",a:"CD",props:{d:0}},{e:"LYS",a:"CE",props:{d:.25}},{e:"LYS",a:"NZ",props:{d:.75}},{e:"LYS",a:"C",props:{d:.6}},{e:"LYS",a:"O",props:{d:-.55}},{e:"MET",a:"N",props:{d:-.15}},{e:"MET",a:"CA",props:{d:.1}},{e:"MET",a:"CB",props:{d:0}},{e:"MET",a:"CG",props:{d:.06}},{e:"MET",a:"SD",props:{d:-.12}},
{e:"MET",a:"CE",props:{d:.06}},{e:"MET",a:"C",props:{d:.6}},{e:"MET",a:"O",props:{d:-.55}},{e:"PHE",a:"N",props:{d:-.15}},{e:"PHE",a:"CA",props:{d:.1}},{e:"PHE",a:"CB",props:{d:0}},{e:"PHE",a:"CG",props:{d:0}},{e:"PHE",a:"CD1",props:{d:0}},{e:"PHE",a:"CD2",props:{d:0}},{e:"PHE",a:"CE1",props:{d:0}},{e:"PHE",a:"CE2",props:{d:0}},{e:"PHE",a:"CZ",props:{d:0}},{e:"PHE",a:"C",props:{d:.6}},{e:"PHE",a:"O",props:{d:-.55}},{e:"PRO",a:"N",props:{d:-.25}},{e:"PRO",a:"CD",props:{d:.1}},{e:"PRO",a:"CA",props:{d:.1}},
{e:"PRO",a:"CB",props:{d:0}},{e:"PRO",a:"CG",props:{d:0}},{e:"PRO",a:"C",props:{d:.6}},{e:"PRO",a:"O",props:{d:-.55}},{e:"SER",a:"N",props:{d:-.15}},{e:"SER",a:"CA",props:{d:.1}},{e:"SER",a:"CB",props:{d:.25}},{e:"SER",a:"OG",props:{d:-.25}},{e:"SER",a:"C",props:{d:.6}},{e:"SER",a:"O",props:{d:-.55}},{e:"THR",a:"N",props:{d:-.15}},{e:"THR",a:"CA",props:{d:.1}},{e:"THR",a:"CB",props:{d:.25}},{e:"THR",a:"OG1",props:{d:-.25}},{e:"THR",a:"CG2",props:{d:0}},{e:"THR",a:"C",props:{d:.6}},{e:"THR",a:"O",
props:{d:-.55}},{e:"TRP",a:"N",props:{d:-.15}},{e:"TRP",a:"CA",props:{d:.1}},{e:"TRP",a:"CB",props:{d:0}},{e:"TRP",a:"CG",props:{d:-.03}},{e:"TRP",a:"CD2",props:{d:.1}},{e:"TRP",a:"CE2",props:{d:-.04}},{e:"TRP",a:"CE3",props:{d:-.03}},{e:"TRP",a:"CD1",props:{d:.06}},{e:"TRP",a:"NE1",props:{d:-.06}},{e:"TRP",a:"CZ2",props:{d:0}},{e:"TRP",a:"CZ3",props:{d:0}},{e:"TRP",a:"CH2",props:{d:0}},{e:"TRP",a:"C",props:{d:.6}},{e:"TRP",a:"O",props:{d:-.55}},{e:"TYR",a:"N",props:{d:-.15}},{e:"TYR",a:"CA",props:{d:.1}},
{e:"TYR",a:"CB",props:{d:0}},{e:"TYR",a:"CG",props:{d:0}},{e:"TYR",a:"CD1",props:{d:0}},{e:"TYR",a:"CE1",props:{d:0}},{e:"TYR",a:"CD2",props:{d:0}},{e:"TYR",a:"CE2",props:{d:0}},{e:"TYR",a:"CZ",props:{d:.25}},{e:"TYR",a:"OH",props:{d:-.25}},{e:"TYR",a:"C",props:{d:.6}},{e:"TYR",a:"O",props:{d:-.55}},{e:"VAL",a:"N",props:{d:-.15}},{e:"VAL",a:"CA",props:{d:.1}},{e:"VAL",a:"CB",props:{d:0}},{e:"VAL",a:"CG1",props:{d:0}},{e:"VAL",a:"CG2",props:{d:0}},{e:"VAL",a:"C",props:{d:.6}},{e:"VAL",a:"O",props:{d:-.55}}];
WebMol=WebMol||{};WebMol.Math={clamp:function(a,d,l){return Math.min(Math.max(a,d),l)},degToRad:function(){var a=Math.PI/180;return function(d){return d*a}}()};function Ka(a,d,l,p){this.x=a||0;this.y=d||0;this.z=l||0;this.w=void 0!==p?p:1}
Ka.prototype={constructor:Ka,set:function(a,d,l,p){this.x=a;this.y=d;this.z=l;this.w=p;return this},copy:function(a){this.x=a.x;this.y=a.y;this.z=a.z;this.w=a.w;return this},conjugate:function(){this.x*=-1;this.y*=-1;this.z*=-1;return this},inverse:function(){return this.conjugate().normalize()},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},normalize:function(){var a=this.length();0===a?(this.z=this.y=this.x=0,this.w=1):(a=1/a,this.x*=a,this.y*=a,this.z*=
a,this.w*=a);return this},multiply:function(a){return this.multiplyQuaternions(this,a)},multiplyQuaternions:function(a,d){var l=a.x,p=a.y,t=a.z,b=a.w,n=d.x,s=d.y,g=d.z,f=d.w;this.x=l*f+b*n+p*g-t*s;this.y=p*f+b*s+t*n-l*g;this.z=t*f+b*g+l*s-p*n;this.w=b*f-l*n-p*s-t*g}};function Va(a,d){this.x=a||0;this.y=d||0}
Va.prototype={constructor:Va,set:function(a,d){this.x=a;this.y=d;return this},subVectors:function(a,d){this.x=a.x-d.x;this.y=a.y-d.y;return this},copy:function(a){this.x=a.x;this.y=a.y;return this},clone:function(){return new Va(this.x,this.y)}};WebMol.Vector3=function(a,d,l){this.x=a||0;this.y=d||0;this.z=l||0};
WebMol.Vector3.prototype={constructor:WebMol.Vector3,set:function(a,d,l){this.x=a;this.y=d;this.z=l;return this},copy:function(a){this.x=a.x;this.y=a.y;this.z=a.z;return this},add:function(a){this.x+=a.x;this.y+=a.y;this.z+=a.z;return this},addVectors:function(a,d){this.x=a.x+d.x;this.y=a.y+d.y;this.z=a.z+d.z;return this},sub:function(a){this.x-=a.x;this.y-=a.y;this.z-=a.z;return this},subVectors:function(a,d){this.x=a.x-d.x;this.y=a.y-d.y;this.z=a.z-d.z;return this},multiplyScalar:function(a){this.x*=
a;this.y*=a;this.z*=a;return this},divideScalar:function(a){0!==a?(this.x/=a,this.y/=a,this.z/=a):this.z=this.y=this.x=0;return this},distanceTo:function(a){return Math.sqrt(this.distanceToSquared(a))},distanceToSquared:function(a){var d=this.x-a.x,l=this.y-a.y;a=this.z-a.z;return d*d+l*l+a*a},applyMatrix4:function(a){var d=this.x,l=this.y,p=this.z;a=a.elements;this.x=a[0]*d+a[4]*l+a[8]*p+a[12];this.y=a[1]*d+a[5]*l+a[9]*p+a[13];this.z=a[2]*d+a[6]*l+a[10]*p+a[14];return this},applyProjection:function(a){var d=
this.x,l=this.y,p=this.z;a=a.elements;var t=a[3]*d+a[7]*l+a[11]*p+a[15];this.x=(a[0]*d+a[4]*l+a[8]*p+a[12])/t;this.y=(a[1]*d+a[5]*l+a[9]*p+a[13])/t;this.z=(a[2]*d+a[6]*l+a[10]*p+a[14])/t;return this},applyQuaternion:function(a){var d=this.x,l=this.y,p=this.z,t=a.x,b=a.y,n=a.z;a=a.w;var s=a*d+b*p-n*l,g=a*l+n*d-t*p,f=a*p+t*l-b*d,d=-a*d-b*l-n*p;this.x=s*a+d*-t+g*-n-f*-b;this.y=g*a+d*-b+f*-t-s*-n;this.z=f*a+d*-n+s*-b-g*-t;return this},negate:function(){return this.multiplyScalar(-1)},dot:function(a){return this.x*
a.x+this.y*a.y+this.z*a.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},normalize:function(){return this.divideScalar(this.length())},cross:function(a){var d=this.x,l=this.y,p=this.z;this.x=l*a.z-p*a.y;this.y=p*a.x-d*a.z;this.z=d*a.y-l*a.x;return this},crossVectors:function(a,d){this.x=a.y*d.z-a.z*d.y;this.y=a.z*d.x-a.x*d.z;this.z=a.x*d.y-a.y*d.x;return this},getPositionFromMatrix:function(a){this.x=
a.elements[12];this.y=a.elements[13];this.z=a.elements[14];return this},setEulerFromRotationMatrix:function(a,d){var l=a.elements,p=l[0],t=l[4],b=l[8],n=l[5],s=l[9],g=l[6],l=l[10];void 0===d||"XYZ"===d?(this.y=Math.asin(WebMol.Math.clamp(b,-1,1)),.99999>Math.abs(b)?(this.x=Math.atan2(-s,l),this.z=Math.atan2(-t,p)):(this.x=Math.atan2(g,n),this.z=0)):console.error("Error with vector's setEulerFromRotationMatrix: Unknown order: "+d);return this},clone:function(){return new WebMol.Vector3(this.x,this.y,
this.z)}};function Wa(a,d,l,p,t,b,n,s,g){this.elements=new Float32Array(9);this.set(void 0!==a?a:1,d||0,l||0,p||0,void 0!==t?t:1,b||0,n||0,s||0,void 0!==g?g:1)}
Wa.prototype={constructor:Wa,set:function(a,d,l,p,t,b,n,s,g){var f=this.elements;f[0]=a;f[3]=d;f[6]=l;f[1]=p;f[4]=t;f[7]=b;f[2]=n;f[5]=s;f[8]=g;return this},identity:function(){this.set(1,0,0,0,1,0,0,0,1);return this},copy:function(a){a=a.elements;this.set(a[0],a[3],a[6],a[1],a[4],a[7],a[2],a[5],a[8])},multiplyScalar:function(a){var d=this.elements;d[0]*=a;d[3]*=a;d[6]*=a;d[1]*=a;d[4]*=a;d[7]*=a;d[2]*=a;d[5]*=a;d[8]*=a;return this},getInverse:function(a,d){var l=a.elements,p=this.elements;p[0]=l[10]*
l[5]-l[6]*l[9];p[1]=-l[10]*l[1]+l[2]*l[9];p[2]=l[6]*l[1]-l[2]*l[5];p[3]=-l[10]*l[4]+l[6]*l[8];p[4]=l[10]*l[0]-l[2]*l[8];p[5]=-l[6]*l[0]+l[2]*l[4];p[6]=l[9]*l[4]-l[5]*l[8];p[7]=-l[9]*l[0]+l[1]*l[8];p[8]=l[5]*l[0]-l[1]*l[4];l=l[0]*p[0]+l[1]*p[3]+l[2]*p[6];if(0===l){if(d)throw Error("Matrix3.getInverse(): can't invert matrix, determinant is 0");console.warn("Matrix3.getInverse(): can't invert matrix, determinant is 0");this.identity();return this}this.multiplyScalar(1/l);return this},transpose:function(){var a,
d=this.elements;a=d[1];d[1]=d[3];d[3]=a;a=d[2];d[2]=d[6];d[6]=a;a=d[5];d[5]=d[7];d[7]=a;return this},clone:function(){var a=this.elements;return new Wa(a[0],a[3],a[6],a[1],a[4],a[7],a[2],a[5],a[8])}};function $a(a,d,l,p,t,b,n,s,g,f,v,h,e,m,C,w){var u=this.elements=new Float32Array(16);u[0]=void 0!==a?a:1;u[4]=d||0;u[8]=l||0;u[12]=p||0;u[1]=t||0;u[5]=void 0!==b?b:1;u[9]=n||0;u[13]=s||0;u[2]=g||0;u[6]=f||0;u[10]=void 0!==v?v:1;u[14]=h||0;u[3]=e||0;u[7]=m||0;u[11]=C||0;u[15]=void 0!==w?w:1}
$a.prototype={constructor:$a,set:function(a,d,l,p,t,b,n,s,g,f,v,h,e,m,C,w){var u=this.elements;u[0]=a;u[4]=d;u[8]=l;u[12]=p;u[1]=t;u[5]=b;u[9]=n;u[13]=s;u[2]=g;u[6]=f;u[10]=v;u[14]=h;u[3]=e;u[7]=m;u[11]=C;u[15]=w;return this},identity:function(){this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1);return this},copy:function(a){a=a.elements;this.set(a[0],a[4],a[8],a[12],a[1],a[5],a[9],a[13],a[2],a[6],a[10],a[14],a[3],a[7],a[11],a[15]);return this},setRotationFromEuler:function(a,d){var l=this.elements,p=a.x,
t=a.y,b=a.z,n=Math.cos(p),p=Math.sin(p),s=Math.cos(t),t=Math.sin(t),g=Math.cos(b),b=Math.sin(b);if(void 0===d||"XYZ"===d){var f=n*g,v=n*b,h=p*g,e=p*b;l[0]=s*g;l[4]=-s*b;l[8]=t;l[1]=v+h*t;l[5]=f-e*t;l[9]=-p*s;l[2]=e-f*t;l[6]=h+v*t;l[10]=n*s}else console.error("Error with matrix4 setRotationFromEuler. Order: "+d);return this},setRotationFromQuaternion:function(a){var d=this.elements,l=a.x,p=a.y,t=a.z,b=a.w,n=l+l,s=p+p,g=t+t;a=l*n;var f=l*s,l=l*g,v=p*s,p=p*g,t=t*g,n=b*n,s=b*s,b=b*g;d[0]=1-(v+t);d[4]=
f-b;d[8]=l+s;d[1]=f+b;d[5]=1-(a+t);d[9]=p-n;d[2]=l-s;d[6]=p+n;d[10]=1-(a+v);return this},lookAt:function(){var a=new WebMol.Vector3,d=new WebMol.Vector3,l=new WebMol.Vector3;return function(p,t,b){var n=this.elements;l.subVectors(p,t).normalize();0===l.length()&&(l.z=1);a.crossVectors(b,l).normalize();0===a.length()&&(l.x+=1E-4,a.crossVectors(b,l).normalize());d.crossVectors(l,a);n[0]=a.x;n[4]=d.x;n[8]=l.x;n[1]=a.y;n[5]=d.y;n[9]=l.y;n[2]=a.z;n[6]=d.z;n[10]=l.z;return this}}(),multiplyMatrices:function(a,
d){var l=a.elements,p=d.elements,t=this.elements,b=l[0],n=l[4],s=l[8],g=l[12],f=l[1],v=l[5],h=l[9],e=l[13],m=l[2],C=l[6],w=l[10],u=l[14],G=l[3],E=l[7],B=l[11],l=l[15],A=p[0],r=p[4],D=p[8],z=p[12],F=p[1],H=p[5],T=p[9],U=p[13],x=p[2],R=p[6],W=p[10],fa=p[14],ca=p[3],P=p[7],I=p[11],p=p[15];t[0]=b*A+n*F+s*x+g*ca;t[4]=b*r+n*H+s*R+g*P;t[8]=b*D+n*T+s*W+g*I;t[12]=b*z+n*U+s*fa+g*p;t[1]=f*A+v*F+h*x+e*ca;t[5]=f*r+v*H+h*R+e*P;t[9]=f*D+v*T+h*W+e*I;t[13]=f*z+v*U+h*fa+e*p;t[2]=m*A+C*F+w*x+u*ca;t[6]=m*r+C*H+w*R+u*
P;t[10]=m*D+C*T+w*W+u*I;t[14]=m*z+C*U+w*fa+u*p;t[3]=G*A+E*F+B*x+l*ca;t[7]=G*r+E*H+B*R+l*P;t[11]=G*D+E*T+B*W+l*I;t[15]=G*z+E*U+B*fa+l*p;return this},multiplyScalar:function(a){var d=this.elements;d[0]*=a;d[4]*=a;d[8]*=a;d[12]*=a;d[1]*=a;d[5]*=a;d[9]*=a;d[13]*=a;d[2]*=a;d[6]*=a;d[10]*=a;d[14]*=a;d[3]*=a;d[7]*=a;d[11]*=a;d[15]*=a;return this},transpose:function(){var a=this.elements,d;d=a[1];a[1]=a[4];a[4]=d;d=a[2];a[2]=a[8];a[8]=d;d=a[6];a[6]=a[9];a[9]=d;d=a[3];a[3]=a[12];a[12]=d;d=a[7];a[7]=a[13];
a[13]=d;d=a[11];a[11]=a[14];a[14]=d;return this},setPosition:function(a){var d=this.elements;d[12]=a.x;d[13]=a.y;d[14]=a.z;return this},getInverse:function(a,d){var l=this.elements,p=a.elements,t=p[0],b=p[4],n=p[8],s=p[12],g=p[1],f=p[5],v=p[9],h=p[13],e=p[2],m=p[6],C=p[10],w=p[14],u=p[3],G=p[7],E=p[11],B=p[15];l[0]=v*w*G-h*C*G+h*m*E-f*w*E-v*m*B+f*C*B;l[4]=s*C*G-n*w*G-s*m*E+b*w*E+n*m*B-b*C*B;l[8]=n*h*G-s*v*G+s*f*E-b*h*E-n*f*B+b*v*B;l[12]=s*v*m-n*h*m-s*f*C+b*h*C+n*f*w-b*v*w;l[1]=h*C*u-v*w*u-h*e*E+g*
w*E+v*e*B-g*C*B;l[5]=n*w*u-s*C*u+s*e*E-t*w*E-n*e*B+t*C*B;l[9]=s*v*u-n*h*u-s*g*E+t*h*E+n*g*B-t*v*B;l[13]=n*h*e-s*v*e+s*g*C-t*h*C-n*g*w+t*v*w;l[2]=f*w*u-h*m*u+h*e*G-g*w*G-f*e*B+g*m*B;l[6]=s*m*u-b*w*u-s*e*G+t*w*G+b*e*B-t*m*B;l[10]=b*h*u-s*f*u+s*g*G-t*h*G-b*g*B+t*f*B;l[14]=s*f*e-b*h*e-s*g*m+t*h*m+b*g*w-t*f*w;l[3]=v*m*u-f*C*u-v*e*G+g*C*G+f*e*E-g*m*E;l[7]=b*C*u-n*m*u+n*e*G-t*C*G-b*e*E+t*m*E;l[11]=n*f*u-b*v*u-n*g*G+t*v*G+b*g*E-t*f*E;l[15]=b*v*e-n*f*e+n*g*m-t*v*m-b*g*C+t*f*C;l=p[0]*l[0]+p[1]*l[4]+p[2]*l[8]+
p[3]*l[12];if(0===l){if(d)throw Error("Matrix4.getInverse(): can't invert matrix, determinant is 0");console.warn("Matrix4.getInverse(): can't invert matrix, determinant is 0");this.identity();return this}this.multiplyScalar(1/l);return this},decompose:function(){var a=new WebMol.Vector3,d=new WebMol.Vector3,l=new WebMol.Vector3,p=new $a;return function(t,b,n){var s=this.elements;a.set(s[0],s[1],s[2]);d.set(s[4],s[5],s[6]);l.set(s[8],s[9],s[10]);t=t instanceof WebMol.Vector3?t:new WebMol.Vector3;
b=b instanceof Ka?b:new Ka;n=n instanceof Webmol.Vector3?n:new WebMol.Vector3;n.x=a.length();n.y=d.length();n.z=l.length();t.x=s[12];t.y=s[13];t.z=s[14];p.copy(this);p.elements[0]/=n.x;p.elements[1]/=n.x;p.elements[2]/=n.x;p.elements[4]/=n.y;p.elements[5]/=n.y;p.elements[6]/=n.y;p.elements[8]/=n.z;p.elements[9]/=n.z;p.elements[10]/=n.z;b.Kh(p);return[t,b,n]}}(),scale:function(a){var d=this.elements,l=a.x,p=a.y;a=a.z;d[0]*=l;d[4]*=p;d[8]*=a;d[1]*=l;d[5]*=p;d[9]*=a;d[2]*=l;d[6]*=p;d[10]*=a;d[3]*=l;
d[7]*=p;d[11]*=a;return this},getMaxScaleOnAxis:function(){var a=this.elements;return Math.sqrt(Math.max(a[0]*a[0]+a[1]*a[1]+a[2]*a[2],Math.max(a[4]*a[4]+a[5]*a[5]+a[6]*a[6],a[8]*a[8]+a[9]*a[9]+a[10]*a[10])))},makeFrustum:function(a,d,l,p,t,b){var n=this.elements;n[0]=2*t/(d-a);n[4]=0;n[8]=(d+a)/(d-a);n[12]=0;n[1]=0;n[5]=2*t/(p-l);n[9]=(p+l)/(p-l);n[13]=0;n[2]=0;n[6]=0;n[10]=-(b+t)/(b-t);n[14]=-2*b*t/(b-t);n[3]=0;n[7]=0;n[11]=-1;n[15]=0;return this},makePerspective:function(a,d,l,p){a=l*Math.tan(WebMol.Math.degToRad(.5*
a));var t=-a;return this.makeFrustum(t*d,a*d,t,a,l,p)},clone:function(){var a=this.elements;return new $a(a[0],a[4],a[8],a[12],a[1],a[5],a[9],a[13],a[2],a[6],a[10],a[14],a[3],a[7],a[11],a[15])}};function ab(a,d){this.origin=void 0!==a?a:new WebMol.Vector3;this.direction=void 0!==d?d:new WebMol.Vector3}
ab.prototype={constructor:ab,set:function(a,d){this.origin.copy(a);this.direction.copy(d);return this},copy:function(a){this.origin.copy(a.origin);this.direction.copy(a.direction);return this},distanceToPoint:function(){var a=new WebMol.Vector3;return function(d){var l=a.subVectors(d,this.origin).dot(this.direction);a.copy(this.direction).multiplyScalar(l).add(this.origin);return a.distanceTo(d)}}(),isIntersectionSphere:function(a){return this.distanceToPoint(a.center)<=a.q},applyMatrix4:function(a){this.direction.add(this.origin).applyMatrix4(a);
this.origin.applyMatrix4(a);this.direction.sub(this.origin);return this},clone:function(){return(new ab).copy(this)}};function sa(a,d){this.center=void 0!==a?a:new WebMol.Vector3;this.q=void 0!==d?d:0}sa.prototype={constructor:sa,set:function(a,d){this.center.copy(a);this.q=d;return this},copy:function(a){this.center.copy(a.center);this.q=a.q;return this},applyMatrix4:function(a){this.center.applyMatrix4(a);this.q*=a.getMaxScaleOnAxis();return this},clone:function(){return(new sa).copy(this)}};
function ta(a,d,l){this.ha=void 0!==a?a:new WebMol.Vector3;this.Ma=void 0!==d?d:new WebMol.Vector3;this.direction=(new WebMol.Vector3).subVectors(this.Ma,this.ha).normalize();this.q=void 0!==l?l:0}
ta.prototype={constructor:ta,copy:function(a){this.ha.copy(a.ha);this.Ma.copy(a.Ma);this.direction.copy(a.direction);this.q=a.q;return this},lengthSq:function(){var a=new WebMol.Vector3;return function(){return a.subVectors(this.Ma,this.ha).lengthSq()}}(),applyMatrix4:function(a){this.direction.add(this.ha).applyMatrix4(a);this.ha.applyMatrix4(a);this.Ma.applyMatrix4(a);this.direction.sub(this.ha).normalize();this.q*=a.getMaxScaleOnAxis();return this}};
function oa(a,d,l){this.ma=void 0!==a?a:new WebMol.Vector3;this.b=void 0!==d?d:new WebMol.Vector3;this.La=void 0!==l?l:new WebMol.Vector3}
oa.prototype={constructor:oa,copy:function(a){this.ma.copy(a.ma);this.b.copy(a.b);this.La.copy(a.La);return this},applyMatrix4:function(a){this.ma.applyMatrix4(a);this.b.applyMatrix4(a);this.La.applyMatrix4(a);return this},getNormal:function(){var a=new WebMol.Vector3;return function(){var d=this.ma.clone();d.sub(this.b);a.subVectors(this.La,this.b);d.cross(a);d.normalize();return d}}()};
WebMol.EventDispatcher=function(){var a={};this.addEventListener=function(d,l){void 0===a[d]&&(a[d]=[]);-1===a[d].indexOf(l)&&a[d].push(l)};this.removeEventListener=function(d,l){var p=a[d].indexOf(l);-1!==p&&a[d].splice(p,1)};this.dispatchEvent=function(d){var l=a[d.type];if(void 0!==l){d.target=this;for(var p=0,t=l.length;p<t;p++)l[p].call(this,d)}}};
WebMol.Object3D=function(){this.id=WebMol.Object3DIDCount++;this.name="";this.parent=void 0;this.children=[];this.position=new WebMol.Vector3;this.rotation=new WebMol.Vector3;this.matrix=new $a;this.matrixWorld=new $a;this.quaternion=new Ka;this.eulerOrder="XYZ";this.up=new WebMol.Vector3(0,1,0);this.scale=new WebMol.Vector3(1,1,1);this.rotationAutoUpdate=this.matrixWorldNeedsUpdate=this.matrixAutoUpdate=!0;this.useQuaternion=!1;this.visible=!0};
WebMol.Object3D.prototype={constructor:WebMol.Object3D,lookAt:function(a){this.matrix.lookAt(a,this.position,this.up);this.rotationAutoUpdate&&(!0===this.useQuaternion?this.quaternion.copy(this.matrix.decompose()[1]):this.rotation.setEulerFromRotationMatrix(this.matrix,this.eulerOrder))},add:function(a){if(a===this)console.error("Can't add WebMol.Object3D to itself");else{a.parent=this;this.children.push(a);for(var d=this;void 0!==d.parent;)d=d.parent;void 0!==d&&d instanceof Pa&&d.__addObject(a)}},
remove:function(a){var d=this.children.indexOf(a);if(-1!==d){a.parent=void 0;this.children.splice(d,1);for(d=this;void 0!==d.parent;)d=d.parent;void 0!==d&&d instanceof Pa&&d.__removeObject(a)}},updateMatrix:function(){this.matrix.setPosition(this.position);!1===this.useQuaternion?this.matrix.setRotationFromEuler(this.rotation,this.eulerOrder):this.matrix.setRotationFromQuaternion(this.quaternion);1===this.scale.x&&1===this.scale.y&&1===this.scale.z||this.matrix.scale(this.scale);this.matrixWorldNeedsUpdate=
!0},updateMatrixWorld:function(a){!0===this.matrixAutoUpdate&&this.updateMatrix();if(!0===this.matrixWorldNeedsUpdate||!0===a)void 0===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix);this.matrixWorldNeedsUpdate=!1;for(var d in this.children)this.children[d].updateMatrixWorld(!0)},clone:function(a){void 0===a&&(a=new WebMol.Object3D);a.name=this.name;a.up.copy(this.up);a.position.copy(this.position);a.rotation.copy(this.rotation);
a.eulerOrder=this.eulerOrder;a.scale.copy(this.scale);a.rotationAutoUpdate=this.rotationAutoUpdate;a.matrix.copy(this.matrix);a.matrixWorld.copy(this.matrixWorld);a.quaternion.copy(this.quaternion);a.useQuaternion=this.useQuaternion;a.visible=this.visible;for(var d in this.children)a.add(this.children[d].clone());return a}};WebMol.Object3DIDCount=0;
WebMol.Geometry=function(){function a(a){WebMol.EventDispatcher.call(this);this.id=WebMol.GeometryIDCount++;this.name="";this.Xc=!0===a?!0:!1;this.Kc=this.Oa=this.ob=this.gb=this.ub=!1;this.u=[];this.jb=0}function d(a){var b=new l(a.u.length);a.u.push(b);a.jb=a.u.length;b.h=new Float32Array(196605);b.k=new Float32Array(196605);a.Xc&&(b.c=new Float32Array(196605),b.f=new Uint16Array(393210),b.i=new Uint16Array(393210));return b}function l(a){this.id=a||0;this.i=this.f=this.c=this.k=this.h=null;this.J=
this.l=this.vertices=0}function p(a,b,d){if(null===a||void 0===a)return 0===b?new Uint16Array:new Float32Array;if(0===b)return new Uint16Array(a.buffer.slice(a.byteOffset,2*d));if(1===b)return new Float32Array(a.buffer.slice(a.byteOffset,4*d))}l.prototype.getCentroid=function(){for(var a=new WebMol.Vector3,b,d,l,g=0;g<this.vertices;++g)b=3*g,d=this.h[b],l=this.h[b+1],b=this.h[b+2],a.x+=d,a.y+=l,a.z+=b;a.divideScalar(this.vertices);return a};l.prototype.setNormals=function(){var a=this.f,b=this.h,
d=this.c;if(this.vertices&&this.l)for(var l,g,f,p,h,e,m=0;m<a.length/3;++m)l=3*a[3*m],g=3*a[3*m+1],f=3*a[3*m+2],p=new WebMol.Vector3(b[l],b[l+1],b[l+2]),h=new WebMol.Vector3(b[g],b[g+1],b[g+2]),e=new WebMol.Vector3(b[f],b[f+1],b[f+2]),p.subVectors(p,h),e.subVectors(e,h),e.cross(p),p=e,p.normalize(),d[l]+=p.x,d[g]+=p.x,d[f]+=p.x,d[l+1]+=p.y,d[g+1]+=p.y,d[f+1]+=p.y,d[l+2]+=p.z,d[g+2]+=p.z,d[f+2]+=p.z};l.prototype.setLineIndices=function(){if(this.l){var a=this.f,b=this.i=new Uint16Array(2*this.l);this.J=
2*this.l;for(var d,l=0;l<this.l/3;++l){d=3*l;lineoffset=2*d;var g=a[d],f=a[d+1];d=a[d+2];b[lineoffset]=g;b[lineoffset+1]=f;b[lineoffset+2]=g;b[lineoffset+3]=d;b[lineoffset+4]=f;b[lineoffset+5]=d}}};l.prototype.truncateArrayBuffers=function(a){a=!0===a?!0:!1;var b=this.k,d=this.c,l=this.f,g=this.i;this.h=p(this.h,1,3*this.vertices);this.k=p(b,1,3*this.vertices);a?(this.c=p(d,1,3*this.vertices),this.f=p(l,0,this.l),this.i=p(g,0,this.J)):(this.c=p(d,1,0),this.f=p(l,0,0),this.i=p(g,0,0));this.Ne=!0};
a.prototype={constructor:a,updateGeoGroup:function(a){var b=0<this.jb?this.u[this.jb-1]:null;if(!b||65535<b.vertices+(a||0))b=d(this);return b},addGeoGroup:function(){return d(this)},setUpNormals:function(a){a=a||!1;for(var b in this.u)this.u[b].setNormals(a)},setUpWireframe:function(){for(var a in this.u)this.u[a].setLineIndices()},initTypedArrays:function(){for(var a in this.u){var b=this.u[a];!0!==b.Ne&&b.truncateArrayBuffers(this.Xc)}},dispose:function(){this.dispatchEvent({type:"dispose"})}};
return a}();Object.defineProperty(WebMol.Geometry.prototype,"vertices",{get:function(){var a=0,d;for(d in this.u)a+=this.u[d].vertices;return a}});WebMol.GeometryIDCount=0;
WebMol.Raycaster=function(){function a(a){return Math.min(Math.max(a,-1),1)}function d(a,b){return a.Ra-b.Ra}function l(a,b,d,f){this.B=new ab(a,b);0<this.B.direction.lengthSq()&&this.B.direction.normalize();this.Q=f||0;this.X=d||Infinity}var p=new sa,t=new ta,b=new oa,n=new WebMol.Vector3,s=new WebMol.Vector3,g=new WebMol.Vector3,f=new WebMol.Vector3;new ab;new WebMol.Vector3;var v=new WebMol.Vector3;new $a;l.prototype.precision=1E-4;l.prototype.linePrecision=.2;l.prototype.set=function(a,b){this.B.set(a,
b)};l.prototype.intersectObjects=function(h,e){for(var l=[],C=0,w=e.length;C<w;C++)a:{var u=h,G=e[C],E=l;v.getPositionFromMatrix(u.matrixWorld);if(!0===G.n&&void 0!==G.j){var B=G.j,A=this.linePrecision,A=A*u.matrixWorld.getMaxScaleOnAxis(),A=A*A;if(void 0!==G.V&&G.V instanceof sa&&(p.copy(G.V),p.applyMatrix4(u.matrixWorld),!this.B.isIntersectionSphere(p)))break a;for(var r=void 0,D=void 0,z=void 0,F=void 0,H=z=void 0,T=void 0,U=void 0,x=void 0,R=void 0,W=R=H=F=void 0,r=0,D=B.s.length;r<D;r++)B.s[r]instanceof
oa&&(b.copy(B.s[r]),b.applyMatrix4(u.matrixWorld),z=b.getNormal(),F=this.B.direction.dot(z),0<=F||(n.subVectors(b.ma,this.B.origin),T=z.dot(n)/F,0>T||(s.copy(this.B.direction).multiplyScalar(T).add(this.B.origin),s.sub(b.ma),g.copy(b.b).sub(b.ma),f.copy(b.La).sub(b.ma),F=g.dot(f),z=g.lengthSq(),H=f.lengthSq(),H=(z*s.dot(f)-F*s.dot(g))/(z*H-F*F),0>H||1<H||(F=(s.dot(g)-H*F)/z,0>F||1<F||1<F+H||E.push({n:G,Ra:T})))));r=0;for(D=B.A.length;r<D;r++)B.A[r]instanceof ta&&(t.copy(B.A[r]),t.applyMatrix4(u.matrixWorld),
n.subVectors(t.ha,this.B.origin),z=n.dot(t.direction),H=n.dot(this.B.direction),F=a(this.B.direction.dot(t.direction)),x=1-F*F,0!==x&&(R=(F*H-z)/x,W=(H-F*z)/x,s.copy(t.direction).multiplyScalar(R).add(t.ha),g.copy(this.B.direction).multiplyScalar(W).add(this.B.origin),U=f.subVectors(s,g).lengthSq(),R=t.q*t.q,U<=R&&(R=(F*z-H)*(F*z-H)-x*(n.lengthSq()-z*z-R),H=0>=R?T=Math.sqrt(U):T=(H-F*z-Math.sqrt(R))/x,F=F*H-z,0>F||F*F>t.lengthSq()||0>H||E.push({n:G,Ra:T}))));r=0;for(D=B.I.length;r<D;r+=2)s.copy(B.I[r]),
s.applyMatrix4(u.matrixWorld),g.copy(B.I[r+1]),g.applyMatrix4(u.matrixWorld),f.subVectors(g,s),T=f.lengthSq(),f.normalize(),n.subVectors(s,this.B.origin),lineProj=n.dot(f),H=n.dot(this.B.direction),F=a(this.B.direction.dot(f)),x=1-F*F,0!==x&&(R=(F*H-lineProj)/x,W=(H-F*lineProj)/x,s.add(f.multiplyScalar(R)),g.copy(this.B.direction).multiplyScalar(W).add(this.B.origin),U=f.subVectors(g,s).lengthSq(),U<A&&R*R<T&&E.push({n:G,Ra:W}));r=0;for(D=B.L.length;r<D;r++)if(B.L[r]instanceof sa&&(p.copy(B.L[r]),
p.applyMatrix4(u.matrixWorld),this.B.isIntersectionSphere(p))){s.subVectors(p.center,this.B.origin);u=s.dot(this.B.direction);R=u*u-(s.lengthSq()-p.q*p.q);if(0>u)break a;T=0>=R?u:u-Math.sqrt(R);E.push({n:G,Ra:T});break a}}}l.sort(d);return l};return l}();
function Ga(){new $a;var a=new $a;this.projectVector=function(d,l){l.ya.getInverse(l.matrixWorld);a.multiplyMatrices(l.ia,l.ya);return d.applyProjection(a)};this.unprojectVector=function(d,l){l.hd.getInverse(l.ia);a.multiplyMatrices(l.matrixWorld,l.hd);return d.applyProjection(a)}}function Aa(a,d,l,p){WebMol.Object3D.call(this);this.Lb=void 0!==a?a:50;this.Hc=void 0!==d?d:1;this.Q=void 0!==l?l:.1;this.X=void 0!==p?p:2E3;this.ia=new $a;this.hd=new $a;this.ya=new $a;this.updateProjectionMatrix()}
Aa.prototype=Object.create(WebMol.Object3D.prototype);Aa.prototype.lookAt=function(a){this.matrix.lookAt(this.position,a,this.up);this.rotationAutoUpdate&&(!1===this.useQuaternion?this.rotation.setEulerFromRotationMatrix(this.matrix,this.eulerOrder):this.quaternion.copy(this.matrix.decompose()[1]))};Aa.prototype.updateProjectionMatrix=function(){this.ia.makePerspective(this.Lb,this.Hc,this.Q,this.X)};
WebMol.SpritePlugin=function(){function a(a,b){return a.z!==b.z?b.z-a.z:b.id-a.id}var d,l,p,t,b,n,s,g,f,v;this.pa=function(a){d=a.context;l=a;p=a.tf();t=new Float32Array(16);b=new Uint16Array(6);a=0;t[a++]=-1;t[a++]=-1;t[a++]=0;t[a++]=0;t[a++]=1;t[a++]=-1;t[a++]=1;t[a++]=0;t[a++]=1;t[a++]=1;t[a++]=1;t[a++]=1;t[a++]=-1;t[a++]=1;t[a++]=0;t[a++]=1;a=0;b[a++]=0;b[a++]=1;b[a++]=2;b[a++]=0;b[a++]=2;b[a++]=3;n=d.createBuffer();s=d.createBuffer();d.bindBuffer(d.ARRAY_BUFFER,n);d.bufferData(d.ARRAY_BUFFER,
t,d.STATIC_DRAW);d.bindBuffer(d.ELEMENT_ARRAY_BUFFER,s);d.bufferData(d.ELEMENT_ARRAY_BUFFER,b,d.STATIC_DRAW);a=WebMol.ShaderLib.Mh;var e=d.createProgram(),m=d.createShader(d.FRAGMENT_SHADER),C=d.createShader(d.VERTEX_SHADER),w="precision "+p+" float;\n";d.shaderSource(m,w+a.fragmentShader);d.shaderSource(C,w+a.vertexShader);d.compileShader(m);d.compileShader(C);d.getShaderParameter(m,d.COMPILE_STATUS)&&d.getShaderParameter(C,d.COMPILE_STATUS)?(d.attachShader(e,m),d.attachShader(e,C),d.linkProgram(e),
d.getProgramParameter(e,d.LINK_STATUS)||console.error("Could not initialize shader"),g=e):(console.error(d.getShaderInfoLog(m)),console.error("could not initialize shader"),g=null);f={};v={};f.position=d.getAttribLocation(g,"position");f.Ed=d.getAttribLocation(g,"uv");v.uvOffset=d.getUniformLocation(g,"uvOffset");v.uvScale=d.getUniformLocation(g,"uvScale");v.rotation=d.getUniformLocation(g,"rotation");v.scale=d.getUniformLocation(g,"scale");v.alignment=d.getUniformLocation(g,"alignment");v.color=
d.getUniformLocation(g,"color");v.map=d.getUniformLocation(g,"map");v.opacity=d.getUniformLocation(g,"opacity");v.useScreenCoordinates=d.getUniformLocation(g,"useScreenCoordinates");v.sizeAttenuation=d.getUniformLocation(g,"sizeAttenuation");v.dg=d.getUniformLocation(g,"screenPosition");v.Zc=d.getUniformLocation(g,"modelViewMatrix");v.ia=d.getUniformLocation(g,"projectionMatrix");v.Kb=d.getUniformLocation(g,"fogType");v.nh=d.getUniformLocation(g,"fogDensity");v.fogNear=d.getUniformLocation(g,"fogNear");
v.fogFar=d.getUniformLocation(g,"fogFar");v.fogColor=d.getUniformLocation(g,"fogColor");v.alphaTest=d.getUniformLocation(g,"alphaTest")};this.render=function(b,e,m,p){var t=b.wb,u=t.length;if(u){var G=f,E=v,B=p/m;m*=.5;var A=.5*p;d.useProgram(g);d.enableVertexAttribArray(G.position);d.enableVertexAttribArray(G.Ed);d.disable(d.CULL_FACE);d.enable(d.BLEND);d.bindBuffer(d.ARRAY_BUFFER,n);d.vertexAttribPointer(G.position,2,d.FLOAT,!1,16,0);d.vertexAttribPointer(G.Ed,2,d.FLOAT,!1,16,8);d.bindBuffer(d.ELEMENT_ARRAY_BUFFER,
s);d.uniformMatrix4fv(E.ia,!1,e.ia.elements);d.activeTexture(d.TEXTURE0);d.uniform1i(E.map,0);var r=G=0;(G=b.fog)?(d.uniform3f(E.fogColor,G.color.r,G.color.g,G.color.b),d.uniform1f(E.fogNear,G.Q),d.uniform1f(E.fogFar,G.X),d.uniform1i(E.Kb,1),r=G=1):(d.uniform1i(E.Kb,0),r=G=0);var D,z,F,H=[];for(D=0;D<u;D++)z=t[D],F=z.da,z.visible&&0!==F.opacity&&(F.useScreenCoordinates?z.z=-z.position.z:(z.Ca.multiplyMatrices(e.ya,z.matrixWorld),z.z=-z.Ca.elements[14]));t.sort(a);for(D=0;D<u;D++)z=t[D],F=z.da,z.visible&&
0!==F.opacity&&F.map&&F.map.ca&&F.map.ca.width&&(d.uniform1f(E.alphaTest,F.alphaTest),!0===F.useScreenCoordinates?(d.uniform1i(E.useScreenCoordinates,1),d.uniform3f(E.dg,(z.position.x*l.devicePixelRatio-m)/m,(A-z.position.y*l.devicePixelRatio)/A,Math.max(0,Math.min(1,z.position.z))),H[0]=l.devicePixelRatio,H[1]=l.devicePixelRatio):(d.uniform1i(E.useScreenCoordinates,0),d.uniform1i(E.sizeAttenuation,F.sizeAttenuation?1:0),d.uniformMatrix4fv(E.Zc,!1,z.Ca.elements),H[0]=1,H[1]=1),e=b.fog&&F.fog?r:0,
G!==e&&(d.uniform1i(E.Kb,e),G=e),e=1/(F.cg?p:1),H[0]=H[0]*e*B*z.scale.x,H[1]=H[1]*e*z.scale.y,d.uniform2f(E.uvScale,F.uvScale.x,F.uvScale.y),d.uniform2f(E.uvOffset,F.uvOffset.x,F.uvOffset.y),d.uniform2f(E.alignment,F.alignment.x,F.alignment.y),d.uniform1f(E.opacity,F.opacity),d.uniform3f(E.color,F.color.r,F.color.g,F.color.b),d.uniform1f(E.rotation,z.rotation),d.uniform2fv(E.scale,H),l.hc(F.depthTest),l.ic(F.depthWrite),l.kg(F.map),d.drawElements(d.TRIANGLES,6,d.UNSIGNED_SHORT,0));d.enable(d.CULL_FACE)}}};
function Ra(a,d){WebMol.Object3D.call(this);this.color=new WebMol.Color(a);this.position=new WebMol.Vector3(0,1,0);this.target=new WebMol.Object3D;this.intensity=void 0!==d?d:1}Ra.prototype=Object.create(WebMol.Object3D.prototype);
function bb(){WebMol.EventDispatcher.call(this);this.id=WebMol.MaterialIdCount++;this.name="";this.side=WebMol.ge;this.opacity=1;this.transparent=!1;this.blending=WebMol.ze;this.depthWrite=this.depthTest=!0;this.polygonOffset=!1;this.alphaTest=this.polygonOffsetUnits=this.polygonOffsetFactor=0;this.needsUpdate=this.visible=!0}
bb.prototype.setValues=function(a){if(void 0!==a)for(var d in a){var l=a[d];if(void 0===l)console.warn("WebMol.Material: '"+d+"' parameter is undefined.");else if(d in this){var p=this[d];p instanceof WebMol.Color&&l instanceof WebMol.Color?p.copy(l):p instanceof WebMol.Color?p.set(l):p instanceof WebMol.Vector3&&l instanceof WebMol.Vector3?p.copy(l):this[d]=l}}};
bb.prototype.clone=function(a){void 0===a&&(a=new bb);a.name=this.name;a.side=this.side;a.opacity=this.opacity;a.transparent=this.transparent;a.blending=this.blending;a.depthTest=this.depthTest;a.depthWrite=this.depthWrite;a.polygonOffset=this.polygonOffset;a.polygonOffsetFactor=this.polygonOffsetFactor;a.polygonOffsetUnits=this.polygonOffsetUnits;a.alphaTest=this.alphaTest;a.Sf=this.Sf;a.visible=this.visible;return a};bb.prototype.dispose=function(){this.dispatchEvent({type:"dispose"})};
WebMol.MaterialIdCount=0;function va(a){bb.call(this);this.color=new WebMol.Color(16777215);this.linewidth=1;this.linejoin=this.linecap="round";this.vertexColors=!1;this.fog=!0;this.setValues(a)}va.prototype=Object.create(bb.prototype);va.prototype.clone=function(){var a=new va;bb.prototype.clone.call(this,a);a.color.copy()};
function qa(a){bb.call(this);this.color=new WebMol.Color(16777215);this.ambient=new WebMol.Color(1048575);this.emissive=new WebMol.Color(0);this.wrapAround=!1;this.wrapRGB=new WebMol.Vector3(1,1,1);this.envMap=this.specularMap=this.lightMap=this.map=null;this.reflectivity=1;this.refractionRatio=.98;this.fog=!0;this.wireframe=!1;this.wireframeLinewidth=1;this.wireframeLinejoin=this.wireframeLinecap="round";this.shading=WebMol.Ge;this.vertexColors=WebMol.ye;this.skinning=!1;this.setValues(a)}
qa.prototype=Object.create(bb.prototype);
qa.prototype.clone=function(){var a=new qa;bb.prototype.clone.call(this,a);a.color.copy(this.color);a.ambient.copy(this.ambient);a.emissive.copy(this.emissive);a.wrapAround=this.wrapAround;a.wrapRGB.copy(this.wrapRGB);a.map=this.map;a.lightMap=this.lightMap;a.specularMap=this.specularMap;a.envMap=this.envMap;a.gf=this.gf;a.reflectivity=this.reflectivity;a.refractionRatio=this.refractionRatio;a.fog=this.fog;a.shading=this.shading;a.vertexColors=this.vertexColors;a.skinning=this.skinning;a.If=this.If;
a.Hf=this.Hf;return a};
function rb(a){bb.call(this);this.color=new WebMol.Color(16777215);this.map=new Qb;this.useScreenCoordinates=!0;this.depthTest=!this.useScreenCoordinates;this.sizeAttenuation=!this.useScreenCoordinates;this.scaleByViewPort=!this.sizeAttenuation;this.alignment=WebMol.SpriteAlignment.center.clone();this.fog=!1;this.uvOffset=new Va(0,0);this.uvScale=new Va(1,1);this.setValues(a);a=a||{};void 0===a.depthTest&&(this.depthTest=!this.useScreenCoordinates);void 0===a.sizeAttenuation&&(this.sizeAttenuation=
!this.useScreenCoordinates);void 0===a.scaleByViewPort&&(this.scaleByViewPort=!this.sizeAttenuation)}rb.prototype=Object.create(bb.prototype);rb.prototype.clone=function(){var a=new rb;bb.prototype.clone.call(this,a);a.color.copy(this.color);a.map=this.map;a.useScreenCoordinates=useScreenCoordinates;a.sizeAttenuation=this.sizeAttenuation;a.cg=this.scaleByViewPort;a.alignment.copy(this.alignment);a.uvOffset.copy(this.uvOffset);return a};WebMol.SpriteAlignment={};
WebMol.SpriteAlignment.topLeft=new Va(1,-1);WebMol.SpriteAlignment.topCenter=new Va(0,-1);WebMol.SpriteAlignment.topRight=new Va(-1,-1);WebMol.SpriteAlignment.centerLeft=new Va(1,0);WebMol.SpriteAlignment.center=new Va(0,0);WebMol.SpriteAlignment.centerRight=new Va(-1,0);WebMol.SpriteAlignment.bottomLeft=new Va(1,1);WebMol.SpriteAlignment.bottomCenter=new Va(0,1);WebMol.SpriteAlignment.bottomRight=new Va(-1,1);
function Qb(a){WebMol.EventDispatcher.call(this);this.id=WebMol.TextureIdCount++;this.name="";this.ca=a;this.Yb=[];this.Wc=new WebMol.Ke;this.pc=this.oc=WebMol.qc;this.Vb=WebMol.ne;this.Xb=WebMol.oe;this.Gc=1;this.format=WebMol.tc;this.type=WebMol.uc;this.offset=new Va(0,0);this.repeat=new Va(1,1);this.hb=!0;this.bc=!1;this.Jb=!0;this.lc=4;this.needsUpdate=!1;this.cd=null}
Qb.prototype={constructor:Qb,clone:function(a){void 0===a&&(a=new Qb);a.ca=this.ca;a.Yb=this.Yb.slice(0);a.Wc=this.Wc;a.oc=this.oc;a.pc=this.pc;a.Vb=this.Vb;a.Xb=this.Xb;a.Gc=this.Gc;a.format=this.format;a.type=this.type;a.offset.copy(this.offset);a.repeat.copy(this.repeat);a.hb=this.hb;a.bc=this.bc;a.Jb=this.Jb;a.lc=this.lc;return a},dispose:function(){this.dispatchEvent({type:"dispose"})}};WebMol.TextureIdCount=0;
function ya(a,d,l){WebMol.Object3D.call(this);this.T=a;this.da=void 0!==d?d:new va({color:16777215*Math.random()});this.type=void 0!==l?l:WebMol.LineStrip}WebMol.LineStrip=0;WebMol.LinePieces=1;ya.prototype=Object.create(WebMol.Object3D.prototype);ya.prototype.clone=function(a){void 0===a&&(a=new ya(this.T,this.da,this.type));WebMol.Object3D.prototype.clone.call(this,a);return a};
function ra(a,d){WebMol.Object3D.call(this);this.T=a;this.da=void 0!==d?d:new WebMol.Gg({color:16777215*Math.random(),wireframe:!0})}ra.prototype=Object.create(WebMol.Object3D.prototype);ra.prototype.clone=function(a){void 0===a&&(a=new ra(this.T,this.da));WebMol.Object3D.prototype.clone.call(this,a);return a};function Hc(a){WebMol.Object3D.call(this);this.da=void 0!==a?a:new rb;this.rotation3d=this.rotation;this.rotation=0}Hc.prototype=Object.create(WebMol.Object3D.prototype);
Hc.prototype.updateMatrix=function(){this.matrix.setPosition(this.position);this.rotation3d.set(0,0,this.rotation);this.matrix.setRotationFromEuler(this.rotation3d);1===this.scale.x&&1===this.scale.y||this.matrix.scale(this.scale);this.matrixWorldNeedsUpdate=!0};Hc.prototype.clone=function(a){void 0===a&&(a=new Hc(this.da));WebMol.Object3D.prototype.clone.call(this,a);return a};
WebMol.Renderer=function(a){function d(a){var b=a.qa;if(void 0!==b){a.qa=void 0;var d,e,f=!1;a=0;for(d=A.length;a<d;a++)if(e=A[a],e.qa===b){e.mc--;0===e.mc&&(f=!0);break}if(!0===f){f=[];a=0;for(d=A.length;a<d;a++)e=A[a],e.qa!==b&&f.push(e);A=f;y.deleteProgram(b);B.info.memory.gd--}}}function l(a){a=a.target;a.removeEventListener("dispose",l);d(a)}function p(a){a=a.target;a.removeEventListener("dispose",p);a.ca&&a.ca.Oe?y.deleteTexture(a.ca.Oe):a.ja&&(a.ja=!1,y.deleteTexture(a.xb));B.info.memory.Bd--}
function t(a){a=a.target;a.removeEventListener("dispose",t);a.ja=void 0;void 0!==a.ka&&y.deleteBuffer(a.ka);void 0!==a.ua&&y.deleteBuffer(a.ua);if(void 0!==a.u)for(var b=0,d=a.jb;b<d;b++){var e=a.u[b];void 0!==e.ka&&y.deleteBuffer(e.ka);void 0!==e.ua&&y.deleteBuffer(e.ua);void 0!==e.Ja&&y.deleteBuffer(e.Ja);void 0!==e.Ha&&y.deleteBuffer(e.Ha);void 0!==e.Ia&&y.deleteBuffer(e.Ia)}B.info.memory.Nb--}function b(a){J[a]||(y.enableVertexAttribArray(a),J[a]=!0)}function n(a,b){var d;"fragment"===a?d=y.createShader(y.FRAGMENT_SHADER):
"vertex"===a&&(d=y.createShader(y.VERTEX_SHADER));y.shaderSource(d,b);y.compileShader(d);return y.getShaderParameter(d,y.COMPILE_STATUS)?d:(console.error(y.getShaderInfoLog(d)),console.error("could not initialize shader"),null)}function s(a,b,d,e,f,g,h){var l,m,n,p;b?(m=a.length-1,p=b=-1):(m=0,b=a.length,p=1);for(var r=m;r!==b;r+=p)if(l=a[r],l.render&&(m=l.object,n=l.buffer,l=l[d])){h&&B.od(l.blending);B.hc(l.depthTest);B.ic(l.depthWrite);var s=l.polygonOffset;null!==s&&(s?y.enable(y.POLYGON_OFFSET_FILL):
y.disable(y.POLYGON_OFFSET_FILL));B.ig(l);B.bg(e,f,g,l,n,m)}}function g(a){return 0===(a&a-1)}function f(a){return a===WebMol.uc?y.UNSIGNED_BYTE:a===WebMol.tc?y.RGBA:0}a=a||{};var v=void 0!==a.canvas?a.canvas:document.createElement("canvas"),h=void 0!==a.precision?a.precision:"highp",e=void 0!==a.alpha?a.alpha:!0,m=void 0!==a.premultipliedAlpha?a.premultipliedAlpha:!0,C=void 0!==a.antialias?a.antialias:!1,w=void 0!==a.stencil?a.stencil:!0,u=void 0!==a.preserveDrawingBuffer?a.preserveDrawingBuffer:
!1,G=void 0!==a.clearColor?new WebMol.Color(a.clearColor):new WebMol.Color(0),E=void 0!==a.clearAlpha?a.clearAlpha:0;this.wa=v;this.context=null;this.devicePixelRatio=void 0!==a.devicePixelRatio?a.devicePixelRatio:void 0!==self.devicePixelRatio?self.devicePixelRatio:1;this.$e=this.Ze=this.Ye=this.Xe=this.We=this.Ve=!0;this.ld=[];this.info={memory:{gd:0,Nb:0,Bd:0},render:{Bb:0,vertices:0,Ib:0,Uf:0}};var B=this,A=[],r=0,D=null,z=-1,F=null,H=null,T=0,U=-1,x=-1,R=-1,W=-1,fa=null,ca=0,P=0,I=0,Q=0,ga=0,
K=0,J={},X=new $a,ja=new WebMol.Vector3,L=new WebMol.Vector3,S=!0,da=[0,0,0],Z=[],ba=[],y;try{if(!(y=v.getContext("experimental-webgl",{alpha:e,premultipliedAlpha:m,antialias:C,stencil:w,preserveDrawingBuffer:u})))throw"Error creating WebGL context.";}catch(M){console.error(M)}y.clearColor(0,0,0,1);y.clearDepth(1);y.clearStencil(0);y.enable(y.DEPTH_TEST);y.depthFunc(y.LEQUAL);y.frontFace(y.CCW);y.cullFace(y.BACK);y.enable(y.CULL_FACE);y.enable(y.BLEND);y.blendEquation(y.FUNC_ADD);y.blendFunc(y.SRC_ALPHA,
y.ONE_MINUS_SRC_ALPHA);y.clearColor(G.r,G.g,G.b,E);this.context=y;this.getContext=function(){return y};this.tf=function(){return h};this.pd=function(a,b){la(G,a);E=b;y.clearColor(G.r,G.g,G.b,E)};this.rd=function(a,b){v.width=a*this.devicePixelRatio;v.height=b*this.devicePixelRatio;v.style.width=a+"px";v.style.height=b+"px";this.mg(v.width,v.height)};this.mg=function(a,b){P=ca=0;I=void 0!==a?a:v.width;Q=void 0!==b?b:v.height;y.viewport(ca,P,I,Q)};this.clear=function(a,b,d){var e=0;if(void 0===a||a)e|=
y.COLOR_BUFFER_BIT;if(void 0===b||b)e|=y.DEPTH_BUFFER_BIT;if(void 0===d||d)e|=y.STENCIL_BUFFER_BIT;y.clear(e)};this.ig=function(a){var b=a.side===WebMol.vb;a=a.side===WebMol.Sd;U!==b&&(b?y.disable(y.CULL_FACE):y.enable(y.CULL_FACE),U=b);x!==a&&(a?y.frontFace(y.CW):y.frontFace(y.CCW),x=a)};this.hc=function(a){R!==a&&(a?y.enable(y.DEPTH_TEST):y.disable(y.DEPTH_TEST),R=a)};this.ic=function(a){W!==a&&(y.depthMask(a),W=a)};this.od=function(a){a===WebMol.sc?y.disable(y.BLEND):(y.enable(y.BLEND),y.blendEquationSeparate(y.FUNC_ADD,
y.FUNC_ADD),y.blendFuncSeparate(y.SRC_ALPHA,y.ONE_MINUS_SRC_ALPHA,y.ONE,y.ONE_MINUS_SRC_ALPHA))};this.Qe=function(){var a=new WebMol.SpritePlugin;a.pa(this);this.ld.push(a)};this.Af=function(a){a.addEventListener("dispose",l);var b;a instanceof va?b="basic":a instanceof qa&&(b="lambert");if(b){var d=WebMol.ShaderLib[b];a.ng=b;a.vertexShader=d.vertexShader;a.fragmentShader=d.fragmentShader;a.uniforms=WebMol.ShaderUtils.clone(d.uniforms)}a:{var e=a.fragmentShader,f=a.vertexShader,d=a.uniforms,g={wireframe:a.wireframe},
m,p;b=[];b.push(e);b.push(f);for(m in g)b.push(m),b.push(g[m]);b=b.join();m=0;for(p=A.length;m<p;m++){var s=A[m];if(s.code===b){s.mc++;b=s.qa;break a}}m=y.createProgram();s="precision "+h+" float;";p=""+s;e=n("fragment",[g.wireframe?"#define WIREFRAME 1":"",s].join("\n")+e);f=n("vertex",p+f);y.attachShader(m,f);y.attachShader(m,e);y.linkProgram(m);y.getProgramParameter(m,y.LINK_STATUS)||console.error("Could not initialize shader");m.uniforms={};m.attributes={};var t,f="viewMatrix modelViewMatrix projectionMatrix normalMatrix modelMatrix cameraPosition".split(" ");
for(t in d)f.push(t);for(t=0;t<f.length;t++)d=f[t],m.uniforms[d]=y.getUniformLocation(m,d);f=["position","normal","color","lineDistance"];for(t=0;t<f.length;t++)d=f[t],m.attributes[d]=y.getAttribLocation(m,d);m.id=r++;A.push({qa:m,code:b,mc:1});B.info.memory.gd=A.length;b=m}a.qa=b};this.bg=function(a,e,f,g,h,l){if(g.visible){var m;g.needsUpdate&&(g.qa&&d(g),B.Af(g),g.needsUpdate=!1);var n=!1,p=g.qa,r=p.uniforms;m=g.uniforms;p!=D&&(y.useProgram(p),D=p,n=!0);g.id!=z&&(z=g.id,n=!0);a!=H&&(H=a,n=!0);
if(n){y.uniformMatrix4fv(r.ia,!1,a.ia.elements);y.uniformMatrix4fv(r.Zc,!1,l.Ca.elements);m.fogColor.value=f.color;m.fogNear.value=f.Q;m.fogFar.value=f.X;if("lambert"===g.ng){y.uniformMatrix4fv(r.Yh,!1,a.ya.elements);y.uniformMatrix3fv(r.yh,!1,l.yb.elements);if(S){var s,t,v=0,w=0,u=0;a=0;for(f=e.length;a<f;a++)if(n=e[a],s=n.color,t=n.intensity,n instanceof Ra&&(v++,L.getPositionFromMatrix(n.matrixWorld),ja.getPositionFromMatrix(n.target.matrixWorld),L.sub(ja),L.normalize(),0!==L.x||0!==L.y||0!==L.z))ba[u]=
L.x,ba[u+1]=L.y,ba[u+2]=L.z,Z[u]=s.r*t,Z[u+1]=s.g*t,Z[u+2]=s.b*t,u+=3,w++;da[0]=0;da[1]=0;da[2]=0;S=!1}m.ambientLightColor.value=da;m.directionalLightColor.value=Z;m.directionalLightDirection.value=ba;m.ambient.value=g.ambient;m.emissive.value=g.emissive}m.opacity.value=g.opacity;m.diffuse.value=g.color;for(var x in m)r[x]&&(e=m[x].type,a=m[x].value,f=r[x],"f"===e?y.uniform1f(f,a):"fv"===e?y.uniform3fv(f,a):"c"===e&&y.uniform3f(f,a.r,a.g,a.b))}m=p.attributes;r=!1;p=16777215*h.id+2*p.id+(g.wireframe?
1:0);p!==F&&(F=p,r=!0);if(r){for(var A in J)J[A]&&(y.disableVertexAttribArray(A),J[A]=!1);0<=m.position&&(y.bindBuffer(y.ARRAY_BUFFER,h.ka),b(m.position),y.vertexAttribPointer(m.position,3,y.FLOAT,!1,0,0));0<=m.color&&(y.bindBuffer(y.ARRAY_BUFFER,h.ua),b(m.color),y.vertexAttribPointer(m.color,3,y.FLOAT,!1,0,0));0<=m.ad&&(y.bindBuffer(y.ARRAY_BUFFER,h.Ja),b(m.ad),y.vertexAttribPointer(m.ad,3,y.FLOAT,!1,0,0))}var C;l instanceof ra?(g.wireframe?(l=h.J,g=g.wireframeLinewidth,g!==fa&&(y.lineWidth(g),fa=
g),r&&y.bindBuffer(y.ELEMENT_ARRAY_BUFFER,h.Ia),y.drawElements(y.LINES,l,y.UNSIGNED_SHORT,0)):(C=h.l,r&&y.bindBuffer(y.ELEMENT_ARRAY_BUFFER,h.Ha),y.drawElements(y.TRIANGLES,C,y.UNSIGNED_SHORT,0)),B.info.render.Bb++,B.info.render.vertices+=C,B.info.render.Ib+=C/3):l instanceof ya&&(l=h.vertices,h=g.linewidth,h!==fa&&(y.lineWidth(h),fa=h),y.drawArrays(y.LINES,0,l),B.info.render.Bb++)}};this.render=function(a,b,d,e){if(!1===b instanceof Aa)console.error("WebMol.Renderer.render: camera is not an instance of WebMol.Camera.");
else{var f,g,h,l;d=a.__lights;var m=a.fog;z=-1;S=!0;this.$e&&a.updateMatrixWorld();void 0===b.parent&&b.updateMatrixWorld();b.ya.getInverse(b.matrixWorld);X.multiplyMatrices(b.ia,b.ya);this.Ze&&this.Bf(a);B.info.render.Bb=0;B.info.render.vertices=0;B.info.render.Ib=0;B.info.render.Uf=0;ga=I;K=Q;(this.Ve||e)&&this.clear(this.We,this.Xe,this.Ye);l=a.fa;e=0;for(f=l.length;e<f;e++)if(g=l[e],h=g.object,g.render=!1,h.visible){h.Ca.multiplyMatrices(b.ya,h.matrixWorld);h.yb.getInverse(h.Ca);h.yb.transpose();
h=g;var n=h.object.da;n.transparent?(h.dd=null,h.transparent=n,n=n.clone(),n.opacity=0,h.bh=n):(h.dd=n,h.transparent=null);g.render=!0}this.od(WebMol.sc);s(a.fa,!0,"opaque",b,d,m,!1);s(a.fa,!0,"blank",b,d,m,!0);s(a.fa,!1,"transparent",b,d,m,!0);d=this.ld;F=-1;H=D=null;x=z=U=R=W=-1;if(d.length)for(m=0,e=d.length;m<e;m++)S=!0,d[m].render(a,b,ga,K),F=-1,H=D=null,x=z=U=R=W=-1;this.hc(!0);this.ic(!0)}};this.Bf=function(a){a.fa||(a.fa=[],a.Yg=[],a.wb=[],a.Xg=[]);if(a.__objectsAdded.length){for(;a.__objectsAdded.length;){var b=
a.__objectsAdded[0],d=a,e=void 0,f=void 0,g=void 0,h=void 0;if(!b.ja&&(b.ja=!0,b.Ca=new $a,b.yb=new Wa,void 0!==b.T&&void 0===b.T.ja&&(b.T.ja=!0,b.T.addEventListener("dispose",t)),b instanceof ra||b instanceof ya))for(g=b.T,e=0,f=g.u.length;e<f;e++)h=g.u[e],h.id=T++,h.ka||(b instanceof ra?(h.ka=y.createBuffer(),h.Ja=y.createBuffer(),h.ua=y.createBuffer(),h.Ha=y.createBuffer(),h.Ia=y.createBuffer(),B.info.memory.Nb++,g.gb=!0,g.ob=!0):b instanceof ya&&(h.ka=y.createBuffer(),h.ua=y.createBuffer(),B.info.memory.Nb++),
g.ub=!0,g.Oa=!0);if(!b.vc){if(b instanceof ra||b instanceof ya)for(g=b.T,e=0,f=g.u.length;e<f;e++)h=g.u[e],d.fa.push({buffer:h,object:b,dd:null,transparent:null});else b instanceof Hc&&d.wb.push(b);b.vc=!0}a.__objectsAdded.splice(0,1)}F=-1}for(;a.__objectsRemoved.length;){b=a.__objectsRemoved[0];d=a;if(b instanceof ra||b instanceof ya)for(d=d.fa,e=b,f=d.length-1;0<=f;--f)d[f].object===e&&d.splice(f,1);else if(b instanceof Hc)for(d=d.wb,e=b,f=d.length-1;0<=f;--f)d[f]===e&&d.splice(f,1);b.vc=!1;a.__objectsRemoved.splice(0,
1)}b=0;for(d=a.fa.length;b<d;b++)if(f=a.fa[b].object,e=f.T,h=void 0,f instanceof ra||f instanceof ya){f=0;for(g=e.u.length;f<g;f++)if(h=e.u[f],e.ub||e.gb||e.Oa||e.ob){var l=y.DYNAMIC_DRAW,m=h.h,n=h.k;y.bindBuffer(y.ARRAY_BUFFER,h.ka);y.bufferData(y.ARRAY_BUFFER,m,l);y.bindBuffer(y.ARRAY_BUFFER,h.ua);y.bufferData(y.ARRAY_BUFFER,n,l);void 0!==h.c&&void 0!==h.Ja&&(m=h.c,y.bindBuffer(y.ARRAY_BUFFER,h.Ja),y.bufferData(y.ARRAY_BUFFER,m,l));void 0!==h.f&&void 0!==h.Ha&&(m=h.f,y.bindBuffer(y.ELEMENT_ARRAY_BUFFER,
h.Ha),y.bufferData(y.ELEMENT_ARRAY_BUFFER,m,l));void 0!==h.i&&void 0!==h.Ia&&(m=h.i,y.bindBuffer(y.ELEMENT_ARRAY_BUFFER,h.Ia),y.bufferData(y.ELEMENT_ARRAY_BUFFER,m,l))}e.ub=!1;e.gb=!1;e.ob=!1;e.Oa=!1;e.Kc=!1}};this.kg=function(a){if(a.needsUpdate){a.ja||(a.ja=!0,a.addEventListener("dispose",p),a.xb=y.createTexture(),B.info.memory.Bd++);y.activeTexture(y.TEXTURE0+0);y.bindTexture(y.TEXTURE_2D,a.xb);y.pixelStorei(y.UNPACK_FLIP_Y_WEBGL,a.Jb);y.pixelStorei(y.UNPACK_PREMULTIPLY_ALPHA_WEBGL,a.bc);y.pixelStorei(y.UNPACK_ALIGNMENT,
a.lc);var b=a.ca,b=g(b.width)&&g(b.height),d=f(a.format),e=f(a.type),h=y.TEXTURE_2D;b?(y.texParameteri(h,y.TEXTURE_WRAP_S,f(a.oc)),y.texParameteri(h,y.TEXTURE_WRAP_T,f(a.pc)),y.texParameteri(h,y.TEXTURE_MAG_FILTER,f(a.Vb)),y.texParameteri(h,y.TEXTURE_MIN_FILTER,f(a.Xb))):(y.texParameteri(h,y.TEXTURE_WRAP_S,y.CLAMP_TO_EDGE),y.texParameteri(h,y.TEXTURE_WRAP_T,y.CLAMP_TO_EDGE),y.texParameteri(h,y.TEXTURE_MAG_FILTER,y.LINEAR),y.texParameteri(h,y.TEXTURE_MIN_FILTER,y.LINEAR));var l=a.Yb;if(0<l.length&&
b){for(var m=0,n=l.length;m<n;m++)h=l[m],y.texImage2D(y.TEXTURE_2D,m,d,d,e,h);a.hb=!1}else y.texImage2D(y.TEXTURE_2D,0,d,d,e,a.ca);a.hb&&b&&y.generateMipmap(y.TEXTURE_2D);a.needsUpdate=!1;a.cd&&a.cd()}else y.activeTexture(y.TEXTURE0+0),y.bindTexture(y.TEXTURE_2D,a.xb)};this.Qe()};function Pa(){WebMol.Object3D.call(this);this.overrideMaterial=this.fog=null;this.matrixAutoUpdate=!1;this.__objects=[];this.__lights=[];this.__objectsAdded=[];this.__objectsRemoved=[]}Pa.prototype=Object.create(WebMol.Object3D.prototype);
Pa.prototype.__addObject=function(a){a instanceof Ra?(-1===this.__lights.indexOf(a)&&this.__lights.push(a),a.target&&void 0===a.target.parent&&this.add(a.target)):-1===this.__objects.indexOf(a)&&(this.__objects.push(a),this.__objectsAdded.push(a),-1!==this.__objectsRemoved.indexOf(a)&&this.__objectsRemoved.splice(d,1));for(var d in a.children)this.__addObject(a.children[d])};
Pa.prototype.__removeObject=function(a){var d;a instanceof Ra?(d=this.__lights.indexOf(a),-1!==d&&this.__lights.splice(d,1)):(d=this.__objects.indexOf(a),-1!==d&&(this.__objects.splice(d,1),this.__objectsRemoved.push(a),-1!==this.__objectsAdded.indexOf(a)&&this.__objectsAdded.splice(d,1)));for(var l in a.children)this.__removeObject(a.children[l])};function Qa(a,d,l){this.name="";this.color=new WebMol.Color(a);this.Q=void 0!==d?d:1;this.X=void 0!==l?l:1E3}
Qa.prototype.clone=function(){return new Qa(this.color.qh(),this.Q,this.X)};WebMol.ShaderUtils={clone:function(a){var d,l={};for(d in a){l[d]={};l[d].type=a[d].type;var p=a[d].value;p instanceof WebMol.Color?l[d].value=p.clone():"number"===typeof p?l[d].value=p:p instanceof Array?l[d].value=[]:console.error("Error copying shader uniforms from ShaderLib: unknown type for uniform")}return l}};
WebMol.ShaderLib={basic:{fragmentShader:"uniform mat4 viewMatrix;\nuniform vec3 cameraPosition;\nuniform vec3 diffuse;\nuniform float opacity;\nuniform vec3 fogColor;\nuniform float fogNear;\nuniform float fogFar;\nvarying vec3 vColor;\nvoid main() {\n    gl_FragColor = vec4( diffuse, opacity );\n    gl_FragColor = gl_FragColor * vec4( vColor, opacity );\n    float depth = gl_FragCoord.z / gl_FragCoord.w;\n    float fogFactor = smoothstep( fogNear, fogFar, depth );\n    gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );\n}",vertexShader:"uniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\nuniform mat4 viewMatrix;\nuniform mat3 normalMatrix;\nuniform vec3 cameraPosition;\nattribute vec3 position;\nattribute vec3 color;\nvarying vec3 vColor;\nvoid main() {\n    vColor = color;\n    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n    gl_Position = projectionMatrix * mvPosition;\n}",
uniforms:{opacity:{type:"f",value:1},diffuse:{type:"c",value:new WebMol.Color(1,1,1)},fogColor:{type:"c",value:new WebMol.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2E3}}},lambert:{fragmentShader:"uniform mat4 viewMatrix;\nuniform vec3 cameraPosition;\nuniform float opacity;\nuniform vec3 fogColor;\nuniform float fogNear;\nuniform float fogFar;\nvarying vec3 vLightFront;\nvarying vec3 vColor;\nvoid main() {\n    gl_FragColor = vec4( vec3 ( 1.0 ), opacity );\n    #ifndef WIREFRAME\n    gl_FragColor.xyz *= vLightFront;\n    #endif\n    gl_FragColor = gl_FragColor * vec4( vColor, opacity );\n    float depth = gl_FragCoord.z / gl_FragCoord.w;\n    float fogFactor = smoothstep( fogNear, fogFar, depth );\n    gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );\n}",
vertexShader:"uniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\nuniform mat4 viewMatrix;\nuniform mat3 normalMatrix;\nuniform vec3 cameraPosition;\nuniform vec3 ambient;\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 ambientLightColor;\nuniform vec3 directionalLightColor[ 1 ];\nuniform vec3 directionalLightDirection[ 1 ];\nattribute vec3 position;\nattribute vec3 normal;\nattribute vec3 color;\nvarying vec3 vColor;\nvarying vec3 vLightFront;\nvoid main() {\n    vColor = color;\n    vec3 objectNormal = normal;\n    vec3 transformedNormal = normalMatrix * objectNormal;\n    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n    vLightFront = vec3( 0.0 );\n    transformedNormal = normalize( transformedNormal );\n    vec4 lDirection = viewMatrix * vec4( directionalLightDirection[ 0 ], 0.0 );\n    vec3 dirVector = normalize( lDirection.xyz );\n    float dotProduct = dot( transformedNormal, dirVector );\n    vec3 directionalLightWeighting = vec3( max( dotProduct, 0.0 ) );\n    vLightFront += directionalLightColor[ 0 ] * directionalLightWeighting;\n    vLightFront = vLightFront * diffuse + ambient * ambientLightColor + emissive;\n    gl_Position = projectionMatrix * mvPosition;\n}",
uniforms:{opacity:{type:"f",value:1},diffuse:{type:"c",value:new WebMol.Color(1,1,1)},fogColor:{type:"c",value:new WebMol.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2E3},ambient:{type:"c",value:new WebMol.Color(1,1,1)},emissive:{type:"c",value:new WebMol.Color(1,1,1)},ambientLightColor:{type:"fv",value:[]},directionalLightColor:{type:"fv",value:[]},directionalLightDirection:{type:"fv",value:[]}}},sprite:{fragmentShader:"uniform vec3 color;\nuniform sampler2D map;\nuniform float opacity;\nuniform int fogType;\nuniform vec3 fogColor;\nuniform float fogDensity;\nuniform float fogNear;\nuniform float fogFar;\nuniform float alphaTest;\nvarying vec2 vUV;\nvoid main() {\n    vec4 texture = texture2D(map, vUV);\n    if (texture.a < alphaTest) discard;\n    gl_FragColor = vec4(color * texture.xyz, texture.a * opacity);\n    if (fogType > 0) {\n        float depth = gl_FragCoord.z / gl_FragCoord.w;\n        float fogFactor = 0.0;\n        if (fogType == 1) {\n            fogFactor = smoothstep(fogNear, fogFar, depth);\n        }\n        else {\n            const float LOG2 = 1.442695;\n            float fogFactor = exp2(- fogDensity * fogDensity * depth * depth * LOG2);\n            fogFactor = 1.0 - clamp(fogFactor, 0.0, 1.0);\n        }\n        gl_FragColor = mix(gl_FragColor, vec4(fogColor, gl_FragColor.w), fogFactor);\n    }\n}",
vertexShader:"uniform int useScreenCoordinates;\nuniform int sizeAttenuation;\nuniform vec3 screenPosition;\nuniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\nuniform float rotation;\nuniform vec2 scale;\nuniform vec2 alignment;\nuniform vec2 uvOffset;\nuniform vec2 uvScale;\nattribute vec2 position;\nattribute vec2 uv;\nvarying vec2 vUV;\nvoid main() {\n    vUV = uvOffset + uv * uvScale;\n    vec2 alignedPosition = position + alignment;\n    vec2 rotatedPosition;\n    rotatedPosition.x = ( cos(rotation) * alignedPosition.x - sin(rotation) * alignedPosition.y ) * scale.x;\n    rotatedPosition.y = ( sin(rotation) * alignedPosition.x + cos(rotation) * alignedPosition.y ) * scale.y;\n    vec4 finalPosition;\n    if(useScreenCoordinates != 0) {\n        finalPosition = vec4(screenPosition.xy + rotatedPosition, screenPosition.z, 1.0);\n    }\n    else {\n        finalPosition = projectionMatrix * modelViewMatrix * vec4(0.0, 0.0, 0.0, 1.0);\n        finalPosition.xy += rotatedPosition * (sizeAttenuation == 1 ? 1.0 : finalPosition.z);\n    }\n    gl_Position = finalPosition;\n}",
uniforms:{}}};
