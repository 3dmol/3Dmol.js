(function(a,b){function d(c){var y=c.length,a=f.type(c);return f.isWindow(c)?!1:1===c.nodeType&&y?!0:"array"===a||"function"!==a&&(0===y||"number"===typeof y&&0<y&&y-1 in c)}function q(c){var y=$a[c]={};f.each(c.match(na)||[],function(c,f){y[f]=!0});return y}function g(c,y,a,ua){if(f.acceptData(c)){var e=f.expando,h="string"===typeof y,d=c.nodeType,l=d?f.cache:c,p=d?c[e]:c[e]&&e;if(p&&l[p]&&(ua||l[p].data)||!h||a!==b){p||(d?c[e]=p=T.pop()||f.guid++:p=e);l[p]||(l[p]={},d||(l[p].toJSON=f.noop));if("object"===
typeof y||"function"===typeof y)ua?l[p]=f.extend(l[p],y):l[p].data=f.extend(l[p].data,y);c=l[p];ua||(c.data||(c.data={}),c=c.data);a!==b&&(c[f.camelCase(y)]=a);h?(a=c[y],null==a&&(a=c[f.camelCase(y)])):a=c;return a}}}function r(c,y,a){if(f.acceptData(c)){var b,e,h,d=c.nodeType,l=d?f.cache:c,p=d?c[f.expando]:f.expando;if(l[p]){if(y&&(h=a?l[p]:l[p].data)){f.isArray(y)?y=y.concat(f.map(y,f.camelCase)):y in h?y=[y]:(y=f.camelCase(y),y=y in h?[y]:y.split(" "));b=0;for(e=y.length;b<e;b++)delete h[y[b]];
if(!(a?t:f.isEmptyObject)(h))return}if(!a&&(delete l[p].data,!t(l[p])))return;d?f.cleanData([c],!0):f.support.deleteExpando||l!=l.window?delete l[p]:l[p]=null}}}function s(c,y,a){if(a===b&&1===c.nodeType)if(a="data-"+y.replace(zb,"-$1").toLowerCase(),a=c.getAttribute(a),"string"===typeof a){try{a="true"===a?!0:"false"===a?!1:"null"===a?null:+a+""===a?+a:Ab.test(a)?f.parseJSON(a):a}catch(ua){}f.data(c,y,a)}else a=b;return a}function t(c){for(var y in c)if(("data"!==y||!f.isEmptyObject(c[y]))&&"toJSON"!==
y)return!1;return!0}function n(){return!0}function l(){return!1}function x(c,y){do c=c[y];while(c&&1!==c.nodeType);return c}function p(c,y,a){y=y||0;if(f.isFunction(y))return f.grep(c,function(c,f){return!!y.call(c,f,c)===a});if(y.nodeType)return f.grep(c,function(c){return c===y===a});if("string"===typeof y){var b=f.grep(c,function(c){return 1===c.nodeType});if(Bb.test(y))return f.filter(y,b,!a);y=f.filter(y,b)}return f.grep(c,function(c){return 0<=f.inArray(c,y)===a})}function e(c){var y=ab.split("|");
c=c.createDocumentFragment();if(c.createElement)for(;y.length;)c.createElement(y.pop());return c}function m(c,y){return c.getElementsByTagName(y)[0]||c.appendChild(c.ownerDocument.createElement(y))}function v(c){var y=c.getAttributeNode("type");c.type=(y&&y.specified)+"/"+c.type;return c}function z(c){var y=Cb.exec(c.type);y?c.type=y[1]:c.removeAttribute("type");return c}function A(c,y){for(var a,b=0;null!=(a=c[b]);b++)f._data(a,"globalEval",!y||f._data(y[b],"globalEval"))}function B(c,y){if(1===
y.nodeType&&f.hasData(c)){var a,b,e;b=f._data(c);var h=f._data(y,b),d=b.events;if(d)for(a in delete h.handle,h.events={},d)for(b=0,e=d[a].length;b<e;b++)f.event.add(y,a,d[a][b]);h.data&&(h.data=f.extend({},h.data))}}function C(c,y){var a,ua,e=0,h=typeof c.getElementsByTagName!==w?c.getElementsByTagName(y||"*"):typeof c.querySelectorAll!==w?c.querySelectorAll(y||"*"):b;if(!h)for(h=[],a=c.childNodes||c;null!=(ua=a[e]);e++)!y||f.nodeName(ua,y)?h.push(ua):f.merge(h,C(ua,y));return y===b||y&&f.nodeName(c,
y)?f.merge([c],h):h}function G(c){Ka.test(c.type)&&(c.defaultChecked=c.checked)}function F(c,y){if(y in c)return y;for(var a=y.charAt(0).toUpperCase()+y.slice(1),f=y,b=bb.length;b--;)if(y=bb[b]+a,y in c)return y;return f}function E(c,y){c=y||c;return"none"===f.css(c,"display")||!f.contains(c.ownerDocument,c)}function D(c,y){for(var a,b,e,h=[],d=0,l=c.length;d<l;d++)b=c[d],b.style&&(h[d]=f._data(b,"olddisplay"),a=b.style.display,y?(h[d]||"none"!==a||(b.style.display=""),""===b.style.display&&E(b)&&
(h[d]=f._data(b,"olddisplay",N(b.nodeName)))):h[d]||(e=E(b),(a&&"none"!==a||!e)&&f._data(b,"olddisplay",e?a:f.css(b,"display"))));for(d=0;d<l;d++)b=c[d],!b.style||y&&"none"!==b.style.display&&""!==b.style.display||(b.style.display=y?h[d]||"":"none");return c}function u(c,y,a){return(c=Db.exec(y))?Math.max(0,c[1]-(a||0))+(c[2]||"px"):y}function h(c,y,a,b,e){y=a===(b?"border":"content")?4:"width"===y?1:0;for(var h=0;4>y;y+=2)"margin"===a&&(h+=f.css(c,a+wa[y],!0,e)),b?("content"===a&&(h-=f.css(c,"padding"+
wa[y],!0,e)),"margin"!==a&&(h-=f.css(c,"border"+wa[y]+"Width",!0,e))):(h+=f.css(c,"padding"+wa[y],!0,e),"padding"!==a&&(h+=f.css(c,"border"+wa[y]+"Width",!0,e)));return h}function J(c,y,a){var b=!0,e="width"===y?c.offsetWidth:c.offsetHeight,d=xa(c),l=f.support.boxSizing&&"border-box"===f.css(c,"boxSizing",!1,d);if(0>=e||null==e){e=ya(c,y,d);if(0>e||null==e)e=c.style[y];if(Ha.test(e))return e;b=l&&(f.support.boxSizingReliable||e===c.style[y]);e=parseFloat(e)||0}return e+h(c,y,a||(l?"border":"content"),
b,d)+"px"}function N(c){var y=L,a=cb[c];a||(a=O(c,y),"none"!==a&&a||(Ea=(Ea||f("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(y.documentElement),y=(Ea[0].contentWindow||Ea[0].contentDocument).document,y.write("<!doctype html><html><body>"),y.close(),a=O(c,y),Ea.detach()),cb[c]=a);return a}function O(c,y){var a=f(y.createElement(c)).appendTo(y.body),b=f.css(a[0],"display");a.remove();return b}function Q(c,y,a,b){var e;if(f.isArray(y))f.each(y,
function(y,f){a||Eb.test(c)?b(c,f):Q(c+"["+("object"===typeof f?y:"")+"]",f,a,b)});else if(a||"object"!==f.type(y))b(c,y);else for(e in y)Q(c+"["+e+"]",y[e],a,b)}function P(c){return function(y,a){"string"!==typeof y&&(a=y,y="*");var b,e=0,h=y.toLowerCase().match(na)||[];if(f.isFunction(a))for(;b=h[e++];)"+"===b[0]?(b=b.slice(1)||"*",(c[b]=c[b]||[]).unshift(a)):(c[b]=c[b]||[]).push(a)}}function X(c,y,a,b){function e(l){var p;h[l]=!0;f.each(c[l]||[],function(c,f){var l=f(y,a,b);if("string"===typeof l&&
!d&&!h[l])return y.dataTypes.unshift(l),e(l),!1;if(d)return!(p=l)});return p}var h={},d=c===La;return e(y.dataTypes[0])||!h["*"]&&e("*")}function M(c,a){var ha,e,h=f.ajaxSettings.flatOptions||{};for(e in a)a[e]!==b&&((h[e]?c:ha||(ha={}))[e]=a[e]);ha&&f.extend(!0,c,ha);return c}function I(){try{return new a.XMLHttpRequest}catch(c){}}function V(){setTimeout(function(){Ba=b});return Ba=f.now()}function Y(c,a){f.each(a,function(a,y){for(var f=(Fa[a]||[]).concat(Fa["*"]),b=0,e=f.length;b<e&&!f[b].call(c,
a,y);b++);})}function ca(c,a,b){var e,h=0,d=Ia.length,l=f.Deferred().always(function(){delete p.elem}),p=function(){if(e)return!1;for(var a=Ba||V(),a=Math.max(0,g.startTime+g.duration-a),y=1-(a/g.duration||0),f=0,b=g.tweens.length;f<b;f++)g.tweens[f].run(y);l.notifyWith(c,[g,y,a]);if(1>y&&b)return a;l.resolveWith(c,[g]);return!1},g=l.promise({elem:c,props:f.extend({},a),opts:f.extend(!0,{specialEasing:{}},b),originalProperties:a,originalOptions:b,startTime:Ba||V(),duration:b.duration,tweens:[],createTween:function(a,
y){var b=f.Tween(c,g.opts,a,y,g.opts.specialEasing[a]||g.opts.easing);g.tweens.push(b);return b},stop:function(a){var y=0,f=a?g.tweens.length:0;if(e)return this;for(e=!0;y<f;y++)g.tweens[y].run(1);a?l.resolveWith(c,[g,a]):l.rejectWith(c,[g,a]);return this}});b=g.props;for(K(b,g.opts.specialEasing);h<d;h++)if(a=Ia[h].call(g,c,b,g.opts))return a;Y(g,b);f.isFunction(g.opts.start)&&g.opts.start.call(c,g);f.fx.timer(f.extend(p,{elem:c,anim:g,queue:g.opts.queue}));return g.progress(g.opts.progress).done(g.opts.done,
g.opts.complete).fail(g.opts.fail).always(g.opts.always)}function K(c,a){var b,e,h,d,l;for(h in c)if(e=f.camelCase(h),d=a[e],b=c[h],f.isArray(b)&&(d=b[1],b=c[h]=b[0]),h!==e&&(c[e]=b,delete c[h]),(l=f.cssHooks[e])&&"expand"in l)for(h in b=l.expand(b),delete c[e],b)h in c||(c[h]=b[h],a[h]=d);else a[e]=d}function R(c,a,f,b,e){return new R.prototype.init(c,a,f,b,e)}function ja(c,a){var f,b={height:c},e=0;for(a=a?1:0;4>e;e+=2-a)f=wa[e],b["margin"+f]=b["padding"+f]=c;a&&(b.opacity=b.width=c);return b}function la(c){return f.isWindow(c)?
c:9===c.nodeType?c.defaultView||c.parentWindow:!1}var fa,Z,w=typeof b,L=a.document,da=a.location,H=a.jQuery,S=a.$,ba={},T=[],W=T.concat,ka=T.push,ea=T.slice,aa=T.indexOf,U=ba.toString,ia=ba.hasOwnProperty,ga="1.9.1".trim,f=function(c,a){return new f.fn.init(c,a,Z)},qa=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,na=/\S+/g,ma=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,oa=/^(?:(<[\w\W]+>)[^>]*|#([\w-]*))$/,db=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,Ma=/^[\],:{}\s]*$/,ra=/(?:^|:|,)(?:\s*\[)+/g,Na=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,
sa=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,Fb=/^-ms-/,Gb=/-([\da-z])/gi,Oa=function(c,a){return a.toUpperCase()},ta=function(c){if(L.addEventListener||"load"===c.type||"complete"===L.readyState)eb(),f.ready()},eb=function(){L.addEventListener?(L.removeEventListener("DOMContentLoaded",ta,!1),a.removeEventListener("load",ta,!1)):(L.detachEvent("onreadystatechange",ta),a.detachEvent("onload",ta))};f.fn=f.prototype={jquery:"1.9.1",constructor:f,init:function(c,a,ha){var e;if(!c)return this;
if("string"===typeof c){e="<"===c.charAt(0)&&">"===c.charAt(c.length-1)&&3<=c.length?[null,c,null]:oa.exec(c);if(!e||!e[1]&&a)return!a||a.jquery?(a||ha).find(c):this.constructor(a).find(c);if(e[1]){if(a=a instanceof f?a[0]:a,f.merge(this,f.parseHTML(e[1],a&&a.nodeType?a.ownerDocument||a:L,!0)),db.test(e[1])&&f.isPlainObject(a))for(e in a)if(f.isFunction(this[e]))this[e](a[e]);else this.attr(e,a[e])}else{if((a=L.getElementById(e[2]))&&a.parentNode){if(a.id!==e[2])return ha.find(c);this.length=1;this[0]=
a}this.context=L;this.selector=c}return this}if(c.nodeType)return this.context=this[0]=c,this.length=1,this;if(f.isFunction(c))return ha.ready(c);c.selector!==b&&(this.selector=c.selector,this.context=c.context);return f.makeArray(c,this)},selector:"",length:0,size:function(){return this.length},toArray:function(){return ea.call(this)},get:function(c){return null==c?this.toArray():0>c?this[this.length+c]:this[c]},pushStack:function(c){c=f.merge(this.constructor(),c);c.prevObject=this;c.context=this.context;
return c},each:function(c,a){return f.each(this,c,a)},ready:function(c){f.ready.promise().done(c);return this},slice:function(){return this.pushStack(ea.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(c){var a=this.length;c=+c+(0>c?a:0);return this.pushStack(0<=c&&c<a?[this[c]]:[])},map:function(c){return this.pushStack(f.map(this,function(a,f){return c.call(a,f,a)}))},end:function(){return this.prevObject||this.constructor(null)},push:ka,
sort:[].sort,splice:[].splice};f.fn.init.prototype=f.fn;f.extend=f.fn.extend=function(){var c,a,ha,e,h,d=arguments[0]||{},l=1,p=arguments.length,g=!1;"boolean"===typeof d&&(g=d,d=arguments[1]||{},l=2);"object"===typeof d||f.isFunction(d)||(d={});p===l&&(d=this,--l);for(;l<p;l++)if(null!=(h=arguments[l]))for(e in h)c=d[e],ha=h[e],d!==ha&&(g&&ha&&(f.isPlainObject(ha)||(a=f.isArray(ha)))?(a?(a=!1,c=c&&f.isArray(c)?c:[]):c=c&&f.isPlainObject(c)?c:{},d[e]=f.extend(g,c,ha)):ha!==b&&(d[e]=ha));return d};
f.extend({noConflict:function(c){a.$===f&&(a.$=S);c&&a.jQuery===f&&(a.jQuery=H);return f},isReady:!1,readyWait:1,holdReady:function(c){c?f.readyWait++:f.ready(!0)},ready:function(c){if(!0===c?!--f.readyWait:!f.isReady){if(!L.body)return setTimeout(f.ready);f.isReady=!0;!0!==c&&0<--f.readyWait||(fa.resolveWith(L,[f]),f.fn.trigger&&f(L).trigger("ready").off("ready"))}},isFunction:function(c){return"function"===f.type(c)},isArray:Array.isArray||function(c){return"array"===f.type(c)},isWindow:function(c){return null!=
c&&c==c.window},isNumeric:function(c){return!isNaN(parseFloat(c))&&isFinite(c)},type:function(c){return null==c?String(c):"object"===typeof c||"function"===typeof c?ba[U.call(c)]||"object":typeof c},isPlainObject:function(c){if(!c||"object"!==f.type(c)||c.nodeType||f.isWindow(c))return!1;try{if(c.constructor&&!ia.call(c,"constructor")&&!ia.call(c.constructor.prototype,"isPrototypeOf"))return!1}catch(a){return!1}for(var ha in c);return ha===b||ia.call(c,ha)},isEmptyObject:function(c){for(var a in c)return!1;
return!0},error:function(c){throw Error(c);},parseHTML:function(c,a,b){if(!c||"string"!==typeof c)return null;"boolean"===typeof a&&(b=a,a=!1);a=a||L;var e=db.exec(c);b=!b&&[];if(e)return[a.createElement(e[1])];e=f.buildFragment([c],a,b);b&&f(b).remove();return f.merge([],e.childNodes)},parseJSON:function(c){if(a.JSON&&a.JSON.parse)return a.JSON.parse(c);if(null===c)return c;if("string"===typeof c&&(c=f.trim(c))&&Ma.test(c.replace(Na,"@").replace(sa,"]").replace(ra,"")))return(new Function("return "+
c))();f.error("Invalid JSON: "+c)},parseXML:function(c){var y,ha;if(!c||"string"!==typeof c)return null;try{a.DOMParser?(ha=new DOMParser,y=ha.parseFromString(c,"text/xml")):(y=new ActiveXObject("Microsoft.XMLDOM"),y.async="false",y.loadXML(c))}catch(e){y=b}y&&y.documentElement&&!y.getElementsByTagName("parsererror").length||f.error("Invalid XML: "+c);return y},noop:function(){},globalEval:function(c){c&&f.trim(c)&&(a.execScript||function(c){a.eval.call(a,c)})(c)},camelCase:function(c){return c.replace(Fb,
"ms-").replace(Gb,Oa)},nodeName:function(c,a){return c.nodeName&&c.nodeName.toLowerCase()===a.toLowerCase()},each:function(c,a,f){var b,e=0,h=c.length;b=d(c);if(f)if(b)for(;e<h&&(b=a.apply(c[e],f),!1!==b);e++);else for(e in c){if(b=a.apply(c[e],f),!1===b)break}else if(b)for(;e<h&&(b=a.call(c[e],e,c[e]),!1!==b);e++);else for(e in c)if(b=a.call(c[e],e,c[e]),!1===b)break;return c},trim:ga&&!ga.call("\ufeff\u00a0")?function(c){return null==c?"":ga.call(c)}:function(c){return null==c?"":(c+"").replace(ma,
"")},makeArray:function(c,a){var b=a||[];null!=c&&(d(Object(c))?f.merge(b,"string"===typeof c?[c]:c):ka.call(b,c));return b},inArray:function(c,a,f){var b;if(a){if(aa)return aa.call(a,c,f);b=a.length;for(f=f?0>f?Math.max(0,b+f):f:0;f<b;f++)if(f in a&&a[f]===c)return f}return-1},merge:function(c,a){var f=a.length,e=c.length,h=0;if("number"===typeof f)for(;h<f;h++)c[e++]=a[h];else for(;a[h]!==b;)c[e++]=a[h++];c.length=e;return c},grep:function(c,a,f){var b,e=[],h=0,d=c.length;for(f=!!f;h<d;h++)b=!!a(c[h],
h),f!==b&&e.push(c[h]);return e},map:function(c,a,f){var b,e=0,h=c.length,l=[];if(d(c))for(;e<h;e++)b=a(c[e],e,f),null!=b&&(l[l.length]=b);else for(e in c)b=a(c[e],e,f),null!=b&&(l[l.length]=b);return W.apply([],l)},guid:1,proxy:function(c,a){var e,h;"string"===typeof a&&(h=c[a],a=c,c=h);if(!f.isFunction(c))return b;e=ea.call(arguments,2);h=function(){return c.apply(a||this,e.concat(ea.call(arguments)))};h.guid=c.guid=c.guid||f.guid++;return h},access:function(c,a,e,h,d,l,p){var g=0,n=c.length,q=
null==e;if("object"===f.type(e))for(g in d=!0,e)f.access(c,a,g,e[g],!0,l,p);else if(h!==b&&(d=!0,f.isFunction(h)||(p=!0),q&&(p?(a.call(c,h),a=null):(q=a,a=function(c,a,y){return q.call(f(c),y)})),a))for(;g<n;g++)a(c[g],e,p?h:h.call(c[g],g,a(c[g],e)));return d?c:q?a.call(c):n?a(c[0],e):l},now:function(){return(new Date).getTime()}});f.ready.promise=function(c){if(!fa)if(fa=f.Deferred(),"complete"===L.readyState)setTimeout(f.ready);else if(L.addEventListener)L.addEventListener("DOMContentLoaded",ta,
!1),a.addEventListener("load",ta,!1);else{L.attachEvent("onreadystatechange",ta);a.attachEvent("onload",ta);var y=!1;try{y=null==a.frameElement&&L.documentElement}catch(b){}y&&y.doScroll&&function yb(){if(!f.isReady){try{y.doScroll("left")}catch(c){return setTimeout(yb,50)}eb();f.ready()}}()}return fa.promise(c)};f.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(c,a){ba["[object "+a+"]"]=a.toLowerCase()});Z=f(L);var $a={};f.Callbacks=function(c){c="string"===
typeof c?$a[c]||q(c):f.extend({},c);var a,e,h,d,l,p,g=[],n=!c.once&&[],s=function(f){e=c.memory&&f;h=!0;l=p||0;p=0;d=g.length;for(a=!0;g&&l<d;l++)if(!1===g[l].apply(f[0],f[1])&&c.stopOnFalse){e=!1;break}a=!1;g&&(n?n.length&&s(n.shift()):e?g=[]:H.disable())},H={add:function(){if(g){var b=g.length;(function Hb(a){f.each(a,function(a,y){var b=f.type(y);"function"===b?c.unique&&H.has(y)||g.push(y):y&&y.length&&"string"!==b&&Hb(y)})})(arguments);a?d=g.length:e&&(p=b,s(e))}return this},remove:function(){g&&
f.each(arguments,function(c,b){for(var e;-1<(e=f.inArray(b,g,e));)g.splice(e,1),a&&(e<=d&&d--,e<=l&&l--)});return this},has:function(c){return c?-1<f.inArray(c,g):!(!g||!g.length)},empty:function(){g=[];return this},disable:function(){g=n=e=b;return this},disabled:function(){return!g},lock:function(){n=b;e||H.disable();return this},locked:function(){return!n},fireWith:function(c,f){f=f||[];f=[c,f.slice?f.slice():f];!g||h&&!n||(a?n.push(f):s(f));return this},fire:function(){H.fireWith(this,arguments);
return this},fired:function(){return!!h}};return H};f.extend({Deferred:function(c){var a=[["resolve","done",f.Callbacks("once memory"),"resolved"],["reject","fail",f.Callbacks("once memory"),"rejected"],["notify","progress",f.Callbacks("memory")]],b="pending",e={state:function(){return b},always:function(){h.done(arguments).fail(arguments);return this},then:function(){var c=arguments;return f.Deferred(function(b){f.each(a,function(a,y){var ha=y[0],d=f.isFunction(c[a])&&c[a];h[y[1]](function(){var c=
d&&d.apply(this,arguments);if(c&&f.isFunction(c.promise))c.promise().done(b.resolve).fail(b.reject).progress(b.notify);else b[ha+"With"](this===e?b.promise():this,d?[c]:arguments)})});c=null}).promise()},promise:function(c){return null!=c?f.extend(c,e):e}},h={};e.pipe=e.then;f.each(a,function(c,f){var d=f[2],l=f[3];e[f[1]]=d.add;l&&d.add(function(){b=l},a[c^1][2].disable,a[2][2].lock);h[f[0]]=function(){h[f[0]+"With"](this===h?e:this,arguments);return this};h[f[0]+"With"]=d.fireWith});e.promise(h);
c&&c.call(h,h);return h},when:function(c){var a=0,b=ea.call(arguments),e=b.length,h=1!==e||c&&f.isFunction(c.promise)?e:0,d=1===h?c:f.Deferred(),l=function(c,a,f){return function(y){a[c]=this;f[c]=1<arguments.length?ea.call(arguments):y;f===g?d.notifyWith(a,f):--h||d.resolveWith(a,f)}},g,p,n;if(1<e)for(g=Array(e),p=Array(e),n=Array(e);a<e;a++)b[a]&&f.isFunction(b[a].promise)?b[a].promise().done(l(a,n,b)).fail(d.reject).progress(l(a,p,g)):--h;h||d.resolveWith(n,b);return d.promise()}});f.support=function(){var c,
y,b,e,h,d,l,g=L.createElement("div");g.setAttribute("className","t");g.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>";y=g.getElementsByTagName("*");b=g.getElementsByTagName("a")[0];if(!y||!b||!y.length)return{};e=L.createElement("select");h=e.appendChild(L.createElement("option"));y=g.getElementsByTagName("input")[0];b.style.cssText="top:1px;float:left;opacity:.5";c={getSetAttribute:"t"!==g.className,leadingWhitespace:3===g.firstChild.nodeType,tbody:!g.getElementsByTagName("tbody").length,
htmlSerialize:!!g.getElementsByTagName("link").length,style:/top/.test(b.getAttribute("style")),hrefNormalized:"/a"===b.getAttribute("href"),opacity:/^0.5/.test(b.style.opacity),cssFloat:!!b.style.cssFloat,checkOn:!!y.value,optSelected:h.selected,enctype:!!L.createElement("form").enctype,html5Clone:"<:nav></:nav>"!==L.createElement("nav").cloneNode(!0).outerHTML,boxModel:"CSS1Compat"===L.compatMode,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,
boxSizingReliable:!0,pixelPosition:!1};y.checked=!0;c.noCloneChecked=y.cloneNode(!0).checked;e.disabled=!0;c.optDisabled=!h.disabled;try{delete g.test}catch(p){c.deleteExpando=!1}y=L.createElement("input");y.setAttribute("value","");c.input=""===y.getAttribute("value");y.value="t";y.setAttribute("type","radio");c.radioValue="t"===y.value;y.setAttribute("checked","t");y.setAttribute("name","t");b=L.createDocumentFragment();b.appendChild(y);c.appendChecked=y.checked;c.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked;
g.attachEvent&&(g.attachEvent("onclick",function(){c.noCloneEvent=!1}),g.cloneNode(!0).click());for(l in{submit:!0,change:!0,focusin:!0})g.setAttribute(b="on"+l,"t"),c[l+"Bubbles"]=b in a||!1===g.attributes[b].expando;g.style.backgroundClip="content-box";g.cloneNode(!0).style.backgroundClip="";c.clearCloneStyle="content-box"===g.style.backgroundClip;f(function(){var f,b,y=L.getElementsByTagName("body")[0];y&&(f=L.createElement("div"),f.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",
y.appendChild(f).appendChild(g),g.innerHTML="<table><tr><td></td><td>t</td></tr></table>",b=g.getElementsByTagName("td"),b[0].style.cssText="padding:0;margin:0;border:0;display:none",d=0===b[0].offsetHeight,b[0].style.display="",b[1].style.display="none",c.reliableHiddenOffsets=d&&0===b[0].offsetHeight,g.innerHTML="",g.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",
c.boxSizing=4===g.offsetWidth,c.doesNotIncludeMarginInBodyOffset=1!==y.offsetTop,a.getComputedStyle&&(c.pixelPosition="1%"!==(a.getComputedStyle(g,null)||{}).top,c.boxSizingReliable="4px"===(a.getComputedStyle(g,null)||{width:"4px"}).width,b=g.appendChild(L.createElement("div")),b.style.cssText=g.style.cssText="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",b.style.marginRight=b.style.width="0",g.style.width="1px",c.reliableMarginRight=
!parseFloat((a.getComputedStyle(b,null)||{}).marginRight)),typeof g.style.zoom!==w&&(g.innerHTML="",g.style.cssText="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;width:1px;padding:1px;display:inline;zoom:1",c.inlineBlockNeedsLayout=3===g.offsetWidth,g.style.display="block",g.innerHTML="<div></div>",g.firstChild.style.width="5px",c.shrinkWrapBlocks=3!==g.offsetWidth,c.inlineBlockNeedsLayout&&(y.style.zoom=1)),y.removeChild(f),
g=null)});y=e=b=h=b=y=null;return c}();var Ab=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,zb=/([A-Z])/g;f.extend({cache:{},expando:"jQuery"+("1.9.1"+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(c){c=c.nodeType?f.cache[c[f.expando]]:c[f.expando];return!!c&&!t(c)},data:function(c,a,f){return g(c,a,f)},removeData:function(c,a){return r(c,a)},_data:function(c,a,f){return g(c,a,f,!0)},_removeData:function(c,a){return r(c,a,!0)},acceptData:function(c){if(c.nodeType&&
1!==c.nodeType&&9!==c.nodeType)return!1;var a=c.nodeName&&f.noData[c.nodeName.toLowerCase()];return!a||!0!==a&&c.getAttribute("classid")===a}});f.fn.extend({data:function(c,a){var e,h,d=this[0],g=0,l=null;if(c===b){if(this.length&&(l=f.data(d),1===d.nodeType&&!f._data(d,"parsedAttrs"))){for(e=d.attributes;g<e.length;g++)h=e[g].name,h.indexOf("data-")||(h=f.camelCase(h.slice(5)),s(d,h,l[h]));f._data(d,"parsedAttrs",!0)}return l}return"object"===typeof c?this.each(function(){f.data(this,c)}):f.access(this,
function(a){if(a===b)return d?s(d,c,f.data(d,c)):null;this.each(function(){f.data(this,c,a)})},null,a,1<arguments.length,null,!0)},removeData:function(c){return this.each(function(){f.removeData(this,c)})}});f.extend({queue:function(c,a,b){var e;if(c)return a=(a||"fx")+"queue",e=f._data(c,a),b&&(!e||f.isArray(b)?e=f._data(c,a,f.makeArray(b)):e.push(b)),e||[]},dequeue:function(c,a){a=a||"fx";var b=f.queue(c,a),e=b.length,h=b.shift(),d=f._queueHooks(c,a),g=function(){f.dequeue(c,a)};"inprogress"===
h&&(h=b.shift(),e--);if(d.cur=h)"fx"===a&&b.unshift("inprogress"),delete d.stop,h.call(c,g,d);!e&&d&&d.empty.fire()},_queueHooks:function(c,a){var b=a+"queueHooks";return f._data(c,b)||f._data(c,b,{empty:f.Callbacks("once memory").add(function(){f._removeData(c,a+"queue");f._removeData(c,b)})})}});f.fn.extend({queue:function(c,a){var e=2;"string"!==typeof c&&(a=c,c="fx",e--);return arguments.length<e?f.queue(this[0],c):a===b?this:this.each(function(){var b=f.queue(this,c,a);f._queueHooks(this,c);
"fx"===c&&"inprogress"!==b[0]&&f.dequeue(this,c)})},dequeue:function(c){return this.each(function(){f.dequeue(this,c)})},delay:function(c,a){c=f.fx?f.fx.speeds[c]||c:c;return this.queue(a||"fx",function(a,f){var b=setTimeout(a,c);f.stop=function(){clearTimeout(b)}})},clearQueue:function(c){return this.queue(c||"fx",[])},promise:function(c,a){var e,h=1,d=f.Deferred(),g=this,l=this.length,p=function(){--h||d.resolveWith(g,[g])};"string"!==typeof c&&(a=c,c=b);for(c=c||"fx";l--;)(e=f._data(g[l],c+"queueHooks"))&&
e.empty&&(h++,e.empty.add(p));p();return d.promise(a)}});var Ca,fb,Pa=/[\t\r\n]/g,Ib=/\r/g,Jb=/^(?:input|select|textarea|button|object)$/i,Kb=/^(?:a|area)$/i,gb=/^(?:checked|selected|autofocus|autoplay|async|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped)$/i,Qa=/^(?:checked|selected)$/i,za=f.support.getSetAttribute,Ra=f.support.input;f.fn.extend({attr:function(c,a){return f.access(this,f.attr,c,a,1<arguments.length)},removeAttr:function(c){return this.each(function(){f.removeAttr(this,
c)})},prop:function(c,a){return f.access(this,f.prop,c,a,1<arguments.length)},removeProp:function(c){c=f.propFix[c]||c;return this.each(function(){try{this[c]=b,delete this[c]}catch(a){}})},addClass:function(c){var a,b,e,h,d,g=0,l=this.length;a="string"===typeof c&&c;if(f.isFunction(c))return this.each(function(a){f(this).addClass(c.call(this,a,this.className))});if(a)for(a=(c||"").match(na)||[];g<l;g++)if(b=this[g],e=1===b.nodeType&&(b.className?(" "+b.className+" ").replace(Pa," "):" ")){for(d=
0;h=a[d++];)0>e.indexOf(" "+h+" ")&&(e+=h+" ");b.className=f.trim(e)}return this},removeClass:function(c){var a,b,e,h,d,g=0,l=this.length;a=0===arguments.length||"string"===typeof c&&c;if(f.isFunction(c))return this.each(function(a){f(this).removeClass(c.call(this,a,this.className))});if(a)for(a=(c||"").match(na)||[];g<l;g++)if(b=this[g],e=1===b.nodeType&&(b.className?(" "+b.className+" ").replace(Pa," "):"")){for(d=0;h=a[d++];)for(;0<=e.indexOf(" "+h+" ");)e=e.replace(" "+h+" "," ");b.className=
c?f.trim(e):""}return this},toggleClass:function(c,a){var b=typeof c,e="boolean"===typeof a;return f.isFunction(c)?this.each(function(b){f(this).toggleClass(c.call(this,b,this.className,a),a)}):this.each(function(){if("string"===b)for(var h,d=0,g=f(this),l=a,p=c.match(na)||[];h=p[d++];)l=e?l:!g.hasClass(h),g[l?"addClass":"removeClass"](h);else if(b===w||"boolean"===b)this.className&&f._data(this,"__className__",this.className),this.className=this.className||!1===c?"":f._data(this,"__className__")||
""})},hasClass:function(c){c=" "+c+" ";for(var a=0,f=this.length;a<f;a++)if(1===this[a].nodeType&&0<=(" "+this[a].className+" ").replace(Pa," ").indexOf(c))return!0;return!1},val:function(c){var a,e,h,d=this[0];if(arguments.length)return h=f.isFunction(c),this.each(function(a){var y=f(this);1===this.nodeType&&(a=h?c.call(this,a,y.val()):c,null==a?a="":"number"===typeof a?a+="":f.isArray(a)&&(a=f.map(a,function(c){return null==c?"":c+""})),e=f.valHooks[this.type]||f.valHooks[this.nodeName.toLowerCase()],
e&&"set"in e&&e.set(this,a,"value")!==b||(this.value=a))});if(d){if((e=f.valHooks[d.type]||f.valHooks[d.nodeName.toLowerCase()])&&"get"in e&&(a=e.get(d,"value"))!==b)return a;a=d.value;return"string"===typeof a?a.replace(Ib,""):null==a?"":a}}});f.extend({valHooks:{option:{get:function(c){var a=c.attributes.value;return!a||a.specified?c.value:c.text}},select:{get:function(c){for(var a,b=c.options,e=c.selectedIndex,h=(c="select-one"===c.type||0>e)?null:[],d=c?e+1:b.length,g=0>e?d:c?e:0;g<d;g++)if(a=
b[g],!(!a.selected&&g!==e||(f.support.optDisabled?a.disabled:null!==a.getAttribute("disabled"))||a.parentNode.disabled&&f.nodeName(a.parentNode,"optgroup"))){a=f(a).val();if(c)return a;h.push(a)}return h},set:function(c,a){var b=f.makeArray(a);f(c).find("option").each(function(){this.selected=0<=f.inArray(f(this).val(),b)});b.length||(c.selectedIndex=-1);return b}}},attr:function(c,a,e){var h,d,g;d=c.nodeType;if(c&&3!==d&&8!==d&&2!==d){if(typeof c.getAttribute===w)return f.prop(c,a,e);if(d=1!==d||
!f.isXMLDoc(c))a=a.toLowerCase(),h=f.attrHooks[a]||(gb.test(a)?fb:Ca);if(e!==b)if(null===e)f.removeAttr(c,a);else{if(h&&d&&"set"in h&&(g=h.set(c,e,a))!==b)return g;c.setAttribute(a,e+"");return e}else{if(h&&d&&"get"in h&&null!==(g=h.get(c,a)))return g;typeof c.getAttribute!==w&&(g=c.getAttribute(a));return null==g?b:g}}},removeAttr:function(c,a){var b,e,h=0,d=a&&a.match(na);if(d&&1===c.nodeType)for(;b=d[h++];)e=f.propFix[b]||b,gb.test(b)?!za&&Qa.test(b)?c[f.camelCase("default-"+b)]=c[e]=!1:c[e]=!1:
f.attr(c,b,""),c.removeAttribute(za?b:e)},attrHooks:{type:{set:function(c,a){if(!f.support.radioValue&&"radio"===a&&f.nodeName(c,"input")){var b=c.value;c.setAttribute("type",a);b&&(c.value=b);return a}}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(c,a,e){var h,
d,g;g=c.nodeType;if(c&&3!==g&&8!==g&&2!==g){if(g=1!==g||!f.isXMLDoc(c))a=f.propFix[a]||a,d=f.propHooks[a];return e!==b?d&&"set"in d&&(h=d.set(c,e,a))!==b?h:c[a]=e:d&&"get"in d&&null!==(h=d.get(c,a))?h:c[a]}},propHooks:{tabIndex:{get:function(c){var a=c.getAttributeNode("tabindex");return a&&a.specified?parseInt(a.value,10):Jb.test(c.nodeName)||Kb.test(c.nodeName)&&c.href?0:b}}}});fb={get:function(c,a){var e=f.prop(c,a),h="boolean"===typeof e&&c.getAttribute(a);return(e="boolean"===typeof e?Ra&&za?
null!=h:Qa.test(a)?c[f.camelCase("default-"+a)]:!!h:c.getAttributeNode(a))&&!1!==e.value?a.toLowerCase():b},set:function(c,a,b){!1===a?f.removeAttr(c,b):Ra&&za||!Qa.test(b)?c.setAttribute(!za&&f.propFix[b]||b,b):c[f.camelCase("default-"+b)]=c[b]=!0;return b}};Ra&&za||(f.attrHooks.value={get:function(c,a){var e=c.getAttributeNode(a);return f.nodeName(c,"input")?c.defaultValue:e&&e.specified?e.value:b},set:function(c,a,b){if(f.nodeName(c,"input"))c.defaultValue=a;else return Ca&&Ca.set(c,a,b)}});za||
(Ca=f.valHooks.button={get:function(c,a){var f=c.getAttributeNode(a);return f&&("id"===a||"name"===a||"coords"===a?""!==f.value:f.specified)?f.value:b},set:function(c,a,f){var e=c.getAttributeNode(f);e||c.setAttributeNode(e=c.ownerDocument.createAttribute(f));e.value=a+="";return"value"===f||a===c.getAttribute(f)?a:b}},f.attrHooks.contenteditable={get:Ca.get,set:function(c,a,f){Ca.set(c,""===a?!1:a,f)}},f.each(["width","height"],function(c,a){f.attrHooks[a]=f.extend(f.attrHooks[a],{set:function(c,
f){if(""===f)return c.setAttribute(a,"auto"),f}})}));f.support.hrefNormalized||(f.each(["href","src","width","height"],function(c,a){f.attrHooks[a]=f.extend(f.attrHooks[a],{get:function(c){c=c.getAttribute(a,2);return null==c?b:c}})}),f.each(["href","src"],function(c,a){f.propHooks[a]={get:function(c){return c.getAttribute(a,4)}}}));f.support.style||(f.attrHooks.style={get:function(c){return c.style.cssText||b},set:function(c,a){return c.style.cssText=a+""}});f.support.optSelected||(f.propHooks.selected=
f.extend(f.propHooks.selected,{get:function(c){if(c=c.parentNode)c.selectedIndex,c.parentNode&&c.parentNode.selectedIndex;return null}}));f.support.enctype||(f.propFix.enctype="encoding");f.support.checkOn||f.each(["radio","checkbox"],function(){f.valHooks[this]={get:function(c){return null===c.getAttribute("value")?"on":c.value}}});f.each(["radio","checkbox"],function(){f.valHooks[this]=f.extend(f.valHooks[this],{set:function(c,a){if(f.isArray(a))return c.checked=0<=f.inArray(f(c).val(),a)}})});
var Sa=/^(?:input|select|textarea)$/i,Lb=/^key/,Mb=/^(?:mouse|contextmenu)|click/,hb=/^(?:focusinfocus|focusoutblur)$/,ib=/^([^.]*)(?:\.(.+)|)$/;f.event={global:{},add:function(c,a,e,h,d){var g,l,p,n,q,s,H,m,I;if(p=f._data(c)){e.handler&&(n=e,e=n.handler,d=n.selector);e.guid||(e.guid=f.guid++);(l=p.events)||(l=p.events={});(q=p.handle)||(q=p.handle=function(c){return typeof f===w||c&&f.event.triggered===c.type?b:f.event.dispatch.apply(q.elem,arguments)},q.elem=c);a=(a||"").match(na)||[""];for(p=a.length;p--;)g=
ib.exec(a[p])||[],m=s=g[1],I=(g[2]||"").split(".").sort(),g=f.event.special[m]||{},m=(d?g.delegateType:g.bindType)||m,g=f.event.special[m]||{},s=f.extend({type:m,origType:s,data:h,handler:e,guid:e.guid,selector:d,needsContext:d&&f.expr.match.needsContext.test(d),namespace:I.join(".")},n),(H=l[m])||(H=l[m]=[],H.delegateCount=0,g.setup&&!1!==g.setup.call(c,h,I,q)||(c.addEventListener?c.addEventListener(m,q,!1):c.attachEvent&&c.attachEvent("on"+m,q))),g.add&&(g.add.call(c,s),s.handler.guid||(s.handler.guid=
e.guid)),d?H.splice(H.delegateCount++,0,s):H.push(s),f.event.global[m]=!0;c=null}},remove:function(c,a,b,e,h){var d,g,l,p,n,q,s,H,m,I,T,w=f.hasData(c)&&f._data(c);if(w&&(q=w.events)){a=(a||"").match(na)||[""];for(n=a.length;n--;)if(l=ib.exec(a[n])||[],m=T=l[1],I=(l[2]||"").split(".").sort(),m){s=f.event.special[m]||{};m=(e?s.delegateType:s.bindType)||m;H=q[m]||[];l=l[2]&&new RegExp("(^|\\.)"+I.join("\\.(?:.*\\.|)")+"(\\.|$)");for(p=d=H.length;d--;)g=H[d],!h&&T!==g.origType||b&&b.guid!==g.guid||l&&
!l.test(g.namespace)||e&&e!==g.selector&&("**"!==e||!g.selector)||(H.splice(d,1),g.selector&&H.delegateCount--,s.remove&&s.remove.call(c,g));p&&!H.length&&(s.teardown&&!1!==s.teardown.call(c,I,w.handle)||f.removeEvent(c,m,w.handle),delete q[m])}else for(m in q)f.event.remove(c,m+a[n],b,e,!0);f.isEmptyObject(q)&&(delete w.handle,f._removeData(c,"events"))}},trigger:function(c,e,h,d){var g,l,p,n,q,s,H=[h||L],m=ia.call(c,"type")?c.type:c;q=ia.call(c,"namespace")?c.namespace.split("."):[];p=g=h=h||L;
if(3!==h.nodeType&&8!==h.nodeType&&!hb.test(m+f.event.triggered)&&(0<=m.indexOf(".")&&(q=m.split("."),m=q.shift(),q.sort()),l=0>m.indexOf(":")&&"on"+m,c=c[f.expando]?c:new f.Event(m,"object"===typeof c&&c),c.isTrigger=!0,c.namespace=q.join("."),c.namespace_re=c.namespace?new RegExp("(^|\\.)"+q.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,c.result=b,c.target||(c.target=h),e=null==e?[c]:f.makeArray(e,[c]),q=f.event.special[m]||{},d||!q.trigger||!1!==q.trigger.apply(h,e))){if(!d&&!q.noBubble&&!f.isWindow(h)){n=
q.delegateType||m;hb.test(n+m)||(p=p.parentNode);for(;p;p=p.parentNode)H.push(p),g=p;g===(h.ownerDocument||L)&&H.push(g.defaultView||g.parentWindow||a)}for(s=0;(p=H[s++])&&!c.isPropagationStopped();)c.type=1<s?n:q.bindType||m,(g=(f._data(p,"events")||{})[c.type]&&f._data(p,"handle"))&&g.apply(p,e),(g=l&&p[l])&&f.acceptData(p)&&g.apply&&!1===g.apply(p,e)&&c.preventDefault();c.type=m;if(!(d||c.isDefaultPrevented()||q._default&&!1!==q._default.apply(h.ownerDocument,e)||"click"===m&&f.nodeName(h,"a"))&&
f.acceptData(h)&&l&&h[m]&&!f.isWindow(h)){(g=h[l])&&(h[l]=null);f.event.triggered=m;try{h[m]()}catch(I){}f.event.triggered=b;g&&(h[l]=g)}return c.result}},dispatch:function(c){c=f.event.fix(c);var a,e,h,d,g=[],l=ea.call(arguments);a=(f._data(this,"events")||{})[c.type]||[];var p=f.event.special[c.type]||{};l[0]=c;c.delegateTarget=this;if(!p.preDispatch||!1!==p.preDispatch.call(this,c)){g=f.event.handlers.call(this,c,a);for(a=0;(h=g[a++])&&!c.isPropagationStopped();)for(c.currentTarget=h.elem,d=0;(e=
h.handlers[d++])&&!c.isImmediatePropagationStopped();)if(!c.namespace_re||c.namespace_re.test(e.namespace))c.handleObj=e,c.data=e.data,e=((f.event.special[e.origType]||{}).handle||e.handler).apply(h.elem,l),e!==b&&!1===(c.result=e)&&(c.preventDefault(),c.stopPropagation());p.postDispatch&&p.postDispatch.call(this,c);return c.result}},handlers:function(c,a){var e,h,d,g,l=[],p=a.delegateCount,n=c.target;if(p&&n.nodeType&&(!c.button||"click"!==c.type))for(;n!=this;n=n.parentNode||this)if(1===n.nodeType&&
(!0!==n.disabled||"click"!==c.type)){d=[];for(g=0;g<p;g++)h=a[g],e=h.selector+" ",d[e]===b&&(d[e]=h.needsContext?0<=f(e,this).index(n):f.find(e,this,null,[n]).length),d[e]&&d.push(h);d.length&&l.push({elem:n,handlers:d})}p<a.length&&l.push({elem:this,handlers:a.slice(p)});return l},fix:function(c){if(c[f.expando])return c;var a,b,e;a=c.type;var h=c,d=this.fixHooks[a];d||(this.fixHooks[a]=d=Mb.test(a)?this.mouseHooks:Lb.test(a)?this.keyHooks:{});e=d.props?this.props.concat(d.props):this.props;c=new f.Event(h);
for(a=e.length;a--;)b=e[a],c[b]=h[b];c.target||(c.target=h.srcElement||L);3===c.target.nodeType&&(c.target=c.target.parentNode);c.metaKey=!!c.metaKey;return d.filter?d.filter(c,h):c},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:["char","charCode","key","keyCode"],filter:function(c,a){null==c.which&&(c.which=null!=a.charCode?a.charCode:a.keyCode);return c}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),
filter:function(c,a){var f,e,h=a.button,d=a.fromElement;null==c.pageX&&null!=a.clientX&&(f=c.target.ownerDocument||L,e=f.documentElement,f=f.body,c.pageX=a.clientX+(e&&e.scrollLeft||f&&f.scrollLeft||0)-(e&&e.clientLeft||f&&f.clientLeft||0),c.pageY=a.clientY+(e&&e.scrollTop||f&&f.scrollTop||0)-(e&&e.clientTop||f&&f.clientTop||0));!c.relatedTarget&&d&&(c.relatedTarget=d===c.target?a.toElement:d);c.which||h===b||(c.which=h&1?1:h&2?3:h&4?2:0);return c}},special:{load:{noBubble:!0},click:{trigger:function(){if(f.nodeName(this,
"input")&&"checkbox"===this.type&&this.click)return this.click(),!1}},focus:{trigger:function(){if(this!==L.activeElement&&this.focus)try{return this.focus(),!1}catch(c){}},delegateType:"focusin"},blur:{trigger:function(){if(this===L.activeElement&&this.blur)return this.blur(),!1},delegateType:"focusout"},beforeunload:{postDispatch:function(c){c.result!==b&&(c.originalEvent.returnValue=c.result)}}},simulate:function(c,a,b,e){c=f.extend(new f.Event,b,{type:c,isSimulated:!0,originalEvent:{}});e?f.event.trigger(c,
null,a):f.event.dispatch.call(a,c);c.isDefaultPrevented()&&b.preventDefault()}};f.removeEvent=L.removeEventListener?function(c,a,f){c.removeEventListener&&c.removeEventListener(a,f,!1)}:function(c,a,f){a="on"+a;c.detachEvent&&(typeof c[a]===w&&(c[a]=null),c.detachEvent(a,f))};f.Event=function(c,a){if(!(this instanceof f.Event))return new f.Event(c,a);c&&c.type?(this.originalEvent=c,this.type=c.type,this.isDefaultPrevented=c.defaultPrevented||!1===c.returnValue||c.getPreventDefault&&c.getPreventDefault()?
n:l):this.type=c;a&&f.extend(this,a);this.timeStamp=c&&c.timeStamp||f.now();this[f.expando]=!0};f.Event.prototype={isDefaultPrevented:l,isPropagationStopped:l,isImmediatePropagationStopped:l,preventDefault:function(){var c=this.originalEvent;this.isDefaultPrevented=n;c&&(c.preventDefault?c.preventDefault():c.returnValue=!1)},stopPropagation:function(){var c=this.originalEvent;this.isPropagationStopped=n;c&&(c.stopPropagation&&c.stopPropagation(),c.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=
n;this.stopPropagation()}};f.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(c,a){f.event.special[c]={delegateType:a,bindType:a,handle:function(c){var b,e=c.relatedTarget,h=c.handleObj;if(!e||e!==this&&!f.contains(this,e))c.type=h.origType,b=h.handler.apply(this,arguments),c.type=a;return b}}});f.support.submitBubbles||(f.event.special.submit={setup:function(){if(f.nodeName(this,"form"))return!1;f.event.add(this,"click._submit keypress._submit",function(c){c=c.target;(c=f.nodeName(c,
"input")||f.nodeName(c,"button")?c.form:b)&&!f._data(c,"submitBubbles")&&(f.event.add(c,"submit._submit",function(c){c._submit_bubble=!0}),f._data(c,"submitBubbles",!0))})},postDispatch:function(c){c._submit_bubble&&(delete c._submit_bubble,this.parentNode&&!c.isTrigger&&f.event.simulate("submit",this.parentNode,c,!0))},teardown:function(){if(f.nodeName(this,"form"))return!1;f.event.remove(this,"._submit")}});f.support.changeBubbles||(f.event.special.change={setup:function(){if(Sa.test(this.nodeName)){if("checkbox"===
this.type||"radio"===this.type)f.event.add(this,"propertychange._change",function(c){"checked"===c.originalEvent.propertyName&&(this._just_changed=!0)}),f.event.add(this,"click._change",function(c){this._just_changed&&!c.isTrigger&&(this._just_changed=!1);f.event.simulate("change",this,c,!0)});return!1}f.event.add(this,"beforeactivate._change",function(c){c=c.target;Sa.test(c.nodeName)&&!f._data(c,"changeBubbles")&&(f.event.add(c,"change._change",function(c){!this.parentNode||c.isSimulated||c.isTrigger||
f.event.simulate("change",this.parentNode,c,!0)}),f._data(c,"changeBubbles",!0))})},handle:function(c){var a=c.target;if(this!==a||c.isSimulated||c.isTrigger||"radio"!==a.type&&"checkbox"!==a.type)return c.handleObj.handler.apply(this,arguments)},teardown:function(){f.event.remove(this,"._change");return!Sa.test(this.nodeName)}});f.support.focusinBubbles||f.each({focus:"focusin",blur:"focusout"},function(c,a){var b=0,e=function(c){f.event.simulate(a,c.target,f.event.fix(c),!0)};f.event.special[a]=
{setup:function(){0===b++&&L.addEventListener(c,e,!0)},teardown:function(){0===--b&&L.removeEventListener(c,e,!0)}}});f.fn.extend({on:function(c,a,e,h,d){var g,p;if("object"===typeof c){"string"!==typeof a&&(e=e||a,a=b);for(g in c)this.on(g,a,e,c[g],d);return this}null==e&&null==h?(h=a,e=a=b):null==h&&("string"===typeof a?(h=e,e=b):(h=e,e=a,a=b));if(!1===h)h=l;else if(!h)return this;1===d&&(p=h,h=function(c){f().off(c);return p.apply(this,arguments)},h.guid=p.guid||(p.guid=f.guid++));return this.each(function(){f.event.add(this,
c,h,e,a)})},one:function(c,a,f,b){return this.on(c,a,f,b,1)},off:function(c,a,e){var h;if(c&&c.preventDefault&&c.handleObj)return h=c.handleObj,f(c.delegateTarget).off(h.namespace?h.origType+"."+h.namespace:h.origType,h.selector,h.handler),this;if("object"===typeof c){for(h in c)this.off(h,a,c[h]);return this}if(!1===a||"function"===typeof a)e=a,a=b;!1===e&&(e=l);return this.each(function(){f.event.remove(this,c,e,a)})},bind:function(c,a,f){return this.on(c,null,a,f)},unbind:function(c,a){return this.off(c,
null,a)},delegate:function(c,a,f,b){return this.on(a,c,f,b)},undelegate:function(c,a,f){return 1===arguments.length?this.off(c,"**"):this.off(a,c||"**",f)},trigger:function(c,a){return this.each(function(){f.event.trigger(c,a,this)})},triggerHandler:function(c,a){var b=this[0];if(b)return f.event.trigger(c,a,b,!0)}});(function(c,a){function b(c){return oa.test(c+"")}function e(){var c,a=[];return c=function(f,b){a.push(f+=" ")>M.cacheLength&&delete c[a.shift()];return c[f]=b}}function h(c){c[R]=!0;
return c}function d(c){var a=W.createElement("div");try{return c(a)}catch(f){return!1}finally{}}function g(c,a,f,b){var e,h,d,y,l;(a?a.ownerDocument||a:ea)!==W&&x(a);a=a||W;f=f||[];if(!c||"string"!==typeof c)return f;if(1!==(y=a.nodeType)&&9!==y)return[];if(!V&&!b){if(e=Ma.exec(c))if(d=e[1])if(9===y)if((h=a.getElementById(d))&&h.parentNode){if(h.id===d)return f.push(h),f}else return f;else{if(a.ownerDocument&&(h=a.ownerDocument.getElementById(d))&&Y(a,h)&&h.id===d)return f.push(h),f}else{if(e[2])return ka.apply(f,
E.call(a.getElementsByTagName(c),0)),f;if((d=e[3])&&z.getByClassName&&a.getElementsByClassName)return ka.apply(f,E.call(a.getElementsByClassName(d),0)),f}if(z.qsa&&!X.test(c)){e=!0;h=R;d=a;l=9===y&&c;if(1===y&&"object"!==a.nodeName.toLowerCase()){y=m(c);(e=a.getAttribute("id"))?h=e.replace(Oa,"\\$&"):a.setAttribute("id",h);h="[id='"+h+"'] ";for(d=y.length;d--;)y[d]=h+s(y[d]);d=ma.test(c)&&a.parentNode||a;l=y.join(",")}if(l)try{return ka.apply(f,E.call(d.querySelectorAll(l),0)),f}catch(p){}finally{e||
a.removeAttribute("id")}}}var n;a:{c=c.replace(la,"$1");h=m(c);if(!b&&1===h.length){e=h[0]=h[0].slice(0);if(2<e.length&&"ID"===(n=e[0]).type&&9===a.nodeType&&!V&&M.relative[e[1].type]){a=M.find.ID(n.matches[0].replace(ra,sa),a)[0];if(!a){n=f;break a}c=c.slice(e.shift().value.length)}for(y=da.needsContext.test(c)?0:e.length;y--;){n=e[y];if(M.relative[d=n.type])break;if(d=M.find[d])if(b=d(n.matches[0].replace(ra,sa),ma.test(e[0].type)&&a.parentNode||a)){e.splice(y,1);c=b.length&&s(e);if(!c){ka.apply(f,
E.call(b,0));n=f;break a}break}}}P(c,h)(b,a,V,f,ma.test(c));n=f}return n}function l(c,a){var f=a&&c,b=f&&(~a.sourceIndex||-2147483648)-(~c.sourceIndex||-2147483648);if(b)return b;if(f)for(;f=f.nextSibling;)if(f===a)return-1;return c?1:-1}function p(c){return function(a){return"input"===a.nodeName.toLowerCase()&&a.type===c}}function n(c){return function(a){var f=a.nodeName.toLowerCase();return("input"===f||"button"===f)&&a.type===c}}function q(c){return h(function(a){a=+a;return h(function(f,b){for(var e,
h=c([],f.length,a),d=h.length;d--;)f[e=h[d]]&&(f[e]=!(b[e]=f[e]))})})}function m(c,a){var f,b,e,h,d,y,l;if(d=D[c+" "])return a?0:d.slice(0);d=c;y=[];for(l=M.preFilter;d;){if(!f||(b=Z.exec(d)))b&&(d=d.slice(b[0].length)||d),y.push(e=[]);f=!1;if(b=fa.exec(d))f=b.shift(),e.push({value:f,type:b[0].replace(la," ")}),d=d.slice(f.length);for(h in M.filter)!(b=da[h].exec(d))||l[h]&&!(b=l[h](b))||(f=b.shift(),e.push({value:f,type:h,matches:b}),d=d.slice(f.length));if(!f)break}return a?d.length:d?g.error(c):
D(c,y).slice(0)}function s(c){for(var a=0,f=c.length,b="";a<f;a++)b+=c[a].value;return b}function H(c,a,f){var b=a.dir,e=f&&"parentNode"===b,h=aa++;return a.first?function(a,f,h){for(;a=a[b];)if(1===a.nodeType||e)return c(a,f,h)}:function(a,f,d){var g,y,l,p=ba+" "+h;if(d)for(;a=a[b];){if((1===a.nodeType||e)&&c(a,f,d))return!0}else for(;a=a[b];)if(1===a.nodeType||e)if(l=a[R]||(a[R]={}),(y=l[b])&&y[0]===p){if(!0===(g=y[1])||g===v)return!0===g}else if(y=l[b]=[p],y[1]=c(a,f,d)||v,!0===y[1])return!0}}
function I(c){return 1<c.length?function(a,f,b){for(var e=c.length;e--;)if(!c[e](a,f,b))return!1;return!0}:c[0]}function w(c,a,f,b,e){for(var h,d=[],g=0,y=c.length,l=null!=a;g<y;g++)if(h=c[g])if(!f||f(h,b,e))d.push(h),l&&a.push(g);return d}function T(c,a,f,b,e,d){b&&!b[R]&&(b=T(b));e&&!e[R]&&(e=T(e,d));return h(function(h,d,y,l){var p,n,q=[],m=[],s=d.length,H;if(!(H=h)){H=a||"*";for(var I=y.nodeType?[y]:y,T=[],ha=0,O=I.length;ha<O;ha++)g(H,I[ha],T);H=T}H=!c||!h&&a?H:w(H,q,c,y,l);I=f?e||(h?c:s||b)?
[]:d:H;f&&f(H,I,y,l);if(b)for(p=w(I,m),b(p,[],y,l),y=p.length;y--;)if(n=p[y])I[m[y]]=!(H[m[y]]=n);if(h){if(e||c){if(e){p=[];for(y=I.length;y--;)(n=I[y])&&p.push(H[y]=n);e(null,I=[],p,l)}for(y=I.length;y--;)(n=I[y])&&-1<(p=e?G.call(h,n):q[y])&&(h[p]=!(d[p]=n))}}else I=w(I===d?I.splice(s,I.length):I),e?e(null,d,I,l):ka.apply(d,I)})}function O(c){var a,f,b,e=c.length,h=M.relative[c[0].type];f=h||M.relative[" "];for(var d=h?1:0,y=H(function(c){return c===a},f,!0),g=H(function(c){return-1<G.call(a,c)},
f,!0),l=[function(c,f,b){return!h&&(b||f!==K)||((a=f).nodeType?y(c,f,b):g(c,f,b))}];d<e;d++)if(f=M.relative[c[d].type])l=[H(I(l),f)];else{f=M.filter[c[d].type].apply(null,c[d].matches);if(f[R]){for(b=++d;b<e&&!M.relative[c[b].type];b++);return T(1<d&&I(l),1<d&&s(c.slice(0,d-1)).replace(la,"$1"),f,d<b&&O(c.slice(d,b)),b<e&&O(c=c.slice(b)),b<e&&s(c))}l.push(f)}return I(l)}function r(c,a){var f=0,b=0<a.length,e=0<c.length,d=function(h,d,y,l,p){var n,q,m=[],H=0,s="0",I=h&&[],T=null!=p,ha=K,O=h||e&&M.find.TAG("*",
p&&d.parentNode||d),r=ba+=null==ha?1:Math.random()||.1;T&&(K=d!==W&&d,v=f);for(;null!=(p=O[s]);s++){if(e&&p){for(n=0;q=c[n++];)if(q(p,d,y)){l.push(p);break}T&&(ba=r,v=++f)}b&&((p=!q&&p)&&H--,h&&I.push(p))}H+=s;if(b&&s!==H){for(n=0;q=a[n++];)q(I,m,d,y);if(h){if(0<H)for(;s--;)I[s]||m[s]||(m[s]=ga.call(l));m=w(m)}ka.apply(l,m);T&&!h&&0<m.length&&1<H+a.length&&g.uniqueSort(l)}T&&(ba=r,K=ha);return I};return b?h(d):d}function N(){}var J,v,M,Q,S,P,t,K,x,W,A,V,X,B,C,Y,u,R="sizzle"+-new Date,ea=c.document,
z={},ba=0,aa=0,U=e(),D=e(),ia=e(),F=typeof a,ja=[],ga=ja.pop,ka=ja.push,E=ja.slice,G=ja.indexOf||function(c){for(var a=0,f=this.length;a<f;a++)if(this[a]===c)return a;return-1},ja="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+".replace("w","w#"),L="\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)[\\x20\\t\\r\\n\\f]*(?:([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+ja+")|)|)[\\x20\\t\\r\\n\\f]*\\]",ca=":((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+
L.replace(3,8)+")*)|.*)\\)|)",la=/^[\x20\t\r\n\f]+|((?:^|[^\\])(?:\\.)*)[\x20\t\r\n\f]+$/g,Z=/^[\x20\t\r\n\f]*,[\x20\t\r\n\f]*/,fa=/^[\x20\t\r\n\f]*([\x20\t\r\n\f>+~])[\x20\t\r\n\f]*/,qa=new RegExp(ca),na=new RegExp("^"+ja+"$"),da={ID:/^#((?:\\.|[\w-]|[^\x00-\xa0])+)/,CLASS:/^\.((?:\\.|[\w-]|[^\x00-\xa0])+)/,NAME:/^\[name=['"]?((?:\\.|[\w-]|[^\x00-\xa0])+)['"]?\]/,TAG:new RegExp("^("+"(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+".replace("w","w*")+")"),ATTR:new RegExp("^"+L),PSEUDO:new RegExp("^"+ca),CHILD:/^:(only|first|last|nth|nth-last)-(child|of-type)(?:\([\x20\t\r\n\f]*(even|odd|(([+-]|)(\d*)n|)[\x20\t\r\n\f]*(?:([+-]|)[\x20\t\r\n\f]*(\d+)|))[\x20\t\r\n\f]*\)|)/i,
needsContext:/^[\x20\t\r\n\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\([\x20\t\r\n\f]*((?:-\d)?\d*)[\x20\t\r\n\f]*\)|)(?=[^-]|$)/i},ma=/[\x20\t\r\n\f]*[+~]/,oa=/^[^{]+\{\s*\[native code/,Ma=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ta=/^(?:input|select|textarea|button)$/i,pa=/^h\d$/i,Oa=/'|\\/g,Na=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,ra=/\\([\da-fA-F]{1,6}[\x20\t\r\n\f]?|.)/g,sa=function(c,a){var f="0x"+a-65536;return f!==f?a:0>f?String.fromCharCode(f+65536):String.fromCharCode(f>>10|55296,
f&1023|56320)};try{E.call(ea.documentElement.childNodes,0)[0].nodeType}catch(va){E=function(c){for(var a,f=[];a=this[c++];)f.push(a);return f}}S=g.isXML=function(c){return(c=c&&(c.ownerDocument||c).documentElement)?"HTML"!==c.nodeName:!1};x=g.setDocument=function(c){var f=c?c.ownerDocument||c:ea;if(f===W||9!==f.nodeType||!f.documentElement)return W;W=f;A=f.documentElement;V=S(f);z.tagNameNoComments=d(function(c){c.appendChild(f.createComment(""));return!c.getElementsByTagName("*").length});z.attributes=
d(function(c){c.innerHTML="<select></select>";c=typeof c.lastChild.getAttribute("multiple");return"boolean"!==c&&"string"!==c});z.getByClassName=d(function(c){c.innerHTML="<div class='hidden e'></div><div class='hidden'></div>";if(!c.getElementsByClassName||!c.getElementsByClassName("e").length)return!1;c.lastChild.className="e";return 2===c.getElementsByClassName("e").length});z.getByName=d(function(c){c.id=R+0;c.innerHTML="<a name='"+R+"'></a><div name='"+R+"'></div>";A.insertBefore(c,A.firstChild);
var a=f.getElementsByName&&f.getElementsByName(R).length===2+f.getElementsByName(R+0).length;z.getIdNotName=!f.getElementById(R);A.removeChild(c);return a});M.attrHandle=d(function(c){c.innerHTML="<a href='#'></a>";return c.firstChild&&typeof c.firstChild.getAttribute!==F&&"#"===c.firstChild.getAttribute("href")})?{}:{href:function(c){return c.getAttribute("href",2)},type:function(c){return c.getAttribute("type")}};z.getIdNotName?(M.find.ID=function(c,a){if(typeof a.getElementById!==F&&!V){var f=
a.getElementById(c);return f&&f.parentNode?[f]:[]}},M.filter.ID=function(c){var a=c.replace(ra,sa);return function(c){return c.getAttribute("id")===a}}):(M.find.ID=function(c,f){if(typeof f.getElementById!==F&&!V){var b=f.getElementById(c);return b?b.id===c||typeof b.getAttributeNode!==F&&b.getAttributeNode("id").value===c?[b]:a:[]}},M.filter.ID=function(c){var a=c.replace(ra,sa);return function(c){return(c=typeof c.getAttributeNode!==F&&c.getAttributeNode("id"))&&c.value===a}});M.find.TAG=z.tagNameNoComments?
function(c,a){if(typeof a.getElementsByTagName!==F)return a.getElementsByTagName(c)}:function(c,a){var f,b=[],e=0,h=a.getElementsByTagName(c);if("*"===c){for(;f=h[e++];)1===f.nodeType&&b.push(f);return b}return h};M.find.NAME=z.getByName&&function(c,a){if(typeof a.getElementsByName!==F)return a.getElementsByName(name)};M.find.CLASS=z.getByClassName&&function(c,a){if(typeof a.getElementsByClassName!==F&&!V)return a.getElementsByClassName(c)};B=[];X=[":focus"];if(z.qsa=b(f.querySelectorAll))d(function(c){c.innerHTML=
"<select><option selected=''></option></select>";c.querySelectorAll("[selected]").length||X.push("\\[[\\x20\\t\\r\\n\\f]*(?:checked|disabled|ismap|multiple|readonly|selected|value)");c.querySelectorAll(":checked").length||X.push(":checked")}),d(function(c){c.innerHTML="<input type='hidden' i=''/>";c.querySelectorAll("[i^='']").length&&X.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:\"\"|'')");c.querySelectorAll(":enabled").length||X.push(":enabled",":disabled");c.querySelectorAll("*,:x");X.push(",.*:")});(z.matchesSelector=
b(C=A.matchesSelector||A.mozMatchesSelector||A.webkitMatchesSelector||A.oMatchesSelector||A.msMatchesSelector))&&d(function(c){z.disconnectedMatch=C.call(c,"div");C.call(c,"[s!='']:x");B.push("!=",ca)});X=new RegExp(X.join("|"));B=new RegExp(B.join("|"));Y=b(A.contains)||A.compareDocumentPosition?function(c,a){var f=9===c.nodeType?c.documentElement:c,b=a&&a.parentNode;return c===b||!!(b&&1===b.nodeType&&(f.contains?f.contains(b):c.compareDocumentPosition&&c.compareDocumentPosition(b)&16))}:function(c,
a){if(a)for(;a=a.parentNode;)if(a===c)return!0;return!1};u=A.compareDocumentPosition?function(c,a){var b;return c===a?(t=!0,0):(b=a.compareDocumentPosition&&c.compareDocumentPosition&&c.compareDocumentPosition(a))?b&1||c.parentNode&&11===c.parentNode.nodeType?c===f||Y(ea,c)?-1:a===f||Y(ea,a)?1:0:b&4?-1:1:c.compareDocumentPosition?-1:1}:function(c,a){var b,e=0;b=c.parentNode;var h=a.parentNode,d=[c],y=[a];if(c===a)return t=!0,0;if(!b||!h)return c===f?-1:a===f?1:b?-1:h?1:0;if(b===h)return l(c,a);for(b=
c;b=b.parentNode;)d.unshift(b);for(b=a;b=b.parentNode;)y.unshift(b);for(;d[e]===y[e];)e++;return e?l(d[e],y[e]):d[e]===ea?-1:y[e]===ea?1:0};t=!1;[0,0].sort(u);z.detectDuplicates=t;return W};g.matches=function(c,a){return g(c,null,null,a)};g.matchesSelector=function(c,a){(c.ownerDocument||c)!==W&&x(c);a=a.replace(Na,"='$1']");if(!(!z.matchesSelector||V||B&&B.test(a)||X.test(a)))try{var f=C.call(c,a);if(f||z.disconnectedMatch||c.document&&11!==c.document.nodeType)return f}catch(b){}return 0<g(a,W,null,
[c]).length};g.contains=function(c,a){(c.ownerDocument||c)!==W&&x(c);return Y(c,a)};g.attr=function(c,a){var f;(c.ownerDocument||c)!==W&&x(c);V||(a=a.toLowerCase());return(f=M.attrHandle[a])?f(c):V||z.attributes?c.getAttribute(a):((f=c.getAttributeNode(a))||c.getAttribute(a))&&!0===c[a]?a:f&&f.specified?f.value:null};g.error=function(c){throw Error("Syntax error, unrecognized expression: "+c);};g.uniqueSort=function(c){var a,f=[],b=1,e=0;t=!z.detectDuplicates;c.sort(u);if(t){for(;a=c[b];b++)a===c[b-
1]&&(e=f.push(b));for(;e--;)c.splice(f[e],1)}return c};Q=g.getText=function(c){var a,f="",b=0;a=c.nodeType;if(!a)for(;a=c[b];b++)f+=Q(a);else if(1===a||9===a||11===a){if("string"===typeof c.textContent)return c.textContent;for(c=c.firstChild;c;c=c.nextSibling)f+=Q(c)}else if(3===a||4===a)return c.nodeValue;return f};M=g.selectors={cacheLength:50,createPseudo:h,match:da,find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},
preFilter:{ATTR:function(c){c[1]=c[1].replace(ra,sa);c[3]=(c[4]||c[5]||"").replace(ra,sa);"~="===c[2]&&(c[3]=" "+c[3]+" ");return c.slice(0,4)},CHILD:function(c){c[1]=c[1].toLowerCase();"nth"===c[1].slice(0,3)?(c[3]||g.error(c[0]),c[4]=+(c[4]?c[5]+(c[6]||1):2*("even"===c[3]||"odd"===c[3])),c[5]=+(c[7]+c[8]||"odd"===c[3])):c[3]&&g.error(c[0]);return c},PSEUDO:function(c){var a,f=!c[5]&&c[2];if(da.CHILD.test(c[0]))return null;c[4]?c[2]=c[4]:f&&qa.test(f)&&(a=m(f,!0))&&(a=f.indexOf(")",f.length-a)-f.length)&&
(c[0]=c[0].slice(0,a),c[2]=f.slice(0,a));return c.slice(0,3)}},filter:{TAG:function(c){if("*"===c)return function(){return!0};c=c.replace(ra,sa).toLowerCase();return function(a){return a.nodeName&&a.nodeName.toLowerCase()===c}},CLASS:function(c){var a=U[c+" "];return a||(a=new RegExp("(^|[\\x20\\t\\r\\n\\f])"+c+"([\\x20\\t\\r\\n\\f]|$)"))&&U(c,function(c){return a.test(c.className||typeof c.getAttribute!==F&&c.getAttribute("class")||"")})},ATTR:function(c,a,f){return function(b){b=g.attr(b,c);if(null==
b)return"!="===a;if(!a)return!0;b+="";return"="===a?b===f:"!="===a?b!==f:"^="===a?f&&0===b.indexOf(f):"*="===a?f&&-1<b.indexOf(f):"$="===a?f&&b.slice(-f.length)===f:"~="===a?-1<(" "+b+" ").indexOf(f):"|="===a?b===f||b.slice(0,f.length+1)===f+"-":!1}},CHILD:function(c,a,f,b,e){var h="nth"!==c.slice(0,3),d="last"!==c.slice(-4),y="of-type"===a;return 1===b&&0===e?function(c){return!!c.parentNode}:function(a,f,g){var l,p,n,q,m;f=h!==d?"nextSibling":"previousSibling";var H=a.parentNode,s=y&&a.nodeName.toLowerCase();
g=!g&&!y;if(H){if(h){for(;f;){for(p=a;p=p[f];)if(y?p.nodeName.toLowerCase()===s:1===p.nodeType)return!1;m=f="only"===c&&!m&&"nextSibling"}return!0}m=[d?H.firstChild:H.lastChild];if(d&&g)for(g=H[R]||(H[R]={}),l=g[c]||[],q=l[0]===ba&&l[1],n=l[0]===ba&&l[2],p=q&&H.childNodes[q];p=++q&&p&&p[f]||(n=q=0)||m.pop();){if(1===p.nodeType&&++n&&p===a){g[c]=[ba,q,n];break}}else if(g&&(l=(a[R]||(a[R]={}))[c])&&l[0]===ba)n=l[1];else for(;(p=++q&&p&&p[f]||(n=q=0)||m.pop())&&((y?p.nodeName.toLowerCase()!==s:1!==p.nodeType)||
!++n||(g&&((p[R]||(p[R]={}))[c]=[ba,n]),p!==a)););n-=e;return n===b||0===n%b&&0<=n/b}}},PSEUDO:function(c,a){var f,b=M.pseudos[c]||M.setFilters[c.toLowerCase()]||g.error("unsupported pseudo: "+c);return b[R]?b(a):1<b.length?(f=[c,c,"",a],M.setFilters.hasOwnProperty(c.toLowerCase())?h(function(c,f){for(var e,h=b(c,a),d=h.length;d--;)e=G.call(c,h[d]),c[e]=!(f[e]=h[d])}):function(c){return b(c,0,f)}):b}},pseudos:{not:h(function(c){var a=[],f=[],b=P(c.replace(la,"$1"));return b[R]?h(function(c,a,f,e){e=
b(c,null,e,[]);for(var h=c.length;h--;)if(f=e[h])c[h]=!(a[h]=f)}):function(c,e,h){a[0]=c;b(a,null,h,f);return!f.pop()}}),has:h(function(c){return function(a){return 0<g(c,a).length}}),contains:h(function(c){return function(a){return-1<(a.textContent||a.innerText||Q(a)).indexOf(c)}}),lang:h(function(c){na.test(c||"")||g.error("unsupported lang: "+c);c=c.replace(ra,sa).toLowerCase();return function(a){var f;do if(f=V?a.getAttribute("xml:lang")||a.getAttribute("lang"):a.lang)return f=f.toLowerCase(),
f===c||0===f.indexOf(c+"-");while((a=a.parentNode)&&1===a.nodeType);return!1}}),target:function(a){var f=c.location&&c.location.hash;return f&&f.slice(1)===a.id},root:function(c){return c===A},focus:function(c){return c===W.activeElement&&(!W.hasFocus||W.hasFocus())&&!!(c.type||c.href||~c.tabIndex)},enabled:function(c){return!1===c.disabled},disabled:function(c){return!0===c.disabled},checked:function(c){var a=c.nodeName.toLowerCase();return"input"===a&&!!c.checked||"option"===a&&!!c.selected},selected:function(c){c.parentNode&&
c.parentNode.selectedIndex;return!0===c.selected},empty:function(c){for(c=c.firstChild;c;c=c.nextSibling)if("@"<c.nodeName||3===c.nodeType||4===c.nodeType)return!1;return!0},parent:function(c){return!M.pseudos.empty(c)},header:function(c){return pa.test(c.nodeName)},input:function(c){return ta.test(c.nodeName)},button:function(c){var a=c.nodeName.toLowerCase();return"input"===a&&"button"===c.type||"button"===a},text:function(c){var a;return"input"===c.nodeName.toLowerCase()&&"text"===c.type&&(null==
(a=c.getAttribute("type"))||a.toLowerCase()===c.type)},first:q(function(){return[0]}),last:q(function(c,a){return[a-1]}),eq:q(function(c,a,f){return[0>f?f+a:f]}),even:q(function(c,a){for(var f=0;f<a;f+=2)c.push(f);return c}),odd:q(function(c,a){for(var f=1;f<a;f+=2)c.push(f);return c}),lt:q(function(c,a,f){for(a=0>f?f+a:f;0<=--a;)c.push(a);return c}),gt:q(function(c,a,f){for(f=0>f?f+a:f;++f<a;)c.push(f);return c})}};for(J in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})M.pseudos[J]=p(J);for(J in{submit:!0,
reset:!0})M.pseudos[J]=n(J);P=g.compile=function(c,a){var f,b=[],e=[],h=ia[c+" "];if(!h){a||(a=m(c));for(f=a.length;f--;)h=O(a[f]),h[R]?b.push(h):e.push(h);h=ia(c,r(e,b))}return h};M.pseudos.nth=M.pseudos.eq;M.filters=N.prototype=M.pseudos;M.setFilters=new N;x();g.attr=f.attr;f.find=g;f.expr=g.selectors;f.expr[":"]=f.expr.pseudos;f.unique=g.uniqueSort;f.text=g.getText;f.isXMLDoc=g.isXML;f.contains=g.contains})(a);var Nb=/Until$/,Ob=/^(?:parents|prev(?:Until|All))/,Bb=/^.[^:#\[\.,]*$/,jb=f.expr.match.needsContext,
Pb={children:!0,contents:!0,next:!0,prev:!0};f.fn.extend({find:function(c){var a,b,e,h=this.length;if("string"!==typeof c)return e=this,this.pushStack(f(c).filter(function(){for(a=0;a<h;a++)if(f.contains(e[a],this))return!0}));b=[];for(a=0;a<h;a++)f.find(c,this[a],b);b=this.pushStack(1<h?f.unique(b):b);b.selector=(this.selector?this.selector+" ":"")+c;return b},has:function(c){var a,b=f(c,this),e=b.length;return this.filter(function(){for(a=0;a<e;a++)if(f.contains(this,b[a]))return!0})},not:function(c){return this.pushStack(p(this,
c,!1))},filter:function(c){return this.pushStack(p(this,c,!0))},is:function(c){return!!c&&("string"===typeof c?jb.test(c)?0<=f(c,this.context).index(this[0]):0<f.filter(c,this).length:0<this.filter(c).length)},closest:function(c,a){for(var b,e=0,h=this.length,d=[],g=jb.test(c)||"string"!==typeof c?f(c,a||this.context):0;e<h;e++)for(b=this[e];b&&b.ownerDocument&&b!==a&&11!==b.nodeType;){if(g?-1<g.index(b):f.find.matchesSelector(b,c)){d.push(b);break}b=b.parentNode}return this.pushStack(1<d.length?
f.unique(d):d)},index:function(c){return c?"string"===typeof c?f.inArray(this[0],f(c)):f.inArray(c.jquery?c[0]:c,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(c,a){var b="string"===typeof c?f(c,a):f.makeArray(c&&c.nodeType?[c]:c),b=f.merge(this.get(),b);return this.pushStack(f.unique(b))},addBack:function(c){return this.add(null==c?this.prevObject:this.prevObject.filter(c))}});f.fn.andSelf=f.fn.addBack;f.each({parent:function(c){return(c=c.parentNode)&&11!==c.nodeType?
c:null},parents:function(c){return f.dir(c,"parentNode")},parentsUntil:function(c,a,b){return f.dir(c,"parentNode",b)},next:function(c){return x(c,"nextSibling")},prev:function(c){return x(c,"previousSibling")},nextAll:function(c){return f.dir(c,"nextSibling")},prevAll:function(c){return f.dir(c,"previousSibling")},nextUntil:function(c,a,b){return f.dir(c,"nextSibling",b)},prevUntil:function(c,a,b){return f.dir(c,"previousSibling",b)},siblings:function(c){return f.sibling((c.parentNode||{}).firstChild,
c)},children:function(c){return f.sibling(c.firstChild)},contents:function(c){return f.nodeName(c,"iframe")?c.contentDocument||c.contentWindow.document:f.merge([],c.childNodes)}},function(c,a){f.fn[c]=function(b,e){var h=f.map(this,a,b);Nb.test(c)||(e=b);e&&"string"===typeof e&&(h=f.filter(e,h));h=1<this.length&&!Pb[c]?f.unique(h):h;1<this.length&&Ob.test(c)&&(h=h.reverse());return this.pushStack(h)}});f.extend({filter:function(c,a,b){b&&(c=":not("+c+")");return 1===a.length?f.find.matchesSelector(a[0],
c)?[a[0]]:[]:f.find.matches(c,a)},dir:function(c,a,e){var h=[];for(c=c[a];c&&9!==c.nodeType&&(e===b||1!==c.nodeType||!f(c).is(e));)1===c.nodeType&&h.push(c),c=c[a];return h},sibling:function(c,a){for(var f=[];c;c=c.nextSibling)1===c.nodeType&&c!==a&&f.push(c);return f}});var ab="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Qb=/ jQuery\d+="(?:null|\d+)"/g,kb=new RegExp("<(?:"+ab+")[\\s/>]",
"i"),Ta=/^\s+/,lb=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,mb=/<([\w:]+)/,nb=/<tbody/i,Rb=/<|&#?\w+;/,Sb=/<(?:script|style|link)/i,Ka=/^(?:checkbox|radio)$/i,Tb=/checked\s*(?:[^=]|=\s*.checked.)/i,ob=/^$|\/(?:java|ecma)script/i,Cb=/^true\/(.*)/,Ub=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,pa={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],
tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:f.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},Ua=e(L).appendChild(L.createElement("div"));pa.optgroup=pa.option;pa.tbody=pa.tfoot=pa.colgroup=pa.caption=pa.thead;pa.th=pa.td;f.fn.extend({text:function(c){return f.access(this,function(c){return c===b?f.text(this):this.empty().append((this[0]&&this[0].ownerDocument||L).createTextNode(c))},
null,c,arguments.length)},wrapAll:function(c){if(f.isFunction(c))return this.each(function(a){f(this).wrapAll(c.call(this,a))});if(this[0]){var a=f(c,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&a.insertBefore(this[0]);a.map(function(){for(var c=this;c.firstChild&&1===c.firstChild.nodeType;)c=c.firstChild;return c}).append(this)}return this},wrapInner:function(c){return f.isFunction(c)?this.each(function(a){f(this).wrapInner(c.call(this,a))}):this.each(function(){var a=f(this),b=a.contents();
b.length?b.wrapAll(c):a.append(c)})},wrap:function(c){var a=f.isFunction(c);return this.each(function(b){f(this).wrapAll(a?c.call(this,b):c)})},unwrap:function(){return this.parent().each(function(){f.nodeName(this,"body")||f(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(c){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||this.appendChild(c)})},prepend:function(){return this.domManip(arguments,!0,function(c){1!==this.nodeType&&11!==
this.nodeType&&9!==this.nodeType||this.insertBefore(c,this.firstChild)})},before:function(){return this.domManip(arguments,!1,function(c){this.parentNode&&this.parentNode.insertBefore(c,this)})},after:function(){return this.domManip(arguments,!1,function(c){this.parentNode&&this.parentNode.insertBefore(c,this.nextSibling)})},remove:function(c,a){for(var b,e=0;null!=(b=this[e]);e++)if(!c||0<f.filter(c,[b]).length)a||1!==b.nodeType||f.cleanData(C(b)),b.parentNode&&(a&&f.contains(b.ownerDocument,b)&&
A(C(b,"script")),b.parentNode.removeChild(b));return this},empty:function(){for(var c,a=0;null!=(c=this[a]);a++){for(1===c.nodeType&&f.cleanData(C(c,!1));c.firstChild;)c.removeChild(c.firstChild);c.options&&f.nodeName(c,"select")&&(c.options.length=0)}return this},clone:function(c,a){c=null==c?!1:c;a=null==a?c:a;return this.map(function(){return f.clone(this,c,a)})},html:function(c){return f.access(this,function(c){var a=this[0]||{},e=0,h=this.length;if(c===b)return 1===a.nodeType?a.innerHTML.replace(Qb,
""):b;if(!("string"!==typeof c||Sb.test(c)||!f.support.htmlSerialize&&kb.test(c)||!f.support.leadingWhitespace&&Ta.test(c)||pa[(mb.exec(c)||["",""])[1].toLowerCase()])){c=c.replace(lb,"<$1></$2>");try{for(;e<h;e++)a=this[e]||{},1===a.nodeType&&(f.cleanData(C(a,!1)),a.innerHTML=c);a=0}catch(d){}}a&&this.empty().append(c)},null,c,arguments.length)},replaceWith:function(c){f.isFunction(c)||"string"===typeof c||(c=f(c).not(this).detach());return this.domManip([c],!0,function(c){var a=this.nextSibling,
b=this.parentNode;b&&(f(this).remove(),b.insertBefore(c,a))})},detach:function(c){return this.remove(c,!0)},domManip:function(c,a,e){c=W.apply([],c);var h,d,g,l,p=0,n=this.length,q=this,H=n-1,s=c[0],I=f.isFunction(s);if(I||!(1>=n||"string"!==typeof s||f.support.checkClone)&&Tb.test(s))return this.each(function(f){var h=q.eq(f);I&&(c[0]=s.call(this,f,a?h.html():b));h.domManip(c,a,e)});if(n&&(l=f.buildFragment(c,this[0].ownerDocument,!1,this),h=l.firstChild,1===l.childNodes.length&&(l=h),h)){a=a&&f.nodeName(h,
"tr");g=f.map(C(l,"script"),v);for(d=g.length;p<n;p++)h=l,p!==H&&(h=f.clone(h,!0,!0),d&&f.merge(g,C(h,"script"))),e.call(a&&f.nodeName(this[p],"table")?m(this[p],"tbody"):this[p],h,p);if(d)for(l=g[g.length-1].ownerDocument,f.map(g,z),p=0;p<d;p++)h=g[p],ob.test(h.type||"")&&!f._data(h,"globalEval")&&f.contains(l,h)&&(h.src?f.ajax({url:h.src,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0}):f.globalEval((h.text||h.textContent||h.innerHTML||"").replace(Ub,"")));l=h=null}return this}});f.each({appendTo:"append",
prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(c,a){f.fn[c]=function(c){for(var b=0,e=[],h=f(c),d=h.length-1;b<=d;b++)c=b===d?this:this.clone(!0),f(h[b])[a](c),ka.apply(e,c.get());return this.pushStack(e)}});f.extend({clone:function(c,a,b){var e,h,d,g,l,p=f.contains(c.ownerDocument,c);f.support.html5Clone||f.isXMLDoc(c)||!kb.test("<"+c.nodeName+">")?d=c.cloneNode(!0):(Ua.innerHTML=c.outerHTML,Ua.removeChild(d=Ua.firstChild));if(!(f.support.noCloneEvent&&
f.support.noCloneChecked||1!==c.nodeType&&11!==c.nodeType||f.isXMLDoc(c)))for(e=C(d),l=C(c),g=0;null!=(h=l[g]);++g)if(e[g]){var n=e[g],q=void 0,m=void 0,H=void 0;if(1===n.nodeType){q=n.nodeName.toLowerCase();if(!f.support.noCloneEvent&&n[f.expando]){H=f._data(n);for(m in H.events)f.removeEvent(n,m,H.handle);n.removeAttribute(f.expando)}if("script"===q&&n.text!==h.text)v(n).text=h.text,z(n);else if("object"===q)n.parentNode&&(n.outerHTML=h.outerHTML),f.support.html5Clone&&h.innerHTML&&!f.trim(n.innerHTML)&&
(n.innerHTML=h.innerHTML);else if("input"===q&&Ka.test(h.type))n.defaultChecked=n.checked=h.checked,n.value!==h.value&&(n.value=h.value);else if("option"===q)n.defaultSelected=n.selected=h.defaultSelected;else if("input"===q||"textarea"===q)n.defaultValue=h.defaultValue}}if(a)if(b)for(l=l||C(c),e=e||C(d),g=0;null!=(h=l[g]);g++)B(h,e[g]);else B(c,d);e=C(d,"script");0<e.length&&A(e,!p&&C(c,"script"));return d},buildFragment:function(c,a,b,h){for(var d,g,l,p,n,q,m=c.length,H=e(a),s=[],I=0;I<m;I++)if((g=
c[I])||0===g)if("object"===f.type(g))f.merge(s,g.nodeType?[g]:g);else if(Rb.test(g)){l=l||H.appendChild(a.createElement("div"));p=(mb.exec(g)||["",""])[1].toLowerCase();q=pa[p]||pa._default;l.innerHTML=q[1]+g.replace(lb,"<$1></$2>")+q[2];for(d=q[0];d--;)l=l.lastChild;!f.support.leadingWhitespace&&Ta.test(g)&&s.push(a.createTextNode(Ta.exec(g)[0]));if(!f.support.tbody)for(d=(g="table"!==p||nb.test(g)?"<table>"!==q[1]||nb.test(g)?0:l:l.firstChild)&&g.childNodes.length;d--;)f.nodeName(n=g.childNodes[d],
"tbody")&&!n.childNodes.length&&g.removeChild(n);f.merge(s,l.childNodes);for(l.textContent="";l.firstChild;)l.removeChild(l.firstChild);l=H.lastChild}else s.push(a.createTextNode(g));l&&H.removeChild(l);f.support.appendChecked||f.grep(C(s,"input"),G);for(I=0;g=s[I++];)if(!h||-1===f.inArray(g,h))if(c=f.contains(g.ownerDocument,g),l=C(H.appendChild(g),"script"),c&&A(l),b)for(d=0;g=l[d++];)ob.test(g.type||"")&&b.push(g);return H},cleanData:function(c,a){for(var b,e,h,d,g=0,l=f.expando,p=f.cache,n=f.support.deleteExpando,
q=f.event.special;null!=(b=c[g]);g++)if(a||f.acceptData(b))if(d=(h=b[l])&&p[h]){if(d.events)for(e in d.events)q[e]?f.event.remove(b,e):f.removeEvent(b,e,d.handle);p[h]&&(delete p[h],n?delete b[l]:typeof b.removeAttribute!==w?b.removeAttribute(l):b[l]=null,T.push(h))}}});var Ea,xa,ya,Va=/alpha\([^)]*\)/i,Vb=/opacity\s*=\s*([^)]*)/,Wb=/^(top|right|bottom|left)$/,Xb=/^(none|table(?!-c[ea]).+)/,pb=/^margin/,Db=new RegExp("^("+qa+")(.*)$","i"),Ha=new RegExp("^("+qa+")(?!px)[a-z%]+$","i"),Yb=new RegExp("^([+-])=("+
qa+")","i"),cb={BODY:"block"},Zb={position:"absolute",visibility:"hidden",display:"block"},qb={letterSpacing:0,fontWeight:400},wa=["Top","Right","Bottom","Left"],bb=["Webkit","O","Moz","ms"];f.fn.extend({css:function(c,a){return f.access(this,function(c,a,e){var h,d={},g=0;if(f.isArray(a)){h=xa(c);for(e=a.length;g<e;g++)d[a[g]]=f.css(c,a[g],!1,h);return d}return e!==b?f.style(c,a,e):f.css(c,a)},c,a,1<arguments.length)},show:function(){return D(this,!0)},hide:function(){return D(this)},toggle:function(c){var a=
"boolean"===typeof c;return this.each(function(){(a?c:E(this))?f(this).show():f(this).hide()})}});f.extend({cssHooks:{opacity:{get:function(c,a){if(a){var f=ya(c,"opacity");return""===f?"1":f}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":f.support.cssFloat?"cssFloat":"styleFloat"},style:function(c,a,e,h){if(c&&3!==c.nodeType&&8!==c.nodeType&&c.style){var d,g,l,p=f.camelCase(a),n=c.style;a=f.cssProps[p]||
(f.cssProps[p]=F(n,p));l=f.cssHooks[a]||f.cssHooks[p];if(e!==b){if(g=typeof e,"string"===g&&(d=Yb.exec(e))&&(e=(d[1]+1)*d[2]+parseFloat(f.css(c,a)),g="number"),!(null==e||"number"===g&&isNaN(e)||("number"!==g||f.cssNumber[p]||(e+="px"),f.support.clearCloneStyle||""!==e||0!==a.indexOf("background")||(n[a]="inherit"),l&&"set"in l&&(e=l.set(c,e,h))===b)))try{n[a]=e}catch(q){}}else return l&&"get"in l&&(d=l.get(c,!1,h))!==b?d:n[a]}},css:function(c,a,e,h){var d,g;g=f.camelCase(a);a=f.cssProps[g]||(f.cssProps[g]=
F(c.style,g));(g=f.cssHooks[a]||f.cssHooks[g])&&"get"in g&&(d=g.get(c,!0,e));d===b&&(d=ya(c,a,h));"normal"===d&&a in qb&&(d=qb[a]);return""===e||e?(c=parseFloat(d),!0===e||f.isNumeric(c)?c||0:d):d},swap:function(c,a,f,b){var e,h={};for(e in a)h[e]=c.style[e],c.style[e]=a[e];f=f.apply(c,b||[]);for(e in a)c.style[e]=h[e];return f}});a.getComputedStyle?(xa=function(c){return a.getComputedStyle(c,null)},ya=function(c,a,e){var h,d=(e=e||xa(c))?e.getPropertyValue(a)||e[a]:b,g=c.style;e&&(""!==d||f.contains(c.ownerDocument,
c)||(d=f.style(c,a)),Ha.test(d)&&pb.test(a)&&(c=g.width,a=g.minWidth,h=g.maxWidth,g.minWidth=g.maxWidth=g.width=d,d=e.width,g.width=c,g.minWidth=a,g.maxWidth=h));return d}):L.documentElement.currentStyle&&(xa=function(c){return c.currentStyle},ya=function(c,a,f){var e,h,d=(f=f||xa(c))?f[a]:b,g=c.style;null==d&&g&&g[a]&&(d=g[a]);if(Ha.test(d)&&!Wb.test(a)){f=g.left;if(h=(e=c.runtimeStyle)&&e.left)e.left=c.currentStyle.left;g.left="fontSize"===a?"1em":d;d=g.pixelLeft+"px";g.left=f;h&&(e.left=h)}return""===
d?"auto":d});f.each(["height","width"],function(c,a){f.cssHooks[a]={get:function(c,b,e){if(b)return 0===c.offsetWidth&&Xb.test(f.css(c,"display"))?f.swap(c,Zb,function(){return J(c,a,e)}):J(c,a,e)},set:function(c,b,e){var d=e&&xa(c);return u(c,b,e?h(c,a,e,f.support.boxSizing&&"border-box"===f.css(c,"boxSizing",!1,d),d):0)}}});f.support.opacity||(f.cssHooks.opacity={get:function(c,a){return Vb.test((a&&c.currentStyle?c.currentStyle.filter:c.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":a?"1":""},
set:function(c,a){var b=c.style,e=c.currentStyle,h=f.isNumeric(a)?"alpha(opacity="+100*a+")":"",d=e&&e.filter||b.filter||"";b.zoom=1;if((1<=a||""===a)&&""===f.trim(d.replace(Va,""))&&b.removeAttribute&&(b.removeAttribute("filter"),""===a||e&&!e.filter))return;b.filter=Va.test(d)?d.replace(Va,h):d+" "+h}});f(function(){f.support.reliableMarginRight||(f.cssHooks.marginRight={get:function(c,a){if(a)return f.swap(c,{display:"inline-block"},ya,[c,"marginRight"])}});!f.support.pixelPosition&&f.fn.position&&
f.each(["top","left"],function(c,a){f.cssHooks[a]={get:function(c,b){if(b)return b=ya(c,a),Ha.test(b)?f(c).position()[a]+"px":b}}})});f.expr&&f.expr.filters&&(f.expr.filters.hidden=function(c){return 0>=c.offsetWidth&&0>=c.offsetHeight||!f.support.reliableHiddenOffsets&&"none"===(c.style&&c.style.display||f.css(c,"display"))},f.expr.filters.visible=function(c){return!f.expr.filters.hidden(c)});f.each({margin:"",padding:"",border:"Width"},function(c,a){f.cssHooks[c+a]={expand:function(f){var b=0,e=
{};for(f="string"===typeof f?f.split(" "):[f];4>b;b++)e[c+wa[b]+a]=f[b]||f[b-2]||f[0];return e}};pb.test(c)||(f.cssHooks[c+a].set=u)});var $b=/%20/g,Eb=/\[\]$/,rb=/\r?\n/g,ac=/^(?:submit|button|image|reset|file)$/i,bc=/^(?:input|select|textarea|keygen)/i;f.fn.extend({serialize:function(){return f.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var c=f.prop(this,"elements");return c?f.makeArray(c):this}).filter(function(){var c=this.type;return this.name&&!f(this).is(":disabled")&&
bc.test(this.nodeName)&&!ac.test(c)&&(this.checked||!Ka.test(c))}).map(function(c,a){var b=f(this).val();return null==b?null:f.isArray(b)?f.map(b,function(c){return{name:a.name,value:c.replace(rb,"\r\n")}}):{name:a.name,value:b.replace(rb,"\r\n")}}).get()}});f.param=function(c,a){var e,h=[],d=function(c,a){a=f.isFunction(a)?a():null==a?"":a;h[h.length]=encodeURIComponent(c)+"="+encodeURIComponent(a)};a===b&&(a=f.ajaxSettings&&f.ajaxSettings.traditional);if(f.isArray(c)||c.jquery&&!f.isPlainObject(c))f.each(c,
function(){d(this.name,this.value)});else for(e in c)Q(e,c[e],a,d);return h.join("&").replace($b,"+")};f.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(c,a){f.fn[a]=function(c,f){return 0<arguments.length?this.on(a,null,c,f):this.trigger(a)}});f.fn.hover=function(c,a){return this.mouseenter(c).mouseleave(a||c)};var Aa,va,
Wa=f.now(),Xa=/\?/,cc=/#.*$/,sb=/([?&])_=[^&]*/,dc=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,ec=/^(?:GET|HEAD)$/,fc=/^\/\//,tb=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,ub=f.fn.load,vb={},La={},wb="*/".concat("*");try{va=da.href}catch(kc){va=L.createElement("a"),va.href="",va=va.href}Aa=tb.exec(va.toLowerCase())||[];f.fn.load=function(c,a,e){if("string"!==typeof c&&ub)return ub.apply(this,arguments);var h,d,g,l=this,p=c.indexOf(" ");0<=p&&(h=c.slice(p,c.length),c=c.slice(0,p));f.isFunction(a)?(e=a,a=b):
a&&"object"===typeof a&&(g="POST");0<l.length&&f.ajax({url:c,type:g,dataType:"html",data:a}).done(function(c){d=arguments;l.html(h?f("<div>").append(f.parseHTML(c)).find(h):c)}).complete(e&&function(c,a){l.each(e,d||[c.responseText,a,c])});return this};f.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(c,a){f.fn[a]=function(c){return this.on(a,c)}});f.each(["get","post"],function(c,a){f[a]=function(c,e,h,d){f.isFunction(e)&&(d=d||h,h=e,e=b);return f.ajax({url:c,
type:a,dataType:d,data:e,success:h})}});f.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:va,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Aa[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":wb,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},
converters:{"* text":a.String,"text html":!0,"text json":f.parseJSON,"text xml":f.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(c,a){return a?M(M(c,f.ajaxSettings),a):M(f.ajaxSettings,c)},ajaxPrefilter:P(vb),ajaxTransport:P(La),ajax:function(c,a){function e(c,a,h,d){var y,H,r,M,J=a;if(2!==N){N=2;p&&clearTimeout(p);q=b;l=d||"";v.readyState=0<c?4:0;if(h){M=m;d=v;var Q,S,P,t,W=M.contents,K=M.dataTypes,x=M.responseFields;for(t in x)t in h&&(d[x[t]]=h[t]);for(;"*"===K[0];)K.shift(),S===
b&&(S=M.mimeType||d.getResponseHeader("Content-Type"));if(S)for(t in W)if(W[t]&&W[t].test(S)){K.unshift(t);break}if(K[0]in h)P=K[0];else{for(t in h){if(!K[0]||M.converters[t+" "+K[0]]){P=t;break}Q||(Q=t)}P=P||Q}P?(P!==K[0]&&K.unshift(P),M=h[P]):M=void 0}if(200<=c&&300>c||304===c)if(m.ifModified&&((h=v.getResponseHeader("Last-Modified"))&&(f.lastModified[g]=h),(h=v.getResponseHeader("etag"))&&(f.etag[g]=h)),204===c)y=!0,J="nocontent";else if(304===c)y=!0,J="notmodified";else{a:{H=m;r=M;var A,V,J={};
Q=0;S=H.dataTypes.slice();P=S[0];H.dataFilter&&(r=H.dataFilter(r,H.dataType));if(S[1])for(V in H.converters)J[V.toLowerCase()]=H.converters[V];for(;h=S[++Q];)if("*"!==h){if("*"!==P&&P!==h){V=J[P+" "+h]||J["* "+h];if(!V)for(A in J)if(y=A.split(" "),y[1]===h&&(V=J[P+" "+y[0]]||J["* "+y[0]])){!0===V?V=J[A]:!0!==J[A]&&(h=y[0],S.splice(Q--,0,h));break}if(!0!==V)if(V&&H["throws"])r=V(r);else try{r=V(r)}catch(X){y={state:"parsererror",error:V?X:"No conversion from "+P+" to "+h};break a}}P=h}y={state:"success",
data:r}}J=y.state;H=y.data;r=y.error;y=!r}else if(r=J,c||!J)J="error",0>c&&(c=0);v.status=c;v.statusText=(a||J)+"";y?T.resolveWith(s,[H,J,v]):T.rejectWith(s,[v,J,r]);v.statusCode(O);O=b;n&&I.trigger(y?"ajaxSuccess":"ajaxError",[v,m,y?H:r]);w.fireWith(s,[v,J]);n&&(I.trigger("ajaxComplete",[v,m]),--f.active||f.event.trigger("ajaxStop"))}}"object"===typeof c&&(a=c,c=b);a=a||{};var h,d,g,l,p,n,q,H,m=f.ajaxSetup({},a),s=m.context||m,I=m.context&&(s.nodeType||s.jquery)?f(s):f.event,T=f.Deferred(),w=f.Callbacks("once memory"),
O=m.statusCode||{},r={},M={},N=0,J="canceled",v={readyState:0,getResponseHeader:function(c){var a;if(2===N){if(!H)for(H={};a=dc.exec(l);)H[a[1].toLowerCase()]=a[2];a=H[c.toLowerCase()]}return null==a?null:a},getAllResponseHeaders:function(){return 2===N?l:null},setRequestHeader:function(c,a){var f=c.toLowerCase();N||(c=M[f]=M[f]||c,r[c]=a);return this},overrideMimeType:function(c){N||(m.mimeType=c);return this},statusCode:function(c){var a;if(c)if(2>N)for(a in c)O[a]=[O[a],c[a]];else v.always(c[v.status]);
return this},abort:function(c){c=c||J;q&&q.abort(c);e(0,c);return this}};T.promise(v).complete=w.add;v.success=v.done;v.error=v.fail;m.url=((c||m.url||va)+"").replace(cc,"").replace(fc,Aa[1]+"//");m.type=a.method||a.type||m.method||m.type;m.dataTypes=f.trim(m.dataType||"*").toLowerCase().match(na)||[""];null==m.crossDomain&&(h=tb.exec(m.url.toLowerCase()),m.crossDomain=!(!h||h[1]===Aa[1]&&h[2]===Aa[2]&&(h[3]||("http:"===h[1]?80:443))==(Aa[3]||("http:"===Aa[1]?80:443))));m.data&&m.processData&&"string"!==
typeof m.data&&(m.data=f.param(m.data,m.traditional));X(vb,m,a,v);if(2===N)return v;(n=m.global)&&0===f.active++&&f.event.trigger("ajaxStart");m.type=m.type.toUpperCase();m.hasContent=!ec.test(m.type);g=m.url;m.hasContent||(m.data&&(g=m.url+=(Xa.test(g)?"&":"?")+m.data,delete m.data),!1===m.cache&&(m.url=sb.test(g)?g.replace(sb,"$1_="+Wa++):g+(Xa.test(g)?"&":"?")+"_="+Wa++));m.ifModified&&(f.lastModified[g]&&v.setRequestHeader("If-Modified-Since",f.lastModified[g]),f.etag[g]&&v.setRequestHeader("If-None-Match",
f.etag[g]));(m.data&&m.hasContent&&!1!==m.contentType||a.contentType)&&v.setRequestHeader("Content-Type",m.contentType);v.setRequestHeader("Accept",m.dataTypes[0]&&m.accepts[m.dataTypes[0]]?m.accepts[m.dataTypes[0]]+("*"!==m.dataTypes[0]?", "+wb+"; q=0.01":""):m.accepts["*"]);for(d in m.headers)v.setRequestHeader(d,m.headers[d]);if(m.beforeSend&&(!1===m.beforeSend.call(s,v,m)||2===N))return v.abort();J="abort";for(d in{success:1,error:1,complete:1})v[d](m[d]);if(q=X(La,m,a,v)){v.readyState=1;n&&I.trigger("ajaxSend",
[v,m]);m.async&&0<m.timeout&&(p=setTimeout(function(){v.abort("timeout")},m.timeout));try{N=1,q.send(r,e)}catch(Q){if(2>N)e(-1,Q);else throw Q;}}else e(-1,"No Transport");return v},getScript:function(c,a){return f.get(c,b,a,"script")},getJSON:function(c,a,b){return f.get(c,a,b,"json")}});f.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(c){f.globalEval(c);
return c}}});f.ajaxPrefilter("script",function(c){c.cache===b&&(c.cache=!1);c.crossDomain&&(c.type="GET",c.global=!1)});f.ajaxTransport("script",function(c){if(c.crossDomain){var a,e=L.head||f("head")[0]||L.documentElement;return{send:function(f,b){a=L.createElement("script");a.async=!0;c.scriptCharset&&(a.charset=c.scriptCharset);a.src=c.url;a.onload=a.onreadystatechange=function(c,f){if(f||!a.readyState||/loaded|complete/.test(a.readyState))a.onload=a.onreadystatechange=null,a.parentNode&&a.parentNode.removeChild(a),
a=null,f||b(200,"success")};e.insertBefore(a,e.firstChild)},abort:function(){if(a)a.onload(b,!0)}}}});var xb=[],Ya=/(=)\?(?=&|$)|\?\?/;f.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var c=xb.pop()||f.expando+"_"+Wa++;this[c]=!0;return c}});f.ajaxPrefilter("json jsonp",function(c,e,h){var d,g,l,p=!1!==c.jsonp&&(Ya.test(c.url)?"url":"string"===typeof c.data&&!(c.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ya.test(c.data)&&"data");if(p||"jsonp"===c.dataTypes[0])return d=c.jsonpCallback=
f.isFunction(c.jsonpCallback)?c.jsonpCallback():c.jsonpCallback,p?c[p]=c[p].replace(Ya,"$1"+d):!1!==c.jsonp&&(c.url+=(Xa.test(c.url)?"&":"?")+c.jsonp+"="+d),c.converters["script json"]=function(){l||f.error(d+" was not called");return l[0]},c.dataTypes[0]="json",g=a[d],a[d]=function(){l=arguments},h.always(function(){a[d]=g;c[d]&&(c.jsonpCallback=e.jsonpCallback,xb.push(d));l&&f.isFunction(g)&&g(l[0]);l=g=b}),"script"});var Da,Ga,gc=0,Za=a.ActiveXObject&&function(){for(var c in Da)Da[c](b,!0)};f.ajaxSettings.xhr=
a.ActiveXObject?function(){var c;if(!(c=!this.isLocal&&I()))a:{try{c=new a.ActiveXObject("Microsoft.XMLHTTP");break a}catch(f){}c=void 0}return c}:I;Ga=f.ajaxSettings.xhr();f.support.cors=!!Ga&&"withCredentials"in Ga;(Ga=f.support.ajax=!!Ga)&&f.ajaxTransport(function(c){if(!c.crossDomain||f.support.cors){var e;return{send:function(h,d){var g,l,p=c.xhr();c.username?p.open(c.type,c.url,c.async,c.username,c.password):p.open(c.type,c.url,c.async);if(c.xhrFields)for(l in c.xhrFields)p[l]=c.xhrFields[l];
c.mimeType&&p.overrideMimeType&&p.overrideMimeType(c.mimeType);c.crossDomain||h["X-Requested-With"]||(h["X-Requested-With"]="XMLHttpRequest");try{for(l in h)p.setRequestHeader(l,h[l])}catch(n){}p.send(c.hasContent&&c.data||null);e=function(a,h){var l,n,m,q;try{if(e&&(h||4===p.readyState))if(e=b,g&&(p.onreadystatechange=f.noop,Za&&delete Da[g]),h)4!==p.readyState&&p.abort();else{q={};l=p.status;n=p.getAllResponseHeaders();"string"===typeof p.responseText&&(q.text=p.responseText);try{m=p.statusText}catch(H){m=
""}l||!c.isLocal||c.crossDomain?1223===l&&(l=204):l=q.text?200:404}}catch(s){h||d(-1,s)}q&&d(l,m,q,n)};c.async?4===p.readyState?setTimeout(e):(g=++gc,Za&&(Da||(Da={},f(a).unload(Za)),Da[g]=e),p.onreadystatechange=e):e()},abort:function(){e&&e(b,!0)}}}});var Ba,Ja,hc=/^(?:toggle|show|hide)$/,ic=new RegExp("^(?:([+-])=|)("+qa+")([a-z%]*)$","i"),jc=/queueHooks$/,Ia=[function(c,a,b){var e,h,d,g,l,p,n=this,m=c.style,q={},H=[],s=c.nodeType&&E(c);b.queue||(l=f._queueHooks(c,"fx"),null==l.unqueued&&(l.unqueued=
0,p=l.empty.fire,l.empty.fire=function(){l.unqueued||p()}),l.unqueued++,n.always(function(){n.always(function(){l.unqueued--;f.queue(c,"fx").length||l.empty.fire()})}));1===c.nodeType&&("height"in a||"width"in a)&&(b.overflow=[m.overflow,m.overflowX,m.overflowY],"inline"===f.css(c,"display")&&"none"===f.css(c,"float")&&(f.support.inlineBlockNeedsLayout&&"inline"!==N(c.nodeName)?m.zoom=1:m.display="inline-block"));b.overflow&&(m.overflow="hidden",f.support.shrinkWrapBlocks||n.always(function(){m.overflow=
b.overflow[0];m.overflowX=b.overflow[1];m.overflowY=b.overflow[2]}));for(h in a)d=a[h],hc.exec(d)&&(delete a[h],e=e||"toggle"===d,d!==(s?"hide":"show")&&H.push(h));if(a=H.length)for(d=f._data(c,"fxshow")||f._data(c,"fxshow",{}),("hidden"in d)&&(s=d.hidden),e&&(d.hidden=!s),s?f(c).show():n.done(function(){f(c).hide()}),n.done(function(){var a;f._removeData(c,"fxshow");for(a in q)f.style(c,a,q[a])}),h=0;h<a;h++)e=H[h],g=n.createTween(e,s?d[e]:0),q[e]=d[e]||f.style(c,e),e in d||(d[e]=g.start,s&&(g.end=
g.start,g.start="width"===e||"height"===e?1:0))}],Fa={"*":[function(c,a){var b,e,h=this.createTween(c,a),d=ic.exec(a),g=h.cur(),l=+g||0,p=1,n=20;if(d){b=+d[2];e=d[3]||(f.cssNumber[c]?"":"px");if("px"!==e&&l){l=f.css(h.elem,c,!0)||b||1;do p=p||".5",l/=p,f.style(h.elem,c,l+e);while(p!==(p=h.cur()/g)&&1!==p&&--n)}h.unit=e;h.start=l;h.end=d[1]?l+(d[1]+1)*b:b}return h}]};f.Animation=f.extend(ca,{tweener:function(c,a){f.isFunction(c)?(a=c,c=["*"]):c=c.split(" ");for(var b,e=0,h=c.length;e<h;e++)b=c[e],
Fa[b]=Fa[b]||[],Fa[b].unshift(a)},prefilter:function(c,a){a?Ia.unshift(c):Ia.push(c)}});f.Tween=R;R.prototype={constructor:R,init:function(c,a,b,e,h,d){this.elem=c;this.prop=b;this.easing=h||"swing";this.options=a;this.start=this.now=this.cur();this.end=e;this.unit=d||(f.cssNumber[b]?"":"px")},cur:function(){var c=R.propHooks[this.prop];return c&&c.get?c.get(this):R.propHooks._default.get(this)},run:function(c){var a,b=R.propHooks[this.prop];this.pos=this.options.duration?a=f.easing[this.easing](c,
this.options.duration*c,0,1,this.options.duration):a=c;this.now=(this.end-this.start)*a+this.start;this.options.step&&this.options.step.call(this.elem,this.now,this);b&&b.set?b.set(this):R.propHooks._default.set(this);return this}};R.prototype.init.prototype=R.prototype;R.propHooks={_default:{get:function(c){return null==c.elem[c.prop]||c.elem.style&&null!=c.elem.style[c.prop]?(c=f.css(c.elem,c.prop,""))&&"auto"!==c?c:0:c.elem[c.prop]},set:function(c){if(f.fx.step[c.prop])f.fx.step[c.prop](c);else c.elem.style&&
(null!=c.elem.style[f.cssProps[c.prop]]||f.cssHooks[c.prop])?f.style(c.elem,c.prop,c.now+c.unit):c.elem[c.prop]=c.now}}};R.propHooks.scrollTop=R.propHooks.scrollLeft={set:function(c){c.elem.nodeType&&c.elem.parentNode&&(c.elem[c.prop]=c.now)}};f.each(["toggle","show","hide"],function(c,a){var b=f.fn[a];f.fn[a]=function(c,f,e){return null==c||"boolean"===typeof c?b.apply(this,arguments):this.animate(ja(a,!0),c,f,e)}});f.fn.extend({fadeTo:function(c,a,f,b){return this.filter(E).css("opacity",0).show().end().animate({opacity:a},
c,f,b)},animate:function(c,a,b,e){var h=f.isEmptyObject(c),d=f.speed(a,b,e),g=function(){var a=ca(this,f.extend({},c),d);g.finish=function(){a.stop(!0)};(h||f._data(this,"finish"))&&a.stop(!0)};g.finish=g;return h||!1===d.queue?this.each(g):this.queue(d.queue,g)},stop:function(c,a,e){var h=function(c){var a=c.stop;delete c.stop;a(e)};"string"!==typeof c&&(e=a,a=c,c=b);a&&!1!==c&&this.queue(c||"fx",[]);return this.each(function(){var a=!0,b=null!=c&&c+"queueHooks",d=f.timers,g=f._data(this);if(b)g[b]&&
g[b].stop&&h(g[b]);else for(b in g)g[b]&&g[b].stop&&jc.test(b)&&h(g[b]);for(b=d.length;b--;)d[b].elem!==this||null!=c&&d[b].queue!==c||(d[b].anim.stop(e),a=!1,d.splice(b,1));!a&&e||f.dequeue(this,c)})},finish:function(c){!1!==c&&(c=c||"fx");return this.each(function(){var a,b=f._data(this),e=b[c+"queue"];a=b[c+"queueHooks"];var h=f.timers,d=e?e.length:0;b.finish=!0;f.queue(this,c,[]);a&&a.cur&&a.cur.finish&&a.cur.finish.call(this);for(a=h.length;a--;)h[a].elem===this&&h[a].queue===c&&(h[a].anim.stop(!0),
h.splice(a,1));for(a=0;a<d;a++)e[a]&&e[a].finish&&e[a].finish.call(this);delete b.finish})}});f.each({slideDown:ja("show"),slideUp:ja("hide"),slideToggle:ja("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){f.fn[a]=function(a,c,f){return this.animate(b,a,c,f)}});f.speed=function(a,b,e){var h=a&&"object"===typeof a?f.extend({},a):{complete:e||!e&&b||f.isFunction(a)&&a,duration:a,easing:e&&b||b&&!f.isFunction(b)&&b};h.duration=f.fx.off?0:"number"===
typeof h.duration?h.duration:h.duration in f.fx.speeds?f.fx.speeds[h.duration]:f.fx.speeds._default;if(null==h.queue||!0===h.queue)h.queue="fx";h.old=h.complete;h.complete=function(){f.isFunction(h.old)&&h.old.call(this);h.queue&&f.dequeue(this,h.queue)};return h};f.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2}};f.timers=[];f.fx=R.prototype.init;f.fx.tick=function(){var a,e=f.timers,h=0;for(Ba=f.now();h<e.length;h++)a=e[h],a()||e[h]!==a||e.splice(h--,1);e.length||
f.fx.stop();Ba=b};f.fx.timer=function(a){a()&&f.timers.push(a)&&f.fx.start()};f.fx.interval=13;f.fx.start=function(){Ja||(Ja=setInterval(f.fx.tick,f.fx.interval))};f.fx.stop=function(){clearInterval(Ja);Ja=null};f.fx.speeds={slow:600,fast:200,_default:400};f.fx.step={};f.expr&&f.expr.filters&&(f.expr.filters.animated=function(a){return f.grep(f.timers,function(f){return a===f.elem}).length});f.fn.offset=function(a){if(arguments.length)return a===b?this:this.each(function(b){f.offset.setOffset(this,
a,b)});var e,h,d={top:0,left:0},g=(h=this[0])&&h.ownerDocument;if(g){e=g.documentElement;if(!f.contains(e,h))return d;typeof h.getBoundingClientRect!==w&&(d=h.getBoundingClientRect());h=la(g);return{top:d.top+(h.pageYOffset||e.scrollTop)-(e.clientTop||0),left:d.left+(h.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}}};f.offset={setOffset:function(a,b,e){var h=f.css(a,"position");"static"===h&&(a.style.position="relative");var d=f(a),g=d.offset(),l=f.css(a,"top"),p=f.css(a,"left"),n={},m={};("absolute"===
h||"fixed"===h)&&-1<f.inArray("auto",[l,p])?(m=d.position(),h=m.top,p=m.left):(h=parseFloat(l)||0,p=parseFloat(p)||0);f.isFunction(b)&&(b=b.call(a,e,g));null!=b.top&&(n.top=b.top-g.top+h);null!=b.left&&(n.left=b.left-g.left+p);"using"in b?b.using.call(a,n):d.css(n)}};f.fn.extend({position:function(){if(this[0]){var a,b,e={top:0,left:0},h=this[0];"fixed"===f.css(h,"position")?b=h.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),f.nodeName(a[0],"html")||(e=a.offset()),e.top+=f.css(a[0],
"borderTopWidth",!0),e.left+=f.css(a[0],"borderLeftWidth",!0));return{top:b.top-e.top-f.css(h,"marginTop",!0),left:b.left-e.left-f.css(h,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||L.documentElement;a&&!f.nodeName(a,"html")&&"static"===f.css(a,"position");)a=a.offsetParent;return a||L.documentElement})}});f.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,e){var h=/Y/.test(e);f.fn[a]=function(d){return f.access(this,function(a,
c,d){var g=la(a);if(d===b)return g?e in g?g[e]:g.document.documentElement[c]:a[c];g?g.scrollTo(h?f(g).scrollLeft():d,h?d:f(g).scrollTop()):a[c]=d},a,d,arguments.length,null)}});f.each({Height:"height",Width:"width"},function(a,e){f.each({padding:"inner"+a,content:e,"":"outer"+a},function(h,d){f.fn[d]=function(d,g){var l=arguments.length&&(h||"boolean"!==typeof d),p=h||(!0===d||!0===g?"margin":"border");return f.access(this,function(e,h,d){return f.isWindow(e)?e.document.documentElement["client"+a]:
9===e.nodeType?(h=e.documentElement,Math.max(e.body["scroll"+a],h["scroll"+a],e.body["offset"+a],h["offset"+a],h["client"+a])):d===b?f.css(e,h,p):f.style(e,h,d,p)},e,l?d:b,l,null)}})});a.jQuery=a.$=f;"function"===typeof define&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return f})})(window);var WebMol={createViewer:function(a,b){"string"===$.type(a)&&(a=$("#"+a));if(a){b=b||{};b.order||(b.order=["glmol","jmol"]);b.defaultcolors||(b.defaultcolors=WebMol.defaultElementColors);for(var d=0;d<b.order.length;d++){var q=b.order[d],g=q+"Viewer";if("function"===typeof this[g])try{return new this[g](a,b.callback,b.defaultcolors)}catch(r){console.log("error with "+q+":"+r)}}alert("Unable to instantiate webmol viewer: "+b.order);return null}},download:function(a,b){var d="";if("pdb:"===a.substr(0,
4)){d="pdb";a=a.substr(4).toUpperCase();if(!a.match(/^[1-9][A-Za-z0-9]{3}$/)){alert("Wrong PDB ID");return}uri="http://www.pdb.org/pdb/files/"+a+".pdb"}else if("cid:"==a.substr(0,4)){d="sdf";a=a.substr(4);if(!a.match(/^[1-9]+$/)){alert("Wrong Compound ID");return}uri="http://pubchem.ncbi.nlm.nih.gov/rest/pug/compound/cid/"+a+"/SDF?record_type=3d"}$.get(uri,function(a){b.addModel(a,d);b.zoomTo();b.render()});return null},SurfaceType:{VDW:1,MS:2,SAS:3,SES:4},CC:{cache:{},color:function(a){if("undefined"!==
typeof this.cache[a])return this.cache[a];var b=new WebMol.Color(a);return this.cache[a]=b}},Color:function(a){return 1<arguments.length?(this.r=arguments[0]||0,this.g=arguments[1]||0,this.b=arguments[2]||0,this):this.set(a)}};
WebMol.Color.prototype={constructor:WebMol.Color,r:0,g:0,b:0,set:function(a){if(a instanceof WebMol.Color)return a.clone();"number"===typeof a&&this.setHex(a)},setHex:function(a){a=Math.floor(a);this.r=(a>>16&255)/255;this.g=(a>>8&255)/255;this.b=(a&255)/255;return this},clone:function(){return new WebMol.Color(this.r,this.g,this.b)},copy:function(a){this.r=a.r;this.g=a.g;this.b=a.b;return this}};WebMol.mergeGeos=function(a,b){var d=b.geometry;void 0!==d&&a.geometryGroups.push(d.geometryGroups[0])};
WebMol.multiLineString=function(a){return a.toString().replace(/^[^\/]+\/\*!?/,"").replace(/\*\/[^\/]+$/,"")};WebMol.syncSurface=!1;WebMol.FrontSide=0;WebMol.BackSide=1;WebMol.DoubleSide=2;WebMol.NoBlending=0;WebMol.NormalBlending=1;WebMol.AdditiveBlending=2;WebMol.SubtractiveBlending=3;WebMol.MultiplyBlending=4;WebMol.CustomBlending=5;WebMol.NoShading=0;WebMol.FlatShading=1;WebMol.SmoothShading=2;WebMol.NoColors=0;WebMol.FaceColors=1;WebMol.VertexColors=2;WebMol.MultiplyOperation=0;
WebMol.MixOperation=1;WebMol.AddOperation=2;WebMol.UVMapping=function(){};WebMol.ClampToEdgeWrapping=1001;WebMol.LinearFilter=1006;WebMol.LinearMipMapLinearFilter=1008;WebMol.UnsignedByteType=1009;WebMol.RGBAFormat=1021;WebMol=WebMol||{};
WebMol.MarchingCube=function(){var a={march:function(a,s,t,n){var l=!!n.fulltable,x=n.hasOwnProperty("origin")&&n.origin.hasOwnProperty("x")?n.origin:{x:0,y:0,z:0},p=!!n.voxel,e=n.nX||0,m=n.nY||0,v=n.nZ||0;n=n.scale||1;var z=(new WebMol.Vector3(1,1,1)).multiplyScalar(n),A=new Int32Array(e*m*v),B;n=0;for(B=A.length;n<B;++n)A[n]=-1;B=function(a,b,e,h,d,g){var l=new WebMol.Vector3;l.copy(x);var n=d;h&1<<d||!(h&1<<g)||(n=g);n&1&&e++;n&2&&b++;n&4&&a++;l.x+=z.x*a;l.y+=z.y*b;l.z+=z.z*e;a=(m*a+b)*v+e;if(p)return s.push(l),
s.length-1;0>A[a]&&(A[a]=s.length,s.push(l));return A[a]};var C=new Int32Array(12),G=l?q:b,l=l?g:d;for(n=0;n<e-1;++n)for(var F=0;F<m-1;++F)for(var E=0;E<v-1;++E){for(var D=0,u=0;8>u;++u)D|=!!(a[(m*(n+((u&4)>>2))+F+((u&2)>>1))*v+E+(u&1)]&2)<<u;if(0!==D&&255!==D){var h=G[D];if(0!==h)for(u=l[D],h&1&&(C[0]=B(n,F,E,D,0,1)),h&2&&(C[1]=B(n,F,E,D,1,3)),h&4&&(C[2]=B(n,F,E,D,3,2)),h&8&&(C[3]=B(n,F,E,D,2,0)),h&16&&(C[4]=B(n,F,E,D,4,5)),h&32&&(C[5]=B(n,F,E,D,5,7)),h&64&&(C[6]=B(n,F,E,D,7,6)),h&128&&(C[7]=B(n,
F,E,D,6,4)),h&256&&(C[8]=B(n,F,E,D,0,4)),h&512&&(C[9]=B(n,F,E,D,1,5)),h&1024&&(C[10]=B(n,F,E,D,3,7)),h&2048&&(C[11]=B(n,F,E,D,2,6)),D=0;D<u.length;D+=3){var h=C[u[D]],J=C[u[D+1]],N=C[u[D+2]];p&&3<=D&&(s.push(s[h]),h=s.length-1,s.push(s[J]),J=s.length-1,s.push(s[N]),N=s.length-1);t.push(h);t.push(J);t.push(N)}}}},laplacianSmooth:function(a,b,d){var g=Array(b.length),l,q,p,e;l=0;for(q=b.length;l<q;l++)g[l]={x:0,y:0,z:0};var m=Array(20),v;for(l=0;20>l;l++)m[l]=Array(b.length);l=0;for(q=b.length;l<q;l++)m[0][l]=
0;l=0;for(q=d.length/3;l<q;l++){var z=3*l,A=3*l+1,B=3*l+2;v=!0;p=0;for(e=m[0][d[z]];p<e;p++)if(d[A]==m[p+1][d[z]]){v=!1;break}v&&(m[0][d[z]]++,m[m[0][d[z]]][d[z]]=d[A]);v=!0;p=0;for(e=m[0][d[z]];p<e;p++)if(d[B]==m[p+1][d[z]]){v=!1;break}v&&(m[0][d[z]]++,m[m[0][d[z]]][d[z]]=d[B]);v=!0;p=0;for(e=m[0][d[A]];p<e;p++)if(d[z]==m[p+1][d[A]]){v=!1;break}v&&(m[0][d[A]]++,m[m[0][d[A]]][d[A]]=d[z]);v=!0;p=0;for(e=m[0][d[A]];p<e;p++)if(d[B]==m[p+1][d[A]]){v=!1;break}v&&(m[0][d[A]]++,m[m[0][d[A]]][d[A]]=d[B]);
v=!0;for(p=0;p<m[0][d[B]];p++)if(d[z]==m[p+1][d[B]]){v=!1;break}v&&(m[0][d[B]]++,m[m[0][d[B]]][d[B]]=d[z]);v=!0;p=0;for(e=m[0][d[B]];p<e;p++)if(d[A]==m[p+1][d[B]]){v=!1;break}v&&(m[0][d[B]]++,m[m[0][d[B]]][d[B]]=d[A])}for(d=0;d<a;d++){l=0;for(q=b.length;l<q;l++)if(3>m[0][l])g[l].x=b[l].x,g[l].y=b[l].y,g[l].z=b[l].z;else if(3==m[0][l]||4==m[0][l]){g[l].x=0;g[l].y=0;p=g[l].z=0;for(e=m[0][l];p<e;p++)g[l].x+=b[m[p+1][l]].x,g[l].y+=b[m[p+1][l]].y,g[l].z+=b[m[p+1][l]].z;g[l].x+=.5*b[l].x;g[l].y+=.5*b[l].y;
g[l].z+=.5*b[l].z;g[l].x/=.5+m[0][l];g[l].y/=.5+m[0][l];g[l].z/=.5+m[0][l]}else{g[l].x=0;g[l].y=0;p=g[l].z=0;for(e=m[0][l];p<e;p++)g[l].x+=b[m[p+1][l]].x,g[l].y+=b[m[p+1][l]].y,g[l].z+=b[m[p+1][l]].z;g[l].x+=1*b[l].x;g[l].y+=1*b[l].y;g[l].z+=1*b[l].z;g[l].x/=1+m[0][l];g[l].y/=1+m[0][l];g[l].z/=1+m[0][l]}l=0;for(q=b.length;l<q;l++)b[l].x=g[l].x,b[l].y=g[l].y,b[l].z=g[l].z}},edgeTable:[0,0,0,0,0,0,0,2816,0,0,0,1792,0,3328,3584,3840,0,0,0,138,0,21,0,134,0,0,0,652,0,2067,3865,3600,0,0,0,42,0,0,0,294,
0,0,21,28,0,3875,1049,3360,0,168,162,170,0,645,2475,2210,0,687,293,172,4010,3747,3497,3232,0,0,0,0,0,69,0,900,0,0,0,1792,138,131,1608,1920,0,81,0,2074,84,85,84,86,0,81,0,3676,330,1105,1881,1616,0,0,0,42,0,69,0,502,0,0,21,3580,138,2035,1273,1520,2816,104,2337,106,840,581,367,102,2816,3695,3429,3180,1898,1635,1385,1120,0,0,0,0,0,0,0,3910,0,0,69,588,42,2083,41,2880,0,0,0,1722,0,2293,4095,3830,0,255,757,764,2538,2291,3065,2800,0,0,81,338,0,3925,1119,3414,84,855,85,340,2130,2899,89,2384,1792,712,194,1162,
4036,3781,3535,3270,708,719,197,204,3018,2755,2505,2240,0,0,0,0,168,420,168,1958,162,162,676,2988,170,163,680,928,3328,3096,3328,3642,52,53,1855,1590,2340,2111,2869,2620,298,51,825,560,3584,3584,3090,3482,1668,1941,1183,1430,146,2975,2069,2460,154,915,153,400,3840,3592,3329,3082,1796,1541,1295,1030,2818,2575,2309,2060,778,515,265,0]},b=new Uint32Array(a.edgeTable),d=a.triTable=[[],[],[],[],[],[],[],[11,9,8],[],[],[],[8,10,9],[],[10,8,11],[9,11,10],[8,10,9,8,11,10],[],[],[],[1,7,3],[],[4,2,0],[],[2,
1,7],[],[],[],[2,7,3,2,9,7],[],[1,4,11,1,0,4],[3,8,0,11,9,4,11,10,9],[4,11,9,11,10,9],[],[],[],[5,3,1],[],[],[],[2,5,8,2,1,5],[],[],[2,4,0],[3,2,4],[],[0,9,1,8,10,5,8,11,10],[3,4,0,3,10,4],[5,8,10,8,11,10],[],[3,5,7],[7,1,5],[1,7,3,1,5,7],[],[9,2,0,9,7,2],[0,3,8,1,7,11,1,5,7],[11,1,7,1,5,7],[],[9,1,0,5,3,2,5,7,3],[8,2,5,8,0,2],[2,5,3,5,7,3],[3,9,1,3,8,9,7,11,10,7,10,5],[9,1,0,10,7,11,10,5,7],[3,8,0,7,10,5,7,11,10],[11,5,7,11,10,5],[],[],[],[],[],[0,6,2],[],[7,2,9,7,9,8],[],[],[],[8,10,9],[7,1,3],
[7,1,0],[6,9,3,6,10,9],[7,10,8,10,9,8],[],[6,0,4],[],[11,1,4,11,3,1],[2,4,6],[2,0,4,2,4,6],[2,4,6],[1,4,2,4,6,2],[],[6,0,4],[],[2,11,3,6,9,4,6,10,9],[8,6,1,8,1,3],[10,0,6,0,4,6],[8,0,3,9,6,10,9,4,6],[10,4,6,10,9,4],[],[],[],[5,3,1],[],[0,6,2],[],[7,4,8,5,2,1,5,6,2],[],[],[2,4,0],[7,4,8,2,11,3,10,5,6],[7,1,3],[5,6,10,0,9,1,8,7,4],[5,6,10,7,0,3,7,4,0],[10,5,6,4,8,7],[9,11,8],[3,5,6],[0,5,11,0,11,8],[6,3,5,3,1,5],[3,9,6,3,8,9],[9,6,0,6,2,0],[0,3,8,2,5,6,2,1,5],[1,6,2,1,5,6],[9,11,8],[1,0,9,6,10,5,11,
3,2],[6,10,5,2,8,0,2,11,8],[3,2,11,10,5,6],[10,5,6,9,3,8,9,1,3],[0,9,1,5,6,10],[8,0,3,10,5,6],[10,5,6],[],[],[],[],[],[],[],[1,10,2,9,11,6,9,8,11],[],[],[6,0,2],[3,6,9,3,2,6],[3,5,1],[0,5,1,0,11,5],[0,3,5],[6,9,11,9,8,11],[],[],[],[4,5,9,7,1,10,7,3,1],[],[11,6,7,2,4,5,2,0,4],[11,6,7,8,0,3,1,10,2,9,4,5],[6,7,11,1,10,2,9,4,5],[],[4,1,0,4,5,1,6,7,3,6,3,2],[9,4,5,0,6,7,0,2,6],[4,5,9,6,3,2,6,7,3],[6,7,11,5,3,8,5,1,3],[6,7,11,4,1,0,4,5,1],[4,5,9,3,8,0,11,6,7],[9,4,5,7,11,6],[],[],[0,6,4],[8,6,4,8,1,6],
[],[0,10,2,0,9,10,4,8,11,4,11,6],[10,2,1,6,0,3,6,4,0],[10,2,1,11,4,8,11,6,4],[4,2,6],[1,0,9,2,4,8,2,6,4],[2,4,0,2,6,4],[8,2,4,2,6,4],[11,4,1,11,6,4],[0,9,1,4,11,6,4,8,11],[3,6,0,6,4,0],[8,6,4,8,11,6],[10,8,9],[6,3,9,6,7,3],[6,7,1],[10,7,1,7,3,1],[7,11,6,8,10,2,8,9,10],[11,6,7,10,0,9,10,2,0],[2,1,10,7,11,6,8,0,3],[1,10,2,6,7,11],[7,2,6,7,9,2],[1,0,9,3,6,7,3,2,6],[7,0,6,0,2,6],[2,7,3,2,6,7],[7,11,6,3,9,1,3,8,9],[9,1,0,11,6,7],[0,3,8,11,6,7],[11,6,7],[],[],[],[],[5,3,7],[8,5,2,8,7,5],[5,3,7],[1,10,2,
5,8,7,5,9,8],[1,7,5],[1,7,5],[9,2,7,9,7,5],[11,3,2,8,5,9,8,7,5],[1,3,7,1,7,5],[0,7,1,7,5,1],[9,3,5,3,7,5],[9,7,5,9,8,7],[8,10,11],[3,4,10,3,10,11],[8,10,11],[5,9,4,1,11,3,1,10,11],[2,4,5],[5,2,4,2,0,4],[0,3,8,5,9,4,10,2,1],[2,1,10,9,4,5],[2,8,5,2,11,8],[3,2,11,1,4,5,1,0,4],[9,4,5,8,2,11,8,0,2],[11,3,2,9,4,5],[8,5,3,5,1,3],[5,0,4,5,1,0],[3,8,0,4,5,9],[9,4,5],[11,9,10],[11,9,10],[1,11,4,1,10,11],[8,7,4,11,1,10,11,3,1],[2,7,9,2,9,10],[4,8,7,0,10,2,0,9,10],[2,1,10,0,7,4,0,3,7],[10,2,1,8,7,4],[1,7,4],
[3,2,11,4,8,7,9,1,0],[11,4,2,4,0,2],[2,11,3,7,4,8],[4,1,7,1,3,7],[1,0,9,8,7,4],[3,4,0,3,7,4],[8,7,4],[8,9,10,8,10,11],[3,9,11,9,10,11],[0,10,8,10,11,8],[10,3,1,10,11,3],[2,8,10,8,9,10],[9,2,0,9,10,2],[8,0,3,1,10,2],[10,2,1],[1,11,9,11,8,9],[11,3,2,0,9,1],[11,0,2,11,8,0],[11,3,2],[8,1,3,8,9,1],[9,1,0],[8,0,3],[]],q=[0,265,515,778,2060,2309,2575,2822,1030,1295,1541,1804,3082,3331,3593,3840,400,153,915,666,2460,2197,2975,2710,1430,1183,1941,1692,3482,3219,3993,3728,560,825,51,314,2620,2869,2111,2358,
1590,1855,1077,1340,3642,3891,3129,3376,928,681,419,170,2988,2725,2479,2214,1958,1711,1445,1196,4010,3747,3497,3232,2240,2505,2755,3018,204,453,719,966,3270,3535,3781,4044,1226,1475,1737,1984,2384,2137,2899,2650,348,85,863,598,3414,3167,3925,3676,1370,1107,1881,1616,2800,3065,2291,2554,764,1013,255,502,3830,4095,3317,3580,1786,2035,1273,1520,2912,2665,2403,2154,876,613,367,102,3942,3695,3429,3180,1898,1635,1385,1120,1120,1385,1635,1898,3180,3429,3695,3942,102,367,613,876,2154,2403,2665,2912,1520,
1273,2035,1786,3580,3317,4095,3830,502,255,1013,764,2554,2291,3065,2800,1616,1881,1107,1370,3676,3925,3167,3414,598,863,85,348,2650,2899,2137,2384,1984,1737,1475,1226,4044,3781,3535,3270,966,719,453,204,3018,2755,2505,2240,3232,3497,3747,4010,1196,1445,1711,1958,2214,2479,2725,2988,170,419,681,928,3376,3129,3891,3642,1340,1077,1855,1590,2358,2111,2869,2620,314,51,825,560,3728,3993,3219,3482,1692,1941,1183,1430,2710,2975,2197,2460,666,915,153,400,3840,3593,3331,3082,1804,1541,1295,1030,2822,2575,2309,
2060,778,515,265,0],g=[[],[8,3,0],[9,0,1],[8,3,1,8,1,9],[11,2,3],[11,2,0,11,0,8],[11,2,3,0,1,9],[2,1,11,1,9,11,11,9,8],[10,1,2],[8,3,0,1,2,10],[9,0,2,9,2,10],[3,2,8,2,10,8,8,10,9],[10,1,3,10,3,11],[1,0,10,0,8,10,10,8,11],[0,3,9,3,11,9,9,11,10],[8,10,9,8,11,10],[8,4,7],[3,0,4,3,4,7],[1,9,0,8,4,7],[9,4,1,4,7,1,1,7,3],[2,3,11,7,8,4],[7,11,4,11,2,4,4,2,0],[3,11,2,4,7,8,9,0,1],[2,7,11,2,1,7,1,4,7,1,9,4],[10,1,2,8,4,7],[2,10,1,0,4,7,0,7,3],[4,7,8,0,2,10,0,10,9],[2,7,3,2,9,7,7,9,4,2,10,9],[8,4,7,11,10,1,
11,1,3],[11,4,7,1,4,11,1,11,10,1,0,4],[3,8,0,7,11,4,11,9,4,11,10,9],[7,11,4,4,11,9,11,10,9],[9,5,4],[3,0,8,4,9,5],[5,4,0,5,0,1],[4,8,5,8,3,5,5,3,1],[11,2,3,9,5,4],[9,5,4,8,11,2,8,2,0],[3,11,2,1,5,4,1,4,0],[8,5,4,2,5,8,2,8,11,2,1,5],[2,10,1,9,5,4],[0,8,3,5,4,9,10,1,2],[10,5,2,5,4,2,2,4,0],[3,4,8,3,2,4,2,5,4,2,10,5],[5,4,9,1,3,11,1,11,10],[0,9,1,4,8,5,8,10,5,8,11,10],[3,4,0,3,10,4,4,10,5,3,11,10],[4,8,5,5,8,10,8,11,10],[9,5,7,9,7,8],[0,9,3,9,5,3,3,5,7],[8,0,7,0,1,7,7,1,5],[1,7,3,1,5,7],[11,2,3,8,9,
5,8,5,7],[9,2,0,9,7,2,2,7,11,9,5,7],[0,3,8,2,1,11,1,7,11,1,5,7],[2,1,11,11,1,7,1,5,7],[1,2,10,5,7,8,5,8,9],[9,1,0,10,5,2,5,3,2,5,7,3],[5,2,10,8,2,5,8,5,7,8,0,2],[10,5,2,2,5,3,5,7,3],[3,9,1,3,8,9,7,11,10,7,10,5],[9,1,0,10,7,11,10,5,7],[3,8,0,7,10,5,7,11,10],[11,5,7,11,10,5],[11,7,6],[0,8,3,11,7,6],[9,0,1,11,7,6],[7,6,11,3,1,9,3,9,8],[2,3,7,2,7,6],[8,7,0,7,6,0,0,6,2],[1,9,0,3,7,6,3,6,2],[7,6,2,7,2,9,2,1,9,7,9,8],[1,2,10,6,11,7],[2,10,1,7,6,11,8,3,0],[11,7,6,10,9,0,10,0,2],[7,6,11,3,2,8,8,2,10,8,10,
9],[6,10,7,10,1,7,7,1,3],[6,10,1,6,1,7,7,1,0,7,0,8],[9,0,3,6,9,3,6,10,9,6,3,7],[6,10,7,7,10,8,10,9,8],[8,4,6,8,6,11],[11,3,6,3,0,6,6,0,4],[0,1,9,4,6,11,4,11,8],[1,9,4,11,1,4,11,3,1,11,4,6],[3,8,2,8,4,2,2,4,6],[2,0,4,2,4,6],[1,9,0,3,8,2,2,8,4,2,4,6],[9,4,1,1,4,2,4,6,2],[10,1,2,11,8,4,11,4,6],[10,1,2,11,3,6,6,3,0,6,0,4],[0,2,10,0,10,9,4,11,8,4,6,11],[2,11,3,6,9,4,6,10,9],[8,4,6,8,6,1,6,10,1,8,1,3],[1,0,10,10,0,6,0,4,6],[8,0,3,9,6,10,9,4,6],[10,4,6,10,9,4],[9,5,4,7,6,11],[4,9,5,3,0,8,11,7,6],[6,11,7,
4,0,1,4,1,5],[6,11,7,4,8,5,5,8,3,5,3,1],[4,9,5,6,2,3,6,3,7],[9,5,4,8,7,0,0,7,6,0,6,2],[4,0,1,4,1,5,6,3,7,6,2,3],[7,4,8,5,2,1,5,6,2],[6,11,7,1,2,10,9,5,4],[11,7,6,8,3,0,1,2,10,9,5,4],[11,7,6,10,5,2,2,5,4,2,4,0],[7,4,8,2,11,3,10,5,6],[4,9,5,6,10,7,7,10,1,7,1,3],[5,6,10,0,9,1,8,7,4],[5,6,10,7,0,3,7,4,0],[10,5,6,4,8,7],[5,6,9,6,11,9,9,11,8],[0,9,5,0,5,3,3,5,6,3,6,11],[0,1,5,0,5,11,5,6,11,0,11,8],[11,3,6,6,3,5,3,1,5],[9,5,6,3,9,6,3,8,9,3,6,2],[5,6,9,9,6,0,6,2,0],[0,3,8,2,5,6,2,1,5],[1,6,2,1,5,6],[1,2,
10,5,6,9,9,6,11,9,11,8],[1,0,9,6,10,5,11,3,2],[6,10,5,2,8,0,2,11,8],[3,2,11,10,5,6],[10,5,6,9,3,8,9,1,3],[0,9,1,5,6,10],[8,0,3,10,5,6],[10,5,6],[10,6,5],[8,3,0,10,6,5],[0,1,9,5,10,6],[10,6,5,9,8,3,9,3,1],[3,11,2,10,6,5],[6,5,10,2,0,8,2,8,11],[1,9,0,6,5,10,11,2,3],[1,10,2,5,9,6,9,11,6,9,8,11],[1,2,6,1,6,5],[0,8,3,2,6,5,2,5,1],[5,9,6,9,0,6,6,0,2],[9,6,5,3,6,9,3,9,8,3,2,6],[11,6,3,6,5,3,3,5,1],[0,5,1,0,11,5,5,11,6,0,8,11],[0,5,9,0,3,5,3,6,5,3,11,6],[5,9,6,6,9,11,9,8,11],[10,6,5,4,7,8],[5,10,6,7,3,0,
7,0,4],[5,10,6,0,1,9,8,4,7],[4,5,9,6,7,10,7,1,10,7,3,1],[7,8,4,2,3,11,10,6,5],[11,6,7,10,2,5,2,4,5,2,0,4],[11,6,7,8,0,3,1,10,2,9,4,5],[6,7,11,1,10,2,9,4,5],[7,8,4,5,1,2,5,2,6],[4,1,0,4,5,1,6,7,3,6,3,2],[9,4,5,8,0,7,0,6,7,0,2,6],[4,5,9,6,3,2,6,7,3],[6,7,11,4,5,8,5,3,8,5,1,3],[6,7,11,4,1,0,4,5,1],[4,5,9,3,8,0,11,6,7],[9,4,5,7,11,6],[10,6,4,10,4,9],[8,3,0,9,10,6,9,6,4],[1,10,0,10,6,0,0,6,4],[8,6,4,8,1,6,6,1,10,8,3,1],[2,3,11,6,4,9,6,9,10],[0,10,2,0,9,10,4,8,11,4,11,6],[10,2,1,11,6,3,6,0,3,6,4,0],[10,
2,1,11,4,8,11,6,4],[9,1,4,1,2,4,4,2,6],[1,0,9,3,2,8,2,4,8,2,6,4],[2,4,0,2,6,4],[3,2,8,8,2,4,2,6,4],[1,4,9,11,4,1,11,1,3,11,6,4],[0,9,1,4,11,6,4,8,11],[11,6,3,3,6,0,6,4,0],[8,6,4,8,11,6],[6,7,10,7,8,10,10,8,9],[9,3,0,6,3,9,6,9,10,6,7,3],[6,1,10,6,7,1,7,0,1,7,8,0],[6,7,10,10,7,1,7,3,1],[7,11,6,3,8,2,8,10,2,8,9,10],[11,6,7,10,0,9,10,2,0],[2,1,10,7,11,6,8,0,3],[1,10,2,6,7,11],[7,2,6,7,9,2,2,9,1,7,8,9],[1,0,9,3,6,7,3,2,6],[8,0,7,7,0,6,0,2,6],[2,7,3,2,6,7],[7,11,6,3,9,1,3,8,9],[9,1,0,11,6,7],[0,3,8,11,
6,7],[11,6,7],[11,7,5,11,5,10],[3,0,8,7,5,10,7,10,11],[9,0,1,10,11,7,10,7,5],[3,1,9,3,9,8,7,10,11,7,5,10],[10,2,5,2,3,5,5,3,7],[5,10,2,8,5,2,8,7,5,8,2,0],[9,0,1,10,2,5,5,2,3,5,3,7],[1,10,2,5,8,7,5,9,8],[2,11,1,11,7,1,1,7,5],[0,8,3,2,11,1,1,11,7,1,7,5],[9,0,2,9,2,7,2,11,7,9,7,5],[11,3,2,8,5,9,8,7,5],[1,3,7,1,7,5],[8,7,0,0,7,1,7,5,1],[0,3,9,9,3,5,3,7,5],[9,7,5,9,8,7],[4,5,8,5,10,8,8,10,11],[3,0,4,3,4,10,4,5,10,3,10,11],[0,1,9,4,5,8,8,5,10,8,10,11],[5,9,4,1,11,3,1,10,11],[3,8,4,3,4,2,2,4,5,2,5,10],[10,
2,5,5,2,4,2,0,4],[0,3,8,5,9,4,10,2,1],[2,1,10,9,4,5],[8,4,5,2,8,5,2,11,8,2,5,1],[3,2,11,1,4,5,1,0,4],[9,4,5,8,2,11,8,0,2],[11,3,2,9,4,5],[4,5,8,8,5,3,5,1,3],[5,0,4,5,1,0],[3,8,0,4,5,9],[9,4,5],[7,4,11,4,9,11,11,9,10],[3,0,8,7,4,11,11,4,9,11,9,10],[11,7,4,1,11,4,1,10,11,1,4,0],[8,7,4,11,1,10,11,3,1],[2,3,7,2,7,9,7,4,9,2,9,10],[4,8,7,0,10,2,0,9,10],[2,1,10,0,7,4,0,3,7],[10,2,1,8,7,4],[2,11,7,2,7,1,1,7,4,1,4,9],[3,2,11,4,8,7,9,1,0],[7,4,11,11,4,2,4,0,2],[2,11,3,7,4,8],[9,1,4,4,1,7,1,3,7],[1,0,9,8,7,
4],[3,4,0,3,7,4],[8,7,4],[8,9,10,8,10,11],[0,9,3,3,9,11,9,10,11],[1,10,0,0,10,8,10,11,8],[10,3,1,10,11,3],[3,8,2,2,8,10,8,9,10],[9,2,0,9,10,2],[8,0,3,1,10,2],[10,2,1],[2,11,1,1,11,9,11,8,9],[11,3,2,0,9,1],[11,0,2,11,8,0],[11,3,2],[8,1,3,8,9,1],[9,1,0],[8,0,3],[]];return a}();"undefined"===typeof console&&(console={log:function(){}});
WebMol.ProteinSurface=function(){var a=0,b=0,d=0,q=2,g=0,r=0,s=0,t=0,n=null,l=null,x=null,p=0,e=0,m=0,v=0,z=0,A=0,B={H:1.2,Li:1.82,Na:2.27,K:2.75,C:1.7,N:1.55,O:1.52,F:1.47,P:1.8,S:1.8,CL:1.75,BR:1.85,SE:1.9,ZN:1.39,CU:1.4,NI:1.63,X:2},C=function(a){return a.elem&&"undefined"!=typeof B[a.elem]?a.elem:"X"},G={},F={},E,D,u=[new Int32Array([1,0,0]),new Int32Array([-1,0,0]),new Int32Array([0,1,0]),new Int32Array([0,-1,0]),new Int32Array([0,0,1]),new Int32Array([0,0,-1]),new Int32Array([1,1,0]),new Int32Array([1,
-1,0]),new Int32Array([-1,1,0]),new Int32Array([-1,-1,0]),new Int32Array([1,0,1]),new Int32Array([1,0,-1]),new Int32Array([-1,0,1]),new Int32Array([-1,0,-1]),new Int32Array([0,1,1]),new Int32Array([0,1,-1]),new Int32Array([0,-1,1]),new Int32Array([0,-1,-1]),new Int32Array([1,1,1]),new Int32Array([1,1,-1]),new Int32Array([1,-1,1]),new Int32Array([-1,1,1]),new Int32Array([1,-1,-1]),new Int32Array([-1,-1,1]),new Int32Array([-1,1,-1]),new Int32Array([-1,-1,-1])];this.getFacesAndVertices=function(e){var h=
{},g,p;g=0;for(p=e.length;g<p;g++)h[e[g]]=!0;e=D;g=0;for(p=e.length;g<p;g++)e[g].x=e[g].x/q-a,e[g].y=e[g].y/q-b,e[g].z=e[g].z/q-d;var m=[];g=0;for(p=E.length;g<p;g+=3){var s=E[g],r=E[g+1],I=E[g+2],v=e[r].atomid,A=e[I].atomid,B=e[s].atomid;v<B&&(B=v);A<B&&(B=A);h[B]&&s!==r&&r!==I&&s!==I&&(m.push(s),m.push(r),m.push(I))}x=l=n=null;return{vertices:e,faces:m}};this.initparm=function(h,N,O){1E6<O&&(q=1);O=1/q*5.5;p=h[0][0];v=h[1][0];e=h[0][1];z=h[1][1];m=h[0][2];A=h[1][2];N?(p-=1.4+O,e-=1.4+O,m-=1.4+O,
v+=1.4+O,z+=1.4+O,A+=1.4+O):(p-=O,e-=O,m-=O,v+=O,z+=O,A+=O);p=Math.floor(p*q)/q;e=Math.floor(e*q)/q;m=Math.floor(m*q)/q;v=Math.ceil(v*q)/q;z=Math.ceil(z*q)/q;A=Math.ceil(A*q)/q;a=-p;b=-e;d=-m;s=Math.ceil(q*(v-p))+1;r=Math.ceil(q*(z-e))+1;g=Math.ceil(q*(A-m))+1;this.boundingatom(N);t=1.4*q;n=new Uint8Array(s*r*g);l=new Float64Array(s*r*g);x=new Int32Array(s*r*g);console.log("Box size: ",s,r,g,n.length)};this.boundingatom=function(a){var b=[],e,h;flagradius=a;for(var d in B)if(B.hasOwnProperty(d))for(h=
B[d],b[d]=a?(h+1.4)*q+.5:h*q+.5,h=b[d]*b[d],F[d]=Math.floor(b[d])+1,G[d]=new Int32Array(F[d]*F[d]),j=indx=0;j<F[d];j++)for(k=0;k<F[d];k++)e=j*j+k*k,e>h?G[d][indx]=-1:(e=Math.sqrt(h-e),G[d][indx]=Math.floor(e)),indx++};this.fillvoxels=function(a,b){var e,h;e=0;for(h=n.length;e<h;e++)n[e]=0,l[e]=-1,x[e]=-1;for(e in b)h=a[b[e]],void 0!==h&&this.fillAtom(h,a);e=0;for(h=n.length;e<h;e++)n[e]&1&&(n[e]|=2)};this.fillAtom=function(e,h){var l,p,m,v,M,I,A,B,t,K,R,z,u,D,E,w,L;l=Math.floor(.5+q*(e.x+a));p=Math.floor(.5+
q*(e.y+b));m=Math.floor(.5+q*(e.z+d));var da=C(e),H=0,S=r*g;K=0;for(L=F[da];K<L;K++)for(R=0;R<L;R++){if(-1!=G[da][H])for(D=-1;2>D;D++)for(E=-1;2>E;E++)for(w=-1;2>w;w++)if(0!==D&&0!==E&&0!==w)for(A=D*K,t=w*R,z=0;z<=G[da][H];z++)B=z*E,v=l+A,M=p+B,u=m+t,0>v||0>M||0>u||v>=s||M>=r||u>=g||(u=v*S+M*g+u,n[u]&1?(I=h[x[u]],v=Math.floor(.5+q*(I.x+a)),M=Math.floor(.5+q*(I.y+b)),I=Math.floor(.5+q*(I.z+d)),A*A+B*B+t*t<v*v+M*M+I*I&&(x[u]=e.serial)):(n[u]|=1,x[u]=e.serial));H++}};this.fillvoxelswaals=function(a,
b){var e,h;e=0;for(h=n.length;e<h;e++)n[e]&=-3;for(e in b)h=a[b[e]],void 0!==h&&this.fillAtomWaals(h,a)};this.fillAtomWaals=function(e,h){var l,p,m,v,M,I,A=0,B,t,K,R,u,z,D,E,w,L,da;l=Math.floor(.5+q*(e.x+a));p=Math.floor(.5+q*(e.y+b));m=Math.floor(.5+q*(e.z+d));var H=C(e),S=r*g;u=0;for(da=F[H];u<da;u++)for(z=0;z<da;z++){if(-1!=G[H][A])for(E=-1;2>E;E++)for(w=-1;2>w;w++)for(L=-1;2>L;L++)if(0!==E&&0!==w&&0!==L)for(B=E*u,K=L*z,D=0;D<=G[H][A];D++)t=D*w,v=l+B,M=p+t,R=m+K,0>v||0>M||0>R||v>=s||M>=r||R>=g||
(R=v*S+M*g+R,n[R]&2?(I=h[x[R]],v=Math.floor(.5+q*(I.x+a)),M=Math.floor(.5+q*(I.y+b)),I=Math.floor(.5+q*(I.z+d)),B*B+t*t+K*K<v*v+M*M+I*I&&(x[R]=e.serial)):(n[R]|=2,x[R]=e.serial));A++}};this.buildboundary=function(){var a=r*g;for(i=0;i<s;i++)for(j=0;j<g;j++)for(k=0;k<r;k++){var b=i*a+k*g+j;if(n[b]&1)for(var e=0;26>e;){var h=i+u[e][0],d=j+u[e][2],l=k+u[e][1];if(-1<h&&h<s&&-1<l&&l<r&&-1<d&&d<g&&!(n[h*a+l*g+d]&1)){n[b]|=4;break}else e++}}};var h=function(a,b,e){var h=new Int32Array(a*b*e*3);this.set=
function(a,d,g,l){a=3*((a*b+d)*e+g);h[a]=l.ix;h[a+1]=l.iy;h[a+2]=l.iz};this.get=function(a,d,g){a=3*((a*b+d)*e+g);return{ix:h[a],iy:h[a+1],iz:h[a+2]}}};this.fastdistancemap=function(){var a,b,e,d=new h(s,r,g),p=r*g,m=t*t,v=[];e=[];var I;for(a=0;a<s;a++)for(b=0;b<r;b++)for(e=0;e<g;e++)if(I=a*p+b*g+e,n[I]&=-3,n[I]&1&&n[I]&4){var A={ix:a,iy:b,iz:e};d.set(a,b,e,A);v.push(A);l[I]=0;n[I]|=2;n[I]&=-5}do for(e=this.fastoneshell(v,d),v=[],a=0,b=e.length;a<b;a++)I=p*e[a].ix+g*e[a].iy+e[a].iz,n[I]&=-5,l[I]<=
1.0404*m&&v.push({ix:e[a].ix,iy:e[a].iy,iz:e[a].iz});while(0!==v.length);a=q-.5;0>a&&(a=0);m-=.5/(.1+a);for(a=0;a<s;a++)for(b=0;b<r;b++)for(e=0;e<g;e++)I=a*p+b*g+e,n[I]&=-5,n[I]&1&&(!(n[I]&2)||n[I]&2&&l[I]>=m)&&(n[I]|=4)};this.fastoneshell=function(a,b){var e,h,d,p,m,q,v,A,B,K,x,t=[];if(0===a.length)return t;tnv={ix:-1,iy:-1,iz:-1};var C=r*g;v=0;for(B=a.length;v<B;v++)for(e=a[v].ix,h=a[v].iy,d=a[v].iz,K=b.get(e,h,d),A=0;6>A;A++)tnv.ix=e+u[A][0],tnv.iy=h+u[A][1],tnv.iz=d+u[A][2],tnv.ix<s&&-1<tnv.ix&&
tnv.iy<r&&-1<tnv.iy&&tnv.iz<g&&-1<tnv.iz&&(x=tnv.ix*C+g*tnv.iy+tnv.iz,n[x]&1&&!(n[x]&2)?(b.set(tnv.ix,tnv.iy,d+u[A][2],K),p=tnv.ix-K.ix,m=tnv.iy-K.iy,q=tnv.iz-K.iz,p=p*p+m*m+q*q,l[x]=p,n[x]|=2,n[x]|=4,t.push({ix:tnv.ix,iy:tnv.iy,iz:tnv.iz})):n[x]&1&&n[x]&2&&(p=tnv.ix-K.ix,m=tnv.iy-K.iy,q=tnv.iz-K.iz,p=p*p+m*m+q*q,p<l[x]&&(b.set(tnv.ix,tnv.iy,tnv.iz,K),l[x]=p,n[x]&4||(n[x]|=4,t.push({ix:tnv.ix,iy:tnv.iy,iz:tnv.iz})))));v=0;for(B=a.length;v<B;v++)for(e=a[v].ix,h=a[v].iy,d=a[v].iz,K=b.get(e,h,d),A=6;18>
A;A++)tnv.ix=e+u[A][0],tnv.iy=h+u[A][1],tnv.iz=d+u[A][2],tnv.ix<s&&-1<tnv.ix&&tnv.iy<r&&-1<tnv.iy&&tnv.iz<g&&-1<tnv.iz&&(x=tnv.ix*C+g*tnv.iy+tnv.iz,n[x]&1&&!(n[x]&2)?(b.set(tnv.ix,tnv.iy,d+u[A][2],K),p=tnv.ix-K.ix,m=tnv.iy-K.iy,q=tnv.iz-K.iz,p=p*p+m*m+q*q,l[x]=p,n[x]|=2,n[x]|=4,t.push({ix:tnv.ix,iy:tnv.iy,iz:tnv.iz})):n[x]&1&&n[x]&2&&(p=tnv.ix-K.ix,m=tnv.iy-K.iy,q=tnv.iz-K.iz,p=p*p+m*m+q*q,p<l[x]&&(b.set(tnv.ix,tnv.iy,tnv.iz,K),l[x]=p,n[x]&4||(n[x]|=4,t.push({ix:tnv.ix,iy:tnv.iy,iz:tnv.iz})))));v=
0;for(B=a.length;v<B;v++)for(e=a[v].ix,h=a[v].iy,d=a[v].iz,K=b.get(e,h,d),A=18;26>A;A++)tnv.ix=e+u[A][0],tnv.iy=h+u[A][1],tnv.iz=d+u[A][2],tnv.ix<s&&-1<tnv.ix&&tnv.iy<r&&-1<tnv.iy&&tnv.iz<g&&-1<tnv.iz&&(x=tnv.ix*C+g*tnv.iy+tnv.iz,n[x]&1&&!(n[x]&2)?(b.set(tnv.ix,tnv.iy,d+u[A][2],K),p=tnv.ix-K.ix,m=tnv.iy-K.iy,q=tnv.iz-K.iz,p=p*p+m*m+q*q,l[x]=p,n[x]|=2,n[x]|=4,t.push({ix:tnv.ix,iy:tnv.iy,iz:tnv.iz})):n[x]&1&&n[x]&2&&(p=tnv.ix-K.ix,m=tnv.iy-K.iy,q=tnv.iz-K.iz,p=p*p+m*m+q*q,p<l[x]&&(b.set(tnv.ix,tnv.iy,
tnv.iz,K),l[x]=p,n[x]&4||(n[x]|=4,t.push({ix:tnv.ix,iy:tnv.iy,iz:tnv.iz})))));return t};this.marchingcubeinit=function(a){for(var b=0,e=n.length;b<e;b++)1==a?n[b]&=-5:4==a?(n[b]&=-3,n[b]&4&&(n[b]|=2),n[b]&=-5):2==a?n[b]&4&&n[b]&2?n[b]&=-5:n[b]&4&&!(n[b]&2)&&(n[b]|=2):3==a&&(n[b]&=-5)};this.marchingcube=function(a){this.marchingcubeinit(a);D=[];E=[];WebMol.MarchingCube.march(n,D,E,{smooth:1,nX:s,nY:r,nZ:g});a=r*g;for(var b=0,e=D.length;b<e;b++)D[b].atomid=x[D[b].x*a+g*D[b].y+D[b].z];WebMol.MarchingCube.laplacianSmooth(1,
D,E)}};WebMol=WebMol||{};WebMol.Math={clamp:function(a,b,d){return Math.min(Math.max(a,b),d)},degToRad:function(){var a=Math.PI/180;return function(b){return b*a}}()};WebMol.Quaternion=function(a,b,d,q){this.x=a||0;this.y=b||0;this.z=d||0;this.w=void 0!==q?q:1};
WebMol.Quaternion.prototype={constructor:WebMol.Quaternion,set:function(a,b,d,q){this.x=a;this.y=b;this.z=d;this.w=q;return this},copy:function(a){this.x=a.x;this.y=a.y;this.z=a.z;this.w=a.w;return this},conjugate:function(){this.x*=-1;this.y*=-1;this.z*=-1;return this},inverse:function(){return this.conjugate().normalize()},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},normalize:function(){var a=this.length();0===a?(this.z=this.y=this.x=0,this.w=1):
(a=1/a,this.x*=a,this.y*=a,this.z*=a,this.w*=a);return this},multiply:function(a){return this.multiplyQuaternions(this,a)},multiplyQuaternions:function(a,b){var d=a.x,q=a.y,g=a.z,r=a.w,s=b.x,t=b.y,n=b.z,l=b.w;this.x=d*l+r*s+q*n-g*t;this.y=q*l+r*t+g*s-d*n;this.z=g*l+r*n+d*t-q*s;this.w=r*l-d*s-q*t-g*n}};WebMol.Vector2=function(a,b){this.x=a||0;this.y=b||0};
WebMol.Vector2.prototype={constructor:WebMol.Vector2,set:function(a,b){this.x=a;this.y=b;return this},subVectors:function(a,b){this.x=a.x-b.x;this.y=a.y-b.y;return this},copy:function(a){this.x=a.x;this.y=a.y;return this},clone:function(){return new WebMol.Vector2(this.x,this.y)}};WebMol.Vector3=function(a,b,d){this.x=a||0;this.y=b||0;this.z=d||0};
WebMol.Vector3.prototype={constructor:WebMol.Vector3,set:function(a,b,d){this.x=a;this.y=b;this.z=d;return this},copy:function(a){this.x=a.x;this.y=a.y;this.z=a.z;return this},add:function(a){this.x+=a.x;this.y+=a.y;this.z+=a.z;return this},addVectors:function(a,b){this.x=a.x+b.x;this.y=a.y+b.y;this.z=a.z+b.z;return this},sub:function(a){this.x-=a.x;this.y-=a.y;this.z-=a.z;return this},subVectors:function(a,b){this.x=a.x-b.x;this.y=a.y-b.y;this.z=a.z-b.z;return this},multiplyScalar:function(a){this.x*=
a;this.y*=a;this.z*=a;return this},divideScalar:function(a){0!==a?(this.x/=a,this.y/=a,this.z/=a):this.z=this.y=this.x=0;return this},distanceTo:function(a){return Math.sqrt(this.distanceToSquared(a))},distanceToSquared:function(a){var b=this.x-a.x,d=this.y-a.y;a=this.z-a.z;return b*b+d*d+a*a},applyMatrix4:function(a){var b=this.x,d=this.y,q=this.z;a=a.elements;this.x=a[0]*b+a[4]*d+a[8]*q+a[12];this.y=a[1]*b+a[5]*d+a[9]*q+a[13];this.z=a[2]*b+a[6]*d+a[10]*q+a[14];return this},applyProjection:function(a){var b=
this.x,d=this.y,q=this.z;a=a.elements;var g=a[3]*b+a[7]*d+a[11]*q+a[15];this.x=(a[0]*b+a[4]*d+a[8]*q+a[12])/g;this.y=(a[1]*b+a[5]*d+a[9]*q+a[13])/g;this.z=(a[2]*b+a[6]*d+a[10]*q+a[14])/g;return this},applyQuaternion:function(a){var b=this.x,d=this.y,q=this.z,g=a.x,r=a.y,s=a.z;a=a.w;var t=a*b+r*q-s*d,n=a*d+s*b-g*q,l=a*q+g*d-r*b,b=-a*b-r*d-s*q;this.x=t*a+b*-g+n*-s-l*-r;this.y=n*a+b*-r+l*-g-t*-s;this.z=l*a+b*-s+t*-r-n*-g;return this},negate:function(){return this.multiplyScalar(-1)},dot:function(a){return this.x*
a.x+this.y*a.y+this.z*a.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},normalize:function(){return this.divideScalar(this.length())},cross:function(a){var b=this.x,d=this.y,q=this.z;this.x=d*a.z-q*a.y;this.y=q*a.x-b*a.z;this.z=b*a.y-d*a.x;return this},crossVectors:function(a,b){this.x=a.y*b.z-a.z*b.y;this.y=a.z*b.x-a.x*b.z;this.z=a.x*b.y-a.y*b.x;return this},getPositionFromMatrix:function(a){this.x=
a.elements[12];this.y=a.elements[13];this.z=a.elements[14];return this},setEulerFromRotationMatrix:function(a,b){var d=a.elements,q=d[0],g=d[4],r=d[8],s=d[5],t=d[9],n=d[6],d=d[10];void 0===b||"XYZ"===b?(this.y=Math.asin(WebMol.Math.clamp(r,-1,1)),.99999>Math.abs(r)?(this.x=Math.atan2(-t,d),this.z=Math.atan2(-g,q)):(this.x=Math.atan2(n,s),this.z=0)):console.error("Error with vector's setEulerFromRotationMatrix: Unknown order: "+b);return this},clone:function(){return new WebMol.Vector3(this.x,this.y,
this.z)}};WebMol.Matrix3=function(a,b,d,q,g,r,s,t,n){this.elements=new Float32Array(9);this.set(void 0!==a?a:1,b||0,d||0,q||0,void 0!==g?g:1,r||0,s||0,t||0,void 0!==n?n:1)};
WebMol.Matrix3.prototype={constructor:WebMol.Matrix3,set:function(a,b,d,q,g,r,s,t,n){var l=this.elements;l[0]=a;l[3]=b;l[6]=d;l[1]=q;l[4]=g;l[7]=r;l[2]=s;l[5]=t;l[8]=n;return this},identity:function(){this.set(1,0,0,0,1,0,0,0,1);return this},copy:function(a){a=a.elements;this.set(a[0],a[3],a[6],a[1],a[4],a[7],a[2],a[5],a[8])},multiplyScalar:function(a){var b=this.elements;b[0]*=a;b[3]*=a;b[6]*=a;b[1]*=a;b[4]*=a;b[7]*=a;b[2]*=a;b[5]*=a;b[8]*=a;return this},getInverse:function(a,b){var d=a.elements,
q=this.elements;q[0]=d[10]*d[5]-d[6]*d[9];q[1]=-d[10]*d[1]+d[2]*d[9];q[2]=d[6]*d[1]-d[2]*d[5];q[3]=-d[10]*d[4]+d[6]*d[8];q[4]=d[10]*d[0]-d[2]*d[8];q[5]=-d[6]*d[0]+d[2]*d[4];q[6]=d[9]*d[4]-d[5]*d[8];q[7]=-d[9]*d[0]+d[1]*d[8];q[8]=d[5]*d[0]-d[1]*d[4];d=d[0]*q[0]+d[1]*q[3]+d[2]*q[6];if(0===d){if(b)throw Error("Matrix3.getInverse(): can't invert matrix, determinant is 0");console.warn("Matrix3.getInverse(): can't invert matrix, determinant is 0");this.identity();return this}this.multiplyScalar(1/d);return this},
transpose:function(){var a,b=this.elements;a=b[1];b[1]=b[3];b[3]=a;a=b[2];b[2]=b[6];b[6]=a;a=b[5];b[5]=b[7];b[7]=a;return this},clone:function(){var a=this.elements;return new WebMol.Matrix3(a[0],a[3],a[6],a[1],a[4],a[7],a[2],a[5],a[8])}};
WebMol.Matrix4=function(a,b,d,q,g,r,s,t,n,l,x,p,e,m,v,z){var A=this.elements=new Float32Array(16);A[0]=void 0!==a?a:1;A[4]=b||0;A[8]=d||0;A[12]=q||0;A[1]=g||0;A[5]=void 0!==r?r:1;A[9]=s||0;A[13]=t||0;A[2]=n||0;A[6]=l||0;A[10]=void 0!==x?x:1;A[14]=p||0;A[3]=e||0;A[7]=m||0;A[11]=v||0;A[15]=void 0!==z?z:1};
WebMol.Matrix4.prototype={constructor:WebMol.Matrix4,set:function(a,b,d,q,g,r,s,t,n,l,x,p,e,m,v,z){var A=this.elements;A[0]=a;A[4]=b;A[8]=d;A[12]=q;A[1]=g;A[5]=r;A[9]=s;A[13]=t;A[2]=n;A[6]=l;A[10]=x;A[14]=p;A[3]=e;A[7]=m;A[11]=v;A[15]=z;return this},identity:function(){this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1);return this},copy:function(a){a=a.elements;this.set(a[0],a[4],a[8],a[12],a[1],a[5],a[9],a[13],a[2],a[6],a[10],a[14],a[3],a[7],a[11],a[15]);return this},setRotationFromEuler:function(a,b){var d=
this.elements,q=a.x,g=a.y,r=a.z,s=Math.cos(q),q=Math.sin(q),t=Math.cos(g),g=Math.sin(g),n=Math.cos(r),r=Math.sin(r);if(void 0===b||"XYZ"===b){var l=s*n,x=s*r,p=q*n,e=q*r;d[0]=t*n;d[4]=-t*r;d[8]=g;d[1]=x+p*g;d[5]=l-e*g;d[9]=-q*t;d[2]=e-l*g;d[6]=p+x*g;d[10]=s*t}else console.error("Error with matrix4 setRotationFromEuler. Order: "+b);return this},setRotationFromQuaternion:function(a){var b=this.elements,d=a.x,q=a.y,g=a.z,r=a.w,s=d+d,t=q+q,n=g+g;a=d*s;var l=d*t,d=d*n,x=q*t,q=q*n,g=g*n,s=r*s,t=r*t,r=r*
n;b[0]=1-(x+g);b[4]=l-r;b[8]=d+t;b[1]=l+r;b[5]=1-(a+g);b[9]=q-s;b[2]=d-t;b[6]=q+s;b[10]=1-(a+x);return this},lookAt:function(){var a=new WebMol.Vector3,b=new WebMol.Vector3,d=new WebMol.Vector3;return function(q,g,r){var s=this.elements;d.subVectors(q,g).normalize();0===d.length()&&(d.z=1);a.crossVectors(r,d).normalize();0===a.length()&&(d.x+=1E-4,a.crossVectors(r,d).normalize());b.crossVectors(d,a);s[0]=a.x;s[4]=b.x;s[8]=d.x;s[1]=a.y;s[5]=b.y;s[9]=d.y;s[2]=a.z;s[6]=b.z;s[10]=d.z;return this}}(),
multiplyMatrices:function(a,b){var d=a.elements,q=b.elements,g=this.elements,r=d[0],s=d[4],t=d[8],n=d[12],l=d[1],x=d[5],p=d[9],e=d[13],m=d[2],v=d[6],z=d[10],A=d[14],B=d[3],C=d[7],G=d[11],d=d[15],F=q[0],E=q[4],D=q[8],u=q[12],h=q[1],J=q[5],N=q[9],O=q[13],Q=q[2],P=q[6],X=q[10],M=q[14],I=q[3],V=q[7],Y=q[11],q=q[15];g[0]=r*F+s*h+t*Q+n*I;g[4]=r*E+s*J+t*P+n*V;g[8]=r*D+s*N+t*X+n*Y;g[12]=r*u+s*O+t*M+n*q;g[1]=l*F+x*h+p*Q+e*I;g[5]=l*E+x*J+p*P+e*V;g[9]=l*D+x*N+p*X+e*Y;g[13]=l*u+x*O+p*M+e*q;g[2]=m*F+v*h+z*Q+A*
I;g[6]=m*E+v*J+z*P+A*V;g[10]=m*D+v*N+z*X+A*Y;g[14]=m*u+v*O+z*M+A*q;g[3]=B*F+C*h+G*Q+d*I;g[7]=B*E+C*J+G*P+d*V;g[11]=B*D+C*N+G*X+d*Y;g[15]=B*u+C*O+G*M+d*q;return this},multiplyScalar:function(a){var b=this.elements;b[0]*=a;b[4]*=a;b[8]*=a;b[12]*=a;b[1]*=a;b[5]*=a;b[9]*=a;b[13]*=a;b[2]*=a;b[6]*=a;b[10]*=a;b[14]*=a;b[3]*=a;b[7]*=a;b[11]*=a;b[15]*=a;return this},transpose:function(){var a=this.elements,b;b=a[1];a[1]=a[4];a[4]=b;b=a[2];a[2]=a[8];a[8]=b;b=a[6];a[6]=a[9];a[9]=b;b=a[3];a[3]=a[12];a[12]=b;
b=a[7];a[7]=a[13];a[13]=b;b=a[11];a[11]=a[14];a[14]=b;return this},getPosition:function(){var a=new WebMol.Vector3;return function(){console.warn("DEPRECATED: Matrix4's .getPosition() has been removed. Use Vector3.getPositionFromMatrix( matrix ) instead.");var b=this.elements;return a.set(b[12],b[13],b[14])}}(),setPosition:function(a){var b=this.elements;b[12]=a.x;b[13]=a.y;b[14]=a.z;return this},getInverse:function(a,b){var d=this.elements,q=a.elements,g=q[0],r=q[4],s=q[8],t=q[12],n=q[1],l=q[5],
x=q[9],p=q[13],e=q[2],m=q[6],v=q[10],z=q[14],A=q[3],B=q[7],C=q[11],G=q[15];d[0]=x*z*B-p*v*B+p*m*C-l*z*C-x*m*G+l*v*G;d[4]=t*v*B-s*z*B-t*m*C+r*z*C+s*m*G-r*v*G;d[8]=s*p*B-t*x*B+t*l*C-r*p*C-s*l*G+r*x*G;d[12]=t*x*m-s*p*m-t*l*v+r*p*v+s*l*z-r*x*z;d[1]=p*v*A-x*z*A-p*e*C+n*z*C+x*e*G-n*v*G;d[5]=s*z*A-t*v*A+t*e*C-g*z*C-s*e*G+g*v*G;d[9]=t*x*A-s*p*A-t*n*C+g*p*C+s*n*G-g*x*G;d[13]=s*p*e-t*x*e+t*n*v-g*p*v-s*n*z+g*x*z;d[2]=l*z*A-p*m*A+p*e*B-n*z*B-l*e*G+n*m*G;d[6]=t*m*A-r*z*A-t*e*B+g*z*B+r*e*G-g*m*G;d[10]=r*p*A-t*
l*A+t*n*B-g*p*B-r*n*G+g*l*G;d[14]=t*l*e-r*p*e-t*n*m+g*p*m+r*n*z-g*l*z;d[3]=x*m*A-l*v*A-x*e*B+n*v*B+l*e*C-n*m*C;d[7]=r*v*A-s*m*A+s*e*B-g*v*B-r*e*C+g*m*C;d[11]=s*l*A-r*x*A-s*n*B+g*x*B+r*n*C-g*l*C;d[15]=r*x*e-s*l*e+s*n*m-g*x*m-r*n*v+g*l*v;d=q[0]*d[0]+q[1]*d[4]+q[2]*d[8]+q[3]*d[12];if(0===d){if(b)throw Error("Matrix4.getInverse(): can't invert matrix, determinant is 0");console.warn("Matrix4.getInverse(): can't invert matrix, determinant is 0");this.identity();return this}this.multiplyScalar(1/d);return this},
compose:function(){var a=new WebMol.Matrix4,b=new WebMol.Matrix4;return function(d,q,g){var r=this.elements;a.identity();a.setRotationFromQuaternion(q);b.makeScale(g.x,g.y,g.z);this.multiplyMatrices(a,b);r[12]=d.x;r[13]=d.y;r[14]=d.z;return this}}(),decompose:function(){var a=new WebMol.Vector3,b=new WebMol.Vector3,d=new WebMol.Vector3,q=new WebMol.Matrix4;return function(g,r,s){var t=this.elements;a.set(t[0],t[1],t[2]);b.set(t[4],t[5],t[6]);d.set(t[8],t[9],t[10]);g=g instanceof WebMol.Vector3?g:
new WebMol.Vector3;r=r instanceof WebMol.Quaternion?r:new WebMol.Quaternion;s=s instanceof Webmol.Vector3?s:new WebMol.Vector3;s.x=a.length();s.y=b.length();s.z=d.length();g.x=t[12];g.y=t[13];g.z=t[14];q.copy(this);q.elements[0]/=s.x;q.elements[1]/=s.x;q.elements[2]/=s.x;q.elements[4]/=s.y;q.elements[5]/=s.y;q.elements[6]/=s.y;q.elements[8]/=s.z;q.elements[9]/=s.z;q.elements[10]/=s.z;r.setFromRotationMatrix(q);return[g,r,s]}}(),scale:function(a){var b=this.elements,d=a.x,q=a.y;a=a.z;b[0]*=d;b[4]*=
q;b[8]*=a;b[1]*=d;b[5]*=q;b[9]*=a;b[2]*=d;b[6]*=q;b[10]*=a;b[3]*=d;b[7]*=q;b[11]*=a;return this},getMaxScaleOnAxis:function(){var a=this.elements;return Math.sqrt(Math.max(a[0]*a[0]+a[1]*a[1]+a[2]*a[2],Math.max(a[4]*a[4]+a[5]*a[5]+a[6]*a[6],a[8]*a[8]+a[9]*a[9]+a[10]*a[10])))},makeFrustum:function(a,b,d,q,g,r){var s=this.elements;s[0]=2*g/(b-a);s[4]=0;s[8]=(b+a)/(b-a);s[12]=0;s[1]=0;s[5]=2*g/(q-d);s[9]=(q+d)/(q-d);s[13]=0;s[2]=0;s[6]=0;s[10]=-(r+g)/(r-g);s[14]=-2*r*g/(r-g);s[3]=0;s[7]=0;s[11]=-1;s[15]=
0;return this},makePerspective:function(a,b,d,q){a=d*Math.tan(WebMol.Math.degToRad(.5*a));var g=-a;return this.makeFrustum(g*b,a*b,g,a,d,q)},clone:function(){var a=this.elements;return new WebMol.Matrix4(a[0],a[4],a[8],a[12],a[1],a[5],a[9],a[13],a[2],a[6],a[10],a[14],a[3],a[7],a[11],a[15])}};WebMol.Ray=function(a,b){this.origin=void 0!==a?a:new WebMol.Vector3;this.direction=void 0!==b?b:new WebMol.Vector3};
WebMol.Ray.prototype={constructor:WebMol.Ray,set:function(a,b){this.origin.copy(a);this.direction.copy(b);return this},copy:function(a){this.origin.copy(a.origin);this.direction.copy(a.direction);return this},at:function(a,b){return(b||new WebMol.Vector3).copy(this.direction).multiplyScalar(a).add(this.origin)},recast:function(){var a=new WebMol.Vector3;return function(b){this.origin.copy(this.at(b,a));return this}}(),closestPointToPoint:function(a,b){var d=b||new WebMol.Vector3;d.subVectors(a,this.origin);
var q=d.dot(this.direction);return d.copy(this.direction).multiplyScalar(q).add(this.origin)},distanceToPoint:function(){var a=new WebMol.Vector3;return function(b){var d=a.subVectors(b,this.origin).dot(this.direction);a.copy(this.direction).multiplyScalar(d).add(this.origin);return a.distanceTo(b)}}(),isIntersectionCylinder:function(){},isIntersectionSphere:function(a){return this.distanceToPoint(a.center)<=a.radius},isIntersectionPlane:function(a){return 0!==a.normal.dot(this.direction)||0===a.distanceToPoint(this.origin)?
!0:!1},distanceToPlane:function(a){var b=a.normal.dot(this.direction);if(0===b){if(0===a.distanceToPoint(this.origin))return 0}else return-(this.origin.dot(a.normal)+a.constant)/b},intersectPlane:function(a,b){var d=this.distanceToPlane(a);return void 0===d?void 0:this.at(d,b)},applyMatrix4:function(a){this.direction.add(this.origin).applyMatrix4(a);this.origin.applyMatrix4(a);this.direction.sub(this.origin);return this},equals:function(a){return a.origin.equals(this.origin)&&a.direction.equals(this.direction)},
clone:function(){return(new WebMol.Ray).copy(this)}};WebMol.Sphere=function(a,b){this.center=void 0!==a?a:new WebMol.Vector3;this.radius=void 0!==b?b:0};
WebMol.Sphere.prototype={constructor:WebMol.Sphere,set:function(a,b){this.center.copy(a);this.radius=b;return this},copy:function(a){this.center.copy(a.center);this.radius=a.radius;return this},applyMatrix4:function(a){this.center.applyMatrix4(a);this.radius*=a.getMaxScaleOnAxis();return this},translate:function(a){this.center.add(a);return this},equals:function(a){return a.center.equals(this.center)&&a.radius===this.radius},clone:function(){return(new WebMol.Sphere).copy(this)}};
WebMol.Cylinder=function(a,b,d){this.c1=void 0!==a?a:new WebMol.Vector3;this.c2=void 0!==b?b:new WebMol.Vector3;this.direction=(new WebMol.Vector3).subVectors(this.c2,this.c1).normalize();this.radius=void 0!==d?d:0};
WebMol.Cylinder.prototype={constructor:WebMol.Cylinder,copy:function(a){this.c1.copy(a.c1);this.c2.copy(a.c2);this.direction.copy(a.direction);this.radius=a.radius;return this},lengthSq:function(){var a=new WebMol.Vector3;return function(){return a.subVectors(this.c2,this.c1).lengthSq()}}(),applyMatrix4:function(a){this.direction.add(this.c1).applyMatrix4(a);this.c1.applyMatrix4(a);this.c2.applyMatrix4(a);this.direction.sub(this.c1).normalize();this.radius*=a.getMaxScaleOnAxis();return this}};
WebMol.Triangle=function(a,b,d){this.a=void 0!==a?a:new WebMol.Vector3;this.b=void 0!==b?b:new WebMol.Vector3;this.c=void 0!==d?d:new WebMol.Vector3};
WebMol.Triangle.prototype={constructor:WebMol.Triangle,copy:function(a){this.a.copy(a.a);this.b.copy(a.b);this.c.copy(a.c);return this},applyMatrix4:function(a){this.a.applyMatrix4(a);this.b.applyMatrix4(a);this.c.applyMatrix4(a);return this},getNormal:function(){var a=new WebMol.Vector3;return function(){var b=this.a.clone();b.sub(this.b);a.subVectors(this.c,this.b);b.cross(a);b.normalize();return b}}()};WebMol=WebMol||{};
WebMol.EventDispatcher=function(){var a={};this.addEventListener=function(b,d){void 0===a[b]&&(a[b]=[]);-1===a[b].indexOf(d)&&a[b].push(d)};this.removeEventListener=function(b,d){var q=a[b].indexOf(d);-1!==q&&a[b].splice(q,1)};this.dispatchEvent=function(b){var d=a[b.type];if(void 0!==d){b.target=this;for(var q=0,g=d.length;q<g;q++)d[q].call(this,b)}}};
WebMol.Object3D=function(){this.id=WebMol.Object3DIDCount++;this.name="";this.parent=void 0;this.children=[];this.position=new WebMol.Vector3;this.rotation=new WebMol.Vector3;this.matrix=new WebMol.Matrix4;this.matrixWorld=new WebMol.Matrix4;this.quaternion=new WebMol.Quaternion;this.eulerOrder="XYZ";this.up=new WebMol.Vector3(0,1,0);this.scale=new WebMol.Vector3(1,1,1);this.rotationAutoUpdate=this.matrixWorldNeedsUpdate=this.matrixAutoUpdate=!0;this.useQuaternion=!1;this.visible=!0};
WebMol.Object3D.prototype={constructor:WebMol.Object3D,lookAt:function(a){this.matrix.lookAt(a,this.position,this.up);this.rotationAutoUpdate&&(!0===this.useQuaternion?this.quaternion.copy(this.matrix.decompose()[1]):this.rotation.setEulerFromRotationMatrix(this.matrix,this.eulerOrder))},add:function(a){if(a===this)console.error("Can't add WebMol.Object3D to itself");else{a.parent=this;this.children.push(a);for(var b=this;void 0!==b.parent;)b=b.parent;void 0!==b&&b instanceof WebMol.Scene&&b.__addObject(a)}},
remove:function(a){var b=this.children.indexOf(a);if(-1!==b){a.parent=void 0;this.children.splice(b,1);for(b=this;void 0!==b.parent;)b=b.parent;void 0!==b&&b instanceof WebMol.Scene&&b.__removeObject(a)}},updateMatrix:function(){this.matrix.setPosition(this.position);!1===this.useQuaternion?this.matrix.setRotationFromEuler(this.rotation,this.eulerOrder):this.matrix.setRotationFromQuaternion(this.quaternion);1===this.scale.x&&1===this.scale.y&&1===this.scale.z||this.matrix.scale(this.scale);this.matrixWorldNeedsUpdate=
!0},updateMatrixWorld:function(a){!0===this.matrixAutoUpdate&&this.updateMatrix();if(!0===this.matrixWorldNeedsUpdate||!0===a)void 0===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix);this.matrixWorldNeedsUpdate=!1;for(var b in this.children)this.children[b].updateMatrixWorld(!0)},clone:function(a){void 0===a&&(a=new WebMol.Object3D);a.name=this.name;a.up.copy(this.up);a.position.copy(this.position);a.rotation.copy(this.rotation);
a.eulerOrder=this.eulerOrder;a.scale.copy(this.scale);a.rotationAutoUpdate=this.rotationAutoUpdate;a.matrix.copy(this.matrix);a.matrixWorld.copy(this.matrixWorld);a.quaternion.copy(this.quaternion);a.useQuaternion=this.useQuaternion;a.visible=this.visible;for(var b in this.children)a.add(this.children[b].clone());return a}};WebMol.Object3DIDCount=0;
WebMol.Geometry=function(){var a=function(a,b,d){if(null===a||void 0===a)return 0===b?new Uint16Array:new Float32Array;if(0===b)return new Uint16Array(a.buffer.slice(a.byteOffset,2*d));if(1===b)return new Float32Array(a.buffer.slice(a.byteOffset,4*d))},b=function(a){this.id=a||0;this.__lineArray=this.__faceArray=this.__normalArray=this.__colorArray=this.__vertexArray=null;this.lineidx=this.faceidx=this.vertices=0};b.prototype.getCentroid=function(){for(var a=new WebMol.Vector3,b,d,s,t=0;t<this.vertices;++t)b=
3*t,d=this.__vertexArray[b],s=this.__vertexArray[b+1],b=this.__vertexArray[b+2],a.x+=d,a.y+=s,a.z+=b;a.divideScalar(this.vertices);return a};b.prototype.setNormals=function(){var a=this.__faceArray,b=this.__vertexArray,d=this.__normalArray;if(this.vertices&&this.faceidx)for(var s,t,n,l,x,p,e=0;e<a.length/3;++e)s=3*a[3*e],t=3*a[3*e+1],n=3*a[3*e+2],l=new WebMol.Vector3(b[s],b[s+1],b[s+2]),x=new WebMol.Vector3(b[t],b[t+1],b[t+2]),p=new WebMol.Vector3(b[n],b[n+1],b[n+2]),l.subVectors(l,x),p.subVectors(p,
x),p.cross(l),l=p,l.normalize(),d[s]+=l.x,d[t]+=l.x,d[n]+=l.x,d[s+1]+=l.y,d[t+1]+=l.y,d[n+1]+=l.y,d[s+2]+=l.z,d[t+2]+=l.z,d[n+2]+=l.z};b.prototype.setLineIndices=function(){if(this.faceidx){var a=this.__faceArray,b=this.__lineArray=new Uint16Array(2*this.faceidx);this.lineidx=2*this.faceidx;for(var d,s=0;s<this.faceidx/3;++s){d=3*s;lineoffset=2*d;var t=a[d],n=a[d+1];d=a[d+2];b[lineoffset]=t;b[lineoffset+1]=n;b[lineoffset+2]=t;b[lineoffset+3]=d;b[lineoffset+4]=n;b[lineoffset+5]=d}}};b.prototype.truncateArrayBuffers=
function(b){b=!0===b?!0:!1;var d=this.__colorArray,r=this.__normalArray,s=this.__faceArray,t=this.__lineArray;this.__vertexArray=a(this.__vertexArray,1,3*this.vertices);this.__colorArray=a(d,1,3*this.vertices);b?(this.__normalArray=a(r,1,3*this.vertices),this.__faceArray=a(s,0,this.faceidx),this.__lineArray=a(t,0,this.lineidx)):(this.__normalArray=a(r,1,0),this.__faceArray=a(s,0,0),this.__lineArray=a(t,0,0));this.__inittedArrays=!0};var d=function(a){var d=new b(a.geometryGroups.length);a.geometryGroups.push(d);
a.groups=a.geometryGroups.length;d.__vertexArray=new Float32Array(196605);d.__colorArray=new Float32Array(196605);a.mesh&&(d.__normalArray=new Float32Array(196605),d.__faceArray=new Uint16Array(393210),d.__lineArray=new Uint16Array(393210));return d};Geometry=function(a){WebMol.EventDispatcher.call(this);this.id=WebMol.GeometryIDCount++;this.name="";this.hasTangents=!1;this.dynamic=!0;this.mesh=!0===a?!0:!1;this.buffersNeedUpdate=this.colorsNeedUpdate=this.normalsNeedUpdate=this.elementsNeedUpdate=
this.verticesNeedUpdate=!1;this.geometryGroups=[];this.groups=0};Geometry.prototype={constructor:Geometry,updateGeoGroup:function(a){var b=0<this.groups?this.geometryGroups[this.groups-1]:null;if(!b||65535<b.vertices+(a||0))b=d(this);return b},addGeoGroup:function(){return d(this)},setUpNormals:function(a){a=a||!1;for(var b in this.geometryGroups)this.geometryGroups[b].setNormals(a)},setUpWireframe:function(){for(var a in this.geometryGroups)this.geometryGroups[a].setLineIndices()},initTypedArrays:function(){for(var a in this.geometryGroups){var b=
this.geometryGroups[a];!0!==b.__inittedArrays&&b.truncateArrayBuffers(this.mesh)}},dispose:function(){this.dispatchEvent({type:"dispose"})}};return Geometry}();Object.defineProperty(WebMol.Geometry.prototype,"vertices",{get:function(){var a=0,b;for(b in this.geometryGroups)a+=this.geometryGroups[b].vertices;return a}});WebMol.GeometryIDCount=0;
WebMol.Raycaster=function(){var a=function(a,b,d,g){this.ray=new WebMol.Ray(a,b);0<this.ray.direction.lengthSq()&&this.ray.direction.normalize();this.near=g||0;this.far=d||Infinity},b=new WebMol.Sphere,d=new WebMol.Cylinder,q=new WebMol.Triangle,g=new WebMol.Vector3,r=new WebMol.Vector3,s=new WebMol.Vector3,t=new WebMol.Vector3;new WebMol.Ray;new WebMol.Vector3;var n=new WebMol.Vector3;new WebMol.Matrix4;var l=function(a,b){return a.distance-b.distance},x=function(a){return Math.min(Math.max(a,-1),
1)};a.prototype.precision=1E-4;a.prototype.linePrecision=.2;a.prototype.set=function(a,b){this.ray.set(a,b)};a.prototype.intersectObjects=function(a,e){for(var m=[],v=0,z=e.length;v<z;v++)a:{var A=a,B=e[v],C=m;n.getPositionFromMatrix(A.matrixWorld);if(!0===B.clickable&&void 0!==B.intersectionShape){var G=B.intersectionShape,F=this.linePrecision,F=F*A.matrixWorld.getMaxScaleOnAxis(),F=F*F;if(void 0!==B.boundingSphere&&B.boundingSphere instanceof WebMol.Sphere&&(b.copy(B.boundingSphere),b.applyMatrix4(A.matrixWorld),
!this.ray.isIntersectionSphere(b)))break a;for(var E=void 0,D=void 0,u=void 0,h=void 0,J=u=void 0,N=void 0,O=void 0,Q=void 0,P=void 0,X=P=J=h=void 0,E=0,D=G.triangle.length;E<D;E++)G.triangle[E]instanceof WebMol.Triangle&&(q.copy(G.triangle[E]),q.applyMatrix4(A.matrixWorld),u=q.getNormal(),h=this.ray.direction.dot(u),0<=h||(g.subVectors(q.a,this.ray.origin),N=u.dot(g)/h,0>N||(r.copy(this.ray.direction).multiplyScalar(N).add(this.ray.origin),r.sub(q.a),s.copy(q.b).sub(q.a),t.copy(q.c).sub(q.a),h=s.dot(t),
u=s.lengthSq(),J=t.lengthSq(),J=(u*r.dot(t)-h*r.dot(s))/(u*J-h*h),0>J||1<J||(h=(r.dot(s)-J*h)/u,0>h||1<h||1<h+J||C.push({clickable:B,distance:N})))));E=0;for(D=G.cylinder.length;E<D;E++)G.cylinder[E]instanceof WebMol.Cylinder&&(d.copy(G.cylinder[E]),d.applyMatrix4(A.matrixWorld),g.subVectors(d.c1,this.ray.origin),u=g.dot(d.direction),J=g.dot(this.ray.direction),h=x(this.ray.direction.dot(d.direction)),Q=1-h*h,0!==Q&&(P=(h*J-u)/Q,X=(J-h*u)/Q,r.copy(d.direction).multiplyScalar(P).add(d.c1),s.copy(this.ray.direction).multiplyScalar(X).add(this.ray.origin),
O=t.subVectors(r,s).lengthSq(),P=d.radius*d.radius,O<=P&&(P=(h*u-J)*(h*u-J)-Q*(g.lengthSq()-u*u-P),J=0>=P?N=Math.sqrt(O):N=(J-h*u-Math.sqrt(P))/Q,h=h*J-u,0>h||h*h>d.lengthSq()||0>J||C.push({clickable:B,distance:N}))));E=0;for(D=G.line.length;E<D;E+=2)r.copy(G.line[E]),r.applyMatrix4(A.matrixWorld),s.copy(G.line[E+1]),s.applyMatrix4(A.matrixWorld),t.subVectors(s,r),N=t.lengthSq(),t.normalize(),g.subVectors(r,this.ray.origin),lineProj=g.dot(t),J=g.dot(this.ray.direction),h=x(this.ray.direction.dot(t)),
Q=1-h*h,0!==Q&&(P=(h*J-lineProj)/Q,X=(J-h*lineProj)/Q,r.add(t.multiplyScalar(P)),s.copy(this.ray.direction).multiplyScalar(X).add(this.ray.origin),O=t.subVectors(s,r).lengthSq(),O<F&&P*P<N&&C.push({clickable:B,distance:X}));E=0;for(D=G.sphere.length;E<D;E++)if(G.sphere[E]instanceof WebMol.Sphere&&(b.copy(G.sphere[E]),b.applyMatrix4(A.matrixWorld),this.ray.isIntersectionSphere(b))){r.subVectors(b.center,this.ray.origin);A=r.dot(this.ray.direction);P=A*A-(r.lengthSq()-b.radius*b.radius);if(0>A)break a;
N=0>=P?A:A-Math.sqrt(P);C.push({clickable:B,distance:N});break a}}}m.sort(l);return m};return a}();WebMol.Projector=function(){new WebMol.Matrix4;var a=new WebMol.Matrix4;this.projectVector=function(b,d){d.matrixWorldInverse.getInverse(d.matrixWorld);a.multiplyMatrices(d.projectionMatrix,d.matrixWorldInverse);return b.applyProjection(a)};this.unprojectVector=function(b,d){d.projectionMatrixInverse.getInverse(d.projectionMatrix);a.multiplyMatrices(d.matrixWorld,d.projectionMatrixInverse);return b.applyProjection(a)}};
WebMol.Camera=function(a,b,d,q){WebMol.Object3D.call(this);this.fov=void 0!==a?a:50;this.aspect=void 0!==b?b:1;this.near=void 0!==d?d:.1;this.far=void 0!==q?q:2E3;this.projectionMatrix=new WebMol.Matrix4;this.projectionMatrixInverse=new WebMol.Matrix4;this.matrixWorldInverse=new WebMol.Matrix4;this.updateProjectionMatrix()};WebMol.Camera.prototype=Object.create(WebMol.Object3D.prototype);
WebMol.Camera.prototype.lookAt=function(a){this.matrix.lookAt(this.position,a,this.up);this.rotationAutoUpdate&&(!1===this.useQuaternion?this.rotation.setEulerFromRotationMatrix(this.matrix,this.eulerOrder):this.quaternion.copy(this.matrix.decompose()[1]))};WebMol.Camera.prototype.updateProjectionMatrix=function(){this.projectionMatrix.makePerspective(this.fov,this.aspect,this.near,this.far)};
WebMol.SpritePlugin=function(){function a(a,b){return a.z!==b.z?b.z-a.z:b.id-a.id}var b,d,q,g,r,s,t,n,l,x;this.init=function(a){b=a.context;d=a;q=a.getPrecision();g=new Float32Array(16);r=new Uint16Array(6);a=0;g[a++]=-1;g[a++]=-1;g[a++]=0;g[a++]=0;g[a++]=1;g[a++]=-1;g[a++]=1;g[a++]=0;g[a++]=1;g[a++]=1;g[a++]=1;g[a++]=1;g[a++]=-1;g[a++]=1;g[a++]=0;g[a++]=1;a=0;r[a++]=0;r[a++]=1;r[a++]=2;r[a++]=0;r[a++]=2;r[a++]=3;s=b.createBuffer();t=b.createBuffer();b.bindBuffer(b.ARRAY_BUFFER,s);b.bufferData(b.ARRAY_BUFFER,
g,b.STATIC_DRAW);b.bindBuffer(b.ELEMENT_ARRAY_BUFFER,t);b.bufferData(b.ELEMENT_ARRAY_BUFFER,r,b.STATIC_DRAW);a=WebMol.ShaderLib.sprite;var e=q,m=b.createProgram(),v=b.createShader(b.FRAGMENT_SHADER),z=b.createShader(b.VERTEX_SHADER),e="precision "+e+" float;\n";b.shaderSource(v,e+a.fragmentShader);b.shaderSource(z,e+a.vertexShader);b.compileShader(v);b.compileShader(z);b.getShaderParameter(v,b.COMPILE_STATUS)&&b.getShaderParameter(z,b.COMPILE_STATUS)?(b.attachShader(m,v),b.attachShader(m,z),b.linkProgram(m),
b.getProgramParameter(m,b.LINK_STATUS)||console.error("Could not initialize shader"),a=m):(console.error(b.getShaderInfoLog(v)),console.error("could not initialize shader"),a=null);n=a;l={};x={};l.position=b.getAttribLocation(n,"position");l.uv=b.getAttribLocation(n,"uv");x.uvOffset=b.getUniformLocation(n,"uvOffset");x.uvScale=b.getUniformLocation(n,"uvScale");x.rotation=b.getUniformLocation(n,"rotation");x.scale=b.getUniformLocation(n,"scale");x.alignment=b.getUniformLocation(n,"alignment");x.color=
b.getUniformLocation(n,"color");x.map=b.getUniformLocation(n,"map");x.opacity=b.getUniformLocation(n,"opacity");x.useScreenCoordinates=b.getUniformLocation(n,"useScreenCoordinates");x.sizeAttenuation=b.getUniformLocation(n,"sizeAttenuation");x.screenPosition=b.getUniformLocation(n,"screenPosition");x.modelViewMatrix=b.getUniformLocation(n,"modelViewMatrix");x.projectionMatrix=b.getUniformLocation(n,"projectionMatrix");x.fogType=b.getUniformLocation(n,"fogType");x.fogDensity=b.getUniformLocation(n,
"fogDensity");x.fogNear=b.getUniformLocation(n,"fogNear");x.fogFar=b.getUniformLocation(n,"fogFar");x.fogColor=b.getUniformLocation(n,"fogColor");x.alphaTest=b.getUniformLocation(n,"alphaTest")};this.render=function(g,e,m,q){var r=g.__webglSprites,A=r.length;if(A){var B=l,C=x,G=q/m;m*=.5;var F=.5*q;b.useProgram(n);b.enableVertexAttribArray(B.position);b.enableVertexAttribArray(B.uv);b.disable(b.CULL_FACE);b.enable(b.BLEND);b.bindBuffer(b.ARRAY_BUFFER,s);b.vertexAttribPointer(B.position,2,b.FLOAT,
!1,16,0);b.vertexAttribPointer(B.uv,2,b.FLOAT,!1,16,8);b.bindBuffer(b.ELEMENT_ARRAY_BUFFER,t);b.uniformMatrix4fv(C.projectionMatrix,!1,e.projectionMatrix.elements);b.activeTexture(b.TEXTURE0);b.uniform1i(C.map,0);var E=B=0;(B=g.fog)?(b.uniform3f(C.fogColor,B.color.r,B.color.g,B.color.b),b.uniform1f(C.fogNear,B.near),b.uniform1f(C.fogFar,B.far),b.uniform1i(C.fogType,1),E=B=1):(b.uniform1i(C.fogType,0),E=B=0);var D,u,h,J=[];for(D=0;D<A;D++)u=r[D],h=u.material,u.visible&&0!==h.opacity&&(h.useScreenCoordinates?
u.z=-u.position.z:(u._modelViewMatrix.multiplyMatrices(e.matrixWorldInverse,u.matrixWorld),u.z=-u._modelViewMatrix.elements[14]));r.sort(a);for(D=0;D<A;D++)u=r[D],h=u.material,u.visible&&0!==h.opacity&&h.map&&h.map.image&&h.map.image.width&&(b.uniform1f(C.alphaTest,h.alphaTest),!0===h.useScreenCoordinates?(b.uniform1i(C.useScreenCoordinates,1),b.uniform3f(C.screenPosition,(u.position.x*d.devicePixelRatio-m)/m,(F-u.position.y*d.devicePixelRatio)/F,Math.max(0,Math.min(1,u.position.z))),J[0]=d.devicePixelRatio,
J[1]=d.devicePixelRatio):(b.uniform1i(C.useScreenCoordinates,0),b.uniform1i(C.sizeAttenuation,h.sizeAttenuation?1:0),b.uniformMatrix4fv(C.modelViewMatrix,!1,u._modelViewMatrix.elements),J[0]=1,J[1]=1),e=g.fog&&h.fog?E:0,B!==e&&(b.uniform1i(C.fogType,e),B=e),e=1/(h.scaleByViewport?q:1),J[0]=J[0]*e*G*u.scale.x,J[1]=J[1]*e*u.scale.y,b.uniform2f(C.uvScale,h.uvScale.x,h.uvScale.y),b.uniform2f(C.uvOffset,h.uvOffset.x,h.uvOffset.y),b.uniform2f(C.alignment,h.alignment.x,h.alignment.y),b.uniform1f(C.opacity,
h.opacity),b.uniform3f(C.color,h.color.r,h.color.g,h.color.b),b.uniform1f(C.rotation,u.rotation),b.uniform2fv(C.scale,J),d.setDepthTest(h.depthTest),d.setDepthWrite(h.depthWrite),d.setTexture(h.map,0),b.drawElements(b.TRIANGLES,6,b.UNSIGNED_SHORT,0));b.enable(b.CULL_FACE)}}};WebMol.Light=function(a,b){WebMol.Object3D.call(this);this.color=new WebMol.Color(a);this.position=new WebMol.Vector3(0,1,0);this.target=new WebMol.Object3D;this.intensity=void 0!==b?b:1;this.onlyShadow=this.castShadow=!1};
WebMol.Light.prototype=Object.create(WebMol.Object3D.prototype);WebMol.Material=function(){WebMol.EventDispatcher.call(this);this.id=WebMol.MaterialIdCount++;this.name="";this.side=WebMol.FrontSide;this.opacity=1;this.transparent=!1;this.blending=WebMol.NormalBlending;this.depthWrite=this.depthTest=!0;this.polygonOffset=!1;this.alphaTest=this.polygonOffsetUnits=this.polygonOffsetFactor=0;this.needsUpdate=this.visible=!0};
WebMol.Material.prototype.setValues=function(a){if(void 0!==a)for(var b in a){var d=a[b];if(void 0===d)console.warn("WebMol.Material: '"+b+"' parameter is undefined.");else if(b in this){var q=this[b];q instanceof WebMol.Color&&d instanceof WebMol.Color?q.copy(d):q instanceof WebMol.Color?q.set(d):q instanceof WebMol.Vector3&&d instanceof WebMol.Vector3?q.copy(d):this[b]=d}}};
WebMol.Material.prototype.clone=function(a){void 0===a&&(a=new WebMol.Material);a.name=this.name;a.side=this.side;a.opacity=this.opacity;a.transparent=this.transparent;a.blending=this.blending;a.depthTest=this.depthTest;a.depthWrite=this.depthWrite;a.polygonOffset=this.polygonOffset;a.polygonOffsetFactor=this.polygonOffsetFactor;a.polygonOffsetUnits=this.polygonOffsetUnits;a.alphaTest=this.alphaTest;a.overdraw=this.overdraw;a.visible=this.visible;return a};WebMol.Material.prototype.dispose=function(){this.dispatchEvent({type:"dispose"})};
WebMol.MaterialIdCount=0;WebMol.LineBasicMaterial=function(a){WebMol.Material.call(this);this.color=new WebMol.Color(16777215);this.linewidth=1;this.linejoin=this.linecap="round";this.vertexColors=!1;this.fog=!0;this.setValues(a)};WebMol.LineBasicMaterial.prototype=Object.create(WebMol.Material.prototype);WebMol.LineBasicMaterial.prototype.clone=function(){var a=new WebMol.LineBasicMaterial;WebMol.Material.prototype.clone.call(this,a);a.color.copy()};
WebMol.MeshLambertMaterial=function(a){WebMol.Material.call(this);this.color=new WebMol.Color(16777215);this.ambient=new WebMol.Color(1048575);this.emissive=new WebMol.Color(0);this.wrapAround=!1;this.wrapRGB=new WebMol.Vector3(1,1,1);this.envMap=this.specularMap=this.lightMap=this.map=null;this.reflectivity=1;this.refractionRatio=.98;this.fog=!0;this.wireframe=!1;this.wireframeLinewidth=1;this.wireframeLinejoin=this.wireframeLinecap="round";this.shading=WebMol.SmoothShading;this.vertexColors=WebMol.NoColors;
this.skinning=!1;this.setValues(a)};WebMol.MeshLambertMaterial.prototype=Object.create(WebMol.Material.prototype);
WebMol.MeshLambertMaterial.prototype.clone=function(){var a=new WebMol.MeshLambertMaterial;WebMol.Material.prototype.clone.call(this,a);a.color.copy(this.color);a.ambient.copy(this.ambient);a.emissive.copy(this.emissive);a.wrapAround=this.wrapAround;a.wrapRGB.copy(this.wrapRGB);a.map=this.map;a.lightMap=this.lightMap;a.specularMap=this.specularMap;a.envMap=this.envMap;a.combine=this.combine;a.reflectivity=this.reflectivity;a.refractionRatio=this.refractionRatio;a.fog=this.fog;a.shading=this.shading;
a.vertexColors=this.vertexColors;a.skinning=this.skinning;a.morphTargets=this.morphTargets;a.morphNormals=this.morphNormals;return a};
WebMol.SpriteMaterial=function(a){WebMol.Material.call(this);this.color=new WebMol.Color(16777215);this.map=new WebMol.Texture;this.useScreenCoordinates=!0;this.depthTest=!this.useScreenCoordinates;this.sizeAttenuation=!this.useScreenCoordinates;this.scaleByViewPort=!this.sizeAttenuation;this.alignment=WebMol.SpriteAlignment.center.clone();this.fog=!1;this.uvOffset=new WebMol.Vector2(0,0);this.uvScale=new WebMol.Vector2(1,1);this.setValues(a);a=a||{};void 0===a.depthTest&&(this.depthTest=!this.useScreenCoordinates);
void 0===a.sizeAttenuation&&(this.sizeAttenuation=!this.useScreenCoordinates);void 0===a.scaleByViewPort&&(this.scaleByViewPort=!this.sizeAttenuation)};WebMol.SpriteMaterial.prototype=Object.create(WebMol.Material.prototype);
WebMol.SpriteMaterial.prototype.clone=function(){var a=new WebMol.SpriteMaterial;WebMol.Material.prototype.clone.call(this,a);a.color.copy(this.color);a.map=this.map;a.useScreenCoordinates=useScreenCoordinates;a.sizeAttenuation=this.sizeAttenuation;a.scaleByViewport=this.scaleByViewPort;a.alignment.copy(this.alignment);a.uvOffset.copy(this.uvOffset);return a};WebMol.SpriteAlignment={};WebMol.SpriteAlignment.topLeft=new WebMol.Vector2(1,-1);WebMol.SpriteAlignment.topCenter=new WebMol.Vector2(0,-1);
WebMol.SpriteAlignment.topRight=new WebMol.Vector2(-1,-1);WebMol.SpriteAlignment.centerLeft=new WebMol.Vector2(1,0);WebMol.SpriteAlignment.center=new WebMol.Vector2(0,0);WebMol.SpriteAlignment.centerRight=new WebMol.Vector2(-1,0);WebMol.SpriteAlignment.bottomLeft=new WebMol.Vector2(1,1);WebMol.SpriteAlignment.bottomCenter=new WebMol.Vector2(0,1);WebMol.SpriteAlignment.bottomRight=new WebMol.Vector2(-1,1);
WebMol.Texture=function(a){WebMol.EventDispatcher.call(this);this.id=WebMol.TextureIdCount++;this.name="";this.image=a;this.mipmaps=[];this.mapping=new WebMol.UVMapping;this.wrapT=this.wrapS=WebMol.ClampToEdgeWrapping;this.magFilter=WebMol.LinearFilter;this.minFilter=WebMol.LinearMipMapLinearFilter;this.anisotropy=1;this.format=WebMol.RGBAFormat;this.type=WebMol.UnsignedByteType;this.offset=new WebMol.Vector2(0,0);this.repeat=new WebMol.Vector2(1,1);this.generateMipmaps=!0;this.premultiplyAlpha=!1;
this.flipY=!0;this.unpackAlignment=4;this.needsUpdate=!1;this.onUpdate=null};
WebMol.Texture.prototype={constructor:WebMol.Texture,clone:function(a){void 0===a&&(a=new WebMol.Texture);a.image=this.image;a.mipmaps=this.mipmaps.slice(0);a.mapping=this.mapping;a.wrapS=this.wrapS;a.wrapT=this.wrapT;a.magFilter=this.magFilter;a.minFilter=this.minFilter;a.anisotropy=this.anisotropy;a.format=this.format;a.type=this.type;a.offset.copy(this.offset);a.repeat.copy(this.repeat);a.generateMipmaps=this.generateMipmaps;a.premultiplyAlpha=this.premultiplyAlpha;a.flipY=this.flipY;a.unpackAlignment=
this.unpackAlignment;return a},dispose:function(){this.dispatchEvent({type:"dispose"})}};WebMol.TextureIdCount=0;WebMol.Line=function(a,b,d){WebMol.Object3D.call(this);this.geometry=a;this.material=void 0!==b?b:new WebMol.LineBasicMaterial({color:16777215*Math.random()});this.type=void 0!==d?d:WebMol.LineStrip};WebMol.LineStrip=0;WebMol.LinePieces=1;WebMol.Line.prototype=Object.create(WebMol.Object3D.prototype);
WebMol.Line.prototype.clone=function(a){void 0===a&&(a=new WebMol.Line(this.geometry,this.material,this.type));WebMol.Object3D.prototype.clone.call(this,a);return a};WebMol.Mesh=function(a,b){WebMol.Object3D.call(this);this.geometry=a;this.material=void 0!==b?b:new WebMol.MeshBasicMaterial({color:16777215*Math.random(),wireframe:!0})};WebMol.Mesh.prototype=Object.create(WebMol.Object3D.prototype);
WebMol.Mesh.prototype.clone=function(a){void 0===a&&(a=new WebMol.Mesh(this.geometry,this.material));WebMol.Object3D.prototype.clone.call(this,a);return a};WebMol.Sprite=function(a){WebMol.Object3D.call(this);this.material=void 0!==a?a:new WebMol.SpriteMaterial;this.rotation3d=this.rotation;this.rotation=0};WebMol.Sprite.prototype=Object.create(WebMol.Object3D.prototype);
WebMol.Sprite.prototype.updateMatrix=function(){this.matrix.setPosition(this.position);this.rotation3d.set(0,0,this.rotation);this.matrix.setRotationFromEuler(this.rotation3d);1===this.scale.x&&1===this.scale.y||this.matrix.scale(this.scale);this.matrixWorldNeedsUpdate=!0};WebMol.Sprite.prototype.clone=function(a){void 0===a&&(a=new WebMol.Sprite(this.material));WebMol.Object3D.prototype.clone.call(this,a);return a};
WebMol.Renderer=function(a){function b(a){Y[a]||(w.enableVertexAttribArray(a),Y[a]=!0)}function d(a,b){var e;"fragment"===a?e=w.createShader(w.FRAGMENT_SHADER):"vertex"===a&&(e=w.createShader(w.VERTEX_SHADER));w.shaderSource(e,b);w.compileShader(e);return w.getShaderParameter(e,w.COMPILE_STATUS)?e:(console.error(w.getShaderInfoLog(e)),console.error("could not initialize shader"),null)}function q(a,b,e,h,d,g,l,p){var f,m,n;b?(m=a.length-1,p=b=-1):(m=0,b=a.length,p=1);for(var q=m;q!==b;q+=p)if(f=a[q],
f.render&&(m=f.object,n=f.buffer,f=f[e])){l&&z.setBlending(f.blending);z.setDepthTest(f.depthTest);z.setDepthWrite(f.depthWrite);var H=f.polygonOffset;null!==H&&(H?w.enable(w.POLYGON_OFFSET_FILL):w.disable(w.POLYGON_OFFSET_FILL));z.setMaterialFaces(f);z.renderBuffer(h,d,g,f,n,m)}}function g(a){return 0===(a&a-1)}function r(a){return a===WebMol.UnsignedByteType?w.UNSIGNED_BYTE:a===WebMol.RGBAFormat?w.RGBA:0}a=a||{};var s=void 0!==a.canvas?a.canvas:document.createElement("canvas"),t=void 0!==a.precision?
a.precision:"highp",n=void 0!==a.alpha?a.alpha:!0,l=void 0!==a.premultipliedAlpha?a.premultipliedAlpha:!0,x=void 0!==a.antialias?a.antialias:!1,p=void 0!==a.stencil?a.stencil:!0,e=void 0!==a.preserveDrawingBuffer?a.preserveDrawingBuffer:!1,m=void 0!==a.clearColor?new WebMol.Color(a.clearColor):new WebMol.Color(0),v=void 0!==a.clearAlpha?a.clearAlpha:0;this.domElement=s;this.context=null;this.devicePixelRatio=void 0!==a.devicePixelRatio?a.devicePixelRatio:void 0!==self.devicePixelRatio?self.devicePixelRatio:
1;this.autoUpdateScene=this.autoUpdateObjects=this.sortObjects=this.autoClearStencil=this.autoClearDepth=this.autoClearColor=this.autoClear=!0;this.renderPluginsPost=[];this.info={memory:{programs:0,geometries:0,textures:0},render:{calls:0,vertices:0,faces:0,points:0}};var z=this,A=[],B=0,C=null,G=-1,F=null,E=null,D=0,u=-1,h=-1,J=-1,N=-1,O=null,Q=0,P=0,X=0,M=0,I=0,V=0,Y={},ca=new WebMol.Matrix4,K=new WebMol.Vector3,R=new WebMol.Vector3,ja=!0,la=[0,0,0],fa=[],Z=[],w;try{if(!(w=s.getContext("experimental-webgl",
{alpha:n,premultipliedAlpha:l,antialias:x,stencil:p,preserveDrawingBuffer:e})))throw"Error creating WebGL context.";}catch(L){console.error(L)}w.clearColor(0,0,0,1);w.clearDepth(1);w.clearStencil(0);w.enable(w.DEPTH_TEST);w.depthFunc(w.LEQUAL);w.frontFace(w.CCW);w.cullFace(w.BACK);w.enable(w.CULL_FACE);w.enable(w.BLEND);w.blendEquation(w.FUNC_ADD);w.blendFunc(w.SRC_ALPHA,w.ONE_MINUS_SRC_ALPHA);w.clearColor(m.r,m.g,m.b,v);this.context=w;this.getContext=function(){return w};this.getPrecision=function(){return t};
this.setClearColorHex=function(a,b){m.setHex(a);v=b;w.clearColor(m.r,m.g,m.b,v)};this.setSize=function(a,b){s.width=a*this.devicePixelRatio;s.height=b*this.devicePixelRatio;s.style.width=a+"px";s.style.height=b+"px";this.setViewport(0,0,s.width,s.height)};this.setViewport=function(a,b,e,h){Q=void 0!==a?a:0;P=void 0!==b?b:0;X=void 0!==e?e:s.width;M=void 0!==h?h:s.height;w.viewport(Q,P,X,M)};this.clear=function(a,b,e){var h=0;if(void 0===a||a)h|=w.COLOR_BUFFER_BIT;if(void 0===b||b)h|=w.DEPTH_BUFFER_BIT;
if(void 0===e||e)h|=w.STENCIL_BUFFER_BIT;w.clear(h)};this.clearTarget=function(a,b,e,h){this.setRenderTarget(a);this.clear(b,e,h)};this.setMaterialFaces=function(a){var b=a.side===WebMol.DoubleSide;a=a.side===WebMol.BackSide;u!==b&&(b?w.disable(w.CULL_FACE):w.enable(w.CULL_FACE),u=b);h!==a&&(a?w.frontFace(w.CW):w.frontFace(w.CCW),h=a)};this.setDepthTest=function(a){J!==a&&(a?w.enable(w.DEPTH_TEST):w.disable(w.DEPTH_TEST),J=a)};this.setDepthWrite=function(a){N!==a&&(w.depthMask(a),N=a)};this.setBlending=
function(a){a===WebMol.NoBlending?w.disable(w.BLEND):(w.enable(w.BLEND),w.blendEquationSeparate(w.FUNC_ADD,w.FUNC_ADD),w.blendFuncSeparate(w.SRC_ALPHA,w.ONE_MINUS_SRC_ALPHA,w.ONE,w.ONE_MINUS_SRC_ALPHA))};this.addPostPlugin=function(a){a.init(this);this.renderPluginsPost.push(a)};var da=function(a){a=a.target;a.removeEventListener("dispose",da);a.__webglInit=void 0;void 0!==a.__webglVertexBuffer&&w.deleteBuffer(a.__webglVertexBuffer);void 0!==a.__webglColorBuffer&&w.deleteBuffer(a.__webglColorBuffer);
if(void 0!==a.geometryGroups)for(var b=0,e=a.groups;b<e;b++){var h=a.geometryGroups[b];void 0!==h.__webglVertexBuffer&&w.deleteBuffer(h.__webglVertexBuffer);void 0!==h.__webglColorBuffer&&w.deleteBuffer(h.__webglColorBuffer);void 0!==h.__webglNormalBuffer&&w.deleteBuffer(h.__webglNormalBuffer);void 0!==h.__webglFaceBuffer&&w.deleteBuffer(h.__webglFaceBuffer);void 0!==h.__webglLineBuffer&&w.deleteBuffer(h.__webglLineBuffer)}z.info.memory.geometries--},H=function(a){a=a.target;a.removeEventListener("dispose",
H);a.image&&a.image.__webglTextureCube?w.deleteTexture(a.image.__webglTextureCube):a.__webglInit&&(a.__webglInit=!1,w.deleteTexture(a.__webglTexture));z.info.memory.textures--},S=function(a){a=a.target;a.removeEventListener("dispose",S);ba(a)},ba=function(a){var b=a.program;if(void 0!==b){a.program=void 0;var e,h,d=!1;a=0;for(e=A.length;a<e;a++)if(h=A[a],h.program===b){h.usedTimes--;0===h.usedTimes&&(d=!0);break}if(!0===d){d=[];a=0;for(e=A.length;a<e;a++)h=A[a],h.program!==b&&d.push(h);A=d;w.deleteProgram(b);
z.info.memory.programs--}}};this.initMaterial=function(a,b,e,h){a.addEventListener("dispose",S);var g;a instanceof WebMol.LineBasicMaterial?g="basic":a instanceof WebMol.MeshLambertMaterial&&(g="lambert");g&&(b=WebMol.ShaderLib[g],a.shaderType=g,a.vertexShader=b.vertexShader,a.fragmentShader=b.fragmentShader,a.uniforms=WebMol.ShaderUtils.clone(b.uniforms));var l;a:{h=a.fragmentShader;e=a.vertexShader;b=a.uniforms;var p={wireframe:a.wireframe},m,f;g=[];g.push(h);g.push(e);for(m in p)g.push(m),g.push(p[m]);
g=g.join();m=0;for(f=A.length;m<f;m++){var n=A[m];if(n.code===g){n.usedTimes++;l=n.program;break a}}m=w.createProgram();n="precision "+t+" float;";f=""+n;p=[p.wireframe?"#define WIREFRAME 1":"",n].join("\n");h=d("fragment",p+h);e=d("vertex",f+e);w.attachShader(m,e);w.attachShader(m,h);w.linkProgram(m);w.getProgramParameter(m,w.LINK_STATUS)||console.error("Could not initialize shader");m.uniforms={};m.attributes={};e="viewMatrix modelViewMatrix projectionMatrix normalMatrix modelMatrix cameraPosition".split(" ");
for(l in b)e.push(l);for(l=0;l<e.length;l++)b=e[l],m.uniforms[b]=w.getUniformLocation(m,b);e=["position","normal","color","lineDistance"];for(l=0;l<e.length;l++)b=e[l],m.attributes[b]=w.getAttribLocation(m,b);m.id=B++;A.push({program:m,code:g,usedTimes:1});z.info.memory.programs=A.length;l=m}a.program=l};this.renderBuffer=function(a,e,h,d,g,l){if(d.visible){var p;d.needsUpdate&&(d.program&&ba(d),z.initMaterial(d,e,h,l),d.needsUpdate=!1);var m=!1,f=d.program,n=f.uniforms;p=d.uniforms;f!=C&&(w.useProgram(f),
C=f,m=!0);d.id!=G&&(G=d.id,m=!0);a!=E&&(E=a,m=!0);if(m){w.uniformMatrix4fv(n.projectionMatrix,!1,a.projectionMatrix.elements);w.uniformMatrix4fv(n.modelViewMatrix,!1,l._modelViewMatrix.elements);p.fogColor.value=h.color;p.fogNear.value=h.near;p.fogFar.value=h.far;if("lambert"===d.shaderType){w.uniformMatrix4fv(n.viewMatrix,!1,a.matrixWorldInverse.elements);w.uniformMatrix3fv(n.normalMatrix,!1,l._normalMatrix.elements);if(ja){var q,H,s=0,v=0,I=0;a=0;for(h=e.length;a<h;a++)if(m=e[a],q=m.color,H=m.intensity,
m instanceof WebMol.Light&&(s++,R.getPositionFromMatrix(m.matrixWorld),K.getPositionFromMatrix(m.target.matrixWorld),R.sub(K),R.normalize(),0!==R.x||0!==R.y||0!==R.z))Z[I]=R.x,Z[I+1]=R.y,Z[I+2]=R.z,fa[I]=q.r*H,fa[I+1]=q.g*H,fa[I+2]=q.b*H,I+=3,v++;la[0]=0;la[1]=0;la[2]=0;ja=!1}p.ambientLightColor.value=la;p.directionalLightColor.value=fa;p.directionalLightDirection.value=Z;p.ambient.value=d.ambient;p.emissive.value=d.emissive}p.opacity.value=d.opacity;p.diffuse.value=d.color;for(var r in p)n[r]&&(e=
p[r].type,a=p[r].value,h=n[r],"f"===e?w.uniform1f(h,a):"fv"===e?w.uniform3fv(h,a):"c"===e&&w.uniform3f(h,a.r,a.g,a.b))}p=f.attributes;n=!1;f=16777215*g.id+2*f.id+(d.wireframe?1:0);f!==F&&(F=f,n=!0);if(n){for(var x in Y)Y[x]&&(w.disableVertexAttribArray(x),Y[x]=!1);0<=p.position&&(w.bindBuffer(w.ARRAY_BUFFER,g.__webglVertexBuffer),b(p.position),w.vertexAttribPointer(p.position,3,w.FLOAT,!1,0,0));0<=p.color&&(w.bindBuffer(w.ARRAY_BUFFER,g.__webglColorBuffer),b(p.color),w.vertexAttribPointer(p.color,
3,w.FLOAT,!1,0,0));0<=p.normal&&(w.bindBuffer(w.ARRAY_BUFFER,g.__webglNormalBuffer),b(p.normal),w.vertexAttribPointer(p.normal,3,w.FLOAT,!1,0,0))}var A;l instanceof WebMol.Mesh?(d.wireframe?(l=g.lineidx,d=d.wireframeLinewidth,d!==O&&(w.lineWidth(d),O=d),n&&w.bindBuffer(w.ELEMENT_ARRAY_BUFFER,g.__webglLineBuffer),w.drawElements(w.LINES,l,w.UNSIGNED_SHORT,0)):(A=g.faceidx,n&&w.bindBuffer(w.ELEMENT_ARRAY_BUFFER,g.__webglFaceBuffer),w.drawElements(w.TRIANGLES,A,w.UNSIGNED_SHORT,0)),z.info.render.calls++,
z.info.render.vertices+=A,z.info.render.faces+=A/3):l instanceof WebMol.Line&&(l=g.vertices,g=d.linewidth,g!==O&&(w.lineWidth(g),O=g),w.drawArrays(w.LINES,0,l),z.info.render.calls++)}};this.render=function(a,b,e,d){if(!1===b instanceof WebMol.Camera)console.error("WebMol.Renderer.render: camera is not an instance of WebMol.Camera.");else{var g,l,p,m;e=a.__lights;var f=a.fog;G=-1;ja=!0;this.autoUpdateScene&&a.updateMatrixWorld();void 0===b.parent&&b.updateMatrixWorld();b.matrixWorldInverse.getInverse(b.matrixWorld);
ca.multiplyMatrices(b.projectionMatrix,b.matrixWorldInverse);this.autoUpdateObjects&&this.initWebGLObjects(a);z.info.render.calls=0;z.info.render.vertices=0;z.info.render.faces=0;z.info.render.points=0;I=X;V=M;(this.autoClear||d)&&this.clear(this.autoClearColor,this.autoClearDepth,this.autoClearStencil);m=a.__webglObjects;d=0;for(g=m.length;d<g;d++)if(l=m[d],p=l.object,l.render=!1,p.visible){p._modelViewMatrix.multiplyMatrices(b.matrixWorldInverse,p.matrixWorld);p._normalMatrix.getInverse(p._modelViewMatrix);
p._normalMatrix.transpose();p=l;var n=p.object.material;n.transparent?(p.opaque=null,p.transparent=n,n=n.clone(),n.opacity=0,p.blank=n):(p.opaque=n,p.transparent=null);l.render=!0}this.setBlending(WebMol.NoBlending);q(a.__webglObjects,!0,"opaque",b,e,f,!1,null);q(a.__webglObjects,!0,"blank",b,e,f,!0,null);q(a.__webglObjects,!1,"transparent",b,e,f,!0,null);e=this.renderPluginsPost;F=-1;E=C=null;h=G=u=J=N=-1;if(e.length)for(f=0,d=e.length;f<d;f++)ja=!0,e[f].render(a,b,I,V),F=-1,E=C=null,h=G=u=J=N=-1;
this.setDepthTest(!0);this.setDepthWrite(!0)}};this.initWebGLObjects=function(a){a.__webglObjects||(a.__webglObjects=[],a.__webglObjectsImmediate=[],a.__webglSprites=[],a.__webglFlares=[]);if(a.__objectsAdded.length){for(;a.__objectsAdded.length;){var b=a.__objectsAdded[0],e=a,h=void 0,d=void 0,g=void 0,l=void 0;if(!b.__webglInit&&(b.__webglInit=!0,b._modelViewMatrix=new WebMol.Matrix4,b._normalMatrix=new WebMol.Matrix3,void 0!==b.geometry&&void 0===b.geometry.__webglInit&&(b.geometry.__webglInit=
!0,b.geometry.addEventListener("dispose",da)),b instanceof WebMol.Mesh||b instanceof WebMol.Line))for(g=b.geometry,h=0,d=g.geometryGroups.length;h<d;h++)l=g.geometryGroups[h],l.id=D++,l.__webglVertexBuffer||(b instanceof WebMol.Mesh?(l.__webglVertexBuffer=w.createBuffer(),l.__webglNormalBuffer=w.createBuffer(),l.__webglColorBuffer=w.createBuffer(),l.__webglFaceBuffer=w.createBuffer(),l.__webglLineBuffer=w.createBuffer(),z.info.memory.geometries++,g.elementsNeedUpdate=!0,g.normalsNeedUpdate=!0):b instanceof
WebMol.Line&&(l.__webglVertexBuffer=w.createBuffer(),l.__webglColorBuffer=w.createBuffer(),z.info.memory.geometries++),g.verticesNeedUpdate=!0,g.colorsNeedUpdate=!0);if(!b.__webglActive){if(b instanceof WebMol.Mesh||b instanceof WebMol.Line)for(g=b.geometry,h=0,d=g.geometryGroups.length;h<d;h++)l=g.geometryGroups[h],e.__webglObjects.push({buffer:l,object:b,opaque:null,transparent:null});else b instanceof WebMol.Sprite&&e.__webglSprites.push(b);b.__webglActive=!0}a.__objectsAdded.splice(0,1)}F=-1}for(;a.__objectsRemoved.length;){b=
a.__objectsRemoved[0];e=a;if(b instanceof WebMol.Mesh||b instanceof WebMol.Line)for(e=e.__webglObjects,h=b,d=e.length-1;0<=d;--d)e[d].object===h&&e.splice(d,1);else if(b instanceof WebMol.Sprite)for(e=e.__webglSprites,h=b,d=e.length-1;0<=d;--d)e[d]===h&&e.splice(d,1);b.__webglActive=!1;a.__objectsRemoved.splice(0,1)}b=0;for(e=a.__webglObjects.length;b<e;b++)if(d=a.__webglObjects[b].object,h=d.geometry,l=void 0,d instanceof WebMol.Mesh||d instanceof WebMol.Line){d=0;for(g=h.geometryGroups.length;d<
g;d++)if(l=h.geometryGroups[d],h.verticesNeedUpdate||h.elementsNeedUpdate||h.colorsNeedUpdate||h.normalsNeedUpdate){var p=w.DYNAMIC_DRAW,f=l.__vertexArray,m=l.__colorArray;w.bindBuffer(w.ARRAY_BUFFER,l.__webglVertexBuffer);w.bufferData(w.ARRAY_BUFFER,f,p);w.bindBuffer(w.ARRAY_BUFFER,l.__webglColorBuffer);w.bufferData(w.ARRAY_BUFFER,m,p);void 0!==l.__normalArray&&void 0!==l.__webglNormalBuffer&&(f=l.__normalArray,w.bindBuffer(w.ARRAY_BUFFER,l.__webglNormalBuffer),w.bufferData(w.ARRAY_BUFFER,f,p));
void 0!==l.__faceArray&&void 0!==l.__webglFaceBuffer&&(f=l.__faceArray,w.bindBuffer(w.ELEMENT_ARRAY_BUFFER,l.__webglFaceBuffer),w.bufferData(w.ELEMENT_ARRAY_BUFFER,f,p));void 0!==l.__lineArray&&void 0!==l.__webglLineBuffer&&(f=l.__lineArray,w.bindBuffer(w.ELEMENT_ARRAY_BUFFER,l.__webglLineBuffer),w.bufferData(w.ELEMENT_ARRAY_BUFFER,f,p))}h.verticesNeedUpdate=!1;h.elementsNeedUpdate=!1;h.normalsNeedUpdate=!1;h.colorsNeedUpdate=!1;h.buffersNeedUpdate=!1}};this.setTexture=function(a,b){if(a.needsUpdate){a.__webglInit||
(a.__webglInit=!0,a.addEventListener("dispose",H),a.__webglTexture=w.createTexture(),z.info.memory.textures++);w.activeTexture(w.TEXTURE0+b);w.bindTexture(w.TEXTURE_2D,a.__webglTexture);w.pixelStorei(w.UNPACK_FLIP_Y_WEBGL,a.flipY);w.pixelStorei(w.UNPACK_PREMULTIPLY_ALPHA_WEBGL,a.premultiplyAlpha);w.pixelStorei(w.UNPACK_ALIGNMENT,a.unpackAlignment);var e=a.image,e=g(e.width)&&g(e.height),h=r(a.format),d=r(a.type),l=w.TEXTURE_2D;e?(w.texParameteri(l,w.TEXTURE_WRAP_S,r(a.wrapS)),w.texParameteri(l,w.TEXTURE_WRAP_T,
r(a.wrapT)),w.texParameteri(l,w.TEXTURE_MAG_FILTER,r(a.magFilter)),w.texParameteri(l,w.TEXTURE_MIN_FILTER,r(a.minFilter))):(w.texParameteri(l,w.TEXTURE_WRAP_S,w.CLAMP_TO_EDGE),w.texParameteri(l,w.TEXTURE_WRAP_T,w.CLAMP_TO_EDGE),w.texParameteri(l,w.TEXTURE_MAG_FILTER,w.LINEAR),w.texParameteri(l,w.TEXTURE_MIN_FILTER,w.LINEAR));var p=a.mipmaps;if(0<p.length&&e){for(var m=0,f=p.length;m<f;m++)l=p[m],w.texImage2D(w.TEXTURE_2D,m,h,h,d,l);a.generateMipmaps=!1}else w.texImage2D(w.TEXTURE_2D,0,h,h,d,a.image);
a.generateMipmaps&&e&&w.generateMipmap(w.TEXTURE_2D);a.needsUpdate=!1;if(a.onUpdate)a.onUpdate()}else w.activeTexture(w.TEXTURE0+b),w.bindTexture(w.TEXTURE_2D,a.__webglTexture)};this.addPostPlugin(new WebMol.SpritePlugin)};WebMol.Scene=function(){WebMol.Object3D.call(this);this.overrideMaterial=this.fog=null;this.matrixAutoUpdate=!1;this.__objects=[];this.__lights=[];this.__objectsAdded=[];this.__objectsRemoved=[]};WebMol.Scene.prototype=Object.create(WebMol.Object3D.prototype);
WebMol.Scene.prototype.__addObject=function(a){a instanceof WebMol.Light?(-1===this.__lights.indexOf(a)&&this.__lights.push(a),a.target&&void 0===a.target.parent&&this.add(a.target)):-1===this.__objects.indexOf(a)&&(this.__objects.push(a),this.__objectsAdded.push(a),-1!==this.__objectsRemoved.indexOf(a)&&this.__objectsRemoved.splice(b,1));for(var b in a.children)this.__addObject(a.children[b])};
WebMol.Scene.prototype.__removeObject=function(a){var b;a instanceof WebMol.Light?(b=this.__lights.indexOf(a),-1!==b&&this.__lights.splice(b,1)):(b=this.__objects.indexOf(a),-1!==b&&(this.__objects.splice(b,1),this.__objectsRemoved.push(a),-1!==this.__objectsAdded.indexOf(a)&&this.__objectsAdded.splice(b,1)));for(var d in a.children)this.__removeObject(a.children[d])};WebMol.Fog=function(a,b,d){this.name="";this.color=new WebMol.Color(a);this.near=void 0!==b?b:1;this.far=void 0!==d?d:1E3};
WebMol.Fog.prototype.clone=function(){return new WebMol.Fog(this.color.getHex(),this.near,this.far)};WebMol.ShaderUtils={clone:function(a){var b,d={};for(b in a){d[b]={};d[b].type=a[b].type;var q=a[b].value;q instanceof WebMol.Color?d[b].value=q.clone():"number"===typeof q?d[b].value=q:q instanceof Array?d[b].value=[]:console.error("Error copying shader uniforms from ShaderLib: unknown type for uniform")}return d}};
WebMol.ShaderLib={basic:{fragmentShader:"uniform mat4 viewMatrix;\nuniform vec3 cameraPosition;\nuniform vec3 diffuse;\nuniform float opacity;\nuniform vec3 fogColor;\nuniform float fogNear;\nuniform float fogFar;\nvarying vec3 vColor;\nvoid main() {\n    gl_FragColor = vec4( diffuse, opacity );\n    gl_FragColor = gl_FragColor * vec4( vColor, opacity );\n    float depth = gl_FragCoord.z / gl_FragCoord.w;\n    float fogFactor = smoothstep( fogNear, fogFar, depth );\n    gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );\n}",vertexShader:"uniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\nuniform mat4 viewMatrix;\nuniform mat3 normalMatrix;\nuniform vec3 cameraPosition;\nattribute vec3 position;\nattribute vec3 color;\nvarying vec3 vColor;\nvoid main() {\n    vColor = color;\n    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n    gl_Position = projectionMatrix * mvPosition;\n}",
uniforms:{opacity:{type:"f",value:1},diffuse:{type:"c",value:new WebMol.Color(1,1,1)},fogColor:{type:"c",value:new WebMol.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2E3}}},lambert:{fragmentShader:"uniform mat4 viewMatrix;\nuniform vec3 cameraPosition;\nuniform float opacity;\nuniform vec3 fogColor;\nuniform float fogNear;\nuniform float fogFar;\nvarying vec3 vLightFront;\nvarying vec3 vColor;\nvoid main() {\n    gl_FragColor = vec4( vec3 ( 1.0 ), opacity );\n    #ifndef WIREFRAME\n    gl_FragColor.xyz *= vLightFront;\n    #endif\n    gl_FragColor = gl_FragColor * vec4( vColor, opacity );\n    float depth = gl_FragCoord.z / gl_FragCoord.w;\n    float fogFactor = smoothstep( fogNear, fogFar, depth );\n    gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );\n}",
vertexShader:"uniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\nuniform mat4 viewMatrix;\nuniform mat3 normalMatrix;\nuniform vec3 cameraPosition;\nuniform vec3 ambient;\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 ambientLightColor;\nuniform vec3 directionalLightColor[ 1 ];\nuniform vec3 directionalLightDirection[ 1 ];\nattribute vec3 position;\nattribute vec3 normal;\nattribute vec3 color;\nvarying vec3 vColor;\nvarying vec3 vLightFront;\nvoid main() {\n    vColor = color;\n    vec3 objectNormal = normal;\n    vec3 transformedNormal = normalMatrix * objectNormal;\n    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n    vLightFront = vec3( 0.0 );\n    transformedNormal = normalize( transformedNormal );\n    vec4 lDirection = viewMatrix * vec4( directionalLightDirection[ 0 ], 0.0 );\n    vec3 dirVector = normalize( lDirection.xyz );\n    float dotProduct = dot( transformedNormal, dirVector );\n    vec3 directionalLightWeighting = vec3( max( dotProduct, 0.0 ) );\n    vLightFront += directionalLightColor[ 0 ] * directionalLightWeighting;\n    vLightFront = vLightFront * diffuse + ambient * ambientLightColor + emissive;\n    gl_Position = projectionMatrix * mvPosition;\n}",
uniforms:{opacity:{type:"f",value:1},diffuse:{type:"c",value:new WebMol.Color(1,1,1)},fogColor:{type:"c",value:new WebMol.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2E3},ambient:{type:"c",value:new WebMol.Color(1,1,1)},emissive:{type:"c",value:new WebMol.Color(1,1,1)},ambientLightColor:{type:"fv",value:[]},directionalLightColor:{type:"fv",value:[]},directionalLightDirection:{type:"fv",value:[]}}},sprite:{fragmentShader:"uniform vec3 color;\nuniform sampler2D map;\nuniform float opacity;\nuniform int fogType;\nuniform vec3 fogColor;\nuniform float fogDensity;\nuniform float fogNear;\nuniform float fogFar;\nuniform float alphaTest;\nvarying vec2 vUV;\nvoid main() {\n    vec4 texture = texture2D(map, vUV);\n    if (texture.a < alphaTest) discard;\n    gl_FragColor = vec4(color * texture.xyz, texture.a * opacity);\n    if (fogType > 0) {\n        float depth = gl_FragCoord.z / gl_FragCoord.w;\n        float fogFactor = 0.0;\n        if (fogType == 1) {\n            fogFactor = smoothstep(fogNear, fogFar, depth);\n        }\n        else {\n            const float LOG2 = 1.442695;\n            float fogFactor = exp2(- fogDensity * fogDensity * depth * depth * LOG2);\n            fogFactor = 1.0 - clamp(fogFactor, 0.0, 1.0);\n        }\n        gl_FragColor = mix(gl_FragColor, vec4(fogColor, gl_FragColor.w), fogFactor);\n    }\n}",
vertexShader:"uniform int useScreenCoordinates;\nuniform int sizeAttenuation;\nuniform vec3 screenPosition;\nuniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\nuniform float rotation;\nuniform vec2 scale;\nuniform vec2 alignment;\nuniform vec2 uvOffset;\nuniform vec2 uvScale;\nattribute vec2 position;\nattribute vec2 uv;\nvarying vec2 vUV;\nvoid main() {\n    vUV = uvOffset + uv * uvScale;\n    vec2 alignedPosition = position + alignment;\n    vec2 rotatedPosition;\n    rotatedPosition.x = ( cos(rotation) * alignedPosition.x - sin(rotation) * alignedPosition.y ) * scale.x;\n    rotatedPosition.y = ( sin(rotation) * alignedPosition.x + cos(rotation) * alignedPosition.y ) * scale.y;\n    vec4 finalPosition;\n    if(useScreenCoordinates != 0) {\n        finalPosition = vec4(screenPosition.xy + rotatedPosition, screenPosition.z, 1.0);\n    }\n    else {\n        finalPosition = projectionMatrix * modelViewMatrix * vec4(0.0, 0.0, 0.0, 1.0);\n        finalPosition.xy += rotatedPosition * (sizeAttenuation == 1 ? 1.0 : finalPosition.z);\n    }\n    gl_Position = finalPosition;\n}",
uniforms:{}}};
WebMol.workerString=function(){self.onmessage=function(a){a=a.data;var b=a.type;if(0>b)self.atomData=a.atoms,self.volume=a.volume,self.ps=new ProteinSurface;else{var d=self.ps;d.initparm(a.expandedExtent,1==b?!1:!0,self.volume);d.fillvoxels(self.atomData,a.extendedAtoms);d.buildboundary();if(4===b||2===b)d.fastdistancemap(),d.boundingatom(!1),d.fillvoxelswaals(self.atomData,a.extendedAtoms);d.marchingcube(b);a=d.getFacesAndVertices(a.atomsToShow);self.postMessage(a)}}}.toString().replace(/(^.*?\{|\}$)/g,"");
WebMol.workerString+=";var Vector3=function(x,y,z){this.x=x||0,this.y=y||0,this.z=z||0};Vector3.prototype={constructor:Vector3,copy:function(v){return this.x=v.x,this.y=v.y,this.z=v.z,this},multiplyScalar:function(s){return this.x*=s,this.y*=s,this.z*=s,this}}";WebMol.workerString+=";var ISDONE=2";WebMol.workerString+=",ProteinSurface="+WebMol.ProteinSurface.toString().replace(/WebMol.MarchingCube./g,"");WebMol.workerString+=",march="+WebMol.MarchingCube.march.toString().replace(/WebMol./g,"");
WebMol.workerString+=",laplacianSmooth="+WebMol.MarchingCube.laplacianSmooth.toString();WebMol.workerString+=",edgeTable=new Uint32Array(["+WebMol.MarchingCube.edgeTable.toString()+"])";WebMol.workerString+=",triTable=[";for(var i=0,il=WebMol.MarchingCube.triTable.length;i<il-1;i++)WebMol.workerString+="["+WebMol.MarchingCube.triTable[i].toString()+"],";WebMol.workerString+="[]]";WebMol.workerString='self.onmessage=function(oEvent){var obj=oEvent.data,type=obj.type;if(0>type)self.atomData=obj.atoms,self.volume=obj.volume,self.ps=new ProteinSurface;else{var ps=self.ps;ps.initparm(obj.expandedExtent,1==type?!1:!0,self.volume),ps.fillvoxels(self.atomData,obj.extendedAtoms),ps.buildboundary(),(4===type||2===type)&&(ps.fastdistancemap(),ps.boundingatom(!1),ps.fillvoxelswaals(self.atomData,obj.extendedAtoms)),ps.marchingcube(type);var VandF=ps.getFacesAndVertices(obj.atomsToShow);self.postMessage(VandF)}};var Vector3=function(x,y,z){this.x=x||0,this.y=y||0,this.z=z||0};Vector3.prototype={constructor:Vector3,copy:function(v){return this.x=v.x,this.y=v.y,this.z=v.z,this},multiplyScalar:function(s){return this.x*=s,this.y*=s,this.z*=s,this}};var ISDONE=2,ProteinSurface=function (){var faces,verts,origextent,INOUT=1,ISDONE=2,ISBOUND=4,ptranx=0,ptrany=0,ptranz=0,probeRadius=1.4,defaultScaleFactor=2,scaleFactor=defaultScaleFactor,pHeight=0,pWidth=0,pLength=0,cutRadius=0,vpBits=null,vpDistance=null,vpAtomID=null,pminx=0,pminy=0,pminz=0,pmaxx=0,pmaxy=0,pmaxz=0,vdwRadii={H:1.2,Li:1.82,Na:2.27,K:2.75,C:1.7,N:1.55,O:1.52,F:1.47,P:1.8,S:1.8,CL:1.75,BR:1.85,SE:1.9,ZN:1.39,CU:1.4,NI:1.63,X:2},getVDWIndex=function(atom){return atom.elem&&"undefined"!=typeof vdwRadii[atom.elem]?atom.elem:"X"},depty={},widxz={},nb=[new Int32Array([1,0,0]),new Int32Array([-1,0,0]),new Int32Array([0,1,0]),new Int32Array([0,-1,0]),new Int32Array([0,0,1]),new Int32Array([0,0,-1]),new Int32Array([1,1,0]),new Int32Array([1,-1,0]),new Int32Array([-1,1,0]),new Int32Array([-1,-1,0]),new Int32Array([1,0,1]),new Int32Array([1,0,-1]),new Int32Array([-1,0,1]),new Int32Array([-1,0,-1]),new Int32Array([0,1,1]),new Int32Array([0,1,-1]),new Int32Array([0,-1,1]),new Int32Array([0,-1,-1]),new Int32Array([1,1,1]),new Int32Array([1,1,-1]),new Int32Array([1,-1,1]),new Int32Array([-1,1,1]),new Int32Array([1,-1,-1]),new Int32Array([-1,-1,1]),new Int32Array([-1,1,-1]),new Int32Array([-1,-1,-1])];this.getFacesAndVertices=function(atomlist){var i,il,atomsToShow={};for(i=0,il=atomlist.length;il>i;i++)atomsToShow[atomlist[i]]=!0;var vertices=verts;for(i=0,il=vertices.length;il>i;i++)vertices[i].x=vertices[i].x/scaleFactor-ptranx,vertices[i].y=vertices[i].y/scaleFactor-ptrany,vertices[i].z=vertices[i].z/scaleFactor-ptranz;var finalfaces=[];for(i=0,il=faces.length;il>i;i+=3){var fa=faces[i],fb=faces[i+1],fc=faces[i+2],a=vertices[fa].atomid,b=vertices[fb].atomid,c=vertices[fc].atomid,which=a;if(which>b&&(which=b),which>c&&(which=c),atomsToShow[which]){{vertices[faces[i]],vertices[faces[i+1]],vertices[faces[i+2]]}fa!==fb&&fb!==fc&&fa!==fc&&(finalfaces.push(fa),finalfaces.push(fb),finalfaces.push(fc))}}return vpBits=null,vpDistance=null,vpAtomID=null,{vertices:vertices,faces:finalfaces}},this.initparm=function(extent,btype,volume){volume>1e6&&(scaleFactor=defaultScaleFactor/2);var margin=1/scaleFactor*5.5;origextent=extent,pminx=extent[0][0],pmaxx=extent[1][0],pminy=extent[0][1],pmaxy=extent[1][1],pminz=extent[0][2],pmaxz=extent[1][2],btype?(pminx-=probeRadius+margin,pminy-=probeRadius+margin,pminz-=probeRadius+margin,pmaxx+=probeRadius+margin,pmaxy+=probeRadius+margin,pmaxz+=probeRadius+margin):(pminx-=margin,pminy-=margin,pminz-=margin,pmaxx+=margin,pmaxy+=margin,pmaxz+=margin),pminx=Math.floor(pminx*scaleFactor)/scaleFactor,pminy=Math.floor(pminy*scaleFactor)/scaleFactor,pminz=Math.floor(pminz*scaleFactor)/scaleFactor,pmaxx=Math.ceil(pmaxx*scaleFactor)/scaleFactor,pmaxy=Math.ceil(pmaxy*scaleFactor)/scaleFactor,pmaxz=Math.ceil(pmaxz*scaleFactor)/scaleFactor,ptranx=-pminx,ptrany=-pminy,ptranz=-pminz,pLength=Math.ceil(scaleFactor*(pmaxx-pminx))+1,pWidth=Math.ceil(scaleFactor*(pmaxy-pminy))+1,pHeight=Math.ceil(scaleFactor*(pmaxz-pminz))+1,this.boundingatom(btype),cutRadius=probeRadius*scaleFactor,vpBits=new Uint8Array(pLength*pWidth*pHeight),vpDistance=new Float64Array(pLength*pWidth*pHeight),vpAtomID=new Int32Array(pLength*pWidth*pHeight),console.log("Box size: ",pLength,pWidth,pHeight,vpBits.length)},this.boundingatom=function(btype){var txz,tdept,sradius,tradius=[];flagradius=btype;for(var i in vdwRadii)if(vdwRadii.hasOwnProperty(i)){var r=vdwRadii[i];for(tradius[i]=btype?(r+probeRadius)*scaleFactor+.5:r*scaleFactor+.5,sradius=tradius[i]*tradius[i],widxz[i]=Math.floor(tradius[i])+1,depty[i]=new Int32Array(widxz[i]*widxz[i]),indx=0,j=0;j<widxz[i];j++)for(k=0;k<widxz[i];k++)txz=j*j+k*k,txz>sradius?depty[i][indx]=-1:(tdept=Math.sqrt(sradius-txz),depty[i][indx]=Math.floor(tdept)),indx++}},this.fillvoxels=function(atoms,atomlist){var i,il;for(i=0,il=vpBits.length;il>i;i++)vpBits[i]=0,vpDistance[i]=-1,vpAtomID[i]=-1;for(i in atomlist){var atom=atoms[atomlist[i]];void 0!==atom&&this.fillAtom(atom,atoms)}for(i=0,il=vpBits.length;il>i;i++)vpBits[i]&INOUT&&(vpBits[i]|=ISDONE)},this.fillAtom=function(atom,atoms){var cx,cy,cz,ox,oy,oz,mi,mj,mk,i,j,k,si,sj,sk,ii,jj,kk,n;cx=Math.floor(.5+scaleFactor*(atom.x+ptranx)),cy=Math.floor(.5+scaleFactor*(atom.y+ptrany)),cz=Math.floor(.5+scaleFactor*(atom.z+ptranz));var at=getVDWIndex(atom),nind=0,pWH=pWidth*pHeight;for(i=0,n=widxz[at];n>i;i++)for(j=0;n>j;j++){if(-1!=depty[at][nind])for(ii=-1;2>ii;ii++)for(jj=-1;2>jj;jj++)for(kk=-1;2>kk;kk++)if(0!==ii&&0!==jj&&0!==kk)for(mi=ii*i,mk=kk*j,k=0;k<=depty[at][nind];k++)if(mj=k*jj,si=cx+mi,sj=cy+mj,sk=cz+mk,!(0>si||0>sj||0>sk||si>=pLength||sj>=pWidth||sk>=pHeight)){var index=si*pWH+sj*pHeight+sk;if(vpBits[index]&INOUT){var atom2=atoms[vpAtomID[index]];ox=Math.floor(.5+scaleFactor*(atom2.x+ptranx)),oy=Math.floor(.5+scaleFactor*(atom2.y+ptrany)),oz=Math.floor(.5+scaleFactor*(atom2.z+ptranz)),ox*ox+oy*oy+oz*oz>mi*mi+mj*mj+mk*mk&&(vpAtomID[index]=atom.serial)}else vpBits[index]|=INOUT,vpAtomID[index]=atom.serial}nind++}},this.fillvoxelswaals=function(atoms,atomlist){var i,il;for(i=0,il=vpBits.length;il>i;i++)vpBits[i]&=~ISDONE;for(i in atomlist){var atom=atoms[atomlist[i]];void 0!==atom&&this.fillAtomWaals(atom,atoms)}},this.fillAtomWaals=function(atom,atoms){var cx,cy,cz,ox,oy,oz,mi,mj,mk,si,sj,sk,i,j,k,ii,jj,kk,n,nind=0;cx=Math.floor(.5+scaleFactor*(atom.x+ptranx)),cy=Math.floor(.5+scaleFactor*(atom.y+ptrany)),cz=Math.floor(.5+scaleFactor*(atom.z+ptranz));var at=getVDWIndex(atom),pWH=pWidth*pHeight;for(i=0,n=widxz[at];n>i;i++)for(j=0;n>j;j++){if(-1!=depty[at][nind])for(ii=-1;2>ii;ii++)for(jj=-1;2>jj;jj++)for(kk=-1;2>kk;kk++)if(0!==ii&&0!==jj&&0!==kk)for(mi=ii*i,mk=kk*j,k=0;k<=depty[at][nind];k++)if(mj=k*jj,si=cx+mi,sj=cy+mj,sk=cz+mk,!(0>si||0>sj||0>sk||si>=pLength||sj>=pWidth||sk>=pHeight)){var index=si*pWH+sj*pHeight+sk;if(vpBits[index]&ISDONE){var atom2=atoms[vpAtomID[index]];ox=Math.floor(.5+scaleFactor*(atom2.x+ptranx)),oy=Math.floor(.5+scaleFactor*(atom2.y+ptrany)),oz=Math.floor(.5+scaleFactor*(atom2.z+ptranz)),ox*ox+oy*oy+oz*oz>mi*mi+mj*mj+mk*mk&&(vpAtomID[index]=atom.serial)}else vpBits[index]|=ISDONE,vpAtomID[index]=atom.serial}nind++}},this.buildboundary=function(){var pWH=pWidth*pHeight;for(i=0;pLength>i;i++)for(j=0;pHeight>j;j++)for(k=0;pWidth>k;k++){var index=i*pWH+k*pHeight+j;if(vpBits[index]&INOUT)for(var ii=0;26>ii;){var ti=i+nb[ii][0],tj=j+nb[ii][2],tk=k+nb[ii][1];if(ti>-1&&pLength>ti&&tk>-1&&pWidth>tk&&tj>-1&&pHeight>tj&&!(vpBits[ti*pWH+tk*pHeight+tj]&INOUT)){vpBits[index]|=ISBOUND;break}ii++}}};var PointGrid=function(length,width,height){var data=new Int32Array(length*width*height*3);this.set=function(x,y,z,pt){var index=3*((x*width+y)*height+z);data[index]=pt.ix,data[index+1]=pt.iy,data[index+2]=pt.iz},this.get=function(x,y,z){var index=3*((x*width+y)*height+z);return{ix:data[index],iy:data[index+1],iz:data[index+2]}}};this.fastdistancemap=function(){var i,j,k,n,index,boundPoint=new PointGrid(pLength,pWidth,pHeight),pWH=pWidth*pHeight,cutRSq=cutRadius*cutRadius,inarray=[],outarray=[];for(i=0;pLength>i;i++)for(j=0;pWidth>j;j++)for(k=0;pHeight>k;k++)if(index=i*pWH+j*pHeight+k,vpBits[index]&=~ISDONE,vpBits[index]&INOUT&&vpBits[index]&ISBOUND){var triple={ix:i,iy:j,iz:k};boundPoint.set(i,j,k,triple),inarray.push(triple),vpDistance[index]=0,vpBits[index]|=ISDONE,vpBits[index]&=~ISBOUND}do for(outarray=this.fastoneshell(inarray,boundPoint),inarray=[],i=0,n=outarray.length;n>i;i++)index=pWH*outarray[i].ix+pHeight*outarray[i].iy+outarray[i].iz,vpBits[index]&=~ISBOUND,vpDistance[index]<=1.0404*cutRSq&&inarray.push({ix:outarray[i].ix,iy:outarray[i].iy,iz:outarray[i].iz});while(0!==inarray.length);inarray=[],outarray=[],boundPoint=null;var cutsf=scaleFactor-.5;0>cutsf&&(cutsf=0);var cutoff=cutRSq-.5/(.1+cutsf);for(i=0;pLength>i;i++)for(j=0;pWidth>j;j++)for(k=0;pHeight>k;k++)index=i*pWH+j*pHeight+k,vpBits[index]&=~ISBOUND,vpBits[index]&INOUT&&(!(vpBits[index]&ISDONE)||vpBits[index]&ISDONE&&vpDistance[index]>=cutoff)&&(vpBits[index]|=ISBOUND)},this.fastoneshell=function(inarray,boundPoint){var tx,ty,tz,dx,dy,dz,i,j,n,square,bp,index,outarray=[];if(0===inarray.length)return outarray;tnv={ix:-1,iy:-1,iz:-1};var pWH=pWidth*pHeight;for(i=0,n=inarray.length;n>i;i++)for(tx=inarray[i].ix,ty=inarray[i].iy,tz=inarray[i].iz,bp=boundPoint.get(tx,ty,tz),j=0;6>j;j++)tnv.ix=tx+nb[j][0],tnv.iy=ty+nb[j][1],tnv.iz=tz+nb[j][2],tnv.ix<pLength&&tnv.ix>-1&&tnv.iy<pWidth&&tnv.iy>-1&&tnv.iz<pHeight&&tnv.iz>-1&&(index=tnv.ix*pWH+pHeight*tnv.iy+tnv.iz,vpBits[index]&INOUT&&!(vpBits[index]&ISDONE)?(boundPoint.set(tnv.ix,tnv.iy,tz+nb[j][2],bp),dx=tnv.ix-bp.ix,dy=tnv.iy-bp.iy,dz=tnv.iz-bp.iz,square=dx*dx+dy*dy+dz*dz,vpDistance[index]=square,vpBits[index]|=ISDONE,vpBits[index]|=ISBOUND,outarray.push({ix:tnv.ix,iy:tnv.iy,iz:tnv.iz})):vpBits[index]&INOUT&&vpBits[index]&ISDONE&&(dx=tnv.ix-bp.ix,dy=tnv.iy-bp.iy,dz=tnv.iz-bp.iz,square=dx*dx+dy*dy+dz*dz,square<vpDistance[index]&&(boundPoint.set(tnv.ix,tnv.iy,tnv.iz,bp),vpDistance[index]=square,vpBits[index]&ISBOUND||(vpBits[index]|=ISBOUND,outarray.push({ix:tnv.ix,iy:tnv.iy,iz:tnv.iz})))));for(i=0,n=inarray.length;n>i;i++)for(tx=inarray[i].ix,ty=inarray[i].iy,tz=inarray[i].iz,bp=boundPoint.get(tx,ty,tz),j=6;18>j;j++)tnv.ix=tx+nb[j][0],tnv.iy=ty+nb[j][1],tnv.iz=tz+nb[j][2],tnv.ix<pLength&&tnv.ix>-1&&tnv.iy<pWidth&&tnv.iy>-1&&tnv.iz<pHeight&&tnv.iz>-1&&(index=tnv.ix*pWH+pHeight*tnv.iy+tnv.iz,vpBits[index]&INOUT&&!(vpBits[index]&ISDONE)?(boundPoint.set(tnv.ix,tnv.iy,tz+nb[j][2],bp),dx=tnv.ix-bp.ix,dy=tnv.iy-bp.iy,dz=tnv.iz-bp.iz,square=dx*dx+dy*dy+dz*dz,vpDistance[index]=square,vpBits[index]|=ISDONE,vpBits[index]|=ISBOUND,outarray.push({ix:tnv.ix,iy:tnv.iy,iz:tnv.iz})):vpBits[index]&INOUT&&vpBits[index]&ISDONE&&(dx=tnv.ix-bp.ix,dy=tnv.iy-bp.iy,dz=tnv.iz-bp.iz,square=dx*dx+dy*dy+dz*dz,square<vpDistance[index]&&(boundPoint.set(tnv.ix,tnv.iy,tnv.iz,bp),vpDistance[index]=square,vpBits[index]&ISBOUND||(vpBits[index]|=ISBOUND,outarray.push({ix:tnv.ix,iy:tnv.iy,iz:tnv.iz})))));for(i=0,n=inarray.length;n>i;i++)for(tx=inarray[i].ix,ty=inarray[i].iy,tz=inarray[i].iz,bp=boundPoint.get(tx,ty,tz),j=18;26>j;j++)tnv.ix=tx+nb[j][0],tnv.iy=ty+nb[j][1],tnv.iz=tz+nb[j][2],tnv.ix<pLength&&tnv.ix>-1&&tnv.iy<pWidth&&tnv.iy>-1&&tnv.iz<pHeight&&tnv.iz>-1&&(index=tnv.ix*pWH+pHeight*tnv.iy+tnv.iz,vpBits[index]&INOUT&&!(vpBits[index]&ISDONE)?(boundPoint.set(tnv.ix,tnv.iy,tz+nb[j][2],bp),dx=tnv.ix-bp.ix,dy=tnv.iy-bp.iy,dz=tnv.iz-bp.iz,square=dx*dx+dy*dy+dz*dz,vpDistance[index]=square,vpBits[index]|=ISDONE,vpBits[index]|=ISBOUND,outarray.push({ix:tnv.ix,iy:tnv.iy,iz:tnv.iz})):vpBits[index]&INOUT&&vpBits[index]&ISDONE&&(dx=tnv.ix-bp.ix,dy=tnv.iy-bp.iy,dz=tnv.iz-bp.iz,square=dx*dx+dy*dy+dz*dz,square<vpDistance[index]&&(boundPoint.set(tnv.ix,tnv.iy,tnv.iz,bp),vpDistance[index]=square,vpBits[index]&ISBOUND||(vpBits[index]|=ISBOUND,outarray.push({ix:tnv.ix,iy:tnv.iy,iz:tnv.iz})))));return outarray},this.marchingcubeinit=function(stype){for(var i=0,lim=vpBits.length;lim>i;i++)1==stype?vpBits[i]&=~ISBOUND:4==stype?(vpBits[i]&=~ISDONE,vpBits[i]&ISBOUND&&(vpBits[i]|=ISDONE),vpBits[i]&=~ISBOUND):2==stype?vpBits[i]&ISBOUND&&vpBits[i]&ISDONE?vpBits[i]&=~ISBOUND:vpBits[i]&ISBOUND&&!(vpBits[i]&ISDONE)&&(vpBits[i]|=ISDONE):3==stype&&(vpBits[i]&=~ISBOUND)};this.marchingcube=function(stype){this.marchingcubeinit(stype),verts=[],faces=[],march(vpBits,verts,faces,{smooth:1,nX:pLength,nY:pWidth,nZ:pHeight});for(var pWH=pWidth*pHeight,i=0,vlen=verts.length;vlen>i;i++)verts[i].atomid=vpAtomID[verts[i].x*pWH+pHeight*verts[i].y+verts[i].z];laplacianSmooth(1,verts,faces)}},march=function (data,verts,faces,spec){var i,il,fulltable=!!spec.fulltable,origin=spec.hasOwnProperty("origin")&&spec.origin.hasOwnProperty("x")?spec.origin:{x:0,y:0,z:0},voxel=!!spec.voxel,nX=spec.nX||0,nY=spec.nY||0,nZ=spec.nZ||0,scale=spec.scale||1,unitCube=new Vector3(1,1,1).multiplyScalar(scale),vertnums=new Int32Array(nX*nY*nZ);for(i=0,il=vertnums.length;il>i;++i)vertnums[i]=-1;var getVertex=function(i,j,k,code,p1,p2){var pt=new Vector3;pt.copy(origin);var val1=!!(code&1<<p1),val2=!!(code&1<<p2),p=p1;!val1&&val2&&(p=p2),1&p&&k++,2&p&&j++,4&p&&i++,pt.x+=unitCube.x*i,pt.y+=unitCube.y*j,pt.z+=unitCube.z*k;var index=(nY*i+j)*nZ+k;return voxel?(verts.push(pt),verts.length-1):(vertnums[index]<0&&(vertnums[index]=verts.length,verts.push(pt)),vertnums[index])},intersects=new Int32Array(12),etable=fulltable?edgeTable2:edgeTable,tritable=fulltable?triTable2:triTable;for(i=0;nX-1>i;++i)for(var j=0;nY-1>j;++j)for(var k=0;nZ-1>k;++k){for(var code=0,p=0;8>p;++p){var index=(nY*(i+((4&p)>>2))+j+((2&p)>>1))*nZ+k+(1&p),val=!!(data[index]&ISDONE);code|=val<<p}if(0!==code&&255!==code){var ecode=etable[code];if(0!==ecode){var ttable=tritable[code];1&ecode&&(intersects[0]=getVertex(i,j,k,code,0,1)),2&ecode&&(intersects[1]=getVertex(i,j,k,code,1,3)),4&ecode&&(intersects[2]=getVertex(i,j,k,code,3,2)),8&ecode&&(intersects[3]=getVertex(i,j,k,code,2,0)),16&ecode&&(intersects[4]=getVertex(i,j,k,code,4,5)),32&ecode&&(intersects[5]=getVertex(i,j,k,code,5,7)),64&ecode&&(intersects[6]=getVertex(i,j,k,code,7,6)),128&ecode&&(intersects[7]=getVertex(i,j,k,code,6,4)),256&ecode&&(intersects[8]=getVertex(i,j,k,code,0,4)),512&ecode&&(intersects[9]=getVertex(i,j,k,code,1,5)),1024&ecode&&(intersects[10]=getVertex(i,j,k,code,3,7)),2048&ecode&&(intersects[11]=getVertex(i,j,k,code,2,6));for(var t=0;t<ttable.length;t+=3){var a=intersects[ttable[t]],b=intersects[ttable[t+1]],c=intersects[ttable[t+2]];voxel&&t>=3&&(verts.push(verts[a]),a=verts.length-1,verts.push(verts[b]),b=verts.length-1,verts.push(verts[c]),c=verts.length-1),faces.push(a),faces.push(b),faces.push(c)}}}}},laplacianSmooth=function (numiter,verts,faces){var i,il,j,jl,k,tps=new Array(verts.length);for(i=0,il=verts.length;il>i;i++)tps[i]={x:0,y:0,z:0};var flagvert,vertdeg=new Array(20);for(i=0;20>i;i++)vertdeg[i]=new Array(verts.length);for(i=0,il=verts.length;il>i;i++)vertdeg[0][i]=0;for(i=0,il=faces.length/3;il>i;i++){var aoffset=3*i,boffset=3*i+1,coffset=3*i+2;for(flagvert=!0,j=0,jl=vertdeg[0][faces[aoffset]];jl>j;j++)if(faces[boffset]==vertdeg[j+1][faces[aoffset]]){flagvert=!1;break}for(flagvert&&(vertdeg[0][faces[aoffset]]++,vertdeg[vertdeg[0][faces[aoffset]]][faces[aoffset]]=faces[boffset]),flagvert=!0,j=0,jl=vertdeg[0][faces[aoffset]];jl>j;j++)if(faces[coffset]==vertdeg[j+1][faces[aoffset]]){flagvert=!1;break}for(flagvert&&(vertdeg[0][faces[aoffset]]++,vertdeg[vertdeg[0][faces[aoffset]]][faces[aoffset]]=faces[coffset]),flagvert=!0,j=0,jl=vertdeg[0][faces[boffset]];jl>j;j++)if(faces[aoffset]==vertdeg[j+1][faces[boffset]]){flagvert=!1;break}for(flagvert&&(vertdeg[0][faces[boffset]]++,vertdeg[vertdeg[0][faces[boffset]]][faces[boffset]]=faces[aoffset]),flagvert=!0,j=0,jl=vertdeg[0][faces[boffset]];jl>j;j++)if(faces[coffset]==vertdeg[j+1][faces[boffset]]){flagvert=!1;break}for(flagvert&&(vertdeg[0][faces[boffset]]++,vertdeg[vertdeg[0][faces[boffset]]][faces[boffset]]=faces[coffset]),flagvert=!0,j=0;j<vertdeg[0][faces[coffset]];j++)if(faces[aoffset]==vertdeg[j+1][faces[coffset]]){flagvert=!1;break}for(flagvert&&(vertdeg[0][faces[coffset]]++,vertdeg[vertdeg[0][faces[coffset]]][faces[coffset]]=faces[aoffset]),flagvert=!0,j=0,jl=vertdeg[0][faces[coffset]];jl>j;j++)if(faces[boffset]==vertdeg[j+1][faces[coffset]]){flagvert=!1;break}flagvert&&(vertdeg[0][faces[coffset]]++,vertdeg[vertdeg[0][faces[coffset]]][faces[coffset]]=faces[boffset])}var wt=1,wt2=.5;for(k=0;numiter>k;k++){for(i=0,il=verts.length;il>i;i++)if(vertdeg[0][i]<3)tps[i].x=verts[i].x,tps[i].y=verts[i].y,tps[i].z=verts[i].z;else if(3==vertdeg[0][i]||4==vertdeg[0][i]){for(tps[i].x=0,tps[i].y=0,tps[i].z=0,j=0,jl=vertdeg[0][i];jl>j;j++)tps[i].x+=verts[vertdeg[j+1][i]].x,tps[i].y+=verts[vertdeg[j+1][i]].y,tps[i].z+=verts[vertdeg[j+1][i]].z;tps[i].x+=wt2*verts[i].x,tps[i].y+=wt2*verts[i].y,tps[i].z+=wt2*verts[i].z,tps[i].x/=wt2+vertdeg[0][i],tps[i].y/=wt2+vertdeg[0][i],tps[i].z/=wt2+vertdeg[0][i]}else{for(tps[i].x=0,tps[i].y=0,tps[i].z=0,j=0,jl=vertdeg[0][i];jl>j;j++)tps[i].x+=verts[vertdeg[j+1][i]].x,tps[i].y+=verts[vertdeg[j+1][i]].y,tps[i].z+=verts[vertdeg[j+1][i]].z;tps[i].x+=wt*verts[i].x,tps[i].y+=wt*verts[i].y,tps[i].z+=wt*verts[i].z,tps[i].x/=wt+vertdeg[0][i],tps[i].y/=wt+vertdeg[0][i],tps[i].z/=wt+vertdeg[0][i]}for(i=0,il=verts.length;il>i;i++)verts[i].x=tps[i].x,verts[i].y=tps[i].y,verts[i].z=tps[i].z}},edgeTable=new Uint32Array([0,0,0,0,0,0,0,2816,0,0,0,1792,0,3328,3584,3840,0,0,0,138,0,21,0,134,0,0,0,652,0,2067,3865,3600,0,0,0,42,0,0,0,294,0,0,21,28,0,3875,1049,3360,0,168,162,170,0,645,2475,2210,0,687,293,172,4010,3747,3497,3232,0,0,0,0,0,69,0,900,0,0,0,1792,138,131,1608,1920,0,81,0,2074,84,85,84,86,0,81,0,3676,330,1105,1881,1616,0,0,0,42,0,69,0,502,0,0,21,3580,138,2035,1273,1520,2816,104,2337,106,840,581,367,102,2816,3695,3429,3180,1898,1635,1385,1120,0,0,0,0,0,0,0,3910,0,0,69,588,42,2083,41,2880,0,0,0,1722,0,2293,4095,3830,0,255,757,764,2538,2291,3065,2800,0,0,81,338,0,3925,1119,3414,84,855,85,340,2130,2899,89,2384,1792,712,194,1162,4036,3781,3535,3270,708,719,197,204,3018,2755,2505,2240,0,0,0,0,168,420,168,1958,162,162,676,2988,170,163,680,928,3328,3096,3328,3642,52,53,1855,1590,2340,2111,2869,2620,298,51,825,560,3584,3584,3090,3482,1668,1941,1183,1430,146,2975,2069,2460,154,915,153,400,3840,3592,3329,3082,1796,1541,1295,1030,2818,2575,2309,2060,778,515,265,0]),triTable=[[],[],[],[],[],[],[],[11,9,8],[],[],[],[8,10,9],[],[10,8,11],[9,11,10],[8,10,9,8,11,10],[],[],[],[1,7,3],[],[4,2,0],[],[2,1,7],[],[],[],[2,7,3,2,9,7],[],[1,4,11,1,0,4],[3,8,0,11,9,4,11,10,9],[4,11,9,11,10,9],[],[],[],[5,3,1],[],[],[],[2,5,8,2,1,5],[],[],[2,4,0],[3,2,4],[],[0,9,1,8,10,5,8,11,10],[3,4,0,3,10,4],[5,8,10,8,11,10],[],[3,5,7],[7,1,5],[1,7,3,1,5,7],[],[9,2,0,9,7,2],[0,3,8,1,7,11,1,5,7],[11,1,7,1,5,7],[],[9,1,0,5,3,2,5,7,3],[8,2,5,8,0,2],[2,5,3,5,7,3],[3,9,1,3,8,9,7,11,10,7,10,5],[9,1,0,10,7,11,10,5,7],[3,8,0,7,10,5,7,11,10],[11,5,7,11,10,5],[],[],[],[],[],[0,6,2],[],[7,2,9,7,9,8],[],[],[],[8,10,9],[7,1,3],[7,1,0],[6,9,3,6,10,9],[7,10,8,10,9,8],[],[6,0,4],[],[11,1,4,11,3,1],[2,4,6],[2,0,4,2,4,6],[2,4,6],[1,4,2,4,6,2],[],[6,0,4],[],[2,11,3,6,9,4,6,10,9],[8,6,1,8,1,3],[10,0,6,0,4,6],[8,0,3,9,6,10,9,4,6],[10,4,6,10,9,4],[],[],[],[5,3,1],[],[0,6,2],[],[7,4,8,5,2,1,5,6,2],[],[],[2,4,0],[7,4,8,2,11,3,10,5,6],[7,1,3],[5,6,10,0,9,1,8,7,4],[5,6,10,7,0,3,7,4,0],[10,5,6,4,8,7],[9,11,8],[3,5,6],[0,5,11,0,11,8],[6,3,5,3,1,5],[3,9,6,3,8,9],[9,6,0,6,2,0],[0,3,8,2,5,6,2,1,5],[1,6,2,1,5,6],[9,11,8],[1,0,9,6,10,5,11,3,2],[6,10,5,2,8,0,2,11,8],[3,2,11,10,5,6],[10,5,6,9,3,8,9,1,3],[0,9,1,5,6,10],[8,0,3,10,5,6],[10,5,6],[],[],[],[],[],[],[],[1,10,2,9,11,6,9,8,11],[],[],[6,0,2],[3,6,9,3,2,6],[3,5,1],[0,5,1,0,11,5],[0,3,5],[6,9,11,9,8,11],[],[],[],[4,5,9,7,1,10,7,3,1],[],[11,6,7,2,4,5,2,0,4],[11,6,7,8,0,3,1,10,2,9,4,5],[6,7,11,1,10,2,9,4,5],[],[4,1,0,4,5,1,6,7,3,6,3,2],[9,4,5,0,6,7,0,2,6],[4,5,9,6,3,2,6,7,3],[6,7,11,5,3,8,5,1,3],[6,7,11,4,1,0,4,5,1],[4,5,9,3,8,0,11,6,7],[9,4,5,7,11,6],[],[],[0,6,4],[8,6,4,8,1,6],[],[0,10,2,0,9,10,4,8,11,4,11,6],[10,2,1,6,0,3,6,4,0],[10,2,1,11,4,8,11,6,4],[4,2,6],[1,0,9,2,4,8,2,6,4],[2,4,0,2,6,4],[8,2,4,2,6,4],[11,4,1,11,6,4],[0,9,1,4,11,6,4,8,11],[3,6,0,6,4,0],[8,6,4,8,11,6],[10,8,9],[6,3,9,6,7,3],[6,7,1],[10,7,1,7,3,1],[7,11,6,8,10,2,8,9,10],[11,6,7,10,0,9,10,2,0],[2,1,10,7,11,6,8,0,3],[1,10,2,6,7,11],[7,2,6,7,9,2],[1,0,9,3,6,7,3,2,6],[7,0,6,0,2,6],[2,7,3,2,6,7],[7,11,6,3,9,1,3,8,9],[9,1,0,11,6,7],[0,3,8,11,6,7],[11,6,7],[],[],[],[],[5,3,7],[8,5,2,8,7,5],[5,3,7],[1,10,2,5,8,7,5,9,8],[1,7,5],[1,7,5],[9,2,7,9,7,5],[11,3,2,8,5,9,8,7,5],[1,3,7,1,7,5],[0,7,1,7,5,1],[9,3,5,3,7,5],[9,7,5,9,8,7],[8,10,11],[3,4,10,3,10,11],[8,10,11],[5,9,4,1,11,3,1,10,11],[2,4,5],[5,2,4,2,0,4],[0,3,8,5,9,4,10,2,1],[2,1,10,9,4,5],[2,8,5,2,11,8],[3,2,11,1,4,5,1,0,4],[9,4,5,8,2,11,8,0,2],[11,3,2,9,4,5],[8,5,3,5,1,3],[5,0,4,5,1,0],[3,8,0,4,5,9],[9,4,5],[11,9,10],[11,9,10],[1,11,4,1,10,11],[8,7,4,11,1,10,11,3,1],[2,7,9,2,9,10],[4,8,7,0,10,2,0,9,10],[2,1,10,0,7,4,0,3,7],[10,2,1,8,7,4],[1,7,4],[3,2,11,4,8,7,9,1,0],[11,4,2,4,0,2],[2,11,3,7,4,8],[4,1,7,1,3,7],[1,0,9,8,7,4],[3,4,0,3,7,4],[8,7,4],[8,9,10,8,10,11],[3,9,11,9,10,11],[0,10,8,10,11,8],[10,3,1,10,11,3],[2,8,10,8,9,10],[9,2,0,9,10,2],[8,0,3,1,10,2],[10,2,1],[1,11,9,11,8,9],[11,3,2,0,9,1],[11,0,2,11,8,0],[11,3,2],[8,1,3,8,9,1],[9,1,0],[8,0,3],[]]';
WebMol.SurfaceWorker=window.URL.createObjectURL(new Blob([WebMol.workerString]));
$(document).ready(function(){void 0!==$("#webmoljs_viewer")[0]&&(WebMol.autoinit=!0);if(WebMol.autoinit){var a=WebMol.viewerdiv=$("#webmoljs_viewer"),b=null;a.data("pdb")?b="http://www.pdb.org/pdb/files/"+a.data("pdb")+".pdb":a.data("href")&&(b=a.data("href"));var d=Number(a.data("backgroundcolor"))||0,q=a.data("style")||{line:{}};WebMol.glviewer=WebMol.createViewer("webmoljs_viewer",{defaultcolors:WebMol.rasmolElementColors,callback:function(a){a.setBackgroundColor(d)}});if(b){var g=a.data("datatype")||
"pdb";$.get(b,function(a){WebMol.glviewer.addModel(a,g);WebMol.glviewer.setStyle({},q);WebMol.glviewer.zoomTo();WebMol.glviewer.render()},"text")}}});WebMol=WebMol||{};WebMol.defaultElementColor=16716947;
WebMol.JmolElementColors={H:16777215,He:14286847,HE:14286847,Li:13402367,LI:13402367,B:16758197,C:9474192,N:3166456,O:16715021,F:9494608,Na:11230450,NA:11230450,Mg:9109248,MG:9109248,Al:12560038,AL:12560038,Si:1578E4,SI:1578E4,P:16744448,S:16777008,Cl:2093087,CL:2093087,Ca:4062976,CA:4062976,Ti:12567239,TI:12567239,Cr:9083335,CR:9083335,Mn:10255047,MN:10255047,Fe:14706227,FE:14706227,Ni:5296208,NI:5296208,Cu:13140019,CU:13140019,Zn:8224944,ZN:8224944,Br:10889513,BR:10889513,Ag:12632256,AG:12632256,
I:9699476,Ba:51456,BA:51456,Au:16765219,AU:16765219};
WebMol.rasmolElementColors={H:16777215,He:16761035,HE:16761035,Li:11674146,LI:11674146,B:65280,C:13158600,N:9408511,O:15728640,F:14329120,Na:255,NA:255,Mg:2263842,MG:2263842,Al:8421520,AL:8421520,Si:14329120,SI:14329120,P:16753920,S:16762930,Cl:65280,CL:65280,Ca:8421520,CA:8421520,Ti:8421520,TI:8421520,Cr:8421520,CR:8421520,Mn:8421520,MN:8421520,Fe:16753920,FE:16753920,Ni:10824234,NI:10824234,Cu:10824234,CU:10824234,Zn:10824234,ZN:10824234,Br:10824234,BR:10824234,Ag:8421520,AG:8421520,I:10494192,
Ba:16753920,BA:16753920,Au:14329120,AU:14329120};WebMol.defaultElementColors=WebMol.JmolElementColors;WebMol=WebMol||{};
WebMol.RWB=function(a,b){this.valueToHex=function(d,q){var g,r;q?(g=q[0],r=q[1]):(g=a,r=b);if(void 0===d)return 16777215;d<g&&(d=g);d>r&&(d=r);var s=(r+g)/2;d<=s?(g=Math.floor(255*Math.sqrt((d-g)/(s-g))),g=16711680+256*g+g):(g=Math.floor(255*Math.sqrt(1-(d-s)/(r-s))),g=65536*g+256*g+255);return g};this.jmolID=function(){return"rwb"};this.range=function(){return"undefined"!=typeof a&&"undefined"!=typeof b?[a,b]:null}};
WebMol.ROYGB=function(a,b){this.valueToHex=function(d,q){var g,r;q?(g=q[0],r=q[1]):(g=a,r=b);if("undefined"==typeof d)return 16777215;d<g&&(d=g);d>r&&(d=r);var s=(g+r)/2,t=(g+s)/2,n=(s+r)/2;d<t?(g=Math.floor(255*Math.sqrt((d-g)/(t-g))),g=256*g+16711680):d<s?(g=Math.floor(255*Math.sqrt(1-(d-t)/(s-t))),g=65536*g+65280):d<n?(g=Math.floor(255*Math.sqrt((d-s)/(n-s))),g=65280+1*g):(g=Math.floor(255*Math.sqrt(1-(d-n)/(r-n))),g=256*g+255);return g};this.jmolID=function(){return"roygb"};this.range=function(){return"undefined"!=
typeof a&&"undefined"!=typeof b?[a,b]:null}};
WebMol.Sinebow=function(a,b){this.valueToHex=function(d,q){var g,r;q?(g=q[0],r=q[1]):(g=a,r=b);if("undefined"==typeof d)return 16777215;d<g&&(d=g);d>r&&(d=r);var s=(d-g)/(r-g)*5/6+.5;g=Math.sin(Math.PI*s);g*=255*g;r=Math.sin(Math.PI*(s+1/3));r*=255*r;s=Math.sin(Math.PI*(s+2/3));return 65536*Math.floor(g)+256*Math.floor(255*s*s)+1*Math.floor(r)};this.jmolID=function(){return"sinebow"};this.range=function(){return"undefined"!=typeof a&&"undefined"!=typeof b?[a,b]:null}};WebMol=WebMol||{};
WebMol.drawCartoon=function(){var a=function(a,b){var g=[],r=a,r=[];r.push(a[0]);var s,t,n,l,x,p;s=1;for(t=a.length-1;s<t;s++)l=a[s],x=a[s+1],l.smoothen?r.push(new WebMol.Vector3((l.x+x.x)/2,(l.y+x.y)/2,(l.z+x.z)/2)):r.push(l);r.push(a[a.length-1]);s=-1;for(t=r.length;s<=t-3;s++){n=r[-1===s?0:s];l=r[s+1];x=r[s+2];p=r[s===t-3?t-1:s+3];n=(new WebMol.Vector3).subVectors(x,n).multiplyScalar(.5);p=(new WebMol.Vector3).subVectors(p,l).multiplyScalar(.5);for(var e=0;e<b;e++){var m=1/b*e,m=new WebMol.Vector3(l.x+
m*n.x+m*m*(-3*l.x+3*x.x-2*n.x-p.x)+m*m*m*(2*l.x-2*x.x+n.x+p.x),l.y+m*n.y+m*m*(-3*l.y+3*x.y-2*n.y-p.y)+m*m*m*(2*l.y-2*x.y+n.y+p.y),l.z+m*n.z+m*m*(-3*l.z+3*x.z-2*n.z-p.z)+m*m*m*(2*l.z-2*x.z+n.z+p.z)),v=Math.floor((g.length+2)/b);void 0!==a[v]&&void 0!==a[v].atom&&(m.atom=a[v].atom);g.push(m)}}g.push(r[r.length-1]);return g},b=function(b,q,g,r,s,t){if(!(2>q.length)){s=s||5;q=a(q,s);g=a(g,s);if(t){var n=new WebMol.Geometry(!0),l=[],x,p,e,m,v,z=[[0,2,-6,-8],[-4,-2,6,4],[7,-1,-5,3],[-3,5,1,-7]],A,B,C,G,
F,E,D,u,h;E=0;for(D=q.length;E<D;E++){C=WebMol.CC.color(r[Math.round((E-1)/s)]);l.push(p=q[E]);l.push(p);l.push(e=g[E]);l.push(e);E<D-1&&(A=q[E+1].clone().sub(q[E]),x=g[E].clone().sub(q[E]).cross(A).normalize().multiplyScalar(t));l.push(m=q[E].clone().add(x));l.push(m);l.push(v=g[E].clone().add(x));l.push(v);void 0!==p.atom&&(G=p.atom);h=n.updateGeoGroup(8);A=h.vertices;B=3*A;h.__vertexArray[B]=p.x;h.__vertexArray[B+1]=p.y;h.__vertexArray[B+2]=p.z;h.__vertexArray[B+3]=p.x;h.__vertexArray[B+4]=p.y;
h.__vertexArray[B+5]=p.z;h.__vertexArray[B+6]=e.x;h.__vertexArray[B+7]=e.y;h.__vertexArray[B+8]=e.z;h.__vertexArray[B+9]=e.x;h.__vertexArray[B+10]=e.y;h.__vertexArray[B+11]=e.z;h.__vertexArray[B+12]=m.x;h.__vertexArray[B+13]=m.y;h.__vertexArray[B+14]=m.z;h.__vertexArray[B+15]=m.x;h.__vertexArray[B+16]=m.y;h.__vertexArray[B+17]=m.z;h.__vertexArray[B+18]=v.x;h.__vertexArray[B+19]=v.y;h.__vertexArray[B+20]=v.z;h.__vertexArray[B+21]=v.x;h.__vertexArray[B+22]=v.y;h.__vertexArray[B+23]=v.z;for(p=0;8>p;++p)h.__colorArray[B+
3*p]=C.r,h.__colorArray[B+1+3*p]=C.g,h.__colorArray[B+2+3*p]=C.b;if(0<E)for(B=void 0!==F&&void 0!==G&&F.serial!==G.serial,p=0;4>p;p++)if(e=[A+z[p][0],A+z[p][1],A+z[p][2],A+z[p][3]],v=h.faceidx,h.__faceArray[v]=e[0],h.__faceArray[v+1]=e[1],h.__faceArray[v+2]=e[3],h.__faceArray[v+3]=e[1],h.__faceArray[v+4]=e[2],h.__faceArray[v+5]=e[3],h.faceidx+=6,G.clickable||F.clickable){u=l[e[3]].clone();v=l[e[0]].clone();var J=l[e[2]].clone(),N=l[e[1]].clone();u.atom=l[e[3]].atom||null;J.atom=l[e[2]].atom||null;
v.atom=l[e[0]].atom||null;N.atom=l[e[1]].atom||null;if(B){var O=u.clone().add(v).multiplyScalar(.5),Q=J.clone().add(N).multiplyScalar(.5),P=u.clone().add(N).multiplyScalar(.5);0===p%2?(F.clickable&&(e=new WebMol.Triangle(O,P,u),m=new WebMol.Triangle(Q,J,P),u=new WebMol.Triangle(P,J,u),F.intersectionShape.triangle.push(e),F.intersectionShape.triangle.push(m),F.intersectionShape.triangle.push(u)),G.clickable&&(e=new WebMol.Triangle(v,N,P),m=new WebMol.Triangle(N,Q,P),u=new WebMol.Triangle(v,P,O),G.intersectionShape.triangle.push(e),
G.intersectionShape.triangle.push(m),G.intersectionShape.triangle.push(u))):(G.clickable&&(e=new WebMol.Triangle(O,P,u),m=new WebMol.Triangle(Q,J,P),u=new WebMol.Triangle(P,J,u),G.intersectionShape.triangle.push(e),G.intersectionShape.triangle.push(m),G.intersectionShape.triangle.push(u)),F.clickable&&(e=new WebMol.Triangle(v,N,P),m=new WebMol.Triangle(N,Q,P),u=new WebMol.Triangle(v,P,O),F.intersectionShape.triangle.push(e),F.intersectionShape.triangle.push(m),F.intersectionShape.triangle.push(u)))}else G.clickable&&
(e=new WebMol.Triangle(v,N,u),m=new WebMol.Triangle(N,J,u),G.intersectionShape.triangle.push(e),G.intersectionShape.triangle.push(m))}h.vertices+=8;F=G}r=l.length-8;h=n.updateGeoGroup(8);A=h.vertices;B=3*A;v=h.faceidx;for(E=0;4>E;E++)l.push(l[2*E]),l.push(l[r+2*E]),s=l[2*E],g=l[r+2*E],h.__vertexArray[B+6*E]=s.x,h.__vertexArray[B+1+6*E]=s.y,h.__vertexArray[B+2+6*E]=s.z,h.__vertexArray[B+3+6*E]=g.x,h.__vertexArray[B+4+6*E]=g.y,h.__vertexArray[B+5+6*E]=g.z,h.__colorArray[B+6*E]=C.r,h.__colorArray[B+
1+6*E]=C.g,h.__colorArray[B+2+6*E]=C.b,h.__colorArray[B+3+6*E]=C.r,h.__colorArray[B+4+6*E]=C.g,h.__colorArray[B+5+6*E]=C.b;e=[A,A+2,A+6,A+4];m=[A+1,A+5,A+7,A+3];h.__faceArray[v]=e[0];h.__faceArray[v+1]=e[1];h.__faceArray[v+2]=e[3];h.__faceArray[v+3]=e[1];h.__faceArray[v+4]=e[2];h.__faceArray[v+5]=e[3];h.__faceArray[v+6]=m[0];h.__faceArray[v+7]=m[1];h.__faceArray[v+8]=m[3];h.__faceArray[v+9]=m[1];h.__faceArray[v+10]=m[2];h.__faceArray[v+11]=m[3];h.faceidx+=12;h.vertices+=8;n.initTypedArrays();n.setUpNormals();
r=new WebMol.MeshLambertMaterial;r.vertexColors=WebMol.FaceColors;r.side=WebMol.DoubleSide;r=new WebMol.Mesh(n,r)}else{n=q;l=g;E=s;C=new WebMol.Geometry(!0);s=0;for(A=n.length;s<A;s++){q=WebMol.CC.color(r[Math.round((s-1)/E)]);geoGroup=C.updateGeoGroup(2);h=geoGroup.vertices;g=3*h;geoGroup.__vertexArray[g]=n[s].x;geoGroup.__vertexArray[g+1]=n[s].y;geoGroup.__vertexArray[g+2]=n[s].z;geoGroup.__vertexArray[g+3]=l[s].x;geoGroup.__vertexArray[g+4]=l[s].y;geoGroup.__vertexArray[g+5]=l[s].z;for(t=0;6>t;++t)geoGroup.__colorArray[g+
3*t]=q.r,geoGroup.__colorArray[g+1+3*t]=q.g,geoGroup.__colorArray[g+2+3*t]=q.b;0<s&&(h=[h,h+1,h-1,h-2],g=geoGroup.faceidx,geoGroup.__faceArray[g]=h[0],geoGroup.__faceArray[g+1]=h[1],geoGroup.__faceArray[g+2]=h[3],geoGroup.__faceArray[g+3]=h[1],geoGroup.__faceArray[g+4]=h[2],geoGroup.__faceArray[g+5]=h[3],geoGroup.faceidx+=6);geoGroup.vertices+=2}C.initTypedArrays();C.setUpNormals();r=new WebMol.MeshLambertMaterial;r.vertexColors=WebMol.FaceColors;r.side=WebMol.DoubleSide;r=new WebMol.Mesh(C,r)}b.add(r)}};
return function(a,q){var g,r,s;g=2;r=5;s=!1;var t=[],n,l,x;for(x=0;x<g;x++)t[x]=[];x=[];var p,e,m,v,z=null,A=null;for(n in q)if(l=q[n],void 0!==l&&("O"==l.atom||"CA"==l.atom)&&!l.hetflag)if("CA"==l.atom){if(p!=l.chain||m+1!=l.resi||e!=l.reschain){b(a,t[0],t[g-1],x,r,.4);t=[];for(x=0;x<g;x++)t[x]=[];x=[];z=null}v=new WebMol.Vector3(l.x,l.y,l.z);currentAtom=l;p=l.chain;e=l.reschain;m=l.resi;var A=l.ss,B=l.color;"undefined"!=typeof l.style.cartoon.color&&(B=l.style.cartoon.color);x.push(B);!0!==l.clickable||
void 0!==l.intersectionShape&&void 0!==l.intersectionShape.triangle||(l.intersectionShape={sphere:null,cylinder:[],line:[],triangle:[]})}else for(l=new WebMol.Vector3(l.x,l.y,l.z),l.sub(v),l.normalize(),l.multiplyScalar("c"==A?.3:1.3),null!==z&&0>l.dot(z)&&l.negate(),z=l,l=0;l<g;l++)B=-1+2/(g-1)*l,B=new WebMol.Vector3(v.x+z.x*B,v.y+z.y*B,v.z+z.z*B),B.atom=currentAtom,s||"s"!=A||(B.smoothen=!0),t[l].push(B);b(a,t[0],t[g-1],x,r,.4)}}();WebMol=WebMol||{};
WebMol.GLModel=function(){function a(a,g){var p=[],e=null,m=null,v=null,t=null,A=WebMol.defaultElementColor;ElementColors=g?g:WebMol.defaultElementColors;var B=function(a,b){var e=1.5;"undefined"!=typeof b.radius?e=b.radius:d[a.elem]&&(e=d[a.elem]);"undefined"!=typeof b.scale&&(e*=b.scale);return e},C={basisVectors:function(){var a=[];a[0]=new WebMol.Vector3(-1,0,0);a[4]=new WebMol.Vector3(0,0,1);a[8]=new WebMol.Vector3(1,0,0);a[12]=new WebMol.Vector3(0,0,-1);a[2]=a[0].clone().add(a[4]).normalize();
a[6]=a[4].clone().add(a[8]).normalize();a[10]=a[8].clone().add(a[12]).normalize();a[14]=a[12].clone().add(a[0]).normalize();a[1]=a[0].clone().add(a[2]).normalize();a[3]=a[2].clone().add(a[4]).normalize();a[5]=a[4].clone().add(a[6]).normalize();a[7]=a[6].clone().add(a[8]).normalize();a[9]=a[8].clone().add(a[10]).normalize();a[11]=a[10].clone().add(a[12]).normalize();a[13]=a[12].clone().add(a[14]).normalize();a[15]=a[14].clone().add(a[0]).normalize();return a}(),cache:{},getVerticesForRadius:function(a){if(void 0!==
this.cache[a])return this.cache[a];new WebMol.Vector3(0,1,0);for(var b=this.basisVectors.length,e=[],d=[],g,l=0;l<b;l++)e.push(this.basisVectors[l].clone().multiplyScalar(a)),e.push(this.basisVectors[l].clone().multiplyScalar(a)),g=this.basisVectors[l].clone().normalize(),d.push(g),d.push(g);var l=[],p=2*Math.PI,m=Math.PI,n,q,s=!1,v=!1;for(q=0;10>=q;q++){var s=0===q||10===q?!0:!1,v=5===q?!0:!1,r=[],x=[];for(n=0;n<=b;n++)if(v){var A=n<b?2*n:0;x.push(A+1);r.push(A)}else{g=n/b;var B=q/10;s&&0!==n?s&&
r.push(e.length-1):n<b?(A=new WebMol.Vector3,A.x=-a*Math.cos(0+g*p)*Math.sin(0+B*m),A.y=a*Math.cos(0+B*m),A.z=a*Math.sin(0+g*p)*Math.sin(0+B*m),1E-5>Math.abs(A.x)&&(A.x=0),1E-5>Math.abs(A.y)&&(A.y=0),1E-5>Math.abs(A.z)&&(A.z=0),g=new WebMol.Vector3(A.x,A.y,A.z),g.normalize(),e.push(A),d.push(g),r.push(e.length-1)):r.push(e.length-b)}v&&l.push(x);l.push(r)}b={vertices:e,normals:d,verticesRows:l,w:b,h:10};return this.cache[a]=b}},G={cache:{},getVerticesForRadius:function(a){if("undefined"!=typeof this.cache[a])return this.cache[a];
var b={vertices:[],verticesRows:[],normals:[]},e=12,d=10;1>a&&(e=8,d=6);var g=2*Math.PI,l=Math.PI,p,m;for(m=0;m<=d;m++){var n=[];for(p=0;p<=e;p++){var q=p/e,s=m/d,v={};v.x=-a*Math.cos(0+q*g)*Math.sin(0+s*l);v.y=a*Math.cos(0+s*l);v.z=a*Math.sin(0+q*g)*Math.sin(0+s*l);q=new WebMol.Vector3(v.x,v.y,v.z);q.normalize();b.vertices.push(v);b.normals.push(q);n.push(b.vertices.length-1)}b.verticesRows.push(n)}return this.cache[a]=b}},F=function(a,b){if(a.style.sphere){var e=a.style.sphere;if(!e.hidden){var d=
a.color;"undefined"!=typeof e.color&&(d=e.color);var g=WebMol.CC.color(d),l,e=B(a,e);!0===a.clickable&&void 0!==a.intersectionShape&&(d=new WebMol.Vector3(a.x,a.y,a.z),a.intersectionShape.sphere.push(new WebMol.Sphere(d,e)));l=G.getVerticesForRadius(e);for(var d=l.vertices,p=l.normals,m=b.updateGeoGroup(d.length),n=m.vertices,q=0,s=d.length;q<s;++q){var v=3*(n+q),r=d[q];m.__vertexArray[v]=r.x+a.x;m.__vertexArray[v+1]=r.y+a.y;m.__vertexArray[v+2]=r.z+a.z;m.__colorArray[v]=g.r;m.__colorArray[v+1]=g.g;
m.__colorArray[v+2]=g.b}m.vertices+=d.length;q=l.verticesRows;s=q.length-1;for(l=0;l<s;l++)for(v=q[l].length-1,g=0;g<v;g++){var r=m.faceidx,A=q[l][g+1]+n,x=3*A,t=q[l][g]+n,C=3*t,u=q[l+1][g]+n,w=3*u,z=q[l+1][g+1]+n,D=3*z,H=p[A-n],S=p[t-n],ba=p[u-n],T=p[z-n];Math.abs(d[A-n].y)===e?(m.__normalArray[x]=H.x,m.__normalArray[w]=ba.x,m.__normalArray[D]=T.x,m.__normalArray[x+1]=H.y,m.__normalArray[w+1]=ba.y,m.__normalArray[D+1]=T.y,m.__normalArray[x+2]=H.z,m.__normalArray[w+2]=ba.z,m.__normalArray[D+2]=T.z,
m.__faceArray[r]=A,m.__faceArray[r+1]=u,m.__faceArray[r+2]=z,m.faceidx+=3):Math.abs(d[u-n].y)===e?(m.__normalArray[x]=H.x,m.__normalArray[C]=S.x,m.__normalArray[w]=ba.x,m.__normalArray[x+1]=H.y,m.__normalArray[C+1]=S.y,m.__normalArray[w+1]=ba.y,m.__normalArray[x+2]=H.z,m.__normalArray[C+2]=S.z,m.__normalArray[w+2]=ba.z,m.__faceArray[r]=A,m.__faceArray[r+1]=t,m.__faceArray[r+2]=u,m.faceidx+=3):(m.__normalArray[x]=H.x,m.__normalArray[C]=S.x,m.__normalArray[D]=T.x,m.__normalArray[x+1]=H.y,m.__normalArray[C+
1]=S.y,m.__normalArray[D+1]=T.y,m.__normalArray[x+2]=H.z,m.__normalArray[C+2]=S.z,m.__normalArray[D+2]=T.z,m.__normalArray[C]=S.x,m.__normalArray[w]=ba.x,m.__normalArray[D]=T.x,m.__normalArray[C+1]=S.y,m.__normalArray[w+1]=ba.y,m.__normalArray[D+1]=T.y,m.__normalArray[C+2]=S.z,m.__normalArray[w+2]=ba.z,m.__normalArray[D+2]=T.z,m.__faceArray[r]=A,m.__faceArray[r+1]=t,m.__faceArray[r+2]=z,m.__faceArray[r+3]=t,m.__faceArray[r+4]=u,m.__faceArray[r+5]=z,m.faceidx+=6)}}}},E=function(){var a=new WebMol.Vector3;
return function(b){a.copy(b);var e=a.x,d=a.y,g=a.z,l=Math.sqrt(e*e+d*d);1E-4>l?(b=0,l=1):(b=-e/l,l=d/l);d=-b*e+l*d;e=Math.sqrt(d*d+g*g);1E-4>e?(g=0,d=1):(g/=e,d/=e);rot=new Float32Array(9);rot[0]=l;rot[1]=b;rot[2]=0;rot[3]=-b*d;rot[4]=l*d;rot[5]=g;rot[6]=b*g;rot[7]=-l*g;rot[8]=d;return rot}}(),D=0,u=function(a,b,e,d,g,l,p){if(b&&e){D++;var m=l||p,n=e.clone();n.sub(b);var n=E(n),q=C.getVerticesForRadius(d);d=q.w;var s=q.h,v=m?s*d+2:2*d;a=a.updateGeoGroup(v);var r=q.vertices,A=q.normals,q=q.verticesRows,
x=q[s/2],B=q[s/2+1],t=a.vertices,u,w,z,F,H,S;for(z=0;z<d;++z)w=2*z,F=n[0]*r[w].x+n[3]*r[w].y+n[6]*r[w].z,H=n[1]*r[w].x+n[4]*r[w].y+n[7]*r[w].z,S=n[5]*r[w].y+n[8]*r[w].z,u=3*(t+w),w=a.faceidx,a.__vertexArray[u]=F+b.x,a.__vertexArray[u+1]=H+b.y,a.__vertexArray[u+2]=S+b.z,a.__vertexArray[u+3]=F+e.x,a.__vertexArray[u+4]=H+e.y,a.__vertexArray[u+5]=S+e.z,a.__normalArray[u]=F,a.__normalArray[u+3]=F,a.__normalArray[u+1]=H,a.__normalArray[u+4]=H,a.__normalArray[u+2]=S,a.__normalArray[u+5]=S,a.__colorArray[u]=
g.r,a.__colorArray[u+3]=g.r,a.__colorArray[u+1]=g.g,a.__colorArray[u+4]=g.g,a.__colorArray[u+2]=g.b,a.__colorArray[u+5]=g.b,a.__faceArray[w]=B[z]+t,a.__faceArray[w+1]=B[z+1]+t,a.__faceArray[w+2]=x[z]+t,a.__faceArray[w+3]=x[z]+t,a.__faceArray[w+4]=B[z+1]+t,a.__faceArray[w+5]=x[z+1]+t,a.faceidx+=6;if(m){l=l?s+1:s/2+1;var ba,T,W,G,ea,aa,U,ia,ga,f,qa,na,ma;for(H=p?0:s/2;H<l;H++)if(H!==s/2){var oa=H<=s/2?e:b;for(F=0;F<d;F++)w=a.faceidx,p=q[H][F+1],z=3*(p+t),m=q[H][F],S=3*(m+t),x=q[H+1][F],u=3*(x+t),B=
q[H+1][F+1],ma=3*(B+t),ba=n[0]*r[p].x+n[3]*r[p].y+n[6]*r[p].z,T=n[0]*r[m].x+n[3]*r[m].y+n[6]*r[m].z,W=n[0]*r[x].x+n[3]*r[x].y+n[6]*r[x].z,G=n[0]*r[B].x+n[3]*r[B].y+n[6]*r[B].z,ea=n[1]*r[p].x+n[4]*r[p].y+n[7]*r[p].z,aa=n[1]*r[m].x+n[4]*r[m].y+n[7]*r[m].z,U=n[1]*r[x].x+n[4]*r[x].y+n[7]*r[x].z,ia=n[1]*r[B].x+n[4]*r[B].y+n[7]*r[B].z,ga=n[5]*r[p].y+n[8]*r[p].z,f=n[5]*r[m].y+n[8]*r[m].z,qa=n[5]*r[x].y+n[8]*r[x].z,na=n[5]*r[B].y+n[8]*r[B].z,a.__vertexArray[z]=ba+oa.x,a.__vertexArray[S]=T+oa.x,a.__vertexArray[u]=
W+oa.x,a.__vertexArray[ma]=G+oa.x,a.__vertexArray[z+1]=ea+oa.y,a.__vertexArray[S+1]=aa+oa.y,a.__vertexArray[u+1]=U+oa.y,a.__vertexArray[ma+1]=ia+oa.y,a.__vertexArray[z+2]=ga+oa.z,a.__vertexArray[S+2]=f+oa.z,a.__vertexArray[u+2]=qa+oa.z,a.__vertexArray[ma+2]=na+oa.z,a.__colorArray[z]=g.r,a.__colorArray[S]=g.r,a.__colorArray[u]=g.r,a.__colorArray[ma]=g.r,a.__colorArray[z+1]=g.g,a.__colorArray[S+1]=g.g,a.__colorArray[u+1]=g.g,a.__colorArray[ma+1]=g.g,a.__colorArray[z+2]=g.b,a.__colorArray[S+2]=g.b,a.__colorArray[u+
2]=g.b,a.__colorArray[ma+2]=g.b,ba=n[0]*A[p].x+n[3]*A[p].y+n[6]*A[p].z,T=n[0]*A[m].x+n[3]*A[m].y+n[6]*A[m].z,W=n[0]*A[x].x+n[3]*A[x].y+n[6]*A[x].z,G=n[0]*A[B].x+n[3]*A[B].y+n[6]*A[B].z,ea=n[1]*A[p].x+n[4]*A[p].y+n[7]*A[p].z,aa=n[1]*A[m].x+n[4]*A[m].y+n[7]*A[m].z,U=n[1]*A[x].x+n[4]*A[x].y+n[7]*A[x].z,ia=n[1]*A[B].x+n[4]*A[B].y+n[7]*A[B].z,ga=n[5]*A[p].y+n[8]*A[p].z,f=n[5]*A[m].y+n[8]*A[m].z,qa=n[5]*A[x].y+n[8]*A[x].z,na=n[5]*A[B].y+n[8]*A[B].z,0===H?(a.__normalArray[z]=ba,a.__normalArray[u]=W,a.__normalArray[ma]=
G,a.__normalArray[z+1]=ea,a.__normalArray[u+1]=U,a.__normalArray[ma+1]=ia,a.__normalArray[z+2]=ga,a.__normalArray[u+2]=qa,a.__normalArray[ma+2]=na,a.__faceArray[w]=p+t,a.__faceArray[w+1]=x+t,a.__faceArray[w+2]=B+t,a.faceidx+=3):H===l-1?(a.__normalArray[z]=ba,a.__normalArray[S]=T,a.__normalArray[u]=W,a.__normalArray[z+1]=ea,a.__normalArray[S+1]=aa,a.__normalArray[u+1]=U,a.__normalArray[z+2]=ga,a.__normalArray[S+2]=f,a.__normalArray[u+2]=qa,a.__faceArray[w]=p+t,a.__faceArray[w+1]=m+t,a.__faceArray[w+
2]=x+t,a.faceidx+=3):(a.__normalArray[z]=ba,a.__normalArray[S]=T,a.__normalArray[ma]=G,a.__normalArray[z+1]=ea,a.__normalArray[S+1]=aa,a.__normalArray[ma+1]=ia,a.__normalArray[z+2]=ga,a.__normalArray[S+2]=f,a.__normalArray[ma+2]=na,a.__normalArray[S]=T,a.__normalArray[u]=W,a.__normalArray[ma]=G,a.__normalArray[S+1]=aa,a.__normalArray[u+1]=U,a.__normalArray[ma+1]=ia,a.__normalArray[S+2]=f,a.__normalArray[u+2]=qa,a.__normalArray[ma+2]=na,a.__faceArray[w]=p+t,a.__faceArray[w+1]=m+t,a.__faceArray[w+2]=
B+t,a.__faceArray[w+3]=m+t,a.__faceArray[w+4]=x+t,a.__faceArray[w+5]=B+t,a.faceidx+=6)}}a.vertices+=v}};this.getID=function(){return a};this.addMolData=function(e,d){e||console.error("Erorr with addMolData: No input data specified");switch(d){case "xyz":var g=p,m=e.split("\n");if(!(3>m.length)){var q=parseInt(m[0].substr(0,3));if(!(isNaN(q)||0>=q||m.length<q+2)){for(var v=2,x=g.length,q=x+q;x<q;x++){var B=m[v++].replace(/^\s+/,"").replace(/\s+/g," ").split(" "),t={};t.serial=x;t.atom=t.elem=B[0];
t.x=parseFloat(B[1]);t.y=parseFloat(B[2]);t.z=parseFloat(B[3]);t.hetflag=!0;t.bonds=[];t.bondOrder=[];t.singleBonds=!0;t.properties={};g[x]=t}r(g)}}break;case "pdb":var g=p,m=g.length,u,v=[],q=[],B=[];lines=e.split("\n");for(var z,t=0;t<lines.length;t++){line=lines[t].replace(/^\s*/,"");u=line.substr(0,6);var C,K;if("ATOM  "==u||"HETATM"==u){var D,F,E,G,Z,w,L,da;u=line.substr(16,1);if(" "==u||"A"==u)L=parseInt(line.substr(6,5)),u=line.substr(12,4).replace(/ /g,""),z=line.substr(17,3),C=line.substr(21,
1),K=parseInt(line.substr(22,4)),D=line.substr(26,1),F=parseFloat(line.substr(30,8)),E=parseFloat(line.substr(38,8)),G=parseFloat(line.substr(46,8)),da=parseFloat(line.substr(60,8)),w=line.substr(76,2).replace(/ /g,""),""===w&&(w=line.substr(12,2).replace(/ /g,"")),"H"!=w&&"HH"!=w&&"HD"!=w&&(Z="H"==line[0]?!0:!1,B[L]=g.length,g.push({resn:z,x:F,y:E,z:G,elem:w,hetflag:Z,chain:C,resi:K,icode:D,rescode:K+(" "!=D?"^"+D:""),serial:L,atom:u,bonds:[],ss:"c",singleBonds:!0,bondOrder:[],properties:{},b:da,
pdbline:line}))}else if("SHEET "==u)u=line.substr(21,1),z=parseInt(line.substr(22,4)),C=line.substr(32,1),K=parseInt(line.substr(33,4)),v.push([u,z,C,K]);else if("CONECT"==u)for(u=parseInt(line.substr(6,5)),u=g[B[u]],z=0;4>z;z++)C=parseInt(line.substr([11,16,21,26][z],5)),K=g[B[C]],void 0!==u&&void 0!==K&&(u.bonds.push(B[C]),u.bondOrder.push(1));else"HELIX "==u&&(u=line.substr(19,1),z=parseInt(line.substr(21,4)),C=line.substr(31,1),K=parseInt(line.substr(33,4)),q.push([u,z,C,K]))}B=(new Date).getTime();
s(g);console.log("bond connecting "+((new Date).getTime()-B));B=(new Date).getTime();n(g);t={};z=0;for(C=g.length;z<C;z++)K=g[z],"undefined"===typeof t[K.chain]&&(t[K.chain]=[]),isFinite(K.hbondDistance)&&(4===Math.abs(K.hbondOther.resi-K.resi)?t[K.chain][K.resi]="h":t[K.chain][K.resi]="s");for(x in t){for(z=1;z<t[x].length-1;z++)C=t[x][z-1],K=t[x][z+1],u=t[x][z],C==K&&u!=C&&(t[x][z]=C);for(z=0;z<t[x].length;z++)u=t[x][z],"h"!=u&&"s"!=u||t[x][z-1]==u||t[x][z+1]==u||delete t[x][z]}z=0;for(C=g.length;z<
C;z++)K=g[z],u=t[K.chain][K.resi],"undefined"!=typeof u&&(K.ss=u,t[K.chain][K.resi-1]!=u&&(K.ssbegin=!0),t[K.chain][K.resi+1]!=u&&(K.ssend=!0));console.log("secondary structure "+((new Date).getTime()-B));for(t=m;t<g.length;t++)if(u=g[t],void 0!==u){for(z=0;z<v.length;z++)u.chain!=v[z][0]||u.resi<v[z][1]||u.resi>v[z][3]||(u.ss="s",u.resi==v[z][1]&&(u.ssbegin=!0),u.resi==v[z][3]&&(u.ssend=!0));for(z=0;z<q.length;z++)u.chain!=q[z][0]||u.resi<q[z][1]||u.resi>q[z][3]||(u.ss="h",u.resi==q[z][1]?u.ssbegin=
!0:u.resi==q[z][3]&&(u.ssend=!0))}break;case "sdf":g=p;m=e.split("\n");if(!(4>m.length||(B=parseInt(m[3].substr(0,3)),isNaN(B)||0>=B||(v=parseInt(m[3].substr(3,3)),q=4,m.length<4+B+v)))){x=g.length;u=x+B;for(B=x;B<u;B++)t=m[q],q++,z={},z.serial=B,z.x=parseFloat(t.substr(0,10)),z.y=parseFloat(t.substr(10,10)),z.z=parseFloat(t.substr(20,10)),z.hetflag=!0,z.singleBonds=!0,z.atom=z.elem=t.substr(31,3).replace(/ /g,""),z.bonds=[],z.bondOrder=[],z.properties={},g[B]=z;for(B=0;B<v;B++)t=m[q],q++,u=parseInt(t.substr(0,
3))-1+x,z=parseInt(t.substr(3,3))-1+x,t=parseInt(t.substr(6,3)),1<t&&(g[u].singleBonds=!1,g[z].singleBonds=!1),g[u].bonds.push(z),g[u].bondOrder.push(t),g[z].bonds.push(u),g[z].bondOrder.push(t)}break;case "mol2":g=p;v=e.search(/@<TRIPOS>MOLECULE/);m=e.search(/@<TRIPOS>ATOM/);if(-1!=v&&-1!=m){m=[];v=e.substr(v,e.length).split("\n");t=v[2].replace(/^\s+/,"").replace(/\s+/g," ").split(" ");u=parseInt(t[0]);q=0;1<t.length&&(q=parseInt(t[1]));x=4;for(B=3;B<v.length;B++)if("@<TRIPOS>ATOM"==v[B]){x=B+1;
break}B=g.length;for(u=B+u;B<u;B++)t=v[x++],t=t.replace(/^\s+/,"").replace(/\s+/g," ").split(" "),z={},C=B,K=parseInt(t[0]),z.serial=K,z.x=parseFloat(t[2]),z.y=parseFloat(t[3]),z.z=parseFloat(t[4]),z.atom=z.elem=t[5].split(".")[0],z.singleBonds=!0,"H"!=z.elem&&(z.bonds=[],z.bondOrder=[],z.properties={},m[K]=C,g.push(z));for(B=!1;x<v.length;)if("@<TRIPOS>BOND"==v[x++]){B=!0;break}if(B&&q)for(B=0;B<q;B++)t=v[x++],t=t.replace(/^\s+/,"").replace(/\s+/g," ").split(" "),u=parseInt(t[1]),fromAtom=g[m[u]],
z=parseInt(t[2]),toAtom=g[m[z]],t=parseInt(t[3]),isNaN(t)&&(t=1),1<t&&(fromAtom.singleBonds=!1,toAtom.singleBonds=!1),void 0!==fromAtom&&void 0!==toAtom&&(fromAtom.bonds.push(m[z]),fromAtom.bondOrder.push(t),toAtom.bonds.push(m[u]),toAtom.bondOrder.push(t))}break;case "cube":if(g=p,m=e.replace(/^\s+/,"").split(/[\n\r]+/),!(6>m.length)){v=m[2].replace(/^\s+/,"").replace(/\s+/g," ").split(" ");q=Math.abs(parseFloat(v[0]));v=m[3].replace(/^\s+/,"").replace(/\s+/g," ").split(" ");v=0<parseFloat(v[0])?
.529177:1;m=m.splice(6,q);q=g.length;x=q+m.length;for(B=q;B<x;++B)t={},t.serial=B,u=m[B-q].replace(/^\s+/,"").replace(/\s+/g," ").split(" "),6==u[0]?t.elem="C":1==u[0]?t.elem="H":8==u[0]?t.elem="O":17==u[0]&&(t.elem="CL"),t.x=parseFloat(u[2])*v,t.y=parseFloat(u[3])*v,t.z=parseFloat(u[4])*v,t.hetflag=!0,t.singleBonds=!0,t.bonds=[],t.bondOrder=[],t.properties={},g.push(t);r(g)}}g=p;for(m=0;m<g.length;m++)if(v=g[m])v.style=v.style||b,v.color=v.color||ElementColors[v.elem]||A,v.model=a,v.clickable&&(v.intersectionShape=
{sphere:[],cylinder:[],line:[],triangle:[]})};this.atomIsSelected=function(a,b){if("undefined"===typeof b)return!0;var e=!!b.invert,d=!0,g;for(g in b)if(b.hasOwnProperty(g)&&"props"!=g&&"invert"!=g&&"model"!=g){if("undefined"===typeof a[g]){d=!1;break}var l=!1;if($.isArray(b[g])){for(var m=b[g],p=0;p<m.length;p++)if(a[g]==m[p]){l=!0;break}if(!l){d=!1;break}}else if(a[g]!=b[g]){d=!1;break}}return e?!d:d};this.selectedAtoms=function(a){for(var b=[],e=0;e<p.length;e++){var d=p[e];d&&this.atomIsSelected(d,
a)&&b.push(d)}return b};this.addAtoms=function(a){e=null;var b=p.length,d=[],g;for(g=0;g<a.length;g++)d[a[g].index]=b+g;for(g=0;g<a.length;g++){var b=a[g],l=d[b.index],m=$.extend(!1,{},b);m.index=l;m.bonds=[];m.bondOrder=[];for(l=0;l<b.bonds.length;l++){var n=d[b.bonds[l]];"undefined"!=typeof n&&(m.bonds.push(n),m.bondOrder.push(b.bondOrder[l]))}p.push(m)}};this.removeAtoms=function(a){e=null;var b=[],d;for(d=0;d<a.length;d++)b[a[d].index]=!0;a=[];for(d=0;d<p.length;d++){var g=p[d];b[g.index]||a.push(g)}p=
[];this.addAtoms(a)};this.setStyle=function(a,b,d){if(d||null===e||!q(b,v)){v=d?null:b;a=this.selectedAtoms(a);0<a.length&&(e=null);b=$.extend(!0,{},b);for(var g=0;g<a.length;g++){a[g].clickable&&(a[g].intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]});a[g].capDrawn=!1;d||(a[g].style={});for(var l in b)b.hasOwnProperty(l)&&(a[g].style[l]=b[l])}}};this.setColorByElement=function(a,b){if(null===e||!q(b,t)){t=b;var d=this.selectedAtoms(a);0<d.length&&(e=null);for(var g=0;g<d.length;g++){var l=
d[g];"undefined"!==typeof b[l.elem]&&(l.color=b[l.elem])}}};this.setColorByProperty=function(a,b,d){a=this.selectedAtoms(a);t=null;0<a.length&&(e=null);var g=Number.POSITIVE_INFINITY,l=Number.NEGATIVE_INFINITY,m,p;for(m=0;m<a.length;m++)p=a[m],p.properties&&void 0!==typeof p.properties[b]&&(p=parseFloat(p.properties[b]),p<g&&(g=p),p>l&&(l=p));for(m=0;m<a.length;m++)if(p=a[m],p.properties&&void 0!==typeof p.properties[b]){var n=d.valueToHex(parseFloat(p.properties[b]),[g,l]);p.color=n}};this.globj=
function(b){var d=new Date;if(null===e){var g=p;console.log("creating for "+a);var n=new WebMol.Object3D,q=[],v={},s={},r=new WebMol.Geometry(!0),t=new WebMol.Geometry(!0),x,A;x=0;for(A=g.length;x<A;x++){var z=g[x];if(z&&z.style){z.clickable&&void 0===z.intersectionShape&&(z.intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]});F(z,r);var C=z,D=s;if(C.style.cross){var E=C.style.cross;if(!E.hidden){var G=E.linewidth||1;D[G]||(D[G]=new WebMol.Geometry);D=D[G].updateGeoGroup(6);E=B(C,E);E=[[E,
0,0],[-E,0,0],[0,E,0],[0,-E,0],[0,0,E],[0,0,-E]];(G=C.clickable)&&void 0===C.intersectionShape&&(C.intersectionShape={sphere:[],cylinder:[],line:[]});for(var fa=WebMol.CC.color(C.color),Z=0;6>Z;Z++){var w=3*D.vertices;D.vertices++;D.__vertexArray[w]=C.x+E[Z][0];D.__vertexArray[w+1]=C.y+E[Z][1];D.__vertexArray[w+2]=C.z+E[Z][2];D.__colorArray[w]=fa.r;D.__colorArray[w+1]=fa.g;D.__colorArray[w+2]=fa.b;G&&(w=new WebMol.Vector3(E[Z][0],E[Z][1],E[Z][2]),w.multiplyScalar(.1),w.set(w.x+C.x,w.y+C.y,w.z+C.z),
C.intersectionShape.line.push(w))}}}C=z;D=g;E=v;if(C.style.line&&(G=C.style.line,!G.hidden))for(G=G.linewidth||1,E[G]||(E[G]=new WebMol.Geometry),E=E[G].updateGeoGroup(2*C.bonds.length),G=0;G<C.bonds.length;G++)if(Z=D[C.bonds[G]],Z.style.line){fa=new WebMol.Vector3(C.x,C.y,C.z);Z=new WebMol.Vector3(Z.x,Z.y,Z.z);Z=fa.clone().add(Z).multiplyScalar(.5);C.clickable&&(void 0===C.intersectionShape&&(C.intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]}),C.intersectionShape.line.push(fa),C.intersectionShape.line.push(Z));
var w=WebMol.CC.color(C.color),L=3*E.vertices;E.vertices+=2;E.__vertexArray[L]=fa.x;E.__vertexArray[L+1]=fa.y;E.__vertexArray[L+2]=fa.z;E.__colorArray[L]=w.r;E.__colorArray[L+1]=w.g;E.__colorArray[L+2]=w.b;E.__vertexArray[L+3]=Z.x;E.__vertexArray[L+4]=Z.y;E.__vertexArray[L+5]=Z.z;E.__colorArray[L+3]=w.r;E.__colorArray[L+4]=w.g;E.__colorArray[L+5]=w.b}C=z;fa=g;D=t;if(C.style.stick&&(Z=C.style.stick,!Z.hidden)){E=Z.radius||.25;L=w=!1;G=C.color;"undefined"!=typeof Z.color&&(G=Z.color);var da=WebMol.CC.color(G),
H=void 0,S=void 0;!C.capDrawn&&4>C.bonds.length&&(w=!0);for(var ba=0;ba<C.bonds.length;ba++){var T=fa[C.bonds[ba]];if(C.serial<T.serial&&T.style.stick){var W=new WebMol.Vector3(C.x,C.y,C.z),ka=new WebMol.Vector3(T.x,T.y,T.z),H=T.color;"undefined"!=typeof Z.color&&(H=Z.color);var ea=WebMol.CC.color(H);if(1===C.bondOrder[ba]){if(!T.capDrawn&&4>T.bonds.length&&(L=!0),G!=H?(H=(new WebMol.Vector3).addVectors(W,ka).multiplyScalar(.5),u(D,W,H,E,da,w,!1),u(D,H,ka,E,ea,!1,L)):u(D,W,ka,E,da,w,L),C.clickable||
T.clickable)H=(new WebMol.Vector3).addVectors(W,ka).multiplyScalar(.5),C.clickable&&(ea=new WebMol.Cylinder(W.clone(),H.clone(),E),W=new WebMol.Sphere(W.clone(),E),C.intersectionShape.cylinder.push(ea),C.intersectionShape.sphere.push(W)),T.clickable&&(W=new WebMol.Cylinder(ka.clone(),H.clone(),E),ka=new WebMol.Sphere(ka.clone(),E),T.intersectionShape.cylinder.push(W),T.intersectionShape.sphere.push(ka))}else if(1<C.bondOrder[ba]){var L=w=!1,S=ka.clone(),aa=null;S.sub(W);var U,ia,ga,f;1===C.bonds.length?
1===T.bonds.length?(aa=S.clone(),1E-4<Math.abs(aa.x)?aa.y+=1:aa.x+=1):(U=(ba+1)%T.bonds.length,U=T.bonds[U],U=fa[U],U=new WebMol.Vector3(U.x,U.y,U.z),U=U.clone(),U.sub(W),aa=U.clone(),aa.cross(S)):(U=(ba+1)%C.bonds.length,U=C.bonds[U],U=fa[U],U=new WebMol.Vector3(U.x,U.y,U.z),U=U.clone(),U.sub(W),aa=U.clone(),aa.cross(S));if(2==C.bondOrder[ba]){if(U=E/2.5,aa.cross(S),aa.normalize(),aa.multiplyScalar(1.5*U),ia=W.clone(),ia.add(aa),ga=W.clone(),ga.sub(aa),aa=ia.clone(),aa.add(S),f=ga.clone(),f.add(S),
G!=H?(H=(new WebMol.Vector3).addVectors(ia,aa).multiplyScalar(.5),S=(new WebMol.Vector3).addVectors(ga,f).multiplyScalar(.5),u(D,ia,H,U,da,w,!1),u(D,H,aa,U,ea,!1,L),u(D,ga,S,U,da,w,!1),u(D,S,f,U,ea,!1,L)):(u(D,ia,aa,U,da,w,L),u(D,ga,f,U,da,w,L)),C.clickable||T.clickable)H=(new WebMol.Vector3).addVectors(ia,aa).multiplyScalar(.5),S=(new WebMol.Vector3).addVectors(ga,f).multiplyScalar(.5),C.clickable&&(ea=new WebMol.Cylinder(ia.clone(),H.clone(),U),ga=new WebMol.Cylinder(ga.clone(),S.clone(),U),C.intersectionShape.cylinder.push(ea),
C.intersectionShape.cylinder.push(ga)),T.clickable&&(cylinder2a=new WebMol.Cylinder(aa.clone(),H.clone(),U),cylinder2b=new WebMol.Cylinder(f.clone(),S.clone(),U),T.intersectionShape.cylinder.push(cylinder2a),T.intersectionShape.cylinder.push(cylinder2b))}else 3==C.bondOrder[ba]&&(U=E/4,aa.cross(S),aa.normalize(),aa.multiplyScalar(3*U),ia=W.clone(),ia.add(aa),ga=W.clone(),ga.sub(aa),aa=ia.clone(),aa.add(S),f=ga.clone(),f.add(S),G!=H?(H=(new WebMol.Vector3).addVectors(ia,aa).multiplyScalar(.5),S=(new WebMol.Vector3).addVectors(ga,
f).multiplyScalar(.5),mp3=(new WebMol.Vector3).addVectors(W,ka).multiplyScalar(.5),u(D,ia,H,U,da,w,!1),u(D,H,aa,U,ea,!1,L),u(D,W,mp3,U,da,w,!1),u(D,mp3,ka,U,ea,!1,L),u(D,ga,S,U,da,w,!1),u(D,S,f,U,ea,!1,L)):(u(D,ia,aa,U,da,w,L),u(D,W,ka,U,da,w,L),u(D,ga,f,U,da,w,L)),C.clickable||T.clickable)&&(H=(new WebMol.Vector3).addVectors(ia,aa).multiplyScalar(.5),S=(new WebMol.Vector3).addVectors(ga,f).multiplyScalar(.5),mp3=(new WebMol.Vector3).addVectors(W,ka).multiplyScalar(.5),C.clickable&&(ea=new WebMol.Cylinder(ia.clone(),
H.clone(),U),ga=new WebMol.Cylinder(ga.clone(),S.clone(),U),W=new WebMol.Cylinder(W.clone(),mp3.clone(),U),C.intersectionShape.cylinder.push(ea),C.intersectionShape.cylinder.push(ga),C.intersectionShape.cylinder.push(W)),T.clickable&&(cylinder2a=new WebMol.Cylinder(aa.clone(),H.clone(),U),cylinder2b=new WebMol.Cylinder(f.clone(),S.clone(),U),cylinder2c=new WebMol.Cylinder(ka.clone(),mp3.clone(),U),T.intersectionShape.cylinder.push(cylinder2a),T.intersectionShape.cylinder.push(cylinder2b),T.intersectionShape.cylinder.push(cylinder2c)))}if(L||
3<T.bonds.length)T.capDrawn=!0;if(w||3<C.bonds.length)C.capDrawn=!0}}if(!C.singleBonds&&1===C.bonds.length||!C.bonds.length)fa=C.style,C.style={sphere:{radius:E,color:G}},F(C,D),C.style=fa}"undefined"===typeof z.style.cartoon||z.style.cartoon.hidden||q.push(z)}}if(0<q.length)for(WebMol.drawCartoon(n,q,!1),x=0;x<n.children.length;x++);0<r.vertices&&(g=new WebMol.MeshLambertMaterial({ambient:0,vertexColors:!0,reflectivity:0}),r.initTypedArrays(),g=new WebMol.Mesh(r,g),console.log("sphere geometry "+
r.vertices.length),n.add(g));0<t.vertices&&(r=new WebMol.MeshLambertMaterial({vertexColors:!0,ambient:0,reflectivity:0}),t.initTypedArrays(),r.wireframe&&t.setUpWireframe(),t=new WebMol.Mesh(t,r),n.add(t));for(x in v)v.hasOwnProperty(x)&&(t=x,t=new WebMol.LineBasicMaterial({linewidth:t,vertexColors:!0}),v[x].initTypedArrays(),t=new WebMol.Line(v[x],t,WebMol.LinePieces),n.add(t));for(x in s)s.hasOwnProperty(x)&&(t=x,v=new WebMol.LineBasicMaterial({linewidth:t,vertexColors:!0}),s[x].initTypedArrays(),
v=new WebMol.Line(s[x],v,WebMol.LinePieces),n.add(v));e=n;console.log("object creation time: "+(new Date-d));m&&(b.remove(m),m=null);m=e.clone();b.add(m)}};this.removegl=function(a){m&&(void 0!==m.geometry&&m.geometry.dispose(),void 0!==m.material&&m.material.dispose(),a.remove(m),m=null);e=null}}var b={line:{}},d={H:1.2,Li:1.82,Na:2.27,K:2.75,C:1.7,N:1.55,O:1.52,F:1.47,P:1.8,S:1.8,CL:1.75,BR:1.85,SE:1.9,ZN:1.39,CU:1.4,NI:1.63},q=function(a,b){return a&&b?JSON.stringify(a)==JSON.stringify(b):a==b},
g=function(a,b){var d=a.x-b.x,d=d*d;if(3.6<d)return!1;var e=a.y-b.y,e=e*e;if(3.6<e)return!1;var g=a.z-b.z,g=g*g;if(3.6<g)return!1;d=d+e+g;return isNaN(d)||.5>d||1.3<d&&("H"==a.elem||"H"==b.elem||"D"==a.elem||"D"==b.elem)?!1:3.6>d&&("S"==a.elem||"S"==b.elem)?!0:2.78<d?!1:!0},r=function(a){var b=a.slice(0),d,e;d=0;for(e=a.length;d<e;d++)a[d].index||(a[d].index=d);b.sort(function(a,b){return a.z-b.z});d=0;for(e=b.length;d<e;d++){var m=b[d];for(a=d+1;a<e;a++){var n=b[a];if(1.9<n.z-m.z)break;g(m,n)&&-1==
m.bonds.indexOf(n.index)&&(m.bonds.push(n.index),m.bondOrder.push(1),n.bonds.push(m.index),n.bondOrder.push(1))}}},s=function(a){var b=[],d=[],e,m;e=0;for(m=a.length;e<m;e++){var n=a[e];n.index=e;n.hetflag?d.push(n):b.push(n)}r(d);b.sort(function(a,b){return a.chain!=b.chain?a.chain<b.chain?-1:1:a.resi-b.resi});var d=a=-1,q;e=0;for(m=b.length;e<m;e++){n=b[e];n.resi!==a&&(a=n.resi,q||d++,q=!1);n.reschain=d;for(var s=e+1;s<b.length;s++){var t=b[s];if(t.chain!=n.chain)break;if(1<t.resi-n.resi)break;
g(n,t)&&(-1===n.bonds.indexOf(t.index)&&(n.bonds.push(t.index),n.bondOrder.push(1),t.bonds.push(n.index),t.bondOrder.push(1)),n.resi!==t.resi&&(q=!0))}}},t=function(a,b,d){if(a.chain==b.chain&&4>Math.abs(a.resi-b.resi))return Number.POSITIVE_INFINITY;if("O"===a.atom&&"N"===b.atom||"N"===a.atom&&"O"===b.atom){var e=a.x-b.x;if(e>d)return Number.POSITIVE_INFINITY;var g=a.y-b.y;if(g>d)return Number.POSITIVE_INFINITY;a=a.z-b.z;if(a>d)return Number.POSITIVE_INFINITY;e=Math.sqrt(e*e+g*g+a*a);if(e<d)return e}return Number.POSITIVE_INFINITY},
n=function(a){var b=[],d,e;d=0;for(e=a.length;d<e;d++){a[d].index=d;var g=a[d];g.hetflag||"N"!==g.atom&&"O"!==g.atom||(b.push(g),g.hbondOther=null,g.hbondDistance=Number.POSITIVE_INFINITY)}b.sort(function(a,b){return a.z-b.z});d=0;for(e=b.length;d<e;d++)for(g=b[d],a=d+1;a<e;a++){var n=b[a];if(3.5<n.z-g.z)break;var q=t(g,n,3.5);q<g.hbondDistance&&(g.hbondOther=n,g.hbondDistance=q);q<n.hbondDistance&&(n.hbondOther=g,n.hbondDistance=q)}};a.prototype.testMethod=function(){};return a}();
WebMol.GLShape=function(){var a={cache:{},getVerticesForRadius:function(a){if("undefined"!==typeof this.cache[a])return this.cache[a];var b={vertices:[],verticesRows:[],normals:[]},d=16,g=10;1>a&&(d=8,g=6);var l=2*Math.PI,q=Math.PI,p,e;for(e=0;e<=g;e++){var m=[];for(p=0;p<=d;p++){var v=p/d,z=e/g,A={};A.x=-a*Math.cos(0+v*l)*Math.sin(0+z*q);A.y=a*Math.cos(0+z*q);A.z=a*Math.sin(0+v*l)*Math.sin(0+z*q);v=new WebMol.Vector3(A.x,A.y,A.z);v.normalize();b.vertices.push(A);b.normals.push(v);m.push(b.vertices.length-
1)}b.verticesRows.push(m)}return this.cache[a]=b}},b=function(a,b,d){var g=d.vertexArr,l=d.normalArr,q=d.faceArr;d=d.lineArr;0!==g.length&&0!==q.length||console.warn("Error adding custom shape component: No vertices and/or face indices supplied!");b.vertices=g.length;b.faceidx=q.length;var p,e,m,v,z;v=0;for(z=b.vertices;v<z;++v)p=3*v,e=g[v],b.__vertexArray[p]=e.x,b.__vertexArray[p+1]=e.y,b.__vertexArray[p+2]=e.z;v=0;for(z=b.faceidx/3;v<z;++v){p=3*v;e=q[p];m=q[p+1];p=q[p+2];var A=new WebMol.Vector3,
B=new WebMol.Vector3,C=new WebMol.Vector3;a.intersectionShape.triangle.push(new WebMol.Triangle(A.copy(g[e]),B.copy(g[m]),C.copy(g[p])))}b.__faceArray=new Uint16Array(q);b.truncateArrayBuffers(!0);if(l.length<b.vertices)b.setNormals();else for(b.__normalArray=new Float32Array(3*b.vertices),v=0,z=b.vertices;v<z;++v)p=3*v,a=l[v],b.__normalArray[p]=a.x,b.__normalArray[p+1]=a.y,b.__normalArray[p+2]=a.z;d.length?b.__lineArray=new Uint16Array(d):b.setLineIndices();b.lineidx=b.__lineArray.length},d=function(a,
b,d){a.center.set(0,0,0);var g,l;if(0<b.length){g=0;for(l=b.length;g<l;++g)a.center.add(b[g].centroid);a.center.divideScalar(b.length)}b=a.radius*a.radius;g=0;for(l=d.length/3;g<l;g++){var q=a.center.distanceToSquared({x:d[3*g],y:d[3*g+1],z:d[3*g+2]});b=Math.max(b,q)}a.radius=Math.sqrt(b)},q=function(a,b){a.color=b.color||new WebMol.Color;a.wireframe=b.wireframe?!0:!1;a.alpha=b.alpha?WebMol.Math.clamp(b.alpha,0,1):1;a.side=void 0!==b.side?b.side:WebMol.DoubleSide;a.clickable=b.clickable?!0:!1;a.callback=
"function"===typeof b.callback?b.callback:null},g=function(g,s){s=s||{};WebMol.ShapeIDCount++;this.id=g;this.boundingSphere=new WebMol.Sphere;this.intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]};q(this,s);var t=[],n=null,l=null,x=new WebMol.Geometry(!0);this.updateStyle=function(a){for(var b in a)s[b]=a[b];q(this,s)};this.addCustom=function(a){a.vertexArr=a.vertexArr||[];a.faceArr=a.faceArr||[];a.normalArr=a.normalArr||[];a.lineArr=a.lineArr||[];var e=x.addGeoGroup();b(this,e,a);e.truncateArrayBuffers(!0);
for(a=0;a<e.__colorArray.length/3;++a)e.__colorArray[3*a]=this.color.r,e.__colorArray[3*a+1]=this.color.g,e.__colorArray[3*a+2]=this.color.b;t.push({id:e.id,geoGroup:e,centroid:e.getCentroid()});d(this.boundingSphere,t,e.__vertexArray)};this.addSphere=function(b){b.center=b.center||{x:0,y:0,z:0};b.radius=b.radius?WebMol.Math.clamp(b.radius,0,Infinity):1.5;var e=x.addGeoGroup(),g=b.center,l=b.radius,n=new WebMol.Vector3(g.x,g.y,g.z);this.intersectionShape.sphere.push(new WebMol.Sphere(n,l));var q;
q=a.getVerticesForRadius(l);for(var n=q.vertices,s=q.normals,r=e.vertices,G=0,F=n.length;G<F;++G){var E=3*(r+G),D=n[G];e.__vertexArray[E]=D.x+g.x;e.__vertexArray[E+1]=D.y+g.y;e.__vertexArray[E+2]=D.z+g.z}e.vertices+=n.length;G=q.verticesRows;F=G.length-1;for(q=0;q<F;q++)for(E=G[q].length-1,g=0;g<E;g++){var D=e.faceidx,u=e.lineidx,h=G[q][g+1]+r,J=3*h,N=G[q][g]+r,O=3*N,Q=G[q+1][g]+r,P=3*Q,X=G[q+1][g+1]+r,M=3*X,I=s[h-r],V=s[N-r],Y=s[Q-r],ca=s[X-r];Math.abs(n[h-r].y)===l?(e.__normalArray[J]=I.x,e.__normalArray[P]=
Y.x,e.__normalArray[M]=ca.x,e.__normalArray[J+1]=I.y,e.__normalArray[P+1]=Y.y,e.__normalArray[M+1]=ca.y,e.__normalArray[J+2]=I.z,e.__normalArray[P+2]=Y.z,e.__normalArray[M+2]=ca.z,e.__faceArray[D]=h,e.__faceArray[D+1]=Q,e.__faceArray[D+2]=X,e.__lineArray[u]=h,e.__lineArray[u+1]=Q,e.__lineArray[u+2]=h,e.__lineArray[u+3]=X,e.__lineArray[u+4]=Q,e.__lineArray[u+5]=X,e.faceidx+=3,e.lineidx+=6):Math.abs(n[Q-r].y)===l?(e.__normalArray[J]=I.x,e.__normalArray[O]=V.x,e.__normalArray[P]=Y.x,e.__normalArray[J+
1]=I.y,e.__normalArray[O+1]=V.y,e.__normalArray[P+1]=Y.y,e.__normalArray[J+2]=I.z,e.__normalArray[O+2]=V.z,e.__normalArray[P+2]=Y.z,e.__faceArray[D]=h,e.__faceArray[D+1]=N,e.__faceArray[D+2]=Q,e.__lineArray[u]=h,e.__lineArray[u+1]=N,e.__lineArray[u+2]=h,e.__lineArray[u+3]=Q,e.__lineArray[u+4]=N,e.__lineArray[u+5]=Q,e.faceidx+=3,e.lineidx+=6):(e.__normalArray[J]=I.x,e.__normalArray[O]=V.x,e.__normalArray[M]=ca.x,e.__normalArray[J+1]=I.y,e.__normalArray[O+1]=V.y,e.__normalArray[M+1]=ca.y,e.__normalArray[J+
2]=I.z,e.__normalArray[O+2]=V.z,e.__normalArray[M+2]=ca.z,e.__normalArray[O]=V.x,e.__normalArray[P]=Y.x,e.__normalArray[M]=ca.x,e.__normalArray[O+1]=V.y,e.__normalArray[P+1]=Y.y,e.__normalArray[M+1]=ca.y,e.__normalArray[O+2]=V.z,e.__normalArray[P+2]=Y.z,e.__normalArray[M+2]=ca.z,e.__faceArray[D]=h,e.__faceArray[D+1]=N,e.__faceArray[D+2]=X,e.__faceArray[D+3]=N,e.__faceArray[D+4]=Q,e.__faceArray[D+5]=X,e.__lineArray[u]=h,e.__lineArray[u+1]=N,e.__lineArray[u+2]=h,e.__lineArray[u+3]=X,e.__lineArray[u+
4]=N,e.__lineArray[u+5]=Q,e.__lineArray[u+6]=Q,e.__lineArray[u+7]=X,e.faceidx+=6,e.lineidx+=8)}e.truncateArrayBuffers(!0);t.push({id:e.id,geoGroup:e,centroid:new WebMol.Vector3(b.center.x,b.center.y,b.center.z)});d(this.boundingSphere,t,e.__vertexArray)};this.addArrow=function(a){a.start=a.start||{};a.end=a.end||{};a.start=new WebMol.Vector3(a.start.x||0,a.start.y||0,a.start.z||0);a.end=new WebMol.Vector3(a.end.x||3,a.end.y||0,a.end.z||0);a.radius=a.radius||.25;a.radiusRatio=a.radiusRatio||1.618034;
a.mid=0<a.mid&&1>a.mid?a.mid:.618034;var b=x.addGeoGroup();var g=a.start,l=a.end,n=a.radius,q=a.radiusRatio,s=a.mid;if(g&&l){var r=l.clone();r.sub(g).multiplyScalar(s);var G=g.clone().add(r),s=r.clone().negate();this.intersectionShape.cylinder.push(new WebMol.Cylinder(g.clone(),G.clone(),n));this.intersectionShape.sphere.push(new WebMol.Sphere(g.clone(),n));var F=[];F[0]=r.clone();1E-4<Math.abs(F[0].x)?F[0].y+=1:F[0].x+=1;F[0].cross(r);F[0].normalize();F[0]=F[0];F[4]=F[0].clone();F[4].crossVectors(F[0],
r);F[4].normalize();F[8]=F[0].clone().negate();F[12]=F[4].clone().negate();F[2]=F[0].clone().add(F[4]).normalize();F[6]=F[4].clone().add(F[8]).normalize();F[10]=F[8].clone().add(F[12]).normalize();F[14]=F[12].clone().add(F[0]).normalize();F[1]=F[0].clone().add(F[2]).normalize();F[3]=F[2].clone().add(F[4]).normalize();F[5]=F[4].clone().add(F[6]).normalize();F[7]=F[6].clone().add(F[8]).normalize();F[9]=F[8].clone().add(F[10]).normalize();F[11]=F[10].clone().add(F[12]).normalize();F[13]=F[12].clone().add(F[14]).normalize();
F[15]=F[14].clone().add(F[0]).normalize();var E=b.vertices,D,u,h;u=0;for(h=F.length;u<h;++u){D=3*(E+3*u);var J=F[u].clone().multiplyScalar(n).add(g),N=F[u].clone().multiplyScalar(n).add(G),O=F[u].clone().multiplyScalar(n*q).add(G);b.__vertexArray[D]=J.x;b.__vertexArray[D+1]=J.y;b.__vertexArray[D+2]=J.z;b.__vertexArray[D+3]=N.x;b.__vertexArray[D+4]=N.y;b.__vertexArray[D+5]=N.z;b.__vertexArray[D+6]=O.x;b.__vertexArray[D+7]=O.y;b.__vertexArray[D+8]=O.z;0<u&&(D=new WebMol.Vector3(b.__vertexArray[D-3],
b.__vertexArray[D-2],b.__vertexArray[D-1]),J=l.clone(),N=G.clone(),O=new WebMol.Vector3(O.x,O.y,O.z),this.intersectionShape.triangle.push(new WebMol.Triangle(O,J,D)),this.intersectionShape.triangle.push(new WebMol.Triangle(D.clone(),N,O.clone())))}b.vertices+=48;D=3*b.vertices;b.__vertexArray[D]=g.x;b.__vertexArray[D+1]=g.y;b.__vertexArray[D+2]=g.z;b.__vertexArray[D+3]=G.x;b.__vertexArray[D+4]=G.y;b.__vertexArray[D+5]=G.z;b.__vertexArray[D+6]=l.x;b.__vertexArray[D+7]=l.y;b.__vertexArray[D+8]=l.z;
b.vertices+=3;var Q,P,X,M,I,V,Y,ca,K,R=b.vertices-3,ja=b.vertices-2,la=b.vertices-1,fa=3*R,Z=3*ja,w=3*la;u=0;for(h=F.length-1;u<h;++u)Q=E+3*u,g=b.faceidx,l=b.lineidx,n=Q,J=3*n,q=Q+1,N=3*q,G=Q+2,P=3*G,O=Q+4,X=3*O,D=Q+5,M=3*D,Q+=3,I=3*Q,V=Y=F[u],ca=K=F[u+1],b.__normalArray[J]=V.x,b.__normalArray[N]=Y.x,b.__normalArray[I]=K.x,b.__normalArray[J+1]=V.y,b.__normalArray[N+1]=Y.y,b.__normalArray[I+1]=K.y,b.__normalArray[J+2]=V.z,b.__normalArray[N+2]=Y.z,b.__normalArray[I+2]=K.z,b.__normalArray[N]=Y.x,b.__normalArray[X]=
ca.x,b.__normalArray[I]=K.x,b.__normalArray[N+1]=Y.y,b.__normalArray[X+1]=ca.y,b.__normalArray[I+1]=K.y,b.__normalArray[N+2]=Y.z,b.__normalArray[X+2]=ca.z,b.__normalArray[I+2]=K.z,b.__normalArray[P]=Y.x,b.__normalArray[M]=ca.x,b.__normalArray[P+1]=Y.y,b.__normalArray[M+1]=ca.y,b.__normalArray[P+2]=Y.z,b.__normalArray[M+2]=ca.z,b.__faceArray[g]=n,b.__faceArray[g+1]=q,b.__faceArray[g+2]=Q,b.__faceArray[g+3]=q,b.__faceArray[g+4]=O,b.__faceArray[g+5]=Q,b.__faceArray[g+6]=n,b.__faceArray[g+7]=Q,b.__faceArray[g+
8]=R,b.__faceArray[g+9]=G,b.__faceArray[g+10]=ja,b.__faceArray[g+11]=D,b.__faceArray[g+12]=G,b.__faceArray[g+13]=la,b.__faceArray[g+14]=D,b.__lineArray[l]=n,b.__lineArray[l+1]=q,b.__lineArray[l+2]=n,b.__lineArray[l+3]=Q,b.__lineArray[l+4]=O,b.__lineArray[l+5]=Q,b.__lineArray[l+6]=n,b.__lineArray[l+7]=Q,b.__lineArray[l+8]=G,b.__lineArray[l+9]=q,b.__lineArray[l+10]=G,b.__lineArray[l+11]=D,b.__lineArray[l+12]=O,b.__lineArray[l+13]=D,b.__lineArray[l+14]=G,b.__lineArray[l+15]=la,b.__lineArray[l+16]=G,
b.__lineArray[l+17]=D,b.__lineArray[l+18]=la,b.__lineArray[l+19]=D,b.faceidx+=15,b.lineidx+=20;E=[E+45,E+46,E+1,E,E+47,E+2];g=b.faceidx;l=b.lineidx;n=E[0];J=3*n;q=E[1];N=3*q;G=E[4];P=3*G;O=E[2];X=3*O;D=E[5];M=3*D;Q=E[3];I=3*Q;V=Y=F[15];ca=K=F[0];b.__normalArray[J]=V.x;b.__normalArray[N]=Y.x;b.__normalArray[I]=K.x;b.__normalArray[J+1]=V.y;b.__normalArray[N+1]=Y.y;b.__normalArray[I+1]=K.y;b.__normalArray[J+2]=V.z;b.__normalArray[N+2]=Y.z;b.__normalArray[I+2]=K.z;b.__normalArray[N]=Y.x;b.__normalArray[X]=
ca.x;b.__normalArray[I]=K.x;b.__normalArray[N+1]=Y.y;b.__normalArray[X+1]=ca.y;b.__normalArray[I+1]=K.y;b.__normalArray[N+2]=Y.z;b.__normalArray[X+2]=ca.z;b.__normalArray[I+2]=K.z;b.__normalArray[P]=Y.x;b.__normalArray[M]=ca.x;b.__normalArray[P+1]=Y.y;b.__normalArray[M+1]=ca.y;b.__normalArray[P+2]=Y.z;b.__normalArray[M+2]=ca.z;r.normalize();s.normalize();b.__normalArray[fa]=s.x;b.__normalArray[Z]=b.__normalArray[w]=r.x;b.__normalArray[fa+1]=s.y;b.__normalArray[Z+1]=b.__normalArray[w+1]=r.y;b.__normalArray[fa+
2]=s.z;b.__normalArray[Z+2]=b.__normalArray[w+2]=r.z;b.__faceArray[g]=n;b.__faceArray[g+1]=q;b.__faceArray[g+2]=Q;b.__faceArray[g+3]=q;b.__faceArray[g+4]=O;b.__faceArray[g+5]=Q;b.__faceArray[g+6]=n;b.__faceArray[g+7]=Q;b.__faceArray[g+8]=R;b.__faceArray[g+9]=G;b.__faceArray[g+10]=ja;b.__faceArray[g+11]=D;b.__faceArray[g+12]=G;b.__faceArray[g+13]=la;b.__faceArray[g+14]=D;b.__lineArray[l]=n;b.__lineArray[l+1]=q;b.__lineArray[l+2]=n;b.__lineArray[l+3]=Q;b.__lineArray[l+4]=O;b.__lineArray[l+5]=Q;b.__lineArray[l+
6]=n;b.__lineArray[l+7]=Q;b.__lineArray[l+8]=G;b.__lineArray[l+9]=q;b.__lineArray[l+10]=G;b.__lineArray[l+11]=D;b.__lineArray[l+12]=O;b.__lineArray[l+13]=D;b.__lineArray[l+14]=G;b.__lineArray[l+15]=la;b.__lineArray[l+16]=G;b.__lineArray[l+17]=D;b.__lineArray[l+18]=la;b.__lineArray[l+19]=D;b.faceidx+=15;b.lineidx+=20}b.truncateArrayBuffers(!0);r=new WebMol.Vector3;t.push({id:b.id,geoGroup:b,centroid:r.addVectors(a.start,a.end).multiplyScalar(.5)});d(this.boundingSphere,t,b.__vertexArray)};this.addVolumetricData=
function(a,e,g){var l=void 0!==g.isoval&&"number"===typeof g.isoval?g.isoval:0,n=g.voxel?!0:!1,q=x.addGeoGroup();switch(e){case "cube":var s=a.replace(/^\s+/,"").split(/[\n\r]+/);if(!(6>s.length)){var r=s[2].replace(/^\s+/,"").replace(/\s+/g," ").split(" "),G=Math.abs(parseFloat(r[0]));a=new WebMol.Vector3(parseFloat(r[1]),parseFloat(r[2]),parseFloat(r[3]));var r=s[3].replace(/^\s+/,"").replace(/\s+/g," ").split(" "),F=0<parseFloat(r[0])?.529177:1;a.multiplyScalar(F);e=Math.abs(r[0]);var E=(new WebMol.Vector3(parseFloat(r[1]),
parseFloat(r[2]),parseFloat(r[3]))).multiplyScalar(F),r=s[4].replace(/^\s+/,"").replace(/\s+/g," ").split(" "),D=Math.abs(r[0]);(new WebMol.Vector3(parseFloat(r[1]),parseFloat(r[2]),parseFloat(r[3]))).multiplyScalar(F);var r=s[5].replace(/^\s+/,"").replace(/\s+/g," ").split(" "),u=Math.abs(r[0]);(new WebMol.Vector3(parseFloat(r[1]),parseFloat(r[2]),parseFloat(r[3]))).multiplyScalar(F);s=new Float32Array(s.splice(G+7).join(" ").replace(/^\s+/,"").split(/[\s\r]+/));r=new Int16Array(e*D*u);G=0;for(F=
r.length;G<F;++G)r[G]=-1;r=new Uint8Array(e*D*u);G=0;for(F=s.length;G<F;++G)0<(0<=l?s[G]-l:l-s[G])&&(r[G]|=2);l=[];s=[];WebMol.MarchingCube.march(r,l,s,{fulltable:!0,voxel:n,scale:E.length(),origin:a,nX:e,nY:D,nZ:u});n||WebMol.MarchingCube.laplacianSmooth(10,l,s);b(this,q,{vertexArr:l,faceArr:s,normalArr:[],lineArr:[]})}}t.push({id:q.id,geoGroup:q,centroid:q.getCentroid()});this.updateStyle(g);d(this.boundingSphere,t,q.__vertexArray)};this.globj=function(a){x.initTypedArrays();var b=this.color,b=
b||WebMol.CC.color(b);x.colorsNeedUpdate=!0;for(var d in x.geometryGroups)for(var g=x.geometryGroups[d],q=g.__colorArray,s=0,g=g.vertices;s<g;++s)q[3*s]=b.r,q[3*s+1]=b.g,q[3*s+2]=b.b;n=new WebMol.Object3D;d=new WebMol.MeshLambertMaterial({wireframe:this.wireframe,vertexColors:!0,ambient:0,reflectivity:0,side:this.side,transparent:1>this.alpha?!0:!1,opacity:this.alpha});d=new WebMol.Mesh(x,d);n.add(d);l&&(a.remove(l),l=null);l=n.clone();a.add(l)}};Object.defineProperty(g.prototype,"position",{get:function(){return this.boundingSphere.center}});
Object.defineProperty(g.prototype,"x",{get:function(){return this.boundingSphere.center.x}});Object.defineProperty(g.prototype,"y",{get:function(){return this.boundingSphere.center.y}});Object.defineProperty(g.prototype,"z",{get:function(){return this.boundingSphere.center.z}});return g}();WebMol.ShapeIDCount=0;
var WebMol=WebMol||{},roundRect=function(a,b,d,q,g,r){a.beginPath();a.moveTo(b+r,d);a.lineTo(b+q-r,d);a.quadraticCurveTo(b+q,d,b+q,d+r);a.lineTo(b+q,d+g-r);a.quadraticCurveTo(b+q,d+g,b+q-r,d+g);a.lineTo(b+r,d+g);a.quadraticCurveTo(b,d+g,b,d+g-r);a.lineTo(b,d+r);a.quadraticCurveTo(b,d,b+r,d);a.closePath();a.fill()};WebMol.LabelCount=0;
WebMol.Label=function(a,b){this.id=WebMol.LabelCount++;this.stylespec=b||{};this.canvas=document.createElement("canvas");this.context=this.canvas.getContext("2d");this.sprite=new WebMol.Sprite;this.text=a};
WebMol.Label.prototype={constructor:WebMol.Label,setContext:function(){this.font=this.stylespec.font=this.stylespec.font?this.stylespec.font:"Arial";this.fontSize=this.stylespec.fontSize=this.stylespec.fontSize?this.stylespec.fontSize:20;this.fontColor=this.stylespec.fontColor=this.stylespec.fontColor?this.stylespec.fontColor:{r:255,g:255,b:255,a:1};this.borderThickness=this.stylespec.borderThickness=this.stylespec.borderThickness?this.stylespec.borderThickness:4;this.borderColor=this.stylespec.borderColor=
this.stylespec.borderColor?this.stylespec.borderColor:{r:0,g:0,b:0,a:1};this.backgroundColor=this.stylespec.backgroundColor=this.stylespec.backgroundColor?this.stylespec.backgroundColor:{r:0,g:0,b:0,a:1};this.position=this.stylespec.position=this.stylespec.position?this.stylespec.position:{x:-10,y:1,z:1};this.inFront=this.stylespec.inFront=void 0!==this.stylespec.inFront?this.stylespec.inFront:!0;this.context.clearRect(0,0,this.canvas.width,this.canvas.height);var a=WebMol.SpriteAlignment.topLeft;
this.context.font=this.fontSize+"pt "+this.font;var b=this.context.measureText(this.text).width;this.context.fillStyle="rgba("+this.backgroundColor.r+","+this.backgroundColor.g+","+this.backgroundColor.b+","+this.backgroundColor.a+")";this.context.strokeStyle="rgba("+this.borderColor.r+","+this.borderColor.g+","+this.borderColor.b+","+this.borderColor.a+")";this.context.lineWidth=this.borderThickness;roundRect(this.context,this.borderThickness/2,this.borderThickness/2,b+this.borderThickness,1.4*this.fontSize+
this.borderThickness,6);this.context.fillStyle="rgba("+this.fontColor.r+","+this.fontColor.g+","+this.fontColor.b+","+this.fontColor.a+")";this.context.fillText(this.text,this.borderThickness,this.fontSize+this.borderThickness,b);b=new WebMol.Texture(this.canvas);b.needsUpdate=!0;this.sprite.material=new WebMol.SpriteMaterial({map:b,useScreenCoordinates:!1,alignment:a,depthTest:!this.inFront});this.sprite.scale.set(2*this.fontSize,this.fontSize,1);this.sprite.position.set(this.position.x,this.position.y,
this.position.z)},dispose:function(){void 0!==this.sprite.material.map&&this.sprite.material.map.dispose();void 0!==this.sprite.material&&this.sprite.material.dispose()}};
WebMol.GLViewer=function(){var a=function(a){var d,q,g,r,s,t,n,l,x,p;d=q=g=9999;r=s=t=-9999;n=l=x=p=0;if(0===a.length)return[[0,0,0],[0,0,0],[0,0,0]];for(var e=0;e<a.length;e++){var m=a[e];void 0!==m&&(p++,n+=m.x,l+=m.y,x+=m.z,d=d<m.x?d:m.x,q=q<m.y?q:m.y,g=g<m.z?g:m.z,r=r>m.x?r:m.x,s=s>m.y?s:m.y,t=t>m.z?t:m.z)}return[[d,q,g],[r,s,t],[n/p,l/p,x/p]]};return function(b,d,q){function g(a){var b=[];"undefined"===typeof a&&(a={});var e=[],d;if("undefined"===typeof a.model)for(d=0;d<x.length;d++)x[d]&&e.push(x[d]);
else e=a.model,$.isArray(e)||(e=[e]);for(d=0;d<e.length;d++)b=b.concat(e[d].selectedAtoms(a));return b}function r(a,b,e,d){for(var g=0;g<x.length;g++)if(x[g])x[g][a](b,e,d)}function s(a){var b=new WebMol.MeshLambertMaterial;b.vertexColors=WebMol.VertexColors;for(var e in a)"color"===e?(b[e]=WebMol.CC.color(a.color),delete b.vertexColors):"map"!==e&&a.hasOwnProperty(e)&&(b[e]=a[e]);void 0!==a.opacity&&(b.transparent=1===a.opacity?!1:!0);return b}function t(a,b){for(var e=Number.POSITIVE_INFINITY,d=
Number.NEGATIVE_INFINITY,g=0,h=a.length;g<h;g++){var l=a[g];l.properties&&"undefined"!=typeof l.properties[b]&&(l=l.properties[b],l<e&&(e=l),l>d&&(d=l))}isFinite(e)||isFinite(d)?isFinite(e)?isFinite(d)||(d=e):e=d:e=d=0;return[e,d]}var n=this,l=b.id,x=[],p=[],e=[],m=b.width(),v=b.height(),z=$('<div class="glviewerSpinnerWrap" style = "position: absolute; width: 100%; height: 100%; display: table; z-index: 1;"><div class="glviewerSpinner" style="display: table-cell; text-align: center; vertical-align: middle; z-index:1"><img src="webmol/spinner.gif"></div></div>');
$(b).append(z);z.hide();var A=m/v,B=new WebMol.Renderer({antialias:!0});B.domElement.style.width="100%";B.domElement.style.height="100%";B.domElement.style.position="absolute";B.domElement.style.top="0px";B.domElement.style.zIndex="0";b.append(B.domElement);B.setSize(m,v);var C=new WebMol.Camera(20,A,1,800);C.position=new WebMol.Vector3(0,0,150);C.lookAt(new WebMol.Vector3(0,0,0));var G=new WebMol.Raycaster(new WebMol.Vector3(0,0,0),new WebMol.Vector3(0,0,0)),F=new WebMol.Projector,E=new WebMol.Vector3(0,
0,0),D=null,u=null,h=null,J=0,N=-50,O=50,Q=new WebMol.Quaternion(0,0,0,1),P=new WebMol.Quaternion(0,0,0,1),X=!1,M=0,I=0,V=0,Y=0,ca=0,K=0,R=function(){if(D){var a=C.position.z-u.position.z;1>a&&(a=1);C.near=a+N;1>C.near&&(C.near=1);C.far=a+O;C.near+1>C.far&&(C.far=C.near+1);C instanceof WebMol.Camera?C.fov=20:(C.right=a*Math.tan(Math.PI/180*20),C.left=-C.right,C.top=C.right/A,C.bottom=-C.top);C.updateProjectionMatrix();D.fog.near=C.near+.4*(C.far-C.near);D.fog.far=C.far;B.render(D,C)}};(function(){D=
new WebMol.Scene;D.fog=new WebMol.Fog(J,100,200);h=new WebMol.Object3D;u=new WebMol.Object3D;u.useQuaternion=!0;u.quaternion=new WebMol.Quaternion(0,0,0,1);u.add(h);D.add(u);var a=new WebMol.Light(16777215);a.position=(new WebMol.Vector3(.2,.2,1)).normalize();a.intensity=1;D.add(a)})();B.setClearColorHex(J,1);D.fog.color=WebMol.CC.color(J);var ja=$(B.domElement);ja.bind("mousedown touchstart",function(a){a.preventDefault();if(D){var b=a.pageX,d=a.pageY;a.originalEvent.targetTouches&&a.originalEvent.targetTouches[0]&&
(b=a.originalEvent.targetTouches[0].pageX,d=a.originalEvent.targetTouches[0].pageY);if(void 0!==b){X=!0;mouseButton=a.which;M=b;I=d;Q=u.quaternion;Y=u.position.z;V=h.position.clone();ca=N;K=O;a=b/$(window).width()*2-1;E.set(a,2*-(d/v)+1,-1);F.unprojectVector(E,C);E.sub(C.position).normalize();G.set(C.position,E);d=[];a=[];a=0;for(b=x.length;a<b;a++)var g=x[a].selectedAtoms({clickable:!0}),d=d.concat(g);a=0;for(b=e.length;a<b;a++)g=e[a],g.clickable&&d.push(g);a=G.intersectObjects(h,d);a.length&&(d=
a[0].clickable,void 0!==d.callback&&"function"===typeof d.callback&&d.callback(d,n));R()}}});ja.bind("DOMMouseScroll mousewheel",function(a){a.preventDefault();if(D){var b=.85*(150-u.position.z);a.originalEvent.detail?u.position.z+=b*a.originalEvent.detail/10:a.originalEvent.wheelDelta&&(u.position.z-=b*a.originalEvent.wheelDelta/400);R()}});ja.bind("contextmenu",function(a){a.preventDefault()});$("body").bind("mouseup touchend",function(a){X=!1});ja.bind("mousemove touchmove",function(a){a.preventDefault();
if(D&&X){var b=0,e=$("input[name="+l+"_mouseMode]:checked");0<e.length&&(b=parseInt(e.val()));var e=a.pageX,d=a.pageY;a.originalEvent.targetTouches&&a.originalEvent.targetTouches[0]&&(e=a.originalEvent.targetTouches[0].pageX,d=a.originalEvent.targetTouches[0].pageY);if(void 0!==e){var e=(e-M)/m,d=(d-I)/v,g=Math.sqrt(e*e+d*d);3==b||3==mouseButton&&a.ctrlKey?(N=ca+100*e,O=K+100*d):2==b||3==mouseButton||a.shiftKey?(a=.85*(150-u.position.z),80>a&&(a=80),u.position.z=Y-d*a):1==b||2==mouseButton||a.ctrlKey?
(a=.85*(150-u.position.z),20>a&&(a=20),a=new WebMol.Vector3(e*a,-d*a,0),b=u.quaternion,b=(new WebMol.Quaternion(b.x,b.y,b.z,b.w)).inverse().normalize(),a=a.applyQuaternion(b),h.position.x=V.x+a.x,h.position.y=V.y+a.y,h.position.z=V.z+a.z):0!==b&&1!=mouseButton||0===g||(a=Math.sin(g*Math.PI)/g,P.x=Math.cos(g*Math.PI),P.y=0,P.z=a*e,P.w=-a*d,u.quaternion=new WebMol.Quaternion(1,0,0,0),u.quaternion.multiply(P),u.quaternion.multiply(Q));R()}}});this.setBackgroundColor=function(a,b){J=a;B.setClearColorHex(a,
b|1);D.fog.color=WebMol.CC.color(a);R()};this.setWidth=function(a){m=a||m;B.setSize(m,v)};this.setHeight=function(a){v=a||v;B.setSize(m,v)};this.resize=function(){m=b.width();v=b.height();A=m/v;B.setSize(m,v);C.aspect=A;C.updateProjectionMatrix();R()};$(window).resize(this.resize);this.getModel=function(a){a=a||x.length-1;return x[a]};this.getView=function(){if(!h)return[0,0,0,0,0,0,0,1];var a=h.position,b=u.quaternion;return[a.x,a.y,a.z,u.position.z,b.x,b.y,b.z,b.w]};this.setView=function(a){void 0!==
a&&(a instanceof Array||8!==a.length)&&h&&u&&(h.position.x=a[0],h.position.y=a[1],h.position.z=a[2],u.position.z=a[3],u.quaternion.x=a[4],u.quaternion.y=a[5],u.quaternion.z=a[6],u.quaternion.w=a[7],R())};this.render=function(){var a=new Date,b=this.getView(),d;for(d=0;d<x.length;d++)x[d]&&x[d].globj(h);for(d=0;d<e.length;d++)e[d]&&e[d].globj(h);for(d in p)if(p.hasOwnProperty(d)){var g=p[d].geo;p[d].finished||(g.verticesNeedUpdate=!0,g.elementsNeedUpdate=!0,g.normalsNeedUpdate=!0,g.colorsNeedUpdate=
!0,g.buffersNeedUpdate=!0,g.boundingSphere=null,p[d].done&&(p[d].finished=!0),p[d].lastGL&&h.remove(p[d].lastGL),g=new WebMol.Mesh(g,p[d].mat),p[d].lastGL=g,h.add(g))}this.setView(b);b=new Date;z.hide();console.log("render time: "+(b-a))};this.pdbData=function(a){a=g(a);for(var b="",e=0,d=a.length;e<d;++e)b+=a[e].pdbline+"\n";return b};this.zoomTo=function(b){b=g(b).concat(e);var d=g({}).concat(e);b=a(b);var d=a(d),l=new WebMol.Vector3(b[2][0],b[2][1],b[2][2]);h.position=l.multiplyScalar(-1);var l=
d[1][0]-d[0][0],n=d[1][1]-d[0][1],d=d[1][2]-d[0][2],d=Math.sqrt(l*l+n*n+d*d);25>d&&(d=25);N=-d/1.9;O=d/3;l=b[1][0]-b[0][0];n=b[1][1]-b[0][1];d=b[1][2]-b[0][2];d=Math.sqrt(l*l+n*n+d*d);25>d&&(d=25);u.position.z=-(.35*d/Math.tan(Math.PI/180*C.fov/2)-150);R()};this.addLabel=function(a,b){var d=new WebMol.Label(a,b);d.setContext();h.add(d.sprite);return d};this.removeLabel=function(a){a.dispose();h.remove(a.sprite)};this.setLabelStyle=function(a,b){a.dispose();a.stylespec=b;a.setContext();h.add(a.sprite);
return a};this.setLabelText=function(a,b){a.dispose();a.text=b;a.setContext();h.add(a.sprite);return a};this.addShape=function(a){a=a||{};a=new WebMol.GLShape(e.length,a);e.push(a);return a};this.addSphere=function(a){var b=new WebMol.GLShape(e.length);a=a||{};b.addSphere(a);e.push(b);return b};this.addArrow=function(a){var b=new WebMol.GLShape(e.length);a=a||{};b.addArrow(a);e.push(b);return b};this.addCustom=function(a){var b=new WebMol.GLShape(e.length);a=a||{};b.addCustom(a);e.push(b);return b};
this.addVolumetricData=function(a,b,d){var g=new WebMol.GLShape(e.length);d=d||{};g.addVolumetricData(a,b,d);e.push(g);return g};this.addModel=function(a,b){var d=new WebMol.GLModel(x.length,q);d.addMolData(a,b);x.push(d);return d};this.removeModel=function(a){if(a)for(a.removegl(h),delete x[a.getID()];0<x.length&&"undefined"===typeof x[x.length-1];)x.pop()};this.removeAllModels=function(){for(var a=0;a<x.length;a++)x[a].removegl(h);x=[]};this.createModelFrom=function(a,b){for(var d=new WebMol.GLModel(x.length,
q),e=0;e<x.length;e++)if(x[e]){var g=x[e].selectedAtoms(a);d.addAtoms(g);b&&x[e].removeAtoms(g)}x.push(d);return d};this.setStyle=function(a,b){r("setStyle",a,b,!1)};this.addStyle=function(a,b){r("setStyle",a,b,!0)};this.setColorByProperty=function(a,b,d){r("setColorByProperty",a,b,d)};this.setColorByElement=function(a,b){r("setColorByElement",a,b)};var la=function(a,b){for(var d=[],e=0;e<a.length;e++){var g=a[e];"undefined"!=typeof g&&(g.x<b[0][0]||g.x>b[1][0]||g.y<b[0][1]||g.y>b[1][1]||g.z<b[0][2]||
g.z>b[1][2]||d.push(e))}return d},fa=function(a){return(a[1][0]-a[0][0])*(a[1][1]-a[0][1])*(a[1][2]-a[0][2])},Z=function(a,b,d){var e=[],g=function(a){var b=[];b[0]=[a[0][0],a[0][1],a[0][2]];b[1]=[a[1][0],a[1][1],a[1][2]];return b},h=function(a){if(64E3>fa(a))return[a];var b=a[1][0]-a[0][0],d=a[1][1]-a[0][1],e=a[1][2]-a[0][2],d=b>d&&b>e?0:d>b&&d>e?1:2,e=g(a),b=g(a);a=(a[1][d]-a[0][d])/2+a[0][d];e[1][d]=a;b[0][d]=a;a=h(e);b=h(b);return a.concat(b)};a=h(a);for(var l=0,n=a.length;l<n;l++){var m=g(a[l]);
m[0][0]-=6;m[0][1]-=6;m[0][2]-=6;m[1][0]+=6;m[1][1]+=6;m[1][2]+=6;var m=la(b,m),p=la(d,a[l]);e.push({extent:a[l],atoms:m,toshow:p})}return e},w=function(a,b,d){var e=new WebMol.Geometry(!0),g=e.updateGeoGroup(0),h=b.vertices,l,m,n;m=0;for(n=h.length;m<n;m++)l=3*g.vertices,g.__vertexArray[l]=h[m].x,g.__vertexArray[l+1]=h[m].y,g.__vertexArray[l+2]=h[m].z,g.vertices++;b=b.faces;g.faceidx=b.length;e.initTypedArrays();l=[];m=0;for(n=a.length;m<n;m++){var p=a[m];p&&("undefined"!=typeof p.surfaceColor?l[m]=
WebMol.CC.color(p.surfaceColor):p.color&&(l[m]=WebMol.CC.color(p.color)))}a=g.__vertexArray;var q,f,s;m=0;for(n=b.length;m<n;m+=3){q=m;var p=b[m],r=b[m+1],t=b[m+2];f=h[p].atomid;s=h[r].atomid;var u=h[t].atomid,p=3*p,r=3*r,t=3*t;g.__faceArray[q]=b[m].a;g.__faceArray[q+1]=b[m].b;g.__faceArray[q+2]=b[m].c;g.__colorArray[p]=l[f].r;g.__colorArray[p+1]=l[f].g;g.__colorArray[p+2]=l[f].b;g.__colorArray[r]=l[s].r;g.__colorArray[r+1]=l[s].g;g.__colorArray[r+2]=l[s].b;g.__colorArray[t]=l[u].r;g.__colorArray[t+
1]=l[u].g;g.__colorArray[t+2]=l[u].b;q=new WebMol.Vector3(a[p],a[p+1],a[p+2]);f=new WebMol.Vector3(a[r],a[r+1],a[r+2]);s=new WebMol.Vector3(a[t],a[t+1],a[t+2]);s.subVectors(s,f);q.subVectors(q,f);s.cross(q);q=s;q.normalize();g.__normalArray[p]+=q.x;g.__normalArray[r]+=q.x;g.__normalArray[t]+=q.x;g.__normalArray[p+1]+=q.y;g.__normalArray[r+1]+=q.y;g.__normalArray[t+1]+=q.y;g.__normalArray[p+2]+=q.z;g.__normalArray[r+2]+=q.z;g.__normalArray[t+2]+=q.z}g.__faceArray=new Uint16Array(b);d=new WebMol.Mesh(e,
d);d.doubleSided=!0;return d},L=function(a,b,d,e,g,h){var l=new Date,m=new WebMol.ProteinSurface;m.initparm(b,1===a?!1:!0,h);h=new Date;console.log("initialize "+(h-l)+"ms");m.fillvoxels(g,d);b=new Date;console.log("fillvoxels "+(b-h)+"  "+(b-l)+"ms");m.buildboundary();a==WebMol.SurfaceType.SES&&(m.fastdistancemap(),m.boundingatom(!1),m.fillvoxelswaals(g,d));d=new Date;console.log("buildboundaryetc "+(d-b)+"  "+(d-l)+"ms");m.marchingcube(a);a=new Date;console.log("marching cube "+(a-d)+"  "+(a-l)+
"ms");return m.getFacesAndVertices(e)};this.addSurface=function(b,d,e,h,l){e=g(e);var m=g(h),q=g(l),r,u=new Date,v=s(d),x=a(e);if(d.map&&d.map.prop){l=d.map.prop;var f=d.map.scheme||new WebMol.RWB,A=f.range();A||(A=t(e,l));d=0;for(h=e.length;d<h;d++)r=e[d],r.surfaceColor=f.valueToHex(r.properties[l],A)}l=fa(x);var z=Z(x,m,e);if(q&&q.length&&0<q.length){var B=a(q);z.sort(function(a,b){var d=function(a,b){var d=a.extent,e=d[1][1]-d[0][1],f=d[1][2]-d[0][2],d=d[1][0]-d[0][0]-b[2][0],e=e-b[2][1],f=f-b[2][2];
return d*d+e*e+f*f},e=d(a,B),d=d(b,B);return e-d})}console.log("Extents "+z.length+"  "+(+new Date-u)+"ms");var C={geo:new WebMol.Geometry(!0),mat:v,done:!1,finished:!1};e=p.length;p[e]=C;q=[];d=0;for(h=m.length;d<h;d++)r=m[d],q[d]={x:r.x,y:r.y,z:r.z,serial:d,elem:r.elem};if(WebMol.syncSurface)for(d=0,h=z.length;d<h;d++)r=L(b,z[d].extent,z[d].atoms,z[d].toshow,q,l),r=w(m,r,v),WebMol.mergeGeos(C.geo,r),n.render();else{r=[];0>b&&(b=0);d=0;for(h=4;d<h;d++)x=new Worker(WebMol.SurfaceWorker),r.push(x),
x.postMessage({type:-1,atoms:q,volume:l});var D=0;h=function(a){a=w(m,a.data,v);WebMol.mergeGeos(C.geo,a);n.render();console.log("async mesh generation "+(+new Date-u)+"ms");D++;D==z.length&&(C.done=!0)};l=function(a){console.log(a.message+" ("+a.filename+":"+a.lineno+")")};for(d=0;d<z.length;d++)q=r[d%r.length],q.onmessage=h,q.onerror=l,q.postMessage({type:b,expandedExtent:z[d].extent,extendedAtoms:z[d].atoms,atomsToShow:z[d].toshow})}console.log("full mesh generation "+(+new Date-u)+"ms");return e};
this.setSurfaceMaterialStyle=function(a,b){p[a]&&(p[a].mat=s(b),p[a].mat.side=WebMol.FrontSide,p[a].finished=!1)};this.removeSurface=function(a){p[a]&&p[a].lastGL&&(void 0!==p[a].geo&&p[a].geo.dispose(),void 0!==p[a].mat&&p[a].mat.dispose(),h.remove(p[a].lastGL));delete p[a];R()};this.jmolMoveTo=function(){var a=h.position,a="center { "+-a.x+" "+-a.y+" "+-a.z+" }; ",b=u.quaternion;return a+="moveto .5 quaternion { "+b.x+" "+b.y+" "+b.z+" "+b.w+" };"};this.clear=function(){p=[];this.removeAllModels();
R()};this.mapAtomProperties=function(a){for(var b=g({}),d=0,e=b.length;d<e;d++)for(var h=b[d],l=0,m=a.length;l<m;l++){var n=a[l];if(n.props)for(var p in n.props)if(n.props.hasOwnProperty(p)){var q;a:{q=h;var r=n;"undefined"===typeof r&&(r={});var f=[],s=void 0;if("undefined"===typeof r.model)for(s=0;s<x.length;s++)x[s]&&f.push(x[s]);else f=r.model,$.isArray(f)||(f=[f]);for(s=0;s<f.length;s++)if(f[s].atomIsSelected(q,r)){q=!0;break a}q=!1}q&&(h.properties||(h.properties={}),h.properties[p]=n.props[p])}}};
getModelGroup=function(){return h};try{"function"===typeof d&&d(this)}catch(da){console.log("error with glviewer callback: "+da)}}}();WebMol.glmolViewer=WebMol.GLViewer;WebMol=WebMol||{};
WebMol.partialCharges=[{resn:"ALA",atom:"N",props:{partialCharge:-.15}},{resn:"ALA",atom:"CA",props:{partialCharge:.1}},{resn:"ALA",atom:"CB",props:{partialCharge:0}},{resn:"ALA",atom:"C",props:{partialCharge:.6}},{resn:"ALA",atom:"O",props:{partialCharge:-.55}},{resn:"ARG",atom:"N",props:{partialCharge:-.15}},{resn:"ARG",atom:"CA",props:{partialCharge:.1}},{resn:"ARG",atom:"CB",props:{partialCharge:0}},{resn:"ARG",atom:"CG",props:{partialCharge:0}},{resn:"ARG",atom:"CD",props:{partialCharge:.1}},
{resn:"ARG",atom:"NE",props:{partialCharge:-.1}},{resn:"ARG",atom:"CZ",props:{partialCharge:.5}},{resn:"ARG",atom:"NH1",props:{partialCharge:.25}},{resn:"ARG",atom:"NH2",props:{partialCharge:.25}},{resn:"ARG",atom:"C",props:{partialCharge:.6}},{resn:"ARG",atom:"O",props:{partialCharge:-.55}},{resn:"ASN",atom:"N",props:{partialCharge:-.15}},{resn:"ASN",atom:"CA",props:{partialCharge:.1}},{resn:"ASN",atom:"CB",props:{partialCharge:0}},{resn:"ASN",atom:"CG",props:{partialCharge:.55}},{resn:"ASN",atom:"OD1",
props:{partialCharge:-.55}},{resn:"ASN",atom:"ND2",props:{partialCharge:0}},{resn:"ASN",atom:"C",props:{partialCharge:.6}},{resn:"ASN",atom:"O",props:{partialCharge:-.55}},{resn:"ASP",atom:"N",props:{partialCharge:-.15}},{resn:"ASP",atom:"CA",props:{partialCharge:.1}},{resn:"ASP",atom:"CB",props:{partialCharge:0}},{resn:"ASP",atom:"CG",props:{partialCharge:.14}},{resn:"ASP",atom:"OD1",props:{partialCharge:-.57}},{resn:"ASP",atom:"OD2",props:{partialCharge:-.57}},{resn:"ASP",atom:"C",props:{partialCharge:.6}},
{resn:"ASP",atom:"O",props:{partialCharge:-.55}},{resn:"CYS",atom:"N",props:{partialCharge:-.15}},{resn:"CYS",atom:"CA",props:{partialCharge:.1}},{resn:"CYS",atom:"CB",props:{partialCharge:.19}},{resn:"CYS",atom:"SG",props:{partialCharge:-.19}},{resn:"CYS",atom:"C",props:{partialCharge:.6}},{resn:"CYS",atom:"O",props:{partialCharge:-.55}},{resn:"GLN",atom:"N",props:{partialCharge:-.15}},{resn:"GLN",atom:"CA",props:{partialCharge:.1}},{resn:"GLN",atom:"CB",props:{partialCharge:0}},{resn:"GLN",atom:"CG",
props:{partialCharge:0}},{resn:"GLN",atom:"CD",props:{partialCharge:.55}},{resn:"GLN",atom:"OE1",props:{partialCharge:-.55}},{resn:"GLN",atom:"NE2",props:{partialCharge:0}},{resn:"GLN",atom:"C",props:{partialCharge:.6}},{resn:"GLN",atom:"O",props:{partialCharge:-.55}},{resn:"GLU",atom:"N",props:{partialCharge:-.15}},{resn:"GLU",atom:"CA",props:{partialCharge:.1}},{resn:"GLU",atom:"CB",props:{partialCharge:0}},{resn:"GLU",atom:"CG",props:{partialCharge:0}},{resn:"GLU",atom:"CD",props:{partialCharge:.14}},
{resn:"GLU",atom:"OE1",props:{partialCharge:-.57}},{resn:"GLU",atom:"OE2",props:{partialCharge:-.57}},{resn:"GLU",atom:"C",props:{partialCharge:.6}},{resn:"GLU",atom:"O",props:{partialCharge:-.55}},{resn:"GLY",atom:"N",props:{partialCharge:-.15}},{resn:"GLY",atom:"CA",props:{partialCharge:.1}},{resn:"GLY",atom:"C",props:{partialCharge:.6}},{resn:"GLY",atom:"O",props:{partialCharge:-.55}},{resn:"HIS",atom:"N",props:{partialCharge:-.15}},{resn:"HIS",atom:"CA",props:{partialCharge:.1}},{resn:"HIS",atom:"CB",
props:{partialCharge:0}},{resn:"HIS",atom:"CG",props:{partialCharge:.1}},{resn:"HIS",atom:"ND1",props:{partialCharge:-.1}},{resn:"HIS",atom:"CD2",props:{partialCharge:.1}},{resn:"HIS",atom:"NE2",props:{partialCharge:-.4}},{resn:"HIS",atom:"CE1",props:{partialCharge:.3}},{resn:"HIS",atom:"C",props:{partialCharge:.6}},{resn:"HIS",atom:"O",props:{partialCharge:-.55}},{resn:"ILE",atom:"N",props:{partialCharge:-.15}},{resn:"ILE",atom:"CA",props:{partialCharge:.1}},{resn:"ILE",atom:"CB",props:{partialCharge:0}},
{resn:"ILE",atom:"CG2",props:{partialCharge:0}},{resn:"ILE",atom:"CG1",props:{partialCharge:0}},{resn:"ILE",atom:"CD",props:{partialCharge:0}},{resn:"ILE",atom:"C",props:{partialCharge:.6}},{resn:"ILE",atom:"O",props:{partialCharge:-.55}},{resn:"LEU",atom:"N",props:{partialCharge:-.15}},{resn:"LEU",atom:"CA",props:{partialCharge:.1}},{resn:"LEU",atom:"CB",props:{partialCharge:0}},{resn:"LEU",atom:"CG",props:{partialCharge:0}},{resn:"LEU",atom:"CD1",props:{partialCharge:0}},{resn:"LEU",atom:"CD2",
props:{partialCharge:0}},{resn:"LEU",atom:"C",props:{partialCharge:.6}},{resn:"LEU",atom:"O",props:{partialCharge:-.55}},{resn:"LYS",atom:"N",props:{partialCharge:-.15}},{resn:"LYS",atom:"CA",props:{partialCharge:.1}},{resn:"LYS",atom:"CB",props:{partialCharge:0}},{resn:"LYS",atom:"CG",props:{partialCharge:0}},{resn:"LYS",atom:"CD",props:{partialCharge:0}},{resn:"LYS",atom:"CE",props:{partialCharge:.25}},{resn:"LYS",atom:"NZ",props:{partialCharge:.75}},{resn:"LYS",atom:"C",props:{partialCharge:.6}},
{resn:"LYS",atom:"O",props:{partialCharge:-.55}},{resn:"MET",atom:"N",props:{partialCharge:-.15}},{resn:"MET",atom:"CA",props:{partialCharge:.1}},{resn:"MET",atom:"CB",props:{partialCharge:0}},{resn:"MET",atom:"CG",props:{partialCharge:.06}},{resn:"MET",atom:"SD",props:{partialCharge:-.12}},{resn:"MET",atom:"CE",props:{partialCharge:.06}},{resn:"MET",atom:"C",props:{partialCharge:.6}},{resn:"MET",atom:"O",props:{partialCharge:-.55}},{resn:"PHE",atom:"N",props:{partialCharge:-.15}},{resn:"PHE",atom:"CA",
props:{partialCharge:.1}},{resn:"PHE",atom:"CB",props:{partialCharge:0}},{resn:"PHE",atom:"CG",props:{partialCharge:0}},{resn:"PHE",atom:"CD1",props:{partialCharge:0}},{resn:"PHE",atom:"CD2",props:{partialCharge:0}},{resn:"PHE",atom:"CE1",props:{partialCharge:0}},{resn:"PHE",atom:"CE2",props:{partialCharge:0}},{resn:"PHE",atom:"CZ",props:{partialCharge:0}},{resn:"PHE",atom:"C",props:{partialCharge:.6}},{resn:"PHE",atom:"O",props:{partialCharge:-.55}},{resn:"PRO",atom:"N",props:{partialCharge:-.25}},
{resn:"PRO",atom:"CD",props:{partialCharge:.1}},{resn:"PRO",atom:"CA",props:{partialCharge:.1}},{resn:"PRO",atom:"CB",props:{partialCharge:0}},{resn:"PRO",atom:"CG",props:{partialCharge:0}},{resn:"PRO",atom:"C",props:{partialCharge:.6}},{resn:"PRO",atom:"O",props:{partialCharge:-.55}},{resn:"SER",atom:"N",props:{partialCharge:-.15}},{resn:"SER",atom:"CA",props:{partialCharge:.1}},{resn:"SER",atom:"CB",props:{partialCharge:.25}},{resn:"SER",atom:"OG",props:{partialCharge:-.25}},{resn:"SER",atom:"C",
props:{partialCharge:.6}},{resn:"SER",atom:"O",props:{partialCharge:-.55}},{resn:"THR",atom:"N",props:{partialCharge:-.15}},{resn:"THR",atom:"CA",props:{partialCharge:.1}},{resn:"THR",atom:"CB",props:{partialCharge:.25}},{resn:"THR",atom:"OG1",props:{partialCharge:-.25}},{resn:"THR",atom:"CG2",props:{partialCharge:0}},{resn:"THR",atom:"C",props:{partialCharge:.6}},{resn:"THR",atom:"O",props:{partialCharge:-.55}},{resn:"TRP",atom:"N",props:{partialCharge:-.15}},{resn:"TRP",atom:"CA",props:{partialCharge:.1}},
{resn:"TRP",atom:"CB",props:{partialCharge:0}},{resn:"TRP",atom:"CG",props:{partialCharge:-.03}},{resn:"TRP",atom:"CD2",props:{partialCharge:.1}},{resn:"TRP",atom:"CE2",props:{partialCharge:-.04}},{resn:"TRP",atom:"CE3",props:{partialCharge:-.03}},{resn:"TRP",atom:"CD1",props:{partialCharge:.06}},{resn:"TRP",atom:"NE1",props:{partialCharge:-.06}},{resn:"TRP",atom:"CZ2",props:{partialCharge:0}},{resn:"TRP",atom:"CZ3",props:{partialCharge:0}},{resn:"TRP",atom:"CH2",props:{partialCharge:0}},{resn:"TRP",
atom:"C",props:{partialCharge:.6}},{resn:"TRP",atom:"O",props:{partialCharge:-.55}},{resn:"TYR",atom:"N",props:{partialCharge:-.15}},{resn:"TYR",atom:"CA",props:{partialCharge:.1}},{resn:"TYR",atom:"CB",props:{partialCharge:0}},{resn:"TYR",atom:"CG",props:{partialCharge:0}},{resn:"TYR",atom:"CD1",props:{partialCharge:0}},{resn:"TYR",atom:"CE1",props:{partialCharge:0}},{resn:"TYR",atom:"CD2",props:{partialCharge:0}},{resn:"TYR",atom:"CE2",props:{partialCharge:0}},{resn:"TYR",atom:"CZ",props:{partialCharge:.25}},
{resn:"TYR",atom:"OH",props:{partialCharge:-.25}},{resn:"TYR",atom:"C",props:{partialCharge:.6}},{resn:"TYR",atom:"O",props:{partialCharge:-.55}},{resn:"VAL",atom:"N",props:{partialCharge:-.15}},{resn:"VAL",atom:"CA",props:{partialCharge:.1}},{resn:"VAL",atom:"CB",props:{partialCharge:0}},{resn:"VAL",atom:"CG1",props:{partialCharge:0}},{resn:"VAL",atom:"CG2",props:{partialCharge:0}},{resn:"VAL",atom:"C",props:{partialCharge:.6}},{resn:"VAL",atom:"O",props:{partialCharge:-.55}}];
